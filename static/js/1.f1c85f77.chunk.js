(this["webpackJsonpgdevelop-ide"]=this["webpackJsonpgdevelop-ide"]||[]).push([[1],Array(463).concat([function(e,t,n){"use strict";var r=n(4),o=n(11),a=n(1),i=n(426),s=n(7),c=["children","style","size","color","align","noShrink","noMargin","allowSelection","displayInlineAsSpan"],l=a.forwardRef((function(e,t){var n=e.children,a=e.style,l=e.size,u=e.color,d=e.align,p=e.noShrink,b=e.noMargin,h=e.allowSelection,j=e.displayInlineAsSpan,f=Object(o.a)(e,c);return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({variant:"bold-title"===l?"h5":"title"===l?"h6":"body2"===l?"body2":"body1",ref:t,color:u,component:j?"span":void 0,style:Object(r.a)(Object(r.a)({},a),{},{display:j?"inline-block":void 0,flexShrink:p?0:void 0,marginTop:b?0:6,marginBottom:b?0:6,userSelect:h?"text":void 0,cursor:h?"text":void 0}),align:d||"inherit"},f),{},{children:n}))}));t.a=l},,function(e,t){var n=function(e,t,n){for(var r=[],o=e;o<t;o++)r.push(n(o));return r};e.exports={mapFor:n,mapReverseFor:function(e,t,n){for(var r=[],o=t-1;o>=e;o--)r.push(n(o));return r},mapVector:function(e,t){return n(0,e.size(),(function(n){return t(e.at(n),n)}))}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return f}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(12),u=n(2275),d=n(2170),p=n(142),b=n(7),h=function(e){return{variant:"none"===e.margin?"standard":"filled",margin:"none"===e.margin?"none":"dense",hiddenLabel:"none"!==e.margin&&!e.floatingLabelText}},j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._input=c.createRef(),e}return Object(a.a)(n,[{key:"focus",value:function(){this._input.current&&this._input.current.focus()}},{key:"blur",value:function(){this._input.current&&this._input.current.blur()}},{key:"getInputNode",value:function(){return this._input.current?this._input.current:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.onChange||void 0,o=t.helperMarkdownText?Object(b.jsx)(p.a,{source:t.helperMarkdownText}):null;return Object(b.jsx)(l.I18n,{children:function(a){var i=a.i18n;return Object(b.jsx)(u.a,Object(r.a)(Object(r.a)({type:void 0!==t.type?t.type:void 0,value:void 0!==t.value?t.value:void 0,defaultValue:void 0!==t.defaultValue?t.defaultValue:void 0,onChange:n?function(e){return n(e,e.target.value)}:void 0,error:!!t.errorText,helperText:t.errorText||o,disabled:t.disabled,required:t.required,InputLabelProps:{shrink:!!t.floatingLabelFixed||void 0},label:t.floatingLabelText,name:t.name,placeholder:t.hintText?i._(t.hintText):void 0,id:t.id,autoFocus:t.autoFocus,multiline:t.multiline,rows:t.rows,rowsMax:t.rowsMax},h(t)),{},{fullWidth:t.fullWidth,InputProps:{disableUnderline:void 0!==t.underlineShow&&!t.underlineShow,style:Object(r.a)({fontSize:t.style?t.style.fontSize:void 0,fontStyle:t.style?t.style.fontStyle:void 0},t.inputStyle),readOnly:t.readOnly,inputProps:{onKeyPress:t.onKeyPress,onKeyUp:t.onKeyUp,onKeyDown:t.onKeyDown,onClick:t.onClick,maxLength:t.maxLength,max:t.max,min:t.min,step:t.step},endAdornment:t.endAdornment?Object(b.jsx)(d.a,{position:"end",children:t.endAdornment}):void 0},style:t.style?{width:t.style.width||void 0,flex:t.style.flex||void 0,top:t.style.top||void 0}:void 0,onFocus:t.onFocus,onBlur:t.onBlur,inputRef:e._input,spellCheck:"false"}))}})}}]),n}(c.Component),f=0},function(e,t,n){"use strict";var r=n(4),o=(n(1),n(506)),a=n(7),i={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=function(e){return Object(a.jsx)("div",{style:Object(r.a)(Object(r.a)({},i),e.style),children:Object(a.jsx)(o.a,{style:e.messageStyle,children:e.children})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(4),o=n(11),a=n(9),i=n(8),s=n(13),c=n(14),l=n(1),u=n(2158),d=n(2159),p=n(12),b=n(88),h=n(749),j=n(7),f=["tooltip","acceleratorString"],g=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.tooltip,n=e.acceleratorString,a=Object(o.a)(e,f),i=Object(j.jsx)(u.a,Object(r.a)({},a));return t&&!this.props.disabled?Object(j.jsx)(p.I18n,{children:function(e){var r,o=e.i18n;return Object(j.jsx)(d.a,{title:o._(t)+(n?" "+(r=n,Object(b.f)()?"":Object(b.e)()?r.replace(/CmdOrCtrl\+/,"\u2318").replace(/CommandOrControl\+/,"\u2318").replace(/Super\+/,"\u2318").replace(/Shift\+/,"\u21e7").replace(/Alt\+/,"\u2325").replace(/Option\+/,"\u2325").replace(/Delete/,"\u2326").replace(/Backspace/,"\u232b"):r.replace(/CmdOrCtrl\+/,"Ctrl+").replace(/CommandOrControl\+/,"Ctrl+").replace(/Super\+/,"Win+").replace(/Option\+/,"Alt+").replace(/Delete/,"DEL")):""),placement:"bottom",enterDelay:h.a,children:i})}}):i}}]),n}(l.Component)},function(e,t,n){"use strict";var r=n(12),o=(n(1),n(559)),a=n(897),i=n.n(a),s=n(35),c=n(562),l=n(7);t.a=function(e){if(!e.helpPagePath)return null;var t=Object(c.a)(e.helpPagePath,e.anchor);return t?Object(l.jsx)(o.a,{onClick:function(){e.helpPagePath&&s.b.openExternalURL(t)},target:"_blank",label:e.label||Object(l.jsx)(r.Trans,{id:"Help"}),icon:Object(l.jsx)(i.a,{})}):null}},,function(e,t,n){"use strict";var r=n(4),o=n(1),a=n(12),i=n(2275),s=n(469),c=n(142),l=n(2171),u=n(7),d=function(e){return e.stopPropagation()},p=o.forwardRef((function(e,t){var n=o.useRef(null),p=function(){n.current&&n.current.focus()};o.useImperativeHandle(t,(function(){return{focus:p}}));var b,h=(b=e.textAlign,Object(l.a)({root:{textAlign:b||"left",cursor:"default"}})()),j=e.onChange||void 0,f=!0,g=o.Children.map(e.children,(function(e){return null!==e&&e.props?e.props.value:null}));g?f=0!==g.filter((function(t){return t===e.value})).length:console.error("SelectField has been passed no or invalid children. Only SelectOption and null are supported.");var m=f?e.value:"",O=e.helperMarkdownText?Object(u.jsx)(c.a,{source:e.helperMarkdownText}):null;return Object(u.jsx)(a.I18n,{children:function(t){var o=t.i18n;return Object(u.jsxs)(i.a,Object(r.a)(Object(r.a)({select:!0},Object(s.a)(e)),{},{disabled:e.disabled,fullWidth:e.fullWidth,label:e.floatingLabelText,helperText:O,value:m,onClick:e.stopPropagationOnClick?d:void 0,onChange:j?function(e){j(e,-1,e.target.value)}:void 0,InputProps:{style:e.inputStyle,disableUnderline:!!e.disableUnderline},InputLabelProps:{shrink:!0},SelectProps:{native:!0,classes:h},style:e.style,inputRef:n,children:[f?null:Object(u.jsx)("option",{value:"",disabled:!0,children:e.hintText?o._(e.hintText):o._({id:"Choose an option"})}),e.children]}))}})}));t.a=p},function(e,t,n){"use strict";n(1);var r=n(12),o=n(145),a=n(7);t.a=function(e){var t=Object(o.a)();return Object(a.jsx)(r.I18n,{children:function(n){var r=n.i18n;return Object(a.jsx)("option",{value:e.value,disabled:e.disabled,style:{color:t.palette.text.primary,backgroundColor:t.palette.background.paper},children:r._(e.primaryText)})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(4),o=n(11),a=n(9),i=n(8),s=n(13),c=n(14),l=n(1),u=n(469),d=n(7),p=["value","onChange","commitOnBlur","onFocus","onBlur","type"],b=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={focused:!1,text:null},e._field=null,e}return Object(i.a)(n,[{key:"forceSetValue",value:function(e){this.setState({text:e})}},{key:"forceSetSelection",value:function(e,t){var n=this.getInputNode();n&&(n.selectionStart=e,n.selectionEnd=t)}},{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"getInputNode",value:function(){if(this._field)return this._field.getInputNode()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,i=t.commitOnBlur,s=t.onFocus,c=t.onBlur,l=t.type,b=Object(o.a)(t,p);return Object(d.jsx)(u.b,Object(r.a)(Object(r.a)({},b),{},{type:l||"text",ref:function(t){return e._field=t},value:this.state.focused?this.state.text:n,onFocus:function(t){e.setState({focused:!0,text:e.props.value}),s&&s(t)},onChange:function(t,n){e.setState({text:n}),i||a(n)},onBlur:function(t){a(t.currentTarget.value),e.setState({focused:!1,text:null}),c&&c(t)}}))}}]),n}(l.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(9),o=n(8),a=n(20),i=n.n(a),s=i()("electron"),c=i()("path"),l=function(){function e(){Object(r.a)(this,e),this.projectCache={}}return Object(o.a)(e,[{key:"_getProjectCache",value:function(e){var t=this.projectCache[e.ptr];return t||(this.projectCache[e.ptr]={})}},{key:"getCachedUrl",value:function(e,t){return this._getProjectCache(e)[t]}},{key:"cacheUrl",value:function(e,t){return this._getProjectCache(e)[t]=t}},{key:"burstUrl",value:function(e,t){delete this._getProjectCache(e)[t]}},{key:"cacheLocalFileUrl",value:function(e,t,n,r){var o=this._getProjectCache(e);return o[t]=r?n:"".concat(n,"?cache=").concat(Date.now())}}]),e}(),u=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,null,[{key:"burstUrlsCacheForResources",value:function(t,n){var r=t.getResourcesManager();n.forEach((function(n){r.hasResource(n)&&e._cache.burstUrl(t,r.getResource(n).getFile())}))}},{key:"burstAllUrlsCache",value:function(){e._cache=new l}},{key:"getFullUrl",value:function(t,n,r){var o=r.isResourceForPixi,a=r.disableCacheBurst;if(s&&function(e){return!(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("ftp://")||e.startsWith("blob:")||e.startsWith("data:"))}(n)){var i=e._cache.getCachedUrl(t,n);if(i)return i;var l=t.getProjectFile(),u=c.dirname(l),d=c.resolve(u,n).replace(/\\/g,"/");return console.info("Caching resolved local filename:",d),this._cache.cacheLocalFileUrl(t,n,"file://"+d,!!a)}var p=n;o&&(p=function(e,t,n){if(e.startsWith("data:")||e.startsWith("blob:"))return e;var r=-1===e.indexOf("?")?"?":"&";return e+r+t+"="+n}(p,"gdUsage","pixi"));var b=e._cache.getCachedUrl(t,p);return b||(console.info("Caching resolved url:",p),this._cache.cacheUrl(t,p))}},{key:"getResourceFullUrl",value:function(t,n,r){if(t.getResourcesManager().hasResource(n)){var o=t.getResourcesManager().getResource(n).getFile();return e.getFullUrl(t,o,r)}return n}}]),e}();u._cache=new l},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n(423),i=n(891),s=n.n(i),c=n(593),l=n.n(c),u=n(753),d=n.n(u),p=n(30),b=n(463),h=n(138),j=n(80),f=n(594),g=n.n(f),m=n(471),O=n(7),v={icon:{width:28,height:28,marginRight:10,marginLeft:10},topRightHideButton:{position:"absolute",right:0,top:0},paper:{position:"relative"},hideIcon:{width:16,height:16},content:{flex:1}};t.a=function(e){var t=e.kind,n=e.children,i=e.onHide,c=e.renderRightButton,u=e.renderLeftIcon,f=o.useContext(h.a);return Object(O.jsxs)(a.a,{variant:"outlined",style:v.paper,children:[Object(O.jsx)(p.a,{expand:!0,children:Object(O.jsx)(p.c,{expand:!0,children:Object(O.jsxs)(j.c,{alignItems:"center",justifyContent:"space-between",noMargin:!0,expand:!0,children:[Object(O.jsxs)(p.c,{noMargin:!0,alignItems:"center",children:[u?Object(O.jsxs)(o.Fragment,{children:[u(),Object(O.jsx)(p.d,{})]}):Object(O.jsxs)(o.Fragment,{children:["info"===t&&Object(O.jsx)(s.a,{style:v.icon}),"warning"===t&&Object(O.jsx)(l.a,{style:Object(r.a)(Object(r.a)({},v.icon),{},{color:f.message.warning})}),"error"===t&&Object(O.jsx)(d.a,{style:Object(r.a)(Object(r.a)({},v.icon),{},{color:f.message.error})})]}),Object(O.jsx)(b.a,{style:v.content,children:n})]}),c&&c()]})})}),i&&Object(O.jsx)("div",{style:v.topRightHideButton,children:Object(O.jsx)(m.a,{"aria-label":"hide",onClick:function(){return i()},size:"small",children:Object(O.jsx)(g.a,{style:v.hideIcon})})})]})}},,function(e,t,n){"use strict";var r=n(4),o=(n(1),n(2178)),a=n(7),i={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=function(e){return Object(a.jsx)("div",{style:Object(r.a)(Object(r.a)({},i),e.style),children:Object(a.jsx)(o.a,{size:40})})}},,,,function(e,t,n){"use strict";var r=n(4),o=n(1),a=n(19),i=n.n(a),s=n(7),c={flex:1};t.a=o.forwardRef((function(e,t){var n=e.children,a=e.autoHideScrollbar,l=e.style,u=e.onScroll,d=o.useRef(null);return o.useImperativeHandle(t,(function(){return{scrollTo:function(e){var t=d.current;if(t){var n=i.a.findDOMNode(e);if(n instanceof HTMLElement){var r=n.getBoundingClientRect().top,o=t.getBoundingClientRect().top;t.scrollTop+=r-o}else console.error("Tried to scroll to something that is not a HTMLElement")}},scrollToBottom:function(){var e=d.current;e&&(e.scrollTop=e.scrollHeight)}}})),Object(s.jsx)("div",{style:Object(r.a)(Object(r.a)({},c),{},{overflowY:a?"auto":"scroll"},l),onScroll:u,ref:d,children:n})}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return D})),n.d(t,"d",(function(){return B})),n.d(t,"b",(function(){return V})),n.d(t,"a",(function(){return W}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(4),c=n(26),l=n(1),u=n(2165),d=n(2163),p=n(2167),b=n(2168),h=n(2175),j=n(894),f=n.n(j),g=n(595),m=n.n(g),O=n(2158),v=n(754),x=n.n(v),y=n(629),C=n.n(y),T=n(561),E=n.n(T),k=n(1188),w=n.n(k),S=n(505),P=n(2159),I=n(489),_=n.n(I),A=n(893),N=n.n(A),R=n(628),L=n(2177),M=n(7),F=!0,D=32,B=29,U={listItemText:{margin:"1px 0",wordBreak:"break-word"}},V=l.forwardRef((function(e,t){var n=l.useState(!!e.initiallyOpen),r=Object(c.a)(n,2),o=r[0],a=r[1],i=l.useRef(null),j=l.useCallback((function(){i.current&&i.current.open()}),[i]),g=Object(R.a)(j),v=function(){return e.displayReloadButton?Object(M.jsx)(h.a,{children:Object(M.jsx)(P.a,{title:e.reloadButtonTooltip,children:Object(M.jsx)(O.a,{size:"small",edge:"end","aria-label":"reload",onClick:e.onReload,children:Object(M.jsx)(x.a,{})})})}):e.buildMenuTemplate?e.displayMenuButton?Object(M.jsx)(h.a,{children:Object(M.jsx)(S.a,{ref:i,element:Object(M.jsx)(O.a,{size:"small",edge:"end","aria-label":"menu",children:Object(M.jsx)(C.a,{style:{color:e.rightIconColor}})}),buildMenuTemplate:e.buildMenuTemplate})}):Object(M.jsx)(S.a,{ref:i,element:Object(M.jsx)("div",{}),buildMenuTemplate:e.buildMenuTemplate}):e.displayLinkButton?Object(M.jsx)(h.a,{children:Object(M.jsx)(O.a,{size:"small",edge:"end","aria-label":"open link",onClick:e.onOpenLink,children:Object(M.jsx)(E.a,{style:{color:e.rightIconColor}})})}):e.displayRemoveButton?Object(M.jsx)(h.a,{children:Object(M.jsx)(O.a,{size:"small",edge:"end","aria-label":"remove",onClick:e.onRemove,children:Object(M.jsx)(w.a,{style:{color:e.rightIconColor}})})}):null},y=e.renderNestedItems;if(y){var T=void 0===e.open?o:e.open;return Object(M.jsxs)(l.Fragment,{children:[Object(M.jsxs)(d.a,{button:!0,dense:F,disableRipple:!0,onClick:function(){a(!T),e.onClick&&e.onClick()},disabled:e.disabled,style:e.style,ref:t,id:e.id,children:[e.leftIcon&&Object(M.jsx)(p.a,{children:e.leftIcon}),Object(M.jsx)(b.a,{style:U.listItemText,primary:e.primaryText,secondary:e.secondaryText,className:e.disableAutoTranslate?"notranslate":""}),e.autoGenerateNestedIndicator?T?Object(M.jsx)(f.a,{}):Object(M.jsx)(m.a,{}):null,v()]}),Object(M.jsx)(L.a,{in:T,timeout:"auto",unmountOnExit:!0,children:Object(M.jsx)(u.a,{component:"div",disablePadding:!0,style:Object(s.a)({paddingLeft:16},e.nestedListStyle),dense:F,children:y()})})]})}return Object(M.jsxs)(d.a,Object(s.a)(Object(s.a)({button:!0,dense:F,disableRipple:!0,ContainerComponent:"div",onClick:e.onClick,onDoubleClick:e.onDoubleClick,disabled:e.disabled,selected:e.selected,style:e.style,onContextMenu:e.buildMenuTemplate?j:void 0},g),{},{alignItems:2===e.secondaryTextLines?"flex-start":void 0,ref:t,id:e.id,children:[e.leftIcon&&Object(M.jsx)(p.a,{children:e.leftIcon}),Object(M.jsx)(b.a,{style:U.listItemText,primary:e.primaryText,secondary:e.secondaryText,className:e.disableAutoTranslate?"notranslate":""}),v(),e.displayAddIcon&&Object(M.jsx)(_.a,{style:{color:e.rightIconColor}}),e.displaySearchIcon&&Object(M.jsx)(N.a,{style:{color:e.rightIconColor}})]}))})),W=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(M.jsx)(u.a,{style:this.props.style,dense:F,children:this.props.children})}}]),n}(l.Component)},function(e,t,n){"use strict";t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t(e))return e;for(var r=n+e,o=2;t(r);++o)r=n+e+o;return r}},,function(e,t,n){"use strict";var r=n(4),o=(n(1),n(423)),a=n(7),i={container:{display:"flex",flexDirection:"column"},maxWidth:{maxWidth:"100%"}};t.a=function(e){return Object(a.jsx)(o.a,{square:!0,style:Object(r.a)(Object(r.a)({},i.container),{},{height:e.noFullHeight?void 0:"100%",width:e.width?e.width:void 0,flex:e.noExpand?void 0:1},e.maxWidth?i.maxWidth:void 0),children:e.children})}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(3),o=n(0),a=n.n(o),i=n(1),s=(n(37),{authenticated:!1,firebaseUser:null,profile:null,badges:null,subscription:null,usages:null,limits:null,onLogout:function(){},onLogin:function(){},onEdit:function(){},onChangeEmail:function(){},onCreateAccount:function(){},onBadgesChanged:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRefreshUserProfile:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRefreshFirebaseProfile:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSendEmailVerification:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onAcceptGameStatsEmail:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAuthorizationHeader:function(){return Promise.reject(new Error("Unimplemented"))}}),c=i.createContext(s);t.a=c},,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i}));var r=e.gd;function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"serializeTo",n=new r.SerializerElement;e[t](n);var o=JSON.parse(r.Serializer.toJSON(n));return n.delete(),o}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"serializeTo",n=new r.SerializerElement;e[t](n);var o=r.Serializer.toJSON(n);return n.delete(),o}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unserializeFrom",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=r.Serializer.fromJSObject(t);o?e[n](o,a):e[n](a),a.delete()}}).call(this,n(28))},function(e,t,n){"use strict";n(1);var r=n(2171),o=n(2172),a=n(2183),i=n(2280),s=n(7),c=Object(r.a)({root:{marginLeft:9,marginRight:9,padding:0}}),l=Object(r.a)({root:{display:"block"}});t.a=function(e){var t=e.onCheck,n=c(),r=l(),u=Object(s.jsx)(i.a,{className:n.root,disabled:e.disabled,checked:e.checked,onChange:t?function(e){return t(e,e.target.checked)}:void 0,icon:e.uncheckedIcon,checkedIcon:e.checkedIcon,color:"primary",style:e.label?void 0:e.style});return e.label?Object(s.jsx)(a.a,{classes:r,children:Object(s.jsx)(o.a,{control:u,label:e.label,style:e.style})}):u}},function(e,t,n){"use strict";n.d(t,"s",(function(){return r})),n.d(t,"t",(function(){return o})),n.d(t,"j",(function(){return a})),n.d(t,"o",(function(){return i})),n.d(t,"p",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"v",(function(){return d})),n.d(t,"u",(function(){return p})),n.d(t,"m",(function(){return b})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return j})),n.d(t,"n",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return x})),n.d(t,"i",(function(){return y})),n.d(t,"q",(function(){return C})),n.d(t,"r",(function(){return T}));var r="selectable",o="selected",a="icon",i="large-selectable",s="large-selected",c="executable-event-container",l="actions-container",u="conditions-container",d="sub-instructions-container",p="small-width-container",b="instruction-parameter",h="instruction-invalid-parameter",j="instruction-missing-parameter",f="instruction-warning-parameter",g="disabled-text",m="events-tree",O="with-search-results",v="drop-indicator",x="cant-drop-indicator",y="move-handle",C="link-container",T="name-and-icon-container"},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(2277),u=n(2174),d=n(7);function p(e){return Object(d.jsx)(l.a,{variant:"fullWidth",textColor:"primary",indicatorColor:"primary",value:e.value,onChange:function(t,n){return e.onChange(n)},children:e.children})}var b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(d.jsx)(u.a,Object(r.a)({},this.props))}}]),n}(c.Component)},,function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"l",(function(){return h}));var r=function(e){return e?"".concat(e.r,";").concat(e.g,";").concat(e.b):""},o=function(e,t,n){return""+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},a=function(e,t,n){return(e<<16)+(t<<8)+n},i=function(e){var t=b(e);return t?a(t.r,t.g,t.b):0},s=function(e){return 3===e.split(";").length?i(e):parseInt(e.replace("#",""),16)},c=function(e){return{r:e>>16&255,g:e>>8&255,b:255&e,a:255}},l=function(e){var t=parseInt(e.replace("#",""),16);return c(t)},u=function(e,t,n){var r=a(e,t,n).toString(16);return"#"+"000000".substr(r.length)+r},d=function(e){var t=c(e);return r(t)},p=function(e){if(3===e.split(";").length)return e;var t=l(e);return"".concat(t.r,";").concat(t.g,";").concat(t.b)},b=function(e,t){var n=e.replace(/"/g,"").split(";");if(3!==n.length)return null;var r=parseInt(n[0],10),o=parseInt(n[1],10),a=parseInt(n[2],10);return r!==r||o!==o||a!==a?null:{r:r,g:o,b:a,a:void 0===t||null===t?1:t}},h=function(e,t,n){e/=255,t/=255,n/=255;var r=Math.max(e,t,n),o=Math.min(e,t,n),a=0,i=0,s=(r+o)/2;if(r!==o){var c=r-o;switch(i=s>.5?c/(2-r-o):c/(r+o),r){case e:a=(t-n)/c+(t<n?6:0);break;case t:a=(n-e)/c+2;break;case n:a=(e-t)/c+4}a/=6}return[a,i,s]}},,,function(e,t,n){"use strict";n(1);var r=n(138),o=n(7);t.a=function(e){return Object(o.jsx)(r.a.Consumer,{children:function(t){return e.children(t)}})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return _}));var r=n(4),o=n(26),a=n(1),i=n(430),s=n(471),c=n(469),l=n(423),u=n(426),d=n(2275),p=n(2177),b=n(594),h=n.n(b),j=n(893),f=n.n(j),g=n(755),m=n.n(g),O=n(2279),v=n(505),x=n(896),y=n(525),C=n(101),T=n(30),E=n(630),k=n(12),w=n(138),S=n(7),P=Object(i.a)((function(e){var t=e.palette.text.primary;return{groupLabel:{color:"".concat(t).concat(t.length>4?"88":"8")}}})),I=a.forwardRef((function(e,t){var n=e.id,i=e.disabled,b=e.placeholder,j=e.onChange,g=e.onRequestSearch,y=e.value,I=e.aspect,A=e.tagsHandler,N=e.tags,R=e.buildMenuTemplate,L=e.helpPagePath;a.useImperativeHandle(t,(function(){return{focus:M,blur:F}}));var M=function(){q.current&&q.current.focus()},F=function(){q.current&&q.current.blur()},D=a.useContext(w.a),B=a.useState(y),U=Object(o.a)(B,2),V=U[0],W=U[1],G=a.useState(y),z=Object(o.a)(G,2),H=z[0],Y=z[1],q=a.useRef(null),X=function(e,t){var n=!!e&&e.length>0;return{root:{height:30,display:"flex",flex:1,justifyContent:"space-between"},iconButtonClose:{style:{opacity:t?.38:.54,transform:n?"scale(1, 1)":"scale(0, 0)",transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"},iconStyle:{opacity:n?1:0,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonSearch:{style:{opacity:t?.38:.54,transform:n?"scale(0, 0)":"scale(1, 1)",transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)",marginRight:-30},iconStyle:{opacity:n?0:1,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonFilter:{style:{opacity:t?.38:.54}},iconButtonHelp:{style:{opacity:t?.38:.54}},input:{width:"100%"},searchContainer:{position:"relative",margin:"auto 8px",width:"100%"}}}(V,i),K=P(),J=a.useCallback((function(e){W(e||""),j&&j(e||"")}),[j,W]);a.useEffect((function(){W(y)}),[y]);var Z=_(),Q=a.useRef(0);a.useEffect((function(){Z&&A&&0===A.chosenTags.size&&Q.current>0&&M()}),[A,Z]),a.useEffect((function(){Q.current=A?A.chosenTags.size:0}));var $=function(){V&&""!==V.trim()||J("")},ee=function(e){J(e.target.value)},te=function(){J("")},ne=function(e){Object(C.g)(e)&&g(V)},re=function(e,t,n){"select-option"===n?(A&&A.add(t),J("")):J(t)},oe=function(e,t,n){"reset"===n?(W(""),Y("")):W(t)};return Object(S.jsx)(k.I18n,{children:function(e){var t=e.i18n;return Object(S.jsxs)(T.a,{noMargin:!0,children:[Object(S.jsx)(T.c,{noMargin:!0,children:Object(S.jsxs)(l.a,{style:Object(r.a)({backgroundColor:D.searchBar.backgroundColor},X.root),square:"integrated-search-bar"===I,elevation:0,children:[Object(S.jsx)("div",{style:X.searchContainer,children:N?Object(S.jsx)(O.a,{id:n,options:N.slice(0,30),groupBy:function(e){return t._({id:"Apply a filter"})},classes:K,freeSolo:!0,fullWidth:!0,defaultValue:"",inputValue:V,value:H,onChange:re,onInputChange:oe,onKeyPress:ne,onBlur:$,renderOption:function(e){return Object(S.jsx)(u.a,{children:e})},renderInput:function(e){return Object(S.jsx)(d.a,Object(r.a)(Object(r.a)({margin:"none"},e),{},{inputRef:q,InputProps:Object(r.a)(Object(r.a)({},e.InputProps),{},{disableUnderline:!0,endAdornment:null,placeholder:t._(b||{id:"Search"})})}))}}):Object(S.jsx)(c.b,{id:n,margin:"none",hintText:b||{id:"Search"},onBlur:$,value:V,onChange:ee,onKeyUp:ne,fullWidth:!0,style:X.input,underlineShow:!1,disabled:i,ref:q})}),R&&Object(S.jsx)(v.a,{element:Object(S.jsx)(s.a,{style:X.iconButtonFilter.style,disabled:i,size:"small",children:Object(S.jsx)(m.a,{})}),buildMenuTemplate:R}),L&&Object(S.jsx)(x.a,{disabled:i,helpPagePath:L,style:X.iconButtonHelp.style,size:"small"}),Object(S.jsx)(s.a,{style:X.iconButtonSearch.style,disabled:i,size:"small",children:Object(S.jsx)(f.a,{style:X.iconButtonSearch.iconStyle})}),Object(S.jsx)(s.a,{onClick:te,style:X.iconButtonClose.style,disabled:i,size:"small",children:Object(S.jsx)(h.a,{style:X.iconButtonClose.iconStyle})})]})}),A&&Object(S.jsx)(p.a,{in:A.chosenTags.size>0,children:Object(S.jsx)(E.a,{tags:Array.from(A.chosenTags),onRemove:function(e){return A.remove(e)}})})]})}})}));t.a=I;var _=function(){return!("touch"===Object(y.b)())}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(19),u=n.n(l),d=n(2160),p=n(679),b=n.n(p),h=n(1535),j=n.n(h),f=n(137),g=n(476),m=n(465),O=n(1523),v=n(1528),x=n(1020),y=n(821),C=n(1529),T=n(573),E=n.n(T),k=n(2181),w=n(423),S=n(80),P=n(1530),I=n(1533),_=n(1534),A=n(86),N=n(101),R=n(7),L=e.gd,M={container:{display:"flex",alignItems:"flex-start"},textFieldContainer:{flex:1,minWidth:200},textFieldAndHightlightContainer:{position:"relative"},expressionSelectorPopoverContentSmall:{display:"flex",maxHeight:250},expressionSelectorPopoverContent:{display:"flex",maxHeight:350},input:{fontFamily:'"Lucida Console", Monaco, monospace',lineHeight:1.4},backgroundHighlightingWithFloatingLabel:{marginTop:22,paddingLeft:12,paddingRight:12,boxSizing:"border-box"},backgroundHighlightingInline:{marginTop:0,paddingLeft:0,paddingRight:0},backgroundHighlightingInlineWithFloatingLabel:{marginTop:22,paddingLeft:0,paddingRight:0}},F=function(e,t,n,r,o){var a=new L.ExpressionValidator(L.JsPlatform.get(),t,n,r);o.visit(a);var i=a.getErrors(),s=Object(m.mapVector)(i,(function(e){return{begin:e.getStartPosition(),end:e.getEndPosition()+1,message:e.getMessage(),type:"error"}})),c=Math.max(0,s.length-10),l=s.length>1,u=(c>0?s.slice(0,10):s).map((function(e,t){return(l?"[".concat(t+1,"] "):"")+e.message})).join(" ");return a.delete(),{errorText:u,errorHighlights:s}},D=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i)))._field=null,e._fieldElement=null,e._inputElement=null,e.state={popoverOpen:!1,parametersDialogOpen:!1,selectedExpressionInfo:null,validatedValue:e.props.value,errorText:null,errorHighlights:[],autocompletions:Object(I.a)()},e.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e._field&&(e._field.focus(),t&&e._inputElement&&e._inputElement.setSelectionRange(0,e.props.value.toString().length),e._enqueueValidation())},e._openExpressionPopover=function(){e.setState({popoverOpen:!0})},e._handleFocus=function(e){e.preventDefault()},e._handleRequestClose=function(){e.setState({popoverOpen:!1})},e._handleChange=function(t){e.setState({validatedValue:t},(function(){return e._enqueueValidation()}))},e._handleBlur=function(t){var n=t.currentTarget.value;e.props.onChange&&e.props.onChange(n),e.setState({validatedValue:n},(function(){e._enqueueValidation.cancel(),e._doValidation(),e.setState({autocompletions:Object(I.a)()})}))},e._shouldOpenParametersDialog=function(e){return Object(x.b)(e.metadata)},e._handleExpressionChosen=function(t){var n={popoverOpen:!1};e._shouldOpenParametersDialog(t)?n=Object(r.a)(Object(r.a)({},n),{},{parametersDialogOpen:!0,selectedExpressionInfo:t}):e.insertExpression(t,[]),e.setState(n)},e.insertExpression=function(t,n){if(e._inputElement){var r=e._inputElement.selectionStart,o=Object(y.a)(t,n),a=e.props.value,i=a.substr(0,r)+o+a.substr(r);e.props.onChange&&e.props.onChange(i),e.setState({validatedValue:i},(function(){return e._enqueueValidation()})),setTimeout((function(){e._field&&e._field.focus(),setTimeout((function(){e._inputElement&&e._inputElement.setSelectionRange(r,r+o.length)}),5)}),5)}},e._onExpressionAutocompletionsScroll=function(){e.state.autocompletions.renderEverything||e.setState({autocompletions:Object(I.e)(e.state.autocompletions)})},e._insertAutocompletion=function(t){if(!t.isExact){var n=e._inputElement?e._inputElement.selectionStart:0,r=e.state.validatedValue,o=Object(P.b)({expression:r,caretLocation:n},{completion:t.completion,replacementStartPosition:t.replacementStartPosition,replacementEndPosition:t.replacementEndPosition,addParenthesis:t.addParenthesis,addDot:t.addDot,addParameterSeparator:t.addParameterSeparator,addNamespaceSeparator:t.addNamespaceSeparator,hasVisibleParameters:t.hasVisibleParameters}),a=o.expression,i=o.caretLocation;e._field&&e._field.forceSetValue(a),e.props.onChange&&e.props.onChange(a),e.setState({validatedValue:a},(function(){e._enqueueValidation(),e._field&&e._field.forceSetSelection(i,i)}))}},e._enqueueValidation=E()((function(){e._doValidation()}),250),e._doValidation=function(){var t=e.props,n=t.project,r=t.globalObjectsContainer,o=t.objectsContainer,a=t.expressionType,i=t.scope,s=t.onGetAdditionalAutocompletions,c=t.onExtractAdditionalErrors;if(!n)return null;var l=e.state.validatedValue,u=new L.ExpressionParser2,d=u.parseExpression(l).get(),p=F(L.JsPlatform.get(),r,o,a,d),b=p.errorText,h=p.errorHighlights,j=[c?c(l,d):null,b].filter(Boolean).join(" - ");if(l.length>0&&" "===l.charAt(l.length-1))e.setState((function(e){return{errorText:j,errorHighlights:h,autocompletions:Object(I.a)()}}));else{var f=e._inputElement?e._inputElement.selectionStart:0,g=L.ExpressionCompletionFinder.getCompletionDescriptionsFor(L.JsPlatform.get(),r,o,a,d,f-1),m=Object(P.a)({gd:L,project:n,globalObjectsContainer:r,objectsContainer:o,scope:i},g),O=s?s(l).concat(m):m;u.delete(),e.setState((function(e){return{errorText:j,errorHighlights:h,autocompletions:Object(I.f)(e.autocompletions,O)}}))}},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){if(this._field){var e=u.a.findDOMNode(this._field);e instanceof Element&&(this._fieldElement=e),this._inputElement=this._field?this._field.getInputNode():null}}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,o=t.expressionType,a=t.parameterMetadata,i=t.project,s=t.scope,l=t.globalObjectsContainer,u=t.objectsContainer,p=t.parameterRenderingService,h=a?a.getDescription():this.props.isInline?void 0:"-",m=a?a.getLongDescription():void 0,x={width:this._fieldElement?this._fieldElement.clientWidth:"auto",marginLeft:-5,zIndex:b.a.tooltip+100},y=this.props.isInline?h?M.backgroundHighlightingInlineWithFloatingLabel:M.backgroundHighlightingInline:M.backgroundHighlightingWithFloatingLabel;return Object(R.jsxs)(c.Fragment,{children:[Object(R.jsx)(S.d,{margin:this.props.isInline?"none":"dense",renderTextField:function(){return Object(R.jsxs)("div",{style:M.textFieldContainer,children:[Object(R.jsxs)("div",{style:M.textFieldAndHightlightContainer,children:[Object(R.jsx)(C.a,{value:e.state.validatedValue,style:Object(r.a)(Object(r.a)({},M.input),y),highlights:e.state.errorHighlights}),Object(R.jsx)(g.a,{margin:e.props.isInline?"none":"dense",value:n,floatingLabelText:h,helperMarkdownText:m,hintText:"string"===o?'""':void 0,inputStyle:M.input,onChange:e._handleChange,onBlur:e._handleBlur,ref:function(t){return e._field=t},onFocus:e._handleFocus,errorText:e.state.errorText,onClick:function(){return e._enqueueValidation()},onKeyDown:function(t){var n=Object(I.d)(e.state.autocompletions,{event:t,onUpdateAutocompletions:e._enqueueValidation,onInsertAutocompletion:e._insertAutocompletion});if(e.setState({autocompletions:n}),Object(N.c)(t)||Object(N.f)(t)){var r=t.currentTarget.value;e.props.onChange&&e.props.onChange(r)}},multiline:!0,fullWidth:!0})]}),e._inputElement&&e.state.popoverOpen&&Object(R.jsx)(k.a,{onClickAway:e._handleRequestClose,children:Object(R.jsx)(d.a,{style:x,open:e.state.popoverOpen,anchorEl:e._inputElement,placement:"bottom",disablePortal:!0,children:Object(R.jsx)(A.a,{children:function(t){return Object(R.jsx)(w.a,{style:"small"===t?M.expressionSelectorPopoverContentSmall:M.expressionSelectorPopoverContent,children:Object(R.jsx)(O.a,{selectedType:"",onChoose:function(t,n){e._handleExpressionChosen(n)},expressionType:o,focusOnMount:!0,scope:s})})}})})}),e._inputElement&&!e.state.popoverOpen&&p&&Object(R.jsx)(_.a,{project:i,anchorEl:e._inputElement,expressionAutocompletions:Object(I.c)(e.state.autocompletions),remainingCount:Object(I.b)(e.state.autocompletions),selectedCompletionIndex:e.state.autocompletions.selectedCompletionIndex,onScroll:e._onExpressionAutocompletionsScroll,onChoose:function(t){e._insertAutocompletion(t),setTimeout(e.focus,50)},parameterRenderingService:p})]})},renderButton:function(t){return Object(R.jsxs)(c.Fragment,{children:[!e.props.isInline&&e.props.renderExtraButton&&e.props.renderExtraButton({style:t}),!e.props.isInline&&Object(R.jsx)(f.a,{icon:Object(R.jsx)(j.a,{}),label:"string"===o?'"ABC"':"number"===o?"123":"",primary:!0,style:t,onClick:e._openExpressionPopover})]})}}),this.state.parametersDialogOpen&&this.state.selectedExpressionInfo&&Object(R.jsx)(v.a,{project:i,scope:s,globalObjectsContainer:l,objectsContainer:u,expressionMetadata:this.state.selectedExpressionInfo.metadata,onDone:function(t){e.state.selectedExpressionInfo&&(e.insertExpression(e.state.selectedExpressionInfo,t),e.setState({parametersDialogOpen:!1,selectedExpressionInfo:null}))},onRequestClose:function(){e.setState({parametersDialogOpen:!1,selectedExpressionInfo:null})},parameterRenderingService:p})]})}}]),n}(c.Component)}).call(this,n(28))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(4),o=n(11),a=n(9),i=n(8),s=n(10),c=n(13),l=n(14),u=n(1),d=n(19),p=n.n(d),b=n(662),h=n(7),j=["element","buildMenuTemplate","openMenuWithSecondaryClick","passExtraProps"],f=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).open=function(){var t=Object(s.a)(e)._contextMenu;if(t){var n=p.a.findDOMNode(e._wrappedElement);if(n instanceof HTMLElement){var r=n.getBoundingClientRect();t.open(Math.round(r.left+r.width/2),Math.round(r.top+r.height))}}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.element,a=t.buildMenuTemplate,i=t.openMenuWithSecondaryClick,s=t.passExtraProps,c=Object(o.a)(t,j);return Object(h.jsxs)(u.Fragment,{children:[u.cloneElement(n,Object(r.a)(Object(r.a)({onContextMenu:this.open},i?{}:{onClick:this.open}),{},{ref:function(t){return e._wrappedElement=t}},s?c:{})),Object(h.jsx)(b.a,{ref:function(t){return e._contextMenu=t},buildMenuTemplate:a})]})}}]),n}(u.Component)},function(e,t,n){"use strict";var r=n(4),o=(n(1),n(500)),a=n(426),i=n(7);t.a=function(e){return Object(i.jsx)(o.a,{children:function(t){return Object(i.jsx)(a.a,{variant:"body2",align:"center",style:Object(r.a)({opacity:.6,textShadow:"1px 1px 0px ".concat(t.emptyMessage.shadowColor)},e.style),title:e.tooltipText,children:e.children})}})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),o=(n(1),n(7)),a=function(e,t,n){if(e.startsWith("data:")||e.startsWith("blob:"))return e;var r=-1===e.indexOf("?")?"?":"&";return e+r+t+"="+n},i=function(e){return Object(o.jsx)("img",Object(r.a)(Object(r.a)({},e),{},{crossOrigin:"anonymous",src:e.src?a(e.src,"gdUsage","img"):void 0}))}},,,,function(e,t,n){"use strict";n(1);var r=n(43),o=n(478),a=n(35),i=n(7);t.a=function(e){var t=e.identifier,n=e.kind,s=e.children;return Object(i.jsx)(r.a.Consumer,{children:function(e){var r=e.values,c=e.showAlertMessage;return!r.hiddenAlertMessages[t]&&Object(i.jsx)(o.a,{kind:n,children:s,onHide:function(){a.b.showConfirmDialog("Are you sure you want to hide this hint? You won't see it again, unless you re-activate it from the preferences.")&&c(t,!1)}})}})}},function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(508),i=n(138),s=n(7);function c(e){var t=o.a.useContext(i.a),n=e.src,r=e.tooltip,c=e.disabled,l=e.isGDevelopIcon,u=e.cssAnimation,d=e.useExactIconSize,p=void 0!==e.iconWidth?e.iconWidth:e.iconSize,b=void 0!==e.iconHeight?e.iconHeight:e.iconSize,h=p>40?16:0,j={maxWidth:d?void 0:p,maxHeight:d?void 0:b,width:d?p:void 0,height:d?b:void 0,verticalAlign:"middle",animation:u,filter:l?c?"grayscale(100%)":t.gdevelopIconsCSSFilter:void 0};return Object(s.jsx)("div",{style:{width:p,height:b,lineHeight:"".concat(b,"px"),textAlign:"center",paddingRight:h},children:l?Object(s.jsx)("img",{title:r,alt:r,src:n,style:j}):Object(s.jsx)(a.a,{title:r,alt:r,src:n,style:j})})}var l=o.a.memo(c);t.a=l},function(e,t,n){"use strict";var r=n(26),o=n(4),a=n(11),i=n(1),s=n(12),c=n(2275),l=(n(513),n(2167)),u=n(2168),d=n(142),p=n(2279),b=n(2163),h=n(469),j=n(2171),f=n(679),g=n.n(f),m=n(101),O=n(635),v=n(7),x=["InputProps","inputProps","InputLabelProps"],y=["InputProps","inputProps"],C={container:{position:"relative",width:"100%"},listItem:{padding:0,margin:0},listItemText:{margin:"1px 0"}},T=Object(j.a)({option:{cursor:"default"},listbox:{padding:0,margin:0},input:{width:"auto",flexGrow:1},inputRoot:{flexWrap:"wrap"},popper:{zIndex:g.a.tooltip+100}}),E=function(e){return function(t,n){if(t.type&&"separator"===t.type)return Object(v.jsx)(b.a,{divider:!0,disableGutters:!0,component:"div",style:C.listItem});var r=t.translatableValue?e._(t.translatableValue):t.value;return Object(v.jsxs)(b.a,{dense:!0,component:"div",style:C.listItem,children:[t.renderIcon&&Object(v.jsx)(l.a,{children:t.renderIcon()}),Object(v.jsx)(u.a,{style:C.listItemText,primary:Object(v.jsx)("div",{title:r,style:O.a,children:r})})]})}},k=function(e){return"separator"===e.type};t.a=i.forwardRef((function(e,t){var n=i.useRef(null),l=Object(i.useState)(null),u=Object(r.a)(l,2),b=u[0],j=u[1],f=Object(i.useState)(!1),g=Object(r.a)(f,2),O=g[0],w=g[1],S=T();i.useImperativeHandle(t,(function(){return{focus:function(){var t=n.current;t&&(t.focus(),t.setSelectionRange(0,e.value.toString().length))},forceInputValueTo:function(e){null!==b&&j(e)}}}));var P=null!==b?b:e.value,I=e.helperMarkdownText?Object(v.jsx)(d.a,{source:e.helperMarkdownText}):null,_=function(t,n,r){j(n),O||w(!0),e.commitOnInputChange&&e.onChange(n)};return Object(v.jsx)(s.I18n,{children:function(t){var r=t.i18n;return Object(v.jsx)(p.a,{freeSolo:!0,classes:S,onChange:function(t,r){null!==r&&n.current&&(!function(e,t,n){"separator"!==t.type&&(t.onClick?t.onClick():(e.value=t.value,n.onChoose?n.onChoose(t.value):n.onChange(t.value),n.onApply?n.onApply():n.onRequestClose&&n.onRequestClose()))}(n.current,r,e),j(null),w(!1))},open:O,style:Object(o.a)(Object(o.a)({},e.style),C.container),inputValue:P,value:P,onInputChange:_,options:e.dataSource,renderOption:E(r),getOptionDisabled:k,getOptionLabel:function(e){return function(e,t){return e.value?e.value:t}(e,P)},filterOptions:function(e,t){return function(e,t,n){var r=n.toLowerCase(),o=e.filter((function(e){return"separator"===e.type||!e.text||-1!==e.text.toLowerCase().indexOf(r)}));if(!o.filter((function(e){return"separator"!==e.type&&(e.value||e.translatableValue)})).length)return[];for(;void 0!==o[o.length-1]&&void 0!==o[o.length-1].type;)o.pop();for(;void 0!==o[0]&&void 0!==o[0].type;)o.shift();return o}(e,0,P)},id:e.id,renderInput:function(t){var i=function(e,t){var n=e.InputProps,r=e.inputProps,i=(e.InputLabelProps,Object(a.a)(e,x));return Object(o.a)(Object(o.a)({},i),{},{InputProps:Object(o.a)(Object(o.a)({},n),{},{className:null,endAdornment:null,style:t.inputStyle}),inputProps:Object(o.a)(Object(o.a)({},r),{},{className:null,disabled:t.disabled,onKeyDown:function(e){Object(m.c)(e)?t.onRequestClose&&t.onRequestClose():Object(m.f)(e)&&(t.onChange(e.currentTarget.value),t.onApply?t.onApply():t.onRequestClose&&t.onRequestClose())}})})}(t,e),s=i.InputProps,l=i.inputProps,u=Object(a.a)(i,y);return Object(v.jsx)(c.a,Object(o.a)(Object(o.a)(Object(o.a)({InputProps:Object(o.a)(Object(o.a)({},s),{},{placeholder:"string"===typeof e.hintText?e.hintText:r._(e.hintText)}),inputProps:Object(o.a)(Object(o.a)({},l),{},{onClick:e.onClick,onFocus:function(e){w(!0),n.current&&(n.current.selectionStart=n.current.value.length)},onBlur:function(t){j(null),w(!1),e.onChange(t.currentTarget.value),e.onBlur&&e.onBlur(t)},onMouseDown:function(e){n.current&&!n.current.value.length&&w(!O)}})},u),Object(h.a)(e)),{},{style:e.textFieldStyle,label:e.floatingLabelText,inputRef:n,disabled:e.disabled,error:!!e.errorText,helperText:I||e.errorText,fullWidth:e.fullWidth}))}})}})}))},,,,function(e,t,n){"use strict";var r=n(12),o=n(1),a=n(30),i=n(137),s=n(470),c=n(138),l=n(7);t.a=function(e){var t=e.onRetry,n=e.children,u=e.kind,d=o.useContext(c.a);return Object(l.jsxs)(a.a,{expand:!0,alignItems:"center",children:[Object(l.jsx)(s.a,{style:u?{color:d.message[u]}:void 0,children:n}),Object(l.jsx)(a.c,{children:t&&Object(l.jsx)(i.a,{primary:!0,label:Object(l.jsx)(r.Trans,{id:"Retry"}),onClick:t})})]})}},function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return j})),n.d(t,"g",(function(){return f}));var r=n(63),o=n.n(r),a=n(791),i=n(53),s=n(694),c=n(146),l=function(e,t){return e&&e[t]?"s3Key"===t?e.gameId?i.g.getInstantBuildUrl(e.id):"https://games.gdevelop-app.com/".concat(e[t],"/index.html"):"https://builds.gdevelop-app.com/".concat(e[t]):null},u=function(e,t){var n=e.getResourcesManager(),r=e.getPlatformSpecificAssets().get("liluo","thumbnail");if(!n.hasResource(r))return"";var o=n.getResource(r).getFile(),a=Object(c.basename)(o);if(!a)return"";var i="https://games.gdevelop-app.com/game-".concat(t,"/").concat(a);return encodeURI(i)},d=function(){var e="game-archive-"+Object(a.a)(),t="application/zip",n=e+"/game-archive.zip";return Object(s.c)({uploadType:"build",key:n,contentType:t}).then((function(e){return{signedUrl:e.signedUrl,contentType:t,key:n}}))},p=function(e,t,n,r,a){return e().then((function(e){return o.a.post("".concat(i.c.baseUrl,"/build"),null,{params:{userId:t,key:n,type:"electron-build",targets:r.join(","),gameId:a},headers:{Authorization:e}})})).then((function(e){return e.data}))},b=function(e,t,n,r){return e().then((function(e){return o.a.post("".concat(i.c.baseUrl,"/build"),null,{params:{userId:t,key:n,type:"web-build",targets:"s3",gameId:r},headers:{Authorization:e}})})).then((function(e){return e.data}))},h=function(e,t,n,r,a,s){return e().then((function(e){return o.a.post("".concat(i.c.baseUrl,"/build"),JSON.stringify({signing:{keystore:a}}),{params:{userId:t,key:n,type:"cordova-build",targets:r.join(","),gameId:s},headers:{Authorization:e}})})).then((function(e){return e.data}))},j=function(e,t,n){return e().then((function(e){return o.a.get("".concat(i.c.baseUrl,"/build/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},f=function(e,t,n){return e().then((function(e){return o.a.get("".concat(i.c.baseUrl,"/build"),{params:{userId:t,gameId:n},headers:{Authorization:e}})})).then((function(e){return e.data}))}},function(e,t,n){"use strict";(function(e){n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return f}));var r=n(465),o=n(543),a=n.n(o),i=n(596),s=e.gd,c=function(e){return function(t){return e&&t&&e.global===t.global&&e.group===t.group}},l=function(e){return function(t){return e&&t&&e.global===t.global&&e.object===t.object}},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=function(r){return!n||s.getTypeOfObject(e,t,r.getName(),!1)===n},a=Object(r.mapFor)(0,t.getObjectsCount(),(function(e){return t.getObjectAt(e)})).filter(o).map((function(e){return{object:e,global:!1}})),i=e===t?[]:Object(r.mapFor)(0,e.getObjectsCount(),(function(t){return e.getObjectAt(t)})).filter(o).map((function(e){return{object:e,global:!0}})),c=a.concat(i);return{containerObjectsList:a,projectObjectsList:i,allObjectsList:c}},d=function(e){var t=e.getCurrentPlatform().getAllPlatformExtensions();return a()(Object(r.mapFor)(0,t.size(),(function(e){var n=t.at(e);return n.getExtensionObjectsTypes().toJSArray().map((function(e){return n.getObjectMetadata(e)})).map((function(e){return{extension:n,objectMetadata:e,name:e.getName(),fullName:e.getFullName(),description:e.getDescription(),iconFilename:e.getIconFilename(),categoryFullName:e.getCategoryFullName()}}))})))},p=function(e,t){if(!t.length)return!0;var n=e.object.getTags();return Object(i.d)(n,t)},b=function(e,t){var n=t.searchText,r=t.selectedTags,o=t.hideExactMatches;return n||r.length?e.filter((function(e){return p(e,r)})).filter((function(e){var t=e.object.getName();if(!o||n!==t)return-1!==t.toLowerCase().indexOf(n.toLowerCase())})):e},h=function(e,t){var n=t.searchText,r=t.hideExactMatches;return n?e.filter((function(e){var t=e.group.getName();if(!r||t!==n)return-1!==t.toLowerCase().indexOf(n.toLowerCase())})):e},j=function(e){return Object(r.mapFor)(0,e.count(),(function(t){return e.getAt(t)}))},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=function(r){return!n||s.getTypeOfObject(e,t,r.getName(),!1)===n},a=function(r){return!n||s.getTypeOfObject(e,t,r.getName(),!0)===n},i=Object(r.mapFor)(0,t.getObjectsCount(),(function(e){return t.getObjectAt(e)})).filter(o).map((function(e){return{object:e,global:!1}})),c=t.getObjectGroups(),l=j(c).filter(a).map((function(e){return{group:e,global:!1}})),u=e===t?[]:Object(r.mapFor)(0,e.getObjectsCount(),(function(t){return e.getObjectAt(t)})).filter(o).map((function(e){return{object:e,global:!0}})),d=e.getObjectGroups(),p=e===t?[]:j(d).filter(a).map((function(e){return{group:e,global:!0}})),b=i.concat(u),h=l.concat(p);return{containerObjectsList:i,projectObjectsList:u,allObjectsList:b,containerGroupsList:l,projectGroupsList:p,allGroupsList:h}}}).call(this,n(28))},function(e,t,n){"use strict";function r(e,t,n){return t&&t.hasObjectNamed(n)?t.getObject(n):e.hasObjectNamed(n)?e.getObject(n):null}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c}));var r=e.gd,o=function(e){var t=e.instructionMetadata,n=e.instruction,o=e.expressionMetadata,a=e.expression,i=e.parameterIndex;if(void 0===i||null==i)return null;var s=null;if(t&&n){var c=r.ParameterMetadataTools.getObjectParameterIndexFor(t.getParameters(),i);c>=0&&c<n.getParametersCount()&&(s=n.getParameter(c).getPlainString())}else if(o&&a){var l=r.ParameterMetadataTools.getObjectParameterIndexFor(o.getParameters(),i);l>=0&&l<a.getParametersCount()&&(s=a.getParameter(l))}return s},a=function(e,t){var n=r.ParameterMetadataTools.getObjectParameterIndexFor(e,t);return n<0||n>=e.size()?"":e.at(n).getExtraInfo()},i=function(e){var t=e.instruction,n=e.expression,r=e.parameterIndex;if(void 0===r||null==r)return null;if(t){if(r>=1&&r<t.getParametersCount())return t.getParameter(r-1).getPlainString()}else if(n&&r>=1&&r<n.getParametersCount())return n.getParameter(r-1);return null},s=function(e){if(!e)return null;var t=e.trim();return t.length>=2&&'"'===t[0]&&'"'===t[t.length-1]?t.substr(1,t.length-2):null},c=function(e){if(!e)return[];try{return JSON.parse(e.getExtraInfo()).map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}catch(t){console.error("The parameter seems misconfigured, as an array of choices could not be extracted - verify that your properly wrote a list of choices in JSON format. Full exception is:",t)}return[]}}).call(this,n(28))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));n(1);var r=!1;"undefined"!==typeof window&&window.addEventListener("touchstart",(function e(){console.info("Touch detected, considering the screen as touch enabled."),r=!0,window.removeEventListener("touchstart",e,!1)}),!1);var o=function(e){return(0,e.children)(a())},a=function(){return"undefined"===typeof window?"normal":r?"touch":"normal"}},,,function(e,t,n){"use strict";n(1);var r=n(426),o=n(7),a={paddingLeft:8};t.a=function(e){var t=e.children;return t?Object(o.jsx)(r.a,{variant:"overline",style:a,children:t}):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"n",(function(){return b})),n.d(t,"m",(function(){return h})),n.d(t,"l",(function(){return j})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return O})),n.d(t,"f",(function(){return v}));var r=n(26),o=n(63),a=n.n(o),i=n(53),s=["action","adventure","shooter","platformer","rpg","horror","strategy","puzzle","story-rich","survival","racing","building","simulation","sport","multiplayer","leaderboard"],c=function(e,t){switch(e){case"action":return t._({id:"Action"});case"adventure":return t._({id:"Adventure"});case"shooter":return t._({id:"Shooter"});case"platformer":return t._({id:"Platformer"});case"rpg":return t._({id:"RPG"});case"horror":return t._({id:"Horror"});case"strategy":return t._({id:"Strategy"});case"puzzle":return t._({id:"Puzzle"});case"racing":return t._({id:"Racing"});case"simulation":return t._({id:"Simulation"});case"sport":return t._({id:"Sport"});case"story-rich":return t._({id:"Story-Rich"});case"survival":return t._({id:"Survival"});case"building":return t._({id:"Building"});case"multiplayer":return t._({id:"Multiplayer"});case"leaderboard":return t._({id:"Leaderboard"});default:return e}},l=function(e,t){return e?t?i.g.getGameUrlWithSlug(t.username,t.gameSlug):i.g.getGameUrl(e.id):null},u=function(e){return e.map((function(e){return{userId:e,level:"owner"}}))},d=function(){return a.a.get("".concat(i.e.baseUrl,"/showcased-game")).then((function(e){return e.data})).then((function(e){var t=e.gamesShowcaseUrl,n=e.filtersUrl;if(!t||!n)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([a.a.get(t).then((function(e){return e.data})),a.a.get(n).then((function(e){return e.data}))]).then((function(e){var t=Object(r.a)(e,2);return{showcasedGames:t[0],filters:t[1]}}))}))},p=function(e,t,n){var r=n.gameId,o=n.gameName,s=n.authorName,c=n.templateSlug;return e().then((function(e){return a.a.post("".concat(i.e.baseUrl,"/game/").concat(r),{gameName:o,authorName:s,templateSlug:c},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},b=function(e,t,n,r){var o=r.gameName,s=r.categories,c=r.authorName,l=r.publicWebBuildId,u=r.description,d=r.playWithKeyboard,p=r.playWithGamepad,b=r.playWithMobile,h=r.orientation,j=r.thumbnailUrl,f=r.discoverable;return e().then((function(e){return a.a.patch("".concat(i.e.baseUrl,"/game/").concat(n),{gameName:o,categories:s,authorName:c,publicWebBuildId:l,description:u,playWithKeyboard:d,playWithGamepad:p,playWithMobile:b,orientation:h,thumbnailUrl:j,discoverable:f},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},h=function(e,t,n,r){return e().then((function(e){return a.a.post("".concat(i.e.baseUrl,"/game/action/set-acls"),{gameId:n,newAcls:r},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},j=function(e,t,n,r,o){return e().then((function(e){return a.a.post("".concat(i.e.baseUrl,"/game/action/set-slug"),{gameId:n,userSlug:r,gameSlug:o},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},f=function(e,t,n){return e().then((function(e){return a.a.get("".concat(i.e.baseUrl,"/game/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},g=function(e,t,n){return e().then((function(e){return a.a.delete("".concat(i.e.baseUrl,"/game/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},m=function(e,t){return e().then((function(e){return a.a.get("".concat(i.e.baseUrl,"/game"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},O=function(e){return a.a.get("".concat(i.e.baseUrl,"/public-game/").concat(e)).then((function(e){return e.data}))},v=function(e,t,n){return e().then((function(e){return a.a.get("".concat(i.e.baseUrl,"/game-slug"),{params:{userId:t,gameId:n},headers:{Authorization:e}})})).then((function(e){return e.data}))}},function(e,t,n){"use strict";(function(e){var r=n(1501),o=n(1513),a=n(1514),i=n(1515),s=n(1516),c=n(1517),l=n(1518),u=n(1519),d=n(819),p=n(477),b=n(546),h=n(479),j=n(20),f=n.n(j),g=n(497),m=f()("path"),O=f()("electron"),v=e.gd;e.PIXI=h,e.GlobalPIXIModule={PIXI:h};var x={},y={renderers:{unknownObjectType:r.a,Sprite:o.a,"TiledSpriteObject::TiledSprite":a.a,"PanelSpriteObject::PanelSprite":i.a,"TextObject::Text":s.a,"PrimitiveDrawing::Drawer":c.a,"TextEntryObject::TextEntry":l.a,"ParticleSystem::ParticleEmitter":u.a},getThumbnail:function(e,t){var n=t.getType();return this.renderers.hasOwnProperty(n)?this.renderers[n].getThumbnail(e,p.a,t):this.renderers.unknownObjectType.getThumbnail(e,p.a,t)},createNewInstanceRenderer:function(e,t,n,r,o){var a=r.getType();return this.renderers.hasOwnProperty(a)?new this.renderers[a](e,t,n,r,o,d.a):(console.warn("Object with type ".concat(a," has no instance renderer registered. Please use registerInstanceRenderer to register your renderer.")),new this.renderers.unknownObjectType(e,t,n,r,o,d.a))},registerInstanceRenderer:function(e,t){t.getThumbnail?this.renderers.hasOwnProperty(e)?console.warn('Tried to register renderer for object "'.concat(e,'", but a renderer already exists.')):this.renderers[e]=t:console.warn('Tried to register renderer for object "'.concat(e,'", but getThumbnail is not defined.'))},registerModule:function(e,t){x[e]=t},requireModule:function(t,n){if(O&&m){var r=m.join(t,n),o=f()("module");if(!o._load)throw new Error('module._load does not exist. This is possibly a change in Node.js that is breaking the custom loader, in ObjectsRenderingService.requireModule, that is injected to expose Pixi.js to extensions using "require".');var a=o._load,i={"pixi.js-legacy":h,"pixi.js":h,"@pixi/core":h,"@pixi/display":h,"@pixi/constants":h,"@pixi/sprite":h,"@pixi/math":h,"@pixi/utils":h,"@pixi/graphics":h};o._load=function(e,t,n){var o=i[e];return o||(0===e.indexOf("./")||e===r?a(e,t,n):(console.error('A module ("'.concat(e,'") was required from ').concat(r,' but is not an allowed module or a relative file path starting with "./". null will be returned instead.')),console.warn("Allowed modules are: ",Object.keys(i)),console.warn("Please use only allowed modules or a reference a local file."),null))};var s=null;try{s=e.require(r)}catch(c){console.error('Unable to load module "'.concat(n,'". Only files located in ').concat(t," are supported. Exception was:"),c),s=null}return o._load=a,s}return x[n]?x[n]:(console.error('Unable to load module "'.concat(n,'". Are you sure you registered it using ObjectsRenderingService.registerModule? This is mandatory for the web-app to have the file bundled.')),null)},rgbOrHexToHexNumber:g.f,gd:v,PIXI:h,RenderedInstance:b.a};t.a=y}).call(this,n(28))},function(e,t,n){var r=n(20),o=r("@electron/remote"),a=o?o.app:null,i=r("fs"),s=r("path"),c=r("process"),l=c&&/^darwin/.test(c.platform),u=function(e,t,n){return i.access(e,i.constants.R_OK,(function(r){r?n():t(e)}))};e.exports={findGDJS:function(){if(!s||!c||!i)return Promise.reject(new Error("Unsupported"));var e=a?a.getAppPath():c.cwd(),t=l?"../../../../":s.join("..",".."),n=s.join(e,t);return new Promise((function(t,r){var o=function(e){return t({gdjsRoot:e})},a=function(){return r(new Error("Could not find GDJS"))};u(s.join(n,"..","JsPlatform"),o,(function(){u(s.join(e,"..","GDJS"),o,(function(){var t=s.join(e,"..","..","app","resources","GDJS");u(t,o,a)}))}))}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(500),u=n(463),d=n(7),p={display:"flex",alignItems:"center",paddingLeft:8,paddingRight:8},b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props.justifyContent;return Object(d.jsx)(l.a,{children:function(n){return Object(d.jsx)("div",{style:Object(r.a)(Object(r.a)({},p),{},{height:32,backgroundColor:n.toolbar.backgroundColor,justifyContent:t}),children:e.props.children})}})}}]),n}(c.Component),h={marginRight:4},j={marginLeft:4,marginRight:4},f=function(e){var t=e.children,n=e.firstChild;return Object(d.jsx)(u.a,{noShrink:!0,style:n?h:j,children:t})};t.b=b},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(18),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(514),d=n(1263),p=n.n(d),b=n(489),h=n.n(b),j=n(771),f=n.n(j),g=(n(477),n(536)),m=n(4),O=n(11),v=n(137),x=n(505),y=n(7),C=["buildMenuTemplate"],T=function(){throw new Error("This RaisedButtonWithMenu onClick should never be called")},E=function(e){var t=e.buildMenuTemplate,n=Object(O.a)(e,C);return Object(y.jsx)(x.a,{element:Object(y.jsx)(v.a,Object(m.a)(Object(m.a)({},n),{},{onClick:T})),buildMenuTemplate:t})},k=n(80),w=n(471),S=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var r;Object(o.a)(this,n),(r=t.call(this,e))._addFrom=function(e){if(e){var t=r.props,n=t.project;(0,t.onChooseResource)({initialSourceName:e.name,multiSelection:!1,resourceKind:r.props.resourceKind}).then((function(e){if(e.length){var t=e[0];Object(g.a)(n,t),n.getResourcesManager().addResource(t),r._loadFrom(n.getResourcesManager());var o=t.getName();r._onChangeResourceName(o),r._autoComplete&&r._autoComplete.forceInputValueTo(o),e.forEach((function(e){return e.delete()}))}})).catch((function(e){console.error("Unable to choose a resource",e)}))}},r._onResetResourceName=function(){r.setState({resourceName:"",notExistingError:!1},(function(){r.props.onChange&&r.props.onChange(r.state.resourceName)}))},r._onChangeResourceName=function(e){if(""!==e){var t=-1===r.allResourcesNames.indexOf(e);t||r.props.onChange&&r.props.onChange(e),r.setState({resourceName:e,notExistingError:t})}else r._onResetResourceName()},r._editWith=function(e){var t=r.props,n=t.project,o=t.resourcesLoader,a=t.resourceKind,i=r.state.resourceName,s=n.getResourcesManager(),c={},l=s.getResource(i).getMetadata();if(l)try{c=JSON.parse(l)}catch(h){console.error("Malformed metadata",h)}if("image"===a){var u=[];s.hasResource(i)&&u.push(i);var d={project:n,resourcesLoader:o,singleFrame:!0,resourceNames:u,extraOptions:{fps:0,name:i,isLooping:!1,externalEditorData:c},onChangesSaved:function(e){e.length&&(o.burstUrlsCacheForResources(n,[e[0].name]),r.props.onChange(e[0].name))}};e.edit(d)}else if("audio"===a){var p={project:n,resourcesLoader:o,resourceNames:[i],extraOptions:{externalEditorData:c},onChangesSaved:function(e){o.burstUrlsCacheForResources(n,[e[0].name]),r.props.onChange(e[0].name)}};e.edit(p)}else if("json"===a){var b={project:n,resourcesLoader:o,resourceNames:[i],extraOptions:{initialResourceMetadata:c},onChangesSaved:function(e){r.props.onChange(e[0].name)}};e.edit(b)}},r.state={notExistingError:!1,resourceName:e.initialResourceName||""};var a=e.project;return a&&r._loadFrom(a.getResourcesManager()),r}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._autoComplete&&this._autoComplete.focus(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.initialResourceName!==this.props.initialResourceName&&this.setState({resourceName:e.initialResourceName||""})}},{key:"_getResourceSourceItems",value:function(){var e=this,t=this.props.resourceSources||[];return[].concat(Object(r.a)(t.filter((function(t){return t.kind===e.props.resourceKind})).map((function(t){return{text:"",value:"",translatableValue:t.displayName,renderIcon:function(){return Object(y.jsx)(h.a,{})},onClick:function(){return e._addFrom(t)}}}))),[{type:"separator"}])}},{key:"_loadFrom",value:function(e){var t=this;this.allResourcesNames=e.getAllResourceNames().toJSArray(),this.props.resourceKind&&(this.allResourcesNames=this.allResourcesNames.filter((function(n){return e.getResource(n).getKind()===t.props.resourceKind})));var n=this._getResourceSourceItems(),o=this.allResourcesNames.map((function(e){return{text:e,value:e}}));this.autoCompleteData=[].concat(Object(r.a)(n),Object(r.a)(o))}},{key:"render",value:function(){var e=this,t=this.state.notExistingError?"This resource does not exist in the game":null,n=this.props.resourceExternalEditors.filter((function(t){return t.kind===e.props.resourceKind}));return Object(y.jsx)(k.d,{noFloatingLabelText:!this.props.floatingLabelText,margin:this.props.margin,renderTextField:function(){return Object(y.jsx)(u.a,{style:e.props.style,floatingLabelText:e.props.floatingLabelText,helperMarkdownText:e.props.helperMarkdownText,hintText:e.props.hintText,openOnFocus:!0,dataSource:e.autoCompleteData||[],value:e.state.resourceName,onChange:e._onChangeResourceName,errorText:t,fullWidth:e.props.fullWidth,margin:e.props.margin,onRequestClose:e.props.onRequestClose,onApply:e.props.onApply,ref:function(t){return e._autoComplete=t}})},renderButton:function(t){return Object(y.jsxs)(l.Fragment,{children:[e.props.canBeReset&&Object(y.jsx)(w.a,{size:"small",onClick:function(){e._onResetResourceName()},children:Object(y.jsx)(p.a,{})}),n.length?Object(y.jsx)(E,{style:t,icon:Object(y.jsx)(f.a,{}),label:e.state.resourceName?Object(y.jsx)(c.Trans,{id:"Edit"}):Object(y.jsx)(c.Trans,{id:"Create"}),primary:!0,buildMenuTemplate:function(){return n.map((function(t){return{label:t.displayName,click:function(){return e._editWith(t)}}}))}}):null]})}})}}]),n}(l.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return f})),n.d(t,"g",(function(){return g}));var r=n(477),o=n(20),a=n.n(o),i=n(486),s=n(926),c=a()("fs"),l=a()("path"),u=e.gd,d=function(e,t,n){var r=e.getResourcesManager();r.hasResource(n)&&r.removeResource(n),t.setFile(n),t.setName(n),f(e,t),r.addResource(t),t.delete()},p=function(e,t){var n=r.a.getResourceFullUrl(e,t,{}).substring(7);return-1!==n.indexOf("?cache=")&&(n=n.substring(0,n.lastIndexOf("?cache="))),n},b=function(e,t){var n=l.dirname(e.getProjectFile());return t.includes(n)},h=function(e,t){if(!c||!l)return Promise.resolve(t);var n=l.dirname(e.getProjectFile());return Promise.all(t.map((function(t){if(b(e,t))return t;var r=l.basename(t),o=l.extname(r),a=l.basename(r,o),s=Object(i.a)(a,(function(e){var t=l.join(n,e)+o;return c.existsSync(t)})),u=l.join(n,s+o);return new Promise((function(e){c.copyFile(t,u,(function(n){return e(n?t:u)}))}))})))},j=function(e,t){if(!c)return"";var n=l.normalize(p(e,t));return c.existsSync(n)?b(e,n)?"":"warning":"error"},f=function(e,t){t instanceof u.ImageResource&&t.setSmooth("nearest"!==e.getScaleMode())},g=function(e,t){var n=Object(s.a)(t),r=new u.ResourcesRenamer(n);n.delete(),e.exposeResources(r),r.delete()}}).call(this,n(28))},,,,,,function(e,t,n){"use strict";n(1);var r=n(2178),o=n(7),a={progress:{marginRight:8,verticalAlign:"middle"}};t.a=function(e){var t=e.children,n=e.isLoading;return Object(o.jsxs)("span",{children:[n&&Object(o.jsx)(r.a,{size:20,style:a.progress}),t]})}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return j})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return v})),n.d(t,"i",(function(){return x}));var r=n(3),o=n(0),a=n.n(o),i=n(63),s=n.n(i),c=n(53),l="trivial_first-event",u="trivial_first-behavior",d="trivial_first-preview",p="trivial_first-web-export",b="trivial_first-extension",h="trivial_first-effect",j="trivial_first-debug",f=function(e,t){return e.map((function(e){return e.achievementId})).includes(t)},g=function(){var e=Object(r.a)(a.a.mark((function e(t,n){var r,o,i,l,u,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.badges,o=t.firebaseUser,i=t.getAuthorizationHeader,l=t.onBadgesChanged,r&&o){e.next=3;break}return e.abrupt("return",null);case 3:if(!f(r,n)){e.next=5;break}return e.abrupt("return",null);case 5:return u=o.uid,e.prev=6,e.next=9,i();case 9:return d=e.sent,e.next=12,s.a.post("".concat(c.k.baseUrl,"/user/").concat(u,"/badge"),{achievementId:n},{params:{userId:u},headers:{Authorization:d}});case 12:return p=e.sent,l(),e.abrupt("return",p.data);case 17:if(e.prev=17,e.t0=e.catch(6),!e.t0.response||409!==e.t0.response.status){e.next=23;break}console.warn("Badge already exists"),e.next=24;break;case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(e,t,n){var r=e.badges;return r?f(r,t)?n:function(){try{g(e,t)}catch(i){console.error("Couldn't create badge ".concat(t,"; ").concat(i))}for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n.apply(null,o)}:n},O=function(){return s.a.get("".concat(c.k.baseUrl,"/achievement")).then((function(e){return e.data}))},v=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,r,o,i,l,u,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.badges,r=t.firebaseUser,o=t.getAuthorizationHeader,i=t.onBadgesChanged,n&&r){e.next=3;break}return e.abrupt("return",null);case 3:if(0!==(l=n.filter((function(e){return!e.seen}))).length){e.next=6;break}return e.abrupt("return");case 6:return u=r.uid,e.prev=7,e.next=10,o();case 10:return d=e.sent,e.next=13,s.a.patch("".concat(c.k.baseUrl,"/user/").concat(u,"/badge"),l.map((function(e){return{achievementId:e.achievementId,seen:!0}})),{params:{userId:u},headers:{Authorization:d}});case 13:return p=e.sent,i(),e.abrupt("return",p.data);case 18:e.prev=18,e.t0=e.catch(7),console.error("Couldn't mark badges as seen: ".concat(e.t0));case 21:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e,t){return t.unlockedAt&&e.unlockedAt?t.unlockedAt-e.unlockedAt:e.unlockedAt&&!t.unlockedAt?-1:!e.unlockedAt&&t.unlockedAt?1:0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(1),o=n(702),a=function(e,t,n){var a=r.useContext(o.b),i=n.handler;r.useEffect((function(){if(t)return a.registerCommand(e,{handler:i}),function(){return a.deregisterCommand(e)}}),[a,e,t,i])},i=function(e,t,n){var a=r.useContext(o.b),i=n.generateOptions;r.useEffect((function(){if(t)return a.registerCommand(e,{generateOptions:i}),function(){return a.deregisterCommand(e)}}),[a,e,t,i])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(9),o=n(8),a=(n(479),n(819),function(){function e(t,n,o,a,i,s){Object(r.a)(this,e),this._pixiObject=null,this._instance=o,this._associatedObject=a,this._pixiContainer=i,this._project=t,this._layout=n,this._pixiResourcesLoader=s,this.wasUsed=!0}return Object(o.a)(e,[{key:"update",value:function(){}},{key:"getPixiObject",value:function(){return this._pixiObject}},{key:"getInstance",value:function(){return this._instance}},{key:"onRemovedFromScene",value:function(){null!==this._pixiObject&&this._pixiContainer.removeChild(this._pixiObject)}},{key:"getOriginX",value:function(){return 0}},{key:"getOriginY",value:function(){return 0}},{key:"getDefaultWidth",value:function(){return 32}},{key:"getDefaultHeight",value:function(){return 32}}],[{key:"toRad",value:function(e){return e/180*3.14159}}]),e}())},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(469),u=n(604),d=n(497),p=n(7),b={container:{position:"relative",display:"inline-block"},picker:{position:"absolute",right:"8px",top:"19px"}},h=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={color:e.props.color,alpha:e.props.disableAlpha||void 0===e.props.alpha?1:e.props.alpha},e._textField=null,e._handleChange=function(t,n){e.setState({color:t,alpha:n})},e._handleBlur=function(){var t=parseFloat(e.state.alpha);t<0&&(t=0),t>1&&(t=1),e.setState({alpha:t}),e.props.onChange(e.state.color,t)},e._handlePickerChange=function(t){var n=Object(d.e)(t.rgb),r=e.props.disableAlpha?1:t.rgb.a;e.setState({color:n,alpha:r}),e.props.onChange(n,r)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{style:Object(r.a)(Object(r.a)({},b.container),{},{width:this.props.fullWidth?"100%":void 0}),children:[Object(p.jsx)(l.b,{id:this.props.id,fullWidth:this.props.disableAlpha,style:this.props.disableAlpha?void 0:{width:"60%"},floatingLabelText:this.props.floatingLabelText,floatingLabelFixed:!0,helperMarkdownText:this.props.helperMarkdownText,type:"text",hintText:{id:"Text in the format R;G;B, like 100;200;180"},value:this.state.color,onChange:function(t){return e._handleChange(t.target.value,e.state.alpha)},onBlur:this._handleBlur,ref:function(t){return e._textField=t}}),!this.props.disableAlpha&&Object(p.jsx)(l.b,{id:"".concat(this.props.id||"","-alpha"),floatingLabelText:"Alpha",floatingLabelFixed:!0,style:{width:"30%"},hintText:{id:"Number between 0 and 1"},value:this.state.alpha.toString(),onChange:function(t,n){return e._handleChange(e.state.color,parseFloat(n))},onBlur:this._handleBlur,ref:function(t){return e._textField=t},type:"number",step:.1}),Object(p.jsx)("div",{style:b.picker,children:Object(p.jsx)(u.a,{disableAlpha:this.props.disableAlpha,onChangeComplete:this._handlePickerChange,color:Object(d.h)(this.state.color,this.state.alpha)})})]})}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return v}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(2184),u=n(2185),d=n(2187),p=n(2186),b=n(2188),h=n(7),j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(h.jsx)(l.a,Object(r.a)({size:"small"},this.props))}}]),n}(c.Component),f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(h.jsx)(u.a,Object(r.a)({},this.props))}}]),n}(c.Component),g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(h.jsx)(p.a,Object(r.a)({},this.props))}}]),n}(c.Component),m=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(h.jsx)(d.a,Object(r.a)({},this.props))}}]),n}(c.Component),O=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(h.jsx)(b.a,Object(r.a)({},this.props))}}]),n}(c.Component),v=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(h.jsx)(d.a,Object(r.a)({},this.props))}}]),n}(c.Component)},,function(e,t,n){"use strict";var r=n(1),o={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:function(){return Promise.reject(new Error("Use a provider"))},unloadProjectEventsFunctionsExtensions:function(){},reloadProjectEventsFunctionsExtensions:function(){return Promise.reject(new Error("Use a provider"))},unloadProjectEventsFunctionsExtension:function(){},getEventsFunctionsExtensionWriter:function(){return null},getEventsFunctionsExtensionOpener:function(){return null},ensureLoadFinished:function(){return Promise.reject(new Error("Use a provider"))},getIncludeFileHashs:function(){return{}}},a=r.createContext(o);t.a=a},,function(e,t,n){"use strict";n(1);var r=n(505),o=n(2203),a=n(206),i=n(1559),s=n.n(i),c=n(30),l=n(7),u=function(){throw new Error("This RaisedButtonWithSplitMenu onClick should never be called")},d={mainButton:{flex:1}};t.a=function(e){var t=e.buildMenuTemplate,n=e.onClick,i=e.label,p=e.primary,b=e.icon,h=e.disabled;return Object(l.jsxs)(o.a,{variant:p?"contained":"outlined",disableElevation:!0,color:p?"secondary":"primary",disabled:h,size:"small",style:e.style,children:[Object(l.jsxs)(a.a,{focusRipple:true,onClick:n,style:d.mainButton,children:[b,!!b&&!!i&&Object(l.jsx)(c.d,{}),i]}),Object(l.jsx)(r.a,{passExtraProps:!0,element:Object(l.jsx)(a.a,{onClick:u,focusRipple:true,children:Object(l.jsx)(s.a,{})}),buildMenuTemplate:t})]})}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return O}));var r=n(4),o=n(1),a=function(){var e=document.body,t=document.activeElement,n=document.querySelector("div.main-frame"),r=n&&n.contains(t);return!(t===e)&&!r},i=n(88),s=["CmdOrCtrl+KeyZ","CmdOrCtrl+KeyY","CmdOrCtrl+Shift+KeyZ","CmdOrCtrl+KeyX","CmdOrCtrl+KeyC","CmdOrCtrl+KeyV","CmdOrCtrl+Shift+KeyV","CmdOrCtrl+KeyA","Delete","CmdOrCtrl+Shift+KeyI","F11","NumpadAdd","CmdOrCtrl+Equal","NumpadSubtract","CmdOrCtrl+Minus","CmdOrCtrl+KeyF"],c=n(43),l=n(627),u=function(){var e=document.activeElement;if(!e)return!1;return!!e.closest('textarea, input, [contenteditable="true"]')},d=n(157),p=n(20),b=n.n(p)()("electron"),h=function(e){return e?0===e.indexOf("Key")?"alphabet":0===e.indexOf("Digit")?"number":0===e.indexOf("F")?"fn-row":"NumpadAdd"===e||"NumpadSubtract"===e?"numpad-arith":"Equal"===e||"Minus"===e?"numrow-arith":"Tab"===e||"Space"===e?"other":null:null},j=function(e){var t=function(e){var t="";(e.ctrlKey||e.metaKey)&&(t+="CmdOrCtrl+"),e.shiftKey&&(t+="Shift+"),e.altKey&&(t+="Alt+");var n=e.code||"";return h(n)&&(t+=n),t}(e),n=function(e){var t=e.code||"",n=h(t);if(!n)return!1;var r=e.ctrlKey||e.metaKey,o=e.altKey;return!("other"===n&&!r&&!o)}(e),r=s.includes(t);return{shortcutString:t,isValid:n&&!r}},f=function(){var e=o.useContext(c.a).values.userShortcutMap;return Object(r.a)(Object(r.a)({},d.a),e)},g=function(e){var t=f();o.useEffect((function(){var n=function(n){var r=j(n);if(r.isValid){var o=Object.keys(t).find((function(e){return t[e]===r.shortcutString}));o&&(b&&l.b[o].handledByElectron||u()||(n.preventDefault(),a()||e(o)))}};return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}),[e,t])},m=function(e){return e.split("+").map((function(e){return"CmdOrCtrl"===e?Object(i.e)()?"Cmd":"Ctrl":"Shift"===e||"Alt"===e?e:function(e){var t=h(e);return"alphabet"===t?e.slice(3):"number"===t?e.slice(5):"fn-row"===t?e:"numpad-arith"===t?"NumpadAdd"===e?"Num+":"Num-":"numrow-arith"===t?"Minus"===e?"-":"=":e}(e)})).join(" + ")},O=function(e){return e.split("+").map((function(e){return"CmdOrCtrl"===e||"Shift"===e||"Alt"===e?e:function(e){var t=h(e);return"alphabet"===t?e.slice(3):"number"===t?e.slice(5):"fn-row"===t?e:"numpad-arith"===t?"NumpadAdd"===e?"numadd":"numsub":"numrow-arith"===t?"Minus"===e?"-":"=":e}(e)})).join("+")}},,,function(e,t,n){"use strict";var r=n(4),o=n(11),a=n(1),i=n(206),s=n(30),c=n(2159),l=n(749),u=n(7),d=["label","primary","icon","keyboardFocused","exceptionalTooltipForToolbar","disabled","id"],p=a.forwardRef((function(e,t){var n=e.label,a=e.primary,p=e.icon,b=e.keyboardFocused,h=e.exceptionalTooltipForToolbar,j=e.disabled,f=e.id,g=Object(o.a)(e,d),m=Object(u.jsxs)(i.a,Object(r.a)(Object(r.a)({variant:"text",size:"small",color:a?"primary":"default",autoFocus:b,focusRipple:!0,disabled:j,id:f},g),{},{ref:t,children:[p,p&&Object(u.jsx)(s.d,{}),n]}));return h&&!j?Object(u.jsx)(c.a,{title:h,placement:"bottom",enterDelay:l.a,children:m}):m}));t.a=p},function(e,t,n){"use strict";n(1);var r=n(2287),o=n(2171),a=n(7),i=Object(o.a)({root:{cursor:"default"},deleteIcon:{cursor:"default"}});t.a=function(e){return Object(a.jsx)(r.a,{label:e.label,icon:e.icon,size:e.size,variant:e.variant,avatar:e.avatar,style:e.style,onClick:e.onClick,onBlur:e.onBlur,onFocus:e.onFocus,onDelete:e.onDelete,classes:i()})}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=function(e){return e.startsWith("/")},o=function(e){return e.startsWith("http://")||e.startsWith("https://")},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r(e)?"https://wiki.gdevelop.io/gdevelop5".concat(e,"?utm_source=gdevelop&utm_medium=help-link").concat(t?"#".concat(t):""):o(e)?e:""}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),o=(n(1),n(527)),a=n(7),i=function(e){var t=Object(o.DragSource)(e,{canDrag:function(e,t){var n=t.getItem(),r=e.canDrag||null;return!r||r(n)},beginDrag:function(e){return e.beginDrag()},endDrag:function(e,t){e.endDrag&&e.endDrag()}},(function(e,t){return{connectDragSource:e.dragSource()}}))(Object(o.DropTarget)(e,{canDrop:function(e,t){var n=t.getItem();return n&&e.canDrop(n)},drop:function(e,t){t.didDrop()||e.drop()}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),isOverLazy:t.isOver({shallow:!1}),canDrop:t.canDrop()}}))((function(e){return(0,e.children)({connectDragSource:e.connectDragSource,connectDropTarget:e.connectDropTarget,isOver:e.isOver,isOverLazy:e.isOverLazy,canDrop:e.canDrop})})));return function(e){return Object(a.jsx)(t,Object(r.a)({},e))}}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(12),o=(n(1),n(2179)),a=n(2178),i=n(489),s=n.n(i),c=n(80),l=n(137),u=n(30),d=n(472),p=n(463),b=n(678),h=n(7),j=function(e){var t=e.helpPagePath;return Object(h.jsx)(d.a,{label:Object(h.jsx)(r.Trans,{id:"Read the doc"}),helpPagePath:t})},f=function(e){return Object(h.jsx)(u.a,{alignItems:"center",children:Object(h.jsx)(o.a,{style:{maxWidth:"480px",whiteSpace:"normal"},children:Object(h.jsxs)(u.a,{children:[Object(h.jsx)(p.a,{size:"title",align:"center",children:e.title}),Object(h.jsx)(p.a,{align:"center",noMargin:!0,children:e.description}),Object(h.jsx)(u.b,{}),Object(h.jsxs)(c.a,{alignItems:"center",noMargin:!0,children:[Object(h.jsx)(l.a,{label:e.actionLabel,primary:!0,onClick:e.onAction,disabled:!!e.isLoading,icon:e.isLoading?Object(h.jsx)(a.a,{size:24}):e.actionIcon?e.actionIcon:Object(h.jsx)(s.a,{}),id:e.actionButtonId}),e.tutorialId?Object(h.jsx)(b.a,{tutorialId:e.tutorialId,label:"Watch tutorial",renderIfNotFound:Object(h.jsx)(j,{helpPagePath:e.helpPagePath})}):Object(h.jsx)(j,{helpPagePath:e.helpPagePath})]})]})})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(9),o=n(8),a=n(20),i=n.n(a)()("electron"),s=i?i.clipboard:null,c="",l=function(e){return"GDEVELOP_"+e+"_CLIPBOARD_KIND-jsBdHbLy912y8Rc"},u=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,null,[{key:"extractNumberProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return"number"!==typeof n?null:n}},{key:"extractStringProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return"string"!==typeof n?null:n}},{key:"extractBooleanProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return"boolean"!==typeof n?null:n}},{key:"extractObjectProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return this.extractObject(n)}},{key:"extractArrayProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return this.extractArray(n)}},{key:"extractObject",value:function(e){return null===e||void 0===e||"object"!==typeof e||Array.isArray(e)?null:e}},{key:"extractArray",value:function(e){return null!==e&&void 0!==e&&"object"===typeof e&&Array.isArray(e)?e:null}}]),e}(),d=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,null,[{key:"set",value:function(e,t){var n=JSON.stringify({"000kind":l(e),content:t});s?s.writeText(n):c=n}},{key:"has",value:function(e){return 12===(s?s.readText():c).indexOf(l(e))}},{key:"get",value:function(t){if(!e.has(t))return null;var n="";n=s?s.readText():c;try{return JSON.parse(n).content}catch(r){return console.warn("The clipboard content is not valid JSON"),null}}}]),e}()},,,function(e,t,n){"use strict";var r=n(12),o=n(1),a=n(476),i=n(571),s=n(535),c=n(477),l=n(528),u=n(474),d=n(475),p=n(636),b=n.n(p),h=n(549),j=n(142),f=n(497),g=n(2169),m=n(80),O=n(137),v=n(670),x=n(30),y=n(463),C=n(139),T=n(7),E={columnContainer:{display:"flex",flexDirection:"column"},fieldContainer:{flex:1,display:"flex",flexDirection:"row",alignItems:"baseline"},field:{flex:1,width:"auto"},subPropertiesEditorContainer:{marginLeft:15},subHeader:{paddingLeft:0}},k=function(e,t,n){if(!e[0])return console.log("getFieldValue was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),n;var r=t.getValue;if(!r)return null;for(var o=r(e[0]),a=1;a<e.length;++a)if(o!==r(e[a])){"undefined"!==typeof n&&(o=n);break}return o},w=function(e,t){return e[0]?t.getLabel?t.getLabel(e[0]):t.name:(console.log("PropertiesEditor._getFieldLabel was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),t.name)};t.a=function e(t){var n=t.onInstancesModified,p=t.instances,S=t.schema,P=t.mode,I=t.renderExtraDescriptionText,_=t.unsavedChanges,A=t.project,N=t.resourceSources,R=t.onChooseResource,L=t.resourceExternalEditors,M=Object(C.a)(),F=o.useCallback((function(e){_&&_.triggerUnsavedChanges(),n&&n(e),M()}),[_,n,M]),D=o.useCallback((function(e){if(p[0]){var t=[];return e.getDescription&&t.push(e.getDescription(p[0])),I&&e.getExtraDescription&&t.push(I(e.getExtraDescription(p[0]))),t.join("\n")||void 0}console.log("PropertiesEditor._getFieldDescription was called with an empty list of instances (or containing undefined). This is a bug that should be fixed")}),[p,I]),B=o.useCallback((function(e){if("PLEASE_ALSO_SHOW_EDIT_BUTTON_THANKS"===e.name)return null;if("boolean"===e.valueType){var t=e.setValue,n=D(e);return Object(T.jsx)(i.a,{label:n?Object(T.jsxs)(o.Fragment,{children:[Object(T.jsx)(x.c,{noMargin:!0,children:w(p,e)}),Object(T.jsx)(g.a,{style:{display:"inline"},children:Object(T.jsx)(j.a,{source:n})})]}):w(p,e),checked:k(p,e),onCheck:function(e,n){p.forEach((function(e){return t(e,!!n)})),F(p)},disabled:e.disabled},e.name)}if("number"===e.valueType){var s=e.setValue;return Object(T.jsx)(a.a,{value:k(p,e),id:e.name,floatingLabelText:w(p,e),floatingLabelFixed:!0,helperMarkdownText:D(e),onChange:function(e){p.forEach((function(t){return s(t,parseFloat(e)||0)})),F(p)},type:"number",style:E.field,disabled:e.disabled},e.name)}if("color"===e.valueType){var c=e.setValue;return Object(T.jsx)(h.a,{id:e.name,floatingLabelText:w(p,e),helperMarkdownText:D(e),disableAlpha:!0,fullWidth:!0,color:k(p,e),onChange:function(e){var t=0===e.length?"":Object(f.g)(e);p.forEach((function(e){return c(e,t)})),F(p)}},e.name)}if("textarea"===e.valueType){var l=e.setValue;return Object(T.jsx)(a.a,{id:e.name,onChange:function(e){p.forEach((function(t){return l(t,e||"")})),F(p)},value:k(p,e),floatingLabelText:w(p,e),floatingLabelFixed:!0,helperMarkdownText:D(e),multiline:!0,style:E.field},e.name)}var u=e.onEditButtonClick,d=e.setValue;return Object(T.jsx)(m.d,{renderTextField:function(){return Object(T.jsx)(a.a,{value:k(p,e,"(Multiple values)"),id:e.name,floatingLabelText:w(p,e),floatingLabelFixed:!0,helperMarkdownText:D(e),onChange:function(e){p.forEach((function(t){return d(t,e||"")})),F(p)},style:E.field,disabled:e.disabled})},renderButton:function(e){return u?Object(T.jsx)(O.a,{style:e,primary:!0,disabled:1!==p.length,icon:Object(T.jsx)(b.a,{}),label:Object(T.jsx)(r.Trans,{id:"Edit"}),onClick:function(){return u(p[0])}}):null}},e.name)}),[p,D,F]),U=o.useCallback((function(e){if(e.getChoices&&e.getValue){var t=e.getChoices().map((function(e){var t=e.value,n=e.label;return Object(T.jsx)(d.a,{value:t,primaryText:n},t)}));if("number"===e.valueType){var n=e.setValue;return Object(T.jsx)(u.a,{value:k(p,e),floatingLabelText:w(p,e),helperMarkdownText:D(e),onChange:function(e,t,r){p.forEach((function(e){return n(e,parseFloat(r)||0)})),F(p)},style:E.field,disabled:e.disabled,children:t},e.name)}if("string"===e.valueType){var r=e.setValue;return Object(T.jsx)(u.a,{value:k(p,e,"(Multiple values)"),floatingLabelText:w(p,e),helperMarkdownText:D(e),onChange:function(e,t,n){p.forEach((function(e){return r(e,n||"")})),F(p)},style:E.field,disabled:e.disabled,children:t},e.name)}}}),[p,F,D]),V=o.useCallback((function(e){var t=!1;if("onValuesDifferent"===e.disabled){var n="DIFFERENT_VALUES";t=k(p,e,n)===n}return Object(T.jsx)(O.a,{fullWidth:!0,primary:!0,icon:Object(T.jsx)(b.a,{}),disabled:t,label:e.label,onClick:function(){e.onClick(p[0])}},"button-".concat(e.label))}),[p]),W="row"===P?function(e){return Object(T.jsx)(m.c,{noMargin:!0,children:e})}:function(e){return Object(T.jsx)(m.a,{noMargin:!0,children:e})},G=o.useCallback((function(e){var t=null;if(e.getValue){var n=k(p,e,e.defaultValue||"Multiple Values");n&&(t=n)}return t?Object(T.jsxs)(x.c,{alignItems:"baseline",children:[Object(T.jsx)(y.a,{displayInlineAsSpan:!0,children:e.name}),Object(T.jsx)(x.d,{}),Object(T.jsx)(y.a,{allowSelection:!0,displayInlineAsSpan:!0,size:"body2",children:"- ".concat(t)})]},"section-title-".concat(e.name)):Object(T.jsx)(x.c,{children:Object(T.jsx)(y.a,{displayInlineAsSpan:!0,children:e.name})},"section-title-".concat(e.name))}),[p]);return W(S.map((function(t){if(t.nonFieldType)return"sectionTitle"===t.nonFieldType?G(t):"button"===t.nonFieldType?V(t):null;if(t.children){if("row"===t.type){var r=Object(T.jsx)(v.b.Consumer,{children:function(r){return Object(T.jsx)(e,{project:A,resourceSources:N,onChooseResource:R,resourceExternalEditors:L,schema:t.children,instances:p,mode:"row",unsavedChanges:r,onInstancesModified:n})}},t.name);return t.title?[Object(T.jsx)(y.a,{size:"title",children:t.title},t.name+"-title"),r]:r}return Object(T.jsxs)("div",{children:[Object(T.jsx)(l.a,{children:t.name}),Object(T.jsx)("div",{style:E.subPropertiesEditorContainer,children:Object(T.jsx)(v.b.Consumer,{children:function(r){return Object(T.jsx)(e,{project:A,resourceSources:N,onChooseResource:R,resourceExternalEditors:L,schema:t.children,instances:p,mode:"column",unsavedChanges:r,onInstancesModified:n})}},t.name)})]},t.name)}return"resource"===t.valueType?function(e){if(!A||!N||!R||!L)return console.error("You tried to display a resource field in a PropertiesEditor that does not support display resources. If you need to display resources, pass additional props (project, resourceSources, onChooseResource, resourceExternalEditors)."),null;var t=e.setValue;return Object(T.jsx)(s.a,{project:A,resourceSources:N,onChooseResource:R,resourceExternalEditors:L,resourcesLoader:c.a,resourceKind:e.resourceKind,fullWidth:!0,initialResourceName:k(p,e,"(Multiple values)"),onChange:function(e){p.forEach((function(n){return t(n,e)})),F(p)},floatingLabelText:w(p,e),helperMarkdownText:D(e)},e.name)}(t):t.getChoices&&t.getValue?U(t):t.getValue?B(t):null})))}},function(e,t,n){"use strict";n(1);var r=n(2171),o=n(2172),a=n(2183),i=n(2169),s=n(2280),c=n(2159),l=n(7),u=Object(r.a)({root:{cursor:"default"}}),d=Object(r.a)({root:{display:"block"}});t.a=function(e){var t=e.onCheck,n=e.disabled,r=e.checked,p=e.label,b=e.uncheckedIcon,h=e.checkedIcon,j=e.tooltipOrHelperText,f=u(),g=d(),m=Object(l.jsx)(s.a,{disabled:n,checked:r,onChange:t?function(e){return t(e,e.target.checked)}:void 0,icon:b,checkedIcon:h,color:"primary"});return p?Object(l.jsxs)(a.a,{classes:g,children:[Object(l.jsx)(o.a,{control:m,label:p,classes:f}),j&&Object(l.jsx)(i.a,{children:j})]}):j&&!n?Object(l.jsx)(c.a,{title:j,children:m}):m}},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return j}));var r=n(26),o=n(63),a=n.n(o),i=n(53),s=n(971),c=n.n(s),l=function(e,t){return!t.gdevelopVersion||c()(e,t.gdevelopVersion,{includePrerelease:!0})},u=function(){return a.a.get("".concat(i.b.baseUrl,"/asset")).then((function(e){return e.data})).then((function(e){var t=e.assetShortHeadersUrl,n=e.filtersUrl,o=e.assetPacksUrl;if(!t||!n||!o)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([a.a.get(t).then((function(e){return e.data})),a.a.get(n).then((function(e){return e.data})),a.a.get(o).then((function(e){return e.data}))]).then((function(e){var t=Object(r.a)(e,3);return{assetShortHeaders:t[0],filters:t[1],assetPacks:t[2]}}))}))},d=function(e){return a.a.get("".concat(i.b.baseUrl,"/asset/").concat(e.id)).then((function(e){return e.data})).then((function(e){var t=e.assetUrl;if(!t)throw new Error("Unexpected response from the asset endpoint.");return a.a.get(t)})).then((function(e){return e.data}))},p=function(){return a.a.get("".concat(i.b.baseUrl,"/resource")).then((function(e){return e.data})).then((function(e){var t=e.resourcesUrl,n=e.filtersUrl;if(!t||!n)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([a.a.get(t).then((function(e){return e.data})),a.a.get(n).then((function(e){return e.data}))]).then((function(e){var t=Object(r.a)(e,2);return{resources:t[0],filters:t[1]}}))}))},b=function(){return a.a.get("".concat(i.b.baseUrl,"/author")).then((function(e){return e.data})).then((function(e){var t=e.authorsUrl;if(!t)throw new Error("Unexpected response from author endpoint.");return a.a.get(t)})).then((function(e){return e.data}))},h=function(){return a.a.get("".concat(i.b.baseUrl,"/license")).then((function(e){return e.data})).then((function(e){var t=e.licensesUrl;if(!t)throw new Error("Unexpected response from license endpoint.");return a.a.get(t)})).then((function(e){return e.data}))},j=function(e){return e.tags.some((function(e){return"pixel art"===e.toLowerCase()}))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(9),o=n(8),a=e.gd,i=function(e){return!e.includes(".")&&!e.includes("[")&&e.length>0},s=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,null,[{key:"findAllGlobalVariables",value:function(e,t){return a.EventsVariablesFinder.findAllGlobalVariables(e,t).toNewVectorString().toJSArray().filter(i)}},{key:"findAllLayoutVariables",value:function(e,t,n){return a.EventsVariablesFinder.findAllLayoutVariables(t.getCurrentPlatform(),t,n).toNewVectorString().toJSArray().filter(i)}},{key:"findAllObjectVariables",value:function(e,t,n,r){return a.EventsVariablesFinder.findAllObjectVariables(t.getCurrentPlatform(),t,n,r).toNewVectorString().toJSArray().filter(i)}}]),e}()}).call(this,n(28))},,function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"f",(function(){return v}));var r=n(18),o=e.gd,a={BuiltinObject:{"":["AjoutHasard","Create","AjoutObjConcern"]}},i={BuiltinObject:{"":["AjoutHasard","AjoutObjConcern","CollisionNP","SceneInstancesCount","PickedInstancesCount","PickNearest","Distance","SeDirige","EstTourne","SourisSurObjet"]}},s={},c={Physics2:{"Physics2::Physics2Behavior":["Physics2::Collision"]}},l={BuiltinObject:Object(r.a)(i.BuiltinObject[""]),Physics2:Object(r.a)(c.Physics2["Physics2::Physics2Behavior"])},u=function(e){return e.getCategory()+"/"+e.getFullName()},d=function(e){var t=!1;return e.filter((function(e){if("Create"===e.type){if(t)return!1;t=!0}return!0}))},p=function(e,t){var n=t;return n?e.filter((function(e){return-1===n.indexOf(e.type)})):e},b=function(e,t,n,r,o){var a=t.getName(),i=e?c[a]:s[a];if(!i)return[];var l=i[n];if(!l)return[];var u=e?t.getAllConditions():t.getAllActions();return l.map((function(e){return j(r,e,u.get(e),o)}))},h=function(e,t,n,r,o){var s=t.getName(),c=e?i[s]:a[s];if(!c)return[];var l=c[n];if(!l)return[];var u=e?t.getAllConditions():t.getAllActions();return l.map((function(e){return j(r,e,u.get(e),o)}))},j=function(e,t,n,r){var o=n.getFullName(),a=n.getGroup(),i=n.getIconFilename();return{type:t,metadata:n,iconFilename:i,displayedName:o,fullGroupName:[e,a].filter(Boolean).join("/"),scope:r,isPrivate:n.isPrivate()}},f=function(e,t,n){for(var r=t.keys(),o=[],a=0;a<r.size();++a){var i=r.at(a),s=t.get(i);s.isHidden()||(n.objectMetadata&&n.objectMetadata.isUnsupportedBaseObjectCapability(s.getRequiredBaseObjectCapability())||o.push(j(e,i,s,n)))}return o},g=function(e){for(var t=[],n=o.asPlatform(o.JsPlatform.get()).getAllPlatformExtensions(),a=0;a<n.size();++a){var i=n.at(a),s=i.getName(),c=i.getExtensionObjectsTypes(),d=i.getBehaviorsTypes(),j=u(i),g=f(j,e?i.getAllConditions():i.getAllActions(),{extension:i,objectMetadata:void 0,behaviorMetadata:void 0});t=[].concat(Object(r.a)(t),Object(r.a)(p(g,l[s])));for(var m=0;m<c.size();++m){var O=c.at(m),v=i.getObjectMetadata(O),x={extension:i,objectMetadata:v};t=[].concat(Object(r.a)(t),Object(r.a)(f(j,e?i.getAllConditionsForObject(O):i.getAllActionsForObject(O),x)),Object(r.a)(h(e,i,O,j,x)))}for(var y=0;y<d.size();++y){var C=d.at(y),T=i.getBehaviorMetadata(C),E={extension:i,behaviorMetadata:T};t=[].concat(Object(r.a)(t),Object(r.a)(f(j,e?i.getAllConditionsForBehavior(C):i.getAllActionsForBehavior(C),E)),Object(r.a)(b(e,i,C,j,E)))}}return t},m=function(e,t,n,a){var i=[],s=o.getTypeOfObject(t,n,a,!0),c=o.getBehaviorsOfObject(t,n,a,!0).toJSArray(),l=new Set(c.map((function(e){return o.getTypeOfBehavior(t,n,e,!1)}))),u=o.MetadataProvider.getExtensionAndObjectMetadata(o.JsPlatform.get(),s),d=u.getExtension(),p={extension:d,objectMetadata:u.getMetadata()},j="";i=[].concat(Object(r.a)(i),Object(r.a)(f(j,e?d.getAllConditionsForObject(s):d.getAllActionsForObject(s),p)),Object(r.a)(h(e,d,s,j,p)));if(""!==s){var g=o.MetadataProvider.getExtensionAndObjectMetadata(o.JsPlatform.get(),"").getExtension();i=[].concat(Object(r.a)(i),Object(r.a)(f(j,e?g.getAllConditionsForObject(""):g.getAllActionsForObject(""),p)),Object(r.a)(h(e,g,"",j,p)))}for(var m=o.asPlatform(o.JsPlatform.get()).getAllPlatformExtensions(),O=function(t){var n=m.at(t);n.getBehaviorsTypes().toJSArray().filter((function(e){return l.has(e)})).forEach((function(t){var o=n.getBehaviorMetadata(t),a={extension:n,behaviorMetadata:o};i=[].concat(Object(r.a)(f(j,e?n.getAllConditionsForBehavior(t):n.getAllActionsForBehavior(t),a)),Object(r.a)(b(e,n,t,j,a)),Object(r.a)(i))}))},v=0;v<m.size();++v)O(v);return function(e){var t=e.filter((function(e){return 0===e.fullGroupName.length})),n=e.filter((function(e){return 0!==e.fullGroupName.length}));return[].concat(Object(r.a)(t),Object(r.a)(n))}(i)},O=function(e){for(var t=[],n=o.asPlatform(o.JsPlatform.get()).getAllPlatformExtensions(),a=0;a<n.size();++a){var i=n.at(a),s=i.getName(),c=u(i),d=f(c,e?i.getAllConditions():i.getAllActions(),{extension:i,objectMetadata:void 0,behaviorMetadata:void 0});t=[].concat(Object(r.a)(t),Object(r.a)(p(d,l[s])))}return t},v=function(e){var t=e.getParametersCount();if(t>=1){var n=e.getParameter(0).getType();if("object"===n)return 0;if(o.ParameterMetadata.isObject(n))return 0;if(("objectsContext"===n||"currentScene"===n)&&t>=2){var r=e.getParameter(1).getType();if(o.ParameterMetadata.isObject(r))return 1}}return-1}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"l",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return j})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return y}));var r=n(18),o=n(465),a=n(822),i=n.n(a),s=e.gd,c=function(e,t,n,r){var o=t<e.getAnimationsCount(),a=o?e.getAnimation(t):null,i=!!a&&n<a.getDirectionsCount(),s=i?a.getDirection(n):null,c=!!s&&r<s.getSpritesCount(),l=c?s.getSprite(r):null;return{hasValidAnimation:o,animation:a,hasValidDirection:i,direction:s,hasValidSprite:c,sprite:l}},l=function(e){for(var t=new Set,n=0;n<e.getAnimationsCount();n++)for(var o=e.getAnimation(n),a=0;a<o.getDirectionsCount();a++)for(var i=o.getDirection(a),s=0;s<i.getSpritesCount();s++)for(var c=i.getSprite(s).getAllNonDefaultPoints(),l=0;l<c.size();l++){var u=c.at(l);t.add(u.getName())}return Object(r.a)(t)},u=function(e,t){t.setX(e.getX()),t.setY(e.getY()),t.setName(e.getName())},d=function(e,t){e.ptr!==t.ptr&&(u(e.getCenter(),t.getCenter()),u(e.getOrigin(),t.getOrigin()),t.setDefaultCenterPoint(e.isDefaultCenterPoint()),t.getAllNonDefaultPoints().clear(),Object(o.mapVector)(e.getAllNonDefaultPoints(),(function(e){t.addPoint(e)})))},p=function(e,t){Object(o.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);Object(o.mapFor)(0,r.getSpritesCount(),(function(t){var n=r.getSprite(t);d(e,n)}))}))},b=function(e,t){return e.getX()===t.getX()&&e.getY()===t.getY()&&e.getName()===t.getName()},h=function(e,t){return i()(Object(o.mapFor)(0,t.getSpritesCount(),(function(n){var r,a,s=t.getSprite(n);return a=e,!!b((r=s).getCenter(),a.getCenter())&&!!b(r.getOrigin(),a.getOrigin())&&r.isDefaultCenterPoint()===a.isDefaultCenterPoint()&&r.getAllNonDefaultPoints().size()===a.getAllNonDefaultPoints().size()&&i()(Object(o.mapVector)(r.getAllNonDefaultPoints(),(function(e){return!!a.hasPoint(e.getName())&&b(e,a.getPoint(e.getName()))})))})))},j=function(e,t){return i()(Object(o.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);return h(e,r)})))},f=function(e,t){e.ptr!==t.ptr&&(t.setCollisionMaskAutomatic(e.isCollisionMaskAutomatic()),t.getCustomCollisionMask().clear(),Object(o.mapVector)(e.getCustomCollisionMask(),(function(e){t.getCustomCollisionMask().push_back(e)})))},g=function(e,t){Object(o.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);Object(o.mapFor)(0,r.getSpritesCount(),(function(t){var n=r.getSprite(t);f(e,n)}))}))},m=function(e,t){if(e.isCollisionMaskAutomatic()!==t.isCollisionMaskAutomatic())return!1;if(e.isCollisionMaskAutomatic()&&t.isCollisionMaskAutomatic())return!0;var n=e.getCustomCollisionMask(),r=t.getCustomCollisionMask();return n.size()===r.size()&&i()(Object(o.mapVector)(n,(function(e,t){return function(e,t){var n=e.getVertices(),r=t.getVertices();return n.size()===r.size()&&i()(Object(o.mapVector)(n,(function(e,t){var n=r.at(t);return e.get_x()===n.get_x()&&e.get_y()===n.get_y()})))}(e,r.at(t))})))},O=function(e,t){return i()(Object(o.mapFor)(0,t.getSpritesCount(),(function(n){var r=t.getSprite(n);return m(r,e)})))},v=function(e,t){return i()(Object(o.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);return O(e,r)})))},x=function(e,t){Object(o.mapFor)(0,e.getDirectionsCount(),(function(n){for(var r=e.getDirection(n),a=Object(o.mapFor)(0,r.getSpritesCount(),(function(e){var n=r.getSprite(e);return!!t[n.ptr]})),i=r.getSpritesCount()-1;i>=0;i--)a[i]&&r.removeSprite(i)}))},y=function(e,t){Object(o.mapFor)(0,e.getDirectionsCount(),(function(n){for(var r=e.getDirection(n),a=Object(o.mapFor)(0,r.getSpritesCount(),(function(e){var n=r.getSprite(e);return!!t[n.ptr]})),i=r.getSpritesCount()-1;i>=0;i--)if(a[i]){var c=r.getSprite(i),l=new s.Sprite;l.setImageName(c.getImageName()),d(c,l),f(c,l),r.addSprite(l),r.moveSprite(r.getSpritesCount()-1,i)}}))}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return O}));var r=n(465),o=n(1577),a=n(706),i=e.gd,s=function(e){return Object(o.a)(e,"_",[])},c=function(e,t){return t+"__"+s(e.getName())},l=function(e,t,n){return Promise.all(Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(r){return u(e,e.getEventsFunctionsExtensionAt(r),{skipCodeGeneration:!0,eventsFunctionCodeWriter:t,i18n:n})}))).then((function(){return Promise.all(Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(r){return u(e,e.getEventsFunctionsExtensionAt(r),{skipCodeGeneration:!1,eventsFunctionCodeWriter:t,i18n:n})})))}))},u=function(e,t,n){return d(e,t,n).then((function(e){i.JsPlatform.get().addNewExtension(e),e.delete()}))},d=function(e,t,n){var o=new i.PlatformExtension;Object(a.e)(o,t);var l="gdjs.evtsExt__"+s(t.getName()),u=function(e,t,n,o){return Object(r.mapFor)(0,t.getEventsFunctionsCount(),(function(e){var r=t.getEventsFunctionAt(e);if(Object(a.h)(r.getName())){var i=c(r,o)+".func";return n.eventsFunctionCodeWriter.getIncludeFileFor(i)}return null})).filter(Boolean)}(0,t,n,l),d={codeNamespacePrefix:l,extensionIncludeFiles:u};return Promise.all(Object(r.mapVector)(t.getEventsBasedBehaviors(),(function(c){return function(e,t,n,o,c,l){var u=Object(a.b)(t,o),d=o.getEventsFunctions(),p=function(e,t){return t+"__"+s(e.getName())}(o,l.codeNamespacePrefix),b=c.eventsFunctionCodeWriter.getIncludeFileFor(p);return u.setIncludeFile(b),l.extensionIncludeFiles.forEach((function(e){u.addIncludeFile(e)})),Promise.resolve().then((function(){var l=new i.MapStringString;if(Object(a.c)(c.i18n,t,u,o),Object(r.mapFor)(0,d.getEventsFunctionsCount(),(function(e){var n=d.getEventsFunctionAt(e),r=s(n.getName());l.set(n.getName(),r);var i=Object(a.a)(t,u,o,n);Object(a.d)(n,i),Object(a.g)(n.getName())&&i.setHidden(),n.isPrivate()&&i.setPrivate(),i.getCodeExtraInformation().setIncludeFile(b).setFunctionName(r)})),c.skipCodeGeneration)return l.delete(),Promise.resolve();var h=new i.SetString,j=new i.BehaviorCodeGenerator(e),f=j.generateRuntimeBehaviorCompleteCode(n.getName(),o,p,l,h,!0);return j.delete(),l.delete(),h.toNewVectorString().toJSArray().forEach((function(e){u.addIncludeFile(e)})),h.delete(),c.eventsFunctionCodeWriter.writeBehaviorCode(p,f)}))}(e,o,t,c,n,d)}))).then((function(){return Promise.all(Object(r.mapFor)(0,t.getEventsFunctionsCount(),(function(r){var a=t.getEventsFunctionAt(r);return p(e,o,t,a,n,d)})))})).then((function(e){return n.skipCodeGeneration||b(e),o}))},p=function(e,t,n,r,o,s){var l=Object(a.f)(t,n,r);l.addCodeOnlyParameter("currentScene",""),Object(a.d)(r,l),Object(a.h)(r.getName())&&l.setHidden(),r.isPrivate()&&l.setPrivate();var u=c(r,s.codeNamespacePrefix),d=u+".func",p=l.getCodeExtraInformation(),b=o.eventsFunctionCodeWriter.getIncludeFileFor(d);if(p.setIncludeFile(b).setFunctionName(d),s.extensionIncludeFiles.forEach((function(e){p.addIncludeFile(e)})),o.skipCodeGeneration)return Promise.resolve({functionFile:b,functionMetadata:l});var h=new i.SetString,j=new i.EventsFunctionsExtensionCodeGenerator(e).generateFreeEventsFunctionCompleteCode(r,u,h,!0);return h.toNewVectorString().toJSArray().forEach((function(e){p.addIncludeFile(e)})),h.delete(),o.eventsFunctionCodeWriter.writeFunctionCode(d,j).then((function(){return{functionFile:b,functionMetadata:l}}))},b=function(e){for(var t=e.map((function(e){return new Set(e.functionMetadata.getCodeExtraInformation().getIncludeFiles().toJSArray())})),n=0;n<e.length;n++)for(var r=t[n],o=e[n].functionFile,a=function(n){var a=e[n].functionMetadata.getCodeExtraInformation(),i=t[n];i.has(o)&&r.forEach((function(e){i.has(e)||(i.add(e),a.addIncludeFile(e))}))},i=0;i<e.length;i++)a(i)};var h=function(e){return Promise.all(Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(t){i.JsPlatform.get().removeExtension(e.getEventsFunctionsExtensionAt(t).getName())})))},j=function(e,t){i.JsPlatform.get().removeExtension(t)},f=function(e){var t=e.getParametersCount();return!(t<=0)&&"eventsFunctionContext"===e.getParameter(t-1).getType()},g=function(e){var t=e.split("::");return t.length?{name:t[t.length-1],behaviorName:t.length>2?t[1]:void 0,extensionName:t[0]}:{name:"",behaviorName:"",extensionName:""}},m=function(e,t){return e+"::"+t.getName()},O=function(e){return e?0:1}}).call(this,n(28))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(9),o=n(8),a=n(479),i=function(){function e(t){var n=this,o=t.initialViewX,i=t.initialViewY,s=t.width,c=t.height,l=t.instancesEditorSettings;Object(r.a)(this,e),this.viewX=0,this.viewY=0,this._pixiContainer=new a.Container,this.toSceneCoordinates=function(e,t){e-=n._width/2,t-=n._height/2,e/=Math.abs(n.instancesEditorSettings.zoomFactor),t/=Math.abs(n.instancesEditorSettings.zoomFactor);var r=e;return e=Math.cos(0*Math.PI)*e-Math.sin(0*Math.PI)*t,t=Math.sin(0*Math.PI)*r+Math.cos(0*Math.PI)*t,[e+n.viewX,t+n.viewY]},this.toCanvasCoordinates=function(e,t){e-=n.viewX,t-=n.viewY;var r=e;return e=Math.cos(-0*Math.PI)*e-Math.sin(-0*Math.PI)*t,t=Math.sin(-0*Math.PI)*r+Math.cos(-0*Math.PI)*t,e*=Math.abs(n.instancesEditorSettings.zoomFactor),t*=Math.abs(n.instancesEditorSettings.zoomFactor),[e+n._width/2,t+n._height/2]},this.viewX=o,this.viewY=i,this.instancesEditorSettings=l,this.resize(s,c)}return Object(o.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"resize",value:function(e,t){this._width=e,this._height=t}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"scrollBy",value:function(e,t){this.viewX+=e,this.viewY+=t}},{key:"scrollTo",value:function(e,t){this.viewX=e,this.viewY=t}},{key:"scrollToInstance",value:function(e){this.viewX=e.getX(),this.viewY=e.getY()}},{key:"getViewX",value:function(){return this.viewX}},{key:"getViewY",value:function(){return this.viewY}},{key:"getPixiContainer",value:function(){return this._pixiContainer}},{key:"render",value:function(){this._pixiContainer.position.x=-this.viewX*this.instancesEditorSettings.zoomFactor,this._pixiContainer.position.y=-this.viewY*this.instancesEditorSettings.zoomFactor,this._pixiContainer.position.x+=this._width/2,this._pixiContainer.position.y+=this._height/2,this._pixiContainer.scale.x=this.instancesEditorSettings.zoomFactor,this._pixiContainer.scale.y=this.instancesEditorSettings.zoomFactor}}]),e}()},,,function(e,t,n){"use strict";var r=n(1),o=n(471),a=n(500),i=n(7),s=r.forwardRef((function(e,t){var n=e.src,r=e.tooltip,s=e.acceleratorString,c=e.disabled,l=e.onClick,u=e.onContextMenu;return Object(i.jsx)(a.a,{children:function(e){return Object(i.jsx)(o.a,{onClick:l,onContextMenu:u,size:"small",disabled:c,tooltip:r,acceleratorString:s,ref:t,children:Object(i.jsx)("img",{alt:r,src:n,width:32,height:32,style:{filter:c?"grayscale(100%)":e.gdevelopIconsCSSFilter}})})}})}));t.a=s},,,,,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l}));var r=n(45),o=n(18),a=function(e,t){return e.filter((function(e){return e!==t}))},i=function(e){var t=e.noTagLabel,n=e.getAllTags,r=e.selectedTags,i=e.onChange,s=e.onEditTags,c=e.editTagsLabel,l=n(),u=s&&c?[{type:"separator"},{label:c,click:s}]:[];return l.length?l.map((function(e){return{type:"checkbox",label:e,checked:r.includes(e),click:function(){var t,n;r.includes(e)?i(a(r,e)):i((t=r,n=[e],Array.from(new Set([].concat(Object(o.a)(t),Object(o.a)(n))))))}}})).concat(u):[{label:t,enabled:!1}].concat(u)},s=function(e){return""===e.trim()?[]:e.split(",").map((function(e){return e.trim()}))},c=function(e){return e.join(", ")},l=function(e,t){var n,o=Object(r.a)(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(-1===e.indexOf(a))return!1}}catch(i){o.e(i)}finally{o.f()}return!0}},function(e,t,n){"use strict";var r=n(4),o=n(12),a=(n(1),n(136)),i=n(100),s=n(631),c=n(632),l=n(598),u=n(30),d=n(757),p=n(472),b=n(7);t.a=function(e){var t=e.onCancel,n=e.onApply,h=e.open,j=e.onEditObjectVariables,f=e.title,g=e.emptyPlaceholderTitle,m=e.emptyPlaceholderDescription,O=e.variablesContainer,v=e.inheritedVariablesContainer,x=e.hotReloadPreviewButtonProps,y=e.onComputeAllVariableNames,C=e.helpPagePath,T=Object(s.a)({serializableObject:O,onCancel:t}),E=Object(l.a)("intro-variables").DismissableTutorialMessage;return Object(b.jsx)(i.b,{noMargin:!0,actions:[Object(b.jsx)(a.a,{label:Object(b.jsx)(o.Trans,{id:"Cancel"}),onClick:T},"Cancel"),Object(b.jsx)(i.a,{label:Object(b.jsx)(o.Trans,{id:"Apply"}),primary:!0,onClick:n},"Apply")],secondaryActions:[j?Object(b.jsx)(a.a,{label:Object(b.jsx)(o.Trans,{id:"Edit Object Variables"}),primary:!1,onClick:j},"edit-object-variables"):null,x?Object(b.jsx)(c.b,Object(r.a)({},x),"hot-reload-preview-button"):null,C?Object(b.jsx)(p.a,{helpPagePath:C},"help"):null],onRequestClose:T,onApply:n,open:h,title:f,flexBody:!0,fullHeight:!0,children:Object(b.jsxs)(u.a,{expand:!0,noMargin:!0,children:[O.count()>0&&E&&Object(b.jsx)(u.c,{children:Object(b.jsx)(u.a,{expand:!0,children:E})}),Object(b.jsx)(d.a,{commitChangesOnBlur:!0,variablesContainer:O,inheritedVariablesContainer:v,emptyPlaceholderTitle:g,emptyPlaceholderDescription:m,onComputeAllVariableNames:y,helpPagePath:C})]})})}},function(e,t,n){"use strict";var r=n(1),o=n(43),a=n(599),i=n(899),s=n(900),c=n(7);t.a=function(e){var t=r.useContext(o.a),n=r.useContext(a.a).tutorials,l=Object(i.a)(t,n,e);return{DismissableTutorialMessage:r.useMemo((function(){return l?Object(c.jsx)(s.a,{tutorial:l}):null}),[l])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(1),c=n(633),l=n(7),u=s.createContext({tutorials:null,fetchTutorials:function(){},error:null}),d=function(e){var t=e.children,n=s.useState(null),a=Object(o.a)(n,2),d=a[0],p=a[1],b=s.useState(null),h=Object(o.a)(b,2),j=h[0],f=h[1],g=s.useRef(!1),m=s.useCallback((function(){d||g.current||Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(null),g.current=!0,e.prev=2,e.next=5,Object(c.d)();case 5:t=e.sent,console.info("Loaded ".concat(t.length," tutorials.")),p(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Unable to load the tutorials:",e.t0),f(e.t0);case 14:g.current=!1;case 15:case"end":return e.stop()}}),e,null,[[2,10]])})))()}),[d,g]),O=s.useMemo((function(){return{tutorials:d,fetchTutorials:m,error:j}}),[d,m,j]);return Object(l.jsx)(u.Provider,{value:O,children:t})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(1);var r=n(1194),o=n.n(r),a=n(673),i=n(7),s={handle:{display:"flex",cursor:"move"},disabledHandle:{display:"flex",opacity:.4},handleColor:"#DDD"},c=function(e){return Object(i.jsx)("span",{style:e.disabled?s.disabledHandle:s.handle,children:Object(i.jsx)(o.a,{htmlColor:e.color||s.handleColor})})},l=Object(a.SortableHandle)(c);t.b=l},,,,function(e,t,n){"use strict";var r=n(4),o=n(11),a=n(9),i=n(8),s=n(13),c=n(14),l=n(1),u=n(1264),d=n(2164),p=n(679),b=n.n(p),h=n(7),j=["style","color"],f={color:{width:"36px",height:"14px",borderRadius:"2px",textAlign:"center",fontSize:"10px"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{zIndex:b.a.tooltip+100}},g=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._swatch=l.createRef(),e.state={displayColorPicker:!1},e.open=function(){e.setState({displayColorPicker:!0})},e.handleClick=function(){e.setState({displayColorPicker:!e.state.displayColorPicker})},e.handleClose=function(){e.setState({displayColorPicker:!1})},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.color,a=Object(o.a)(e,j),i=n||{r:200,g:200,b:200,a:1};return Object(h.jsxs)("div",{style:t,children:[Object(h.jsx)("div",{style:f.swatch,onClick:this.handleClick,ref:this._swatch,children:Object(h.jsx)("div",{style:Object(r.a)(Object(r.a)({},f.color),{},{background:"rgba(".concat(i.r,", ").concat(i.g,", ").concat(i.b,", ").concat(i.a||1,")")}),children:n?null:"?"})}),this.state.displayColorPicker&&this._swatch.current?Object(h.jsx)(d.a,{open:!0,onClose:this.handleClose,anchorEl:this._swatch.current,style:f.popover,children:Object(h.jsx)(u.SketchPicker,Object(r.a)({color:i},a))}):null]})}}]),n}(l.Component);t.a=g},,function(e,t,n){"use strict";var r=n(18),o=n(465);t.a=function(e,t,n,a){var i=e.keys(),s=new Map;if(Object(o.mapFor)(0,i.size(),(function(r){var o=i.at(r),c=e.get(o),l=c.getGroup()||"",u=s.get(l);u||(u=[],s.set(l,u));var d=c.getDescription(),p=c.getType().toLowerCase(),b=function(e){var n=t(e).get(o).getLabel();return n||o.charAt(0).toUpperCase()+o.slice(1).split(/(?=[A-Z])/).join(" ")},h=function(){return d};if(c.isHidden())return null;if("number"===p)return u.push({name:o,valueType:p,getValue:function(e){return parseFloat(t(e).get(o).getValue())||0},setValue:function(e,t){n(e,o,""+t)},getLabel:b,getDescription:h}),null;if("string"===p||""===p)return u.push({name:o,valueType:"string",getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:b,getDescription:h}),null;if("boolean"===p)return u.push({name:o,valueType:p,getValue:function(e){return"true"===t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t?"1":"0")},getLabel:b,getDescription:h}),null;if("choice"===p){var j=c.getExtraInfo().toJSArray().map((function(e){return{value:e,label:e}}));return u.push({name:o,valueType:"string",getChoices:function(){return j},getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:b,getDescription:h}),null}if("behavior"===p){var f=c.getExtraInfo().size()>0?c.getExtraInfo().at(0):"";return u.push({name:o,valueType:"string",getChoices:function(){return a&&""!==f?a.getAllBehaviorNames().toJSArray().map((function(e){return a.getBehavior(e).getTypeName()===f?e:null})).filter(Boolean).map((function(e){return{value:e,label:e}})):[]},getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:b,getDescription:h}),null}if("resource"===p){var g=c.getExtraInfo().toJSArray()[0]||"";return u.push({name:o,valueType:"resource",resourceKind:g,getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:b,getDescription:h}),null}return"color"===p?(u.push({name:o,valueType:"color",getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:b,getDescription:h}),null):"textarea"===p?(u.push({name:o,valueType:"textarea",getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:b,getDescription:h}),null):(console.error("A property with type=".concat(p," could not be mapped to a field. Ensure that this type is correct and understood by the IDE.")),null)})),0===s.size)return[];var c=s.get("");return 1===s.size&&c?c:Object(r.a)(s.keys()).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{name:e,type:"column",title:e,children:s.get(e)||[]}}))}},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c}));var r=n(465),o=function(e){return Object(r.mapFor)(0,e.getLayoutsCount(),(function(t){return e.getLayoutAt(t)}))},a=function(e){return Object(r.mapFor)(0,e.getExternalEventsCount(),(function(t){return e.getExternalEventsAt(t)}))},i=function(e){return Object(r.mapFor)(0,e.getExternalLayoutsCount(),(function(t){return e.getExternalLayoutAt(t)}))},s=function(e){return Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(t){return e.getEventsFunctionsExtensionAt(t)}))},c=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}},,function(e,t,n){"use strict";n(1);var r=n(423),o=n(7);t.a=function(e){return Object(o.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(o.jsx)(r.a,{elevation:3,style:{padding:10,margin:5},children:e.children})})}},function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(3),o=n(0),a=n.n(o),i=n(63),s=n.n(i),c=n(53),l=function(){var e=Object(r.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(c.b.baseUrl,"/example-short-header-and-filter"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(c.b.baseUrl,"/example-v2/").concat(t.id));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(c.b.baseUrl,"/example-short-header"),{params:{authorId:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(4),o=n(26),a=n(12),i=n(1),s=n(1496),c=n(465),l=n(647),u=n(1008),d=n(1025),p=n(825),b=n(628),h=n(7),j={addButton:{cursor:"pointer"}},f=Object(p.a)(s.b);function g(e){var t=e.addButtonLabel,n=e.areConditions,p=e.className,g=e.instrsList,m=e.onAddNewInstruction,O=e.onPasteInstructions,v=e.onMoveToInstruction,x=e.onMoveToInstructionsList,y=e.onInstructionClick,C=e.onInstructionContextMenu,T=e.onInstructionDoubleClick,E=e.onAddInstructionContextMenu,k=e.onParameterClick,w=e.selection,S=e.style,P=e.disabled,I=e.renderObjectThumbnail,_=e.screenType,A=e.windowWidth,N=e.globalObjectsContainer,R=e.objectsContainer,L=i.useState(!1),M=Object(o.a)(L,2),F=M[0],D=M[1],B=i.useCallback((function(){m&&m({instrsList:g,isCondition:n})}),[m,g,n]),U=i.useCallback((function(){O({instrsList:g,isCondition:n})}),[O,g,n]),V=Object(c.mapFor)(0,g.size(),(function(e){var t=g.get(e),r={isCondition:n,instrsList:g,instruction:t,indexInList:e};return Object(h.jsx)(s.a,{instruction:t,isCondition:n,selected:Object(l.o)(w,t),onMoveToInstruction:function(){return v(r)},onClick:function(){return y(r)},onDoubleClick:function(){return T(r)},onContextMenu:function(e,t){return C(e,t,r)},onParameterClick:function(e,t){return k({isCondition:r.isCondition,instrsList:r.instrsList,instruction:r.instruction,indexInList:r.indexInList,parameterIndex:t,domEvent:e})},selection:w,onAddNewSubInstruction:m,onPasteSubInstructions:O,onMoveToSubInstruction:v,onMoveToSubInstructionsList:x,onSubInstructionClick:y,onSubInstructionDoubleClick:T,onSubInstructionContextMenu:C,onAddSubInstructionContextMenu:E,onSubParameterClick:k,disabled:P,renderObjectThumbnail:I,screenType:_,windowWidth:A,globalObjectsContainer:N,objectsContainer:R},t.ptr)})),W={instrsList:g,isCondition:n},G=i.useRef(null),z=n?Object(h.jsx)(a.Trans,{id:"Add condition"}):Object(h.jsx)(a.Trans,{id:"Add action"}),H=Object(b.a)(i.useCallback((function(e){G.current&&E(G.current,W)}),[E,W,G]));return Object(h.jsx)(f,{canDrop:function(e){return e.isCondition===n},drop:function(){x({isCondition:n,instrsList:g})},children:function(e){var o=e.connectDropTarget,i=e.isOver,s=e.canDrop;return o(Object(h.jsxs)("div",{className:p,style:S,children:[V,i&&Object(h.jsx)(u.a,{canDrop:s}),Object(h.jsxs)("span",{onPointerEnter:function(){D(n&&Object(d.c)()||!n&&Object(d.b)())},onPointerLeave:function(){D(!1)},children:[Object(h.jsx)("button",Object(r.a)(Object(r.a)({style:j.addButton,className:"add-link",onClick:B,onContextMenu:function(e){e.stopPropagation(),E(e.currentTarget,W)}},H),{},{ref:G,id:n?"add-condition-button":"add-action-button",children:t||z})),F&&Object(h.jsx)("span",{children:Object(h.jsx)("button",{style:j.addButton,className:"add-link",onClick:U,children:n?Object(h.jsx)(a.Trans,{id:"(or paste conditions)"}):Object(h.jsx)(a.Trans,{id:"(or paste actions)"})})})]})]}))}})}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c}));var r=function(e){return"object-group-key-".concat(e.group.getName(),"-").concat(e.global?"-global":"")},o=function(e){return"object-key-".concat(e.object.getName(),"-").concat(e.global?"-global":"")},a=function(e){return"object-or-object-group-value-".concat(e)},i=function(e){return"instruction-key-".concat(e.fullGroupName,"-").concat(e.type)},s=function(e){return"instruction-value-".concat(e)},c=function(e){return"subheader-key-".concat(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),o=n(2160),a=n(488),i=n(2181),s=n(30),c=n(101),l=n(7),u={popover:{paddingBottom:10,overflowY:"auto",overflowX:"hidden",minHeight:30,maxHeight:400,maxWidth:600,minWidth:300,zIndex:5}};function d(e){var t=r.useRef(null),n=r.useRef(null);return Object(l.jsx)(i.a,{onClickAway:function(t){t instanceof MouseEvent?e.onApply():setTimeout((function(){e.onApply()}),50)},children:Object(l.jsx)(o.a,{open:e.open,anchorEl:e.anchorEl,style:u.popover,placement:"bottom-start",onKeyDown:function(r){Object(c.c)(r)?e.onRequestClose():Object(c.f)(r)&&e.onApply(),Object(c.d)(r)?r.target&&r.target===n.current&&(r.stopPropagation(),r.preventDefault(),t.current&&t.current.focus()):Object(c.e)(r)&&r.target&&r.target===t.current&&(r.stopPropagation(),r.preventDefault(),n.current&&n.current.focus())},children:Object(l.jsxs)(a.a,{children:[Object(l.jsx)("div",{tabIndex:0,ref:t}),Object(l.jsx)(s.a,{expand:!0,children:Object(l.jsx)(s.c,{children:e.children})}),Object(l.jsx)("div",{tabIndex:0,ref:n})]})})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(4),c=n(12),l=n(1),u=n(1040),d=n(1078),p=n(500),b=n(573),h=n.n(b),j=(n(1732),n(1733),n(7)),f=function e(t,n,r,o,a){if(!t)return n;if("string"!==typeof t){if("end"===r&&t.second&&"string"!==typeof t.second)return Object(s.a)(Object(s.a)({},t),{},{second:e(t.second,n,r,o,a)});if("start"===r&&t.first&&"string"!==typeof t.first)return Object(s.a)(Object(s.a)({},t),{},{first:e(t.first,n,r,o,a)})}return{direction:"row"===a?"column":"row",first:"end"===r?t:n,second:"end"===r?n:t,splitPercentage:o}},g=function e(t,n,r){return t?"string"===typeof t?t===n?r:t:t===n?r:Object(s.a)(Object(s.a)({},t),{},{first:e(t.first,n,r),second:e(t.second,n,r)}):t},m=[Object(j.jsx)(d.a,{},"close")],O=function(e){return Object(j.jsxs)("div",{className:"mosaic-preview",children:[Object(j.jsx)("div",{className:"mosaic-window-toolbar",children:Object(j.jsx)("div",{className:"mosaic-window-title",children:e.title})}),Object(j.jsx)("div",{className:"mosaic-window-body"})]})},v=function(e){return Object(j.jsx)(u.MosaicWindow,Object(s.a)(Object(s.a)({},e),{},{toolbarControls:e.toolbarControls||m,renderPreview:O}))},x=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={mosaicNode:e.props.initialNodes},e.openEditor=function(t,n,r,o){var a=e.props,i=a.editors,s=a.limitToOneSecondaryEditor,c=e.props.editors[t];if(!c)return!1;var l=Object(u.getLeaves)(e.state.mosaicNode);if(-1!==l.indexOf(t))return!1;if(s&&"secondary"===c.type){var d=l.find((function(e){return"secondary"===i[e].type}));if(d)return e.setState({mosaicNode:g(e.state.mosaicNode,d,t)}),e._persistNodes(),!0}return e.setState({mosaicNode:f(e.state.mosaicNode,t,n,r,o)}),e._persistNodes(),!0},e._onChange=function(t){e.setState({mosaicNode:t}),e._persistNodes()},e._persistNodes=h()((function(){e.props.onPersistNodes&&e.state.mosaicNode&&e.props.onPersistNodes(e.state.mosaicNode)}),2e3),e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.editors;return Object(j.jsx)(p.a,{children:function(n){return Object(j.jsx)(u.MosaicWithoutDragDropContext,{className:"".concat(n.mosaicRootClassName," mosaic-blueprint-theme mosaic-gd-theme"),renderTile:function(e,n){var r=t[e];return r?r.noTitleBar?r.renderEditor():Object(j.jsx)(c.I18n,{children:function(e){var t=e.i18n;return Object(j.jsx)(v,{path:n,title:t._(r.title),toolbarControls:r.toolbarControls,children:r.renderEditor()})}}):(console.error("Trying to render un unknown editor: "+e),null)},value:e.state.mosaicNode,onChange:e._onChange})}})}}]),n}(l.Component)},,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return I}));var r=n(4),o=n(26),a=n(12),i=n(471),s=n(672),c=n(1),l=n(30),u=n(532),d=n(1757),p=n.n(d),b=n(1756),h=n.n(b),j=n(1758),f=n.n(j),g=n(609),m=n(463),O=n(508),v=n(138),x=n(641),y=n(1105),C=n(101),T=n(1755),E=n(7),k=e.gd,w=50,S=function(e){return Math.min(10,Math.max(.1,e))},P={previewImagePixelated:{imageRendering:Object(y.a)()},contentContainer:{position:"relative",height:"100%",overflow:"hidden"},imagePreviewContainer:{position:"relative",width:"100%",height:"100%",boxSizing:"border-box",touchAction:"none"},spriteThumbnailImage:{position:"relative",pointerEvents:"none"},sliderContainer:{maxWidth:150,width:"100%",display:"flex",padding:"0 10px"}},I=function(e,t){var n=e.getResourcesManager().getResource(t);return"image"===n.getKind()&&k.asImageResource(n).isSmooth()};t.a=function(e){e.project;var t=e.resourceName,n=e.imageResourceSource,d=e.isImageResourceSmooth,b=e.fixedHeight,j=e.fixedWidth,y=e.renderOverlay,k=e.onSize,I=e.hideCheckeredBackground,_=e.hideControls,A=e.initialZoom,N=c.useState(!1),R=Object(o.a)(N,2),L=R[0],M=R[1],F=c.useState(null),D=Object(o.a)(F,2),B=D[0],U=D[1],V=c.useState(null),W=Object(o.a)(V,2),G=W[0],z=W[1],H=c.useState(A||1),Y=Object(o.a)(H,2),q=Y[0],X=Y[1],K=c.useState(!1),J=Object(o.a)(K,2),Z=J[0],Q=J[1],$=function(){M(!0)},ee=function(e){var t=e.target,n=t?t.naturalWidth||t.clientWidth:0,r=t?t.naturalHeight||t.clientHeight:0;z(r),U(n),k&&k(n,r)},te=function(e){ne(q+e)},ne=function(e){X(S(e))},re=c.useContext(v.a).imagePreview.frameBorderColor||"#aaa";return Object(E.jsx)(s.a,{bounds:!0,children:function(e){var o=e.contentRect,s=e.measureRef,c=o.bounds.width,v=o.bounds.height,k=!!c&&!!v,N=!!B&&!!G&&!L;!Z&&k&&(A||function(e,t){var n=G&&B?S(Math.min(t/(B+100),e/(G+100))):1;X(n)}(v,c),Q(!0));var R=Math.max(0,(v||0)/2-(G||0)*q/2-w),M=Math.max(0,(c||0)/2-(B||0)*q/2-w),F=k?void 0:"hidden",D=B?B*q:void 0,U=G?G*q:void 0,V=Object(r.a)(Object(r.a)({},P.spriteThumbnailImage),{},{margin:k?w:0,top:R,left:M,width:D,height:U,visibility:F},d?void 0:P.previewImagePixelated),W={position:"absolute",top:R+w,left:M+w,width:D,height:U,visibility:F,border:"1px solid ".concat(re),boxSizing:"border-box"},z={position:"absolute",top:0,left:0,width:"100%",height:"100%",visibility:F};return Object(E.jsxs)(l.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[!_&&Object(E.jsxs)(u.b,{children:[Object(E.jsx)(i.a,{onClick:function(){return te(-.2)},tooltip:{id:"Zoom out (you can also use Ctrl + Mouse wheel)"},children:Object(E.jsx)(h.a,{})}),Object(E.jsx)("div",{style:P.sliderContainer,children:Object(E.jsx)(T.a,{min:Math.log10(.1),max:Math.log10(10),step:.05,value:Math.log10(q),onChange:function(e){ne(Math.pow(10,e))}})}),Object(E.jsx)(i.a,{onClick:function(){return te(.2)},tooltip:{id:"Zoom in (you can also use Ctrl + Mouse wheel)"},children:Object(E.jsx)(p.a,{})}),Object(E.jsx)(i.a,{onClick:function(){return ne(1)},tooltip:{id:"Restore original size"},children:Object(E.jsx)(f.a,{})})]}),Object(E.jsxs)("div",{style:Object(r.a)(Object(r.a)({},P.contentContainer),{},{height:b||"100%",width:j}),children:[!I&&Object(E.jsx)(x.a,{}),Object(E.jsxs)("div",{dir:"ltr",style:Object(r.a)(Object(r.a)({},P.imagePreviewContainer),{},{overflow:k?"auto":"hidden"}),ref:s,onWheel:function(e){var t=e.deltaY;!_&&Object(C.h)(e)&&(te(-t/500),e.preventDefault(),e.stopPropagation())},children:[!!L&&Object(E.jsx)(g.a,{children:Object(E.jsx)(m.a,{children:Object(E.jsx)(a.Trans,{id:"Unable to load the image"})})}),!L&&Object(E.jsx)(O.a,{style:V,alt:t,src:n,onError:$,onLoad:ee}),N&&y&&Object(E.jsx)("div",{style:W}),N&&y&&Object(E.jsx)("div",{style:z,children:y({imageWidth:B||0,imageHeight:G||0,offsetTop:R+w,offsetLeft:M+w,imageZoomFactor:q})})]})]})]})}})}}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(9),o=n(8),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(r.a)(this,e),this.left=t,this.top=n,this.right=o,this.bottom=a}return Object(o.a)(e,[{key:"set",value:function(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r}},{key:"setRectangle",value:function(e){this.left=e.left,this.top=e.top,this.right=e.right,this.bottom=e.bottom}},{key:"width",value:function(){return this.right-this.left}},{key:"height",value:function(){return this.bottom-this.top}},{key:"centerX",value:function(){return(this.left+this.right)/2}},{key:"centerY",value:function(){return(this.top+this.bottom)/2}},{key:"union",value:function(e){e.left<this.left&&(this.left=e.left),e.top<this.top&&(this.top=e.top),e.right>this.right&&(this.right=e.right),e.bottom>this.bottom&&(this.bottom=e.bottom)}},{key:"toString",value:function(){return"["+this.left+" -> "+this.right+" ; "+this.top+" -> "+this.bottom+"]"}}]),e}()},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n(1),o=n(500),a=n(7),i=r.memo((function(e){var t=e.children;return Object(a.jsx)(o.a,{children:function(e){return Object(a.jsx)("div",{style:{backgroundColor:e.toolbar.backgroundColor,padding:3,flexShrink:0,display:"flex",overflowX:"auto",overflowY:"hidden"},children:t})}})})),s=function(e){return{flex:1,display:"flex",alignItems:"center",justifyContent:e.firstChild?"flex-start":e.lastChild?"flex-end":"center"}},c=r.memo((function(e){return Object(a.jsx)("span",{style:s(e),children:e.children})}))},function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(138),i=n(7);t.a=function(){var e=o.a.useContext(a.a);return Object(i.jsx)("span",{style:{height:32,marginLeft:3,marginRight:3,borderLeftStyle:"solid",borderLeftWidth:1,borderColor:e.toolbar.separatorColor}})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={GENERAL:{id:"General"},IDE:{id:"IDE"},PROJECT:{id:"Project"},SCENE:{id:"Scene"},EVENTS:{id:"Events"}};t.b={QUIT_APP:{area:"GENERAL",displayText:{id:"Close GDevelop"},handledByElectron:!0},OPEN_PROJECT_MANAGER:{area:"IDE",displayText:{id:"Open project manager"},handledByElectron:!0},OPEN_PROFILE:{area:"IDE",displayText:{id:"Open My Profile"}},OPEN_GAMES_DASHBOARD:{area:"IDE",displayText:{id:"Open My Games Dashboard"}},LAUNCH_NEW_PREVIEW:{area:"PROJECT",displayText:{id:"Launch new preview"}},LAUNCH_DEBUG_PREVIEW:{area:"PROJECT",displayText:{id:"Launch preview with debugger and profiler"}},LAUNCH_NETWORK_PREVIEW:{area:"PROJECT",displayText:{id:"Launch network preview over WiFi/LAN"}},HOT_RELOAD_PREVIEW:{area:"PROJECT",displayText:{id:"Apply changes to the running preview"}},OPEN_HOME_PAGE:{area:"IDE",displayText:{id:"Show Home"}},CREATE_NEW_PROJECT:{area:"GENERAL",displayText:{id:"Create a new project"},handledByElectron:!0},OPEN_PROJECT:{area:"GENERAL",displayText:{id:"Open project"},handledByElectron:!0},SAVE_PROJECT:{area:"GENERAL",displayText:{id:"Save project"},handledByElectron:!0},SAVE_PROJECT_AS:{area:"GENERAL",displayText:{id:"Save project as..."},handledByElectron:!0},CLOSE_PROJECT:{area:"GENERAL",displayText:{id:"Close project"},handledByElectron:!0},EXPORT_GAME:{area:"PROJECT",displayText:{id:"Export game"},handledByElectron:!0},OPEN_RECENT_PROJECT:{area:"GENERAL",displayText:{id:"Open recent project..."}},OPEN_COMMAND_PALETTE:{area:"IDE",displayText:{id:"Open command palette"},ghost:!0},OPEN_PROJECT_PROPERTIES:{area:"PROJECT",displayText:{id:"Open project properties"}},OPEN_PROJECT_LOADING_SCREEN:{area:"PROJECT",displayText:{id:"Edit loading screen"}},OPEN_PROJECT_VARIABLES:{area:"PROJECT",displayText:{id:"Edit global variables"}},OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG:{area:"PROJECT",displayText:{id:"Open project icons"}},OPEN_PROJECT_RESOURCES:{area:"PROJECT",displayText:{id:"Open project resources"}},OPEN_SEARCH_EXTENSIONS_DIALOG:{area:"PROJECT",displayText:{id:"Search/import extensions"}},OPEN_LAYOUT:{area:"IDE",displayText:{id:"Open scene..."}},OPEN_EXTERNAL_EVENTS:{area:"IDE",displayText:{id:"Open external events..."}},OPEN_EXTERNAL_LAYOUT:{area:"IDE",displayText:{id:"Open external layout..."}},OPEN_EXTENSION:{area:"IDE",displayText:{id:"Open extension..."}},OPEN_SCENE_PROPERTIES:{area:"SCENE",displayText:{id:"Open scene properties"}},OPEN_SCENE_VARIABLES:{area:"SCENE",displayText:{id:"Open scene variables"}},OPEN_OBJECTS_PANEL:{area:"SCENE",displayText:{id:"Open the objects editor"}},OPEN_OBJECT_GROUPS_PANEL:{area:"SCENE",displayText:{id:"Open the object groups editor"}},OPEN_PROPERTIES_PANEL:{area:"SCENE",displayText:{id:"Open the properties panel"}},TOGGLE_INSTANCES_PANEL:{area:"SCENE",displayText:{id:"Open the list of instances"}},TOGGLE_LAYERS_PANEL:{area:"SCENE",displayText:{id:"Open the layers editor"}},SCENE_EDITOR_UNDO:{area:"SCENE",displayText:{id:"Undo the last changes"},noShortcut:!0},SCENE_EDITOR_REDO:{area:"SCENE",displayText:{id:"Redo the last changes"},noShortcut:!0},DELETE_INSTANCES:{area:"SCENE",displayText:{id:"Delete the selected instances from the scene"},noShortcut:!0},TOGGLE_WINDOW_MASK:{area:"SCENE",displayText:{id:"Toggle mask"}},TOGGLE_GRID:{area:"SCENE",displayText:{id:"Toggle grid"}},OPEN_SETUP_GRID:{area:"SCENE",displayText:{id:"Setup grid"}},EDIT_LAYER_EFFECTS:{area:"SCENE",displayText:{id:"Edit layer effects..."}},EDIT_LAYER:{area:"SCENE",displayText:{id:"Edit layer..."}},EDIT_OBJECT:{area:"SCENE",displayText:{id:"Edit object..."}},EDIT_OBJECT_BEHAVIORS:{area:"SCENE",displayText:{id:"Edit object behaviors..."}},EDIT_OBJECT_EFFECTS:{area:"SCENE",displayText:{id:"Edit object effects..."}},EDIT_OBJECT_VARIABLES:{area:"SCENE",displayText:{id:"Edit object variables..."}},EDIT_OBJECT_GROUP:{area:"SCENE",displayText:{id:"Edit object group..."}},ADD_STANDARD_EVENT:{area:"EVENTS",displayText:{id:"Add a new empty event"}},ADD_SUBEVENT:{area:"EVENTS",displayText:{id:"Add a sub-event to the selected event"}},ADD_COMMENT_EVENT:{area:"EVENTS",displayText:{id:"Add a comment"}},TOGGLE_EVENT_DISABLED:{area:"EVENTS",displayText:{id:"Toggle disabled event"}},CHOOSE_AND_ADD_EVENT:{area:"EVENTS",displayText:{id:"Choose and add an event..."}},EVENTS_EDITOR_UNDO:{area:"EVENTS",displayText:{id:"Undo the last changes"},noShortcut:!0},EVENTS_EDITOR_REDO:{area:"EVENTS",displayText:{id:"Redo the last changes"},noShortcut:!0},DELETE_SELECTION:{area:"EVENTS",displayText:{id:"Delete the selected event(s)"},noShortcut:!0},SEARCH_EVENTS:{area:"EVENTS",displayText:{id:"Search in events"},noShortcut:!0},OPEN_EXTENSION_SETTINGS:{area:"EVENTS",displayText:{id:"Open extension settings"}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),o=function(e){var t=r.useRef(null),n=r.useRef({clientX:0,clientY:0}),o=r.useCallback((function(){t.current&&clearTimeout(t.current)}),[]);return r.useEffect((function(){return document.addEventListener("scroll",o,{capture:!0}),function(){o(),document.removeEventListener("scroll",o,{capture:!0})}}),[o]),{onTouchStart:r.useCallback((function(r){t.current&&clearTimeout(t.current),n.current=function(e){return e.touches&&e.touches.length>0?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:0,clientY:0}}(r),t.current=setTimeout((function(){e(n.current)}),600)}),[e]),onTouchMove:r.useCallback((function(e){if(1===e.touches.length){var t=e.touches[0],r=n.current,a=r.clientX,i=r.clientY;(Math.abs(t.clientX-a)>10||Math.abs(t.clientY-i)>10)&&o()}else o()}),[n,o]),onTouchEnd:o}}},,function(e,t,n){"use strict";var r=n(4),o=n(26),a=n(1),i=n.n(a),s=n(560),c=n(1189),l=n.n(c),u=n(596),d=n(7),p={chipContainer:{display:"flex",flexWrap:"wrap",overflowX:"auto",marginTop:4},chip:{marginRight:4,marginBottom:4}},b=function(e){return l()({seed:e,luminosity:"light"})};t.a=function(e){var t=e.tags,n=e.onChange,a=e.onRemove,c=i.a.useState(null),l=Object(o.a)(c,2),h=l[0],j=l[1],f=i.a.useState(null),g=Object(o.a)(f,2),m=g[0],O=g[1],v=[];i.a.useEffect((function(){if(null!==m){var e=v[Math.min(m,t.length-1)];e.current&&e.current.focus(),O(null)}}),[t,m,v]);var x=i.a.useCallback((function(e){var t=!!h&&h===e;return Object(r.a)(Object(r.a)({},p.chip),{},{backgroundColor:t?b(e):void 0,color:t?"black":void 0})}),[h]),y=function(e){return function(r){if(r.nativeEvent instanceof KeyboardEvent){var o=t.indexOf(e);O(o)}n?n(Object(u.e)(t,e)):a&&a(e)}};return t.length?Object(d.jsx)("div",{style:p.chipContainer,children:t.map((function(e){var t=i.a.createRef();return v.push(t),Object(d.jsx)(s.a,{size:"small",style:x(e),onBlur:function(){return j(null)},onFocus:function(){return j(e)},onDelete:n||a?y(e):null,label:e,ref:t},e)}))}):null}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(1),o=e.gd,a=function(e){var t=e.serializableObject,n=e.useProjectToUnserialize,a=e.onCancel,i=r.useRef(null);return r.useEffect((function(){return i.current&&(i.current.delete(),i.current=null),i.current=new o.SerializerElement,t.serializeTo(i.current),function(){i.current&&(i.current.delete(),i.current=null)}}),[t]),r.useCallback((function(){var e=i.current;e&&(n?t.unserializeFrom(n,e):t.unserializeFrom(e),a())}),[t,n,a])}}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var r=n(12),o=(n(1),n(136)),a=n(1190),i=n.n(a),s=n(1191),c=n.n(s),l=n(7),u=i.a,d=c.a;function p(e){var t=e.launchProjectDataOnlyPreview,n=e.hasPreviewsRunning;return Object(l.jsx)(o.a,{icon:n?Object(l.jsx)(d,{}):Object(l.jsx)(u,{}),label:n?Object(l.jsx)(r.Trans,{id:"Apply changes to preview"}):Object(l.jsx)(r.Trans,{id:"Run a preview"}),onClick:function(){return t()}})}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(63),o=n.n(r),a=n(53),i=function(){return o.a.get("".concat(a.b.baseUrl,"/tutorial")).then((function(e){return e.data}))},s=function(e){switch(e){case"ParticleSystem::ParticleEmitter":return["in-depth-tutorial-particle-emitter"];case"Lighting::LightObject":return["flickering-dynamic-light-effect"];case"BitmapText::BitmapTextObject":case"TileMap::TileMap":return["intermediate-bitmap-text-and-tilemap"];default:return[]}},c=function(e){switch(e){case"Tween::TweenBehavior":return["tween-behavior"];case"AnchorBehavior::AnchorBehavior":return["responsive-ui"];case"Physics2::Physics2Behavior":return["in-depth-tutorial-physics-engine-two"];case"PlatformBehavior::PlatformerObjectBehavior":case"PlatformBehavior::PlatformBehavior":return["in-depth-tutorial-platformer"];case"TopDownMovementBehavior::TopDownMovementBehavior":return["in-depth-tutorial-top-down-behavior"];default:return[]}},l=function(e){switch(e){case"CameraX":case"CameraY":case"RotateCamera":case"ZoomCamera":case"FixCamera":case"CentreCamera":return["smooth-camera-movement"];case"ChangeTimeScale":return["pause-menu"];case"EcrireFichierExp":case"EcrireFichierTxt":case"LireFichierExp":case"LireFichierTxt":return["intermediate-storage"];case"PlatformBehavior::SimulateJumpKey":return["simple-trampoline-platformer"];case"AjoutObjConcern":case"PickNearest":case"AjoutHasard":return["intermediate-object-picking"];case"ToggleObjectVariableAsBoolean":case"ToggleGlobalVariableAsBoolean":case"ToggleSceneVariableAsBoolean":return["iIntermediate-toggle-states-with-variable"];case"Scene":case"PushScene":case"PopScene":return["intermediate-level-select-menu"];case"Animation":case"AnimationName":case"ChangeAnimation":case"ChangeAnimationName":return["intermediate-changing-animations"];case"PopStartedTouch":case"MouseButtonPressed":return["intermediate-touchscreen-controls"];default:return[]}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},,,,,,function(e,t,n){"use strict";var r=n(4),o=n(1),a=n(138),i=n(7);t.a=function(e){var t=o.useContext(a.a),n=Object(r.a)({position:"absolute",top:0,left:0,width:"100%",height:"100%",background:'url("res/transparentback.png") repeat',filter:t.imagePreview.backgroundFilter||"none"},e.style);return Object(i.jsx)("div",{style:n})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b}));var r=n(45),o=n(26),a=n(12),i=n(1),s=n(571),c=n(80),l=n(480),u=n(470),d=n(7),p=function(){var e=i.useState(null),t=Object(o.a)(e,2),n=t[0],a=t[1],s=i.useState((function(){return new Set})),c=Object(o.a)(s,2),l=c[0],u=c[1];return{chosenCategory:n,setChosenCategory:i.useCallback((function(e){if(e){var t,n=new Set,o=Object(r.a)(l.keys());try{for(o.s();!(t=o.n()).done;){var i=t.value;e.node.allChildrenTags.includes(i)&&n.add(i)}}catch(s){o.e(s)}finally{o.f()}u(n),a(e)}else a(null)}),[l]),chosenFilters:l,addFilter:function(e){var t=new Set(l);t.add(e),u(t)},removeFilter:function(e){var t=new Set(l);t.delete(e),u(t)}}},b=function(e){var t=e.filtersState,n=e.allFilters,r=e.error;if(!n)return Object(d.jsx)(l.a,{});if(r)return null;var o=t.chosenCategory?t.chosenCategory.node.allChildrenTags:n.defaultTags;return Object(d.jsx)(c.a,{children:o?o.length?o.map((function(e){return Object(d.jsx)(s.a,{label:(n=e,n?n[0].toUpperCase()+n.substr(1):""),checked:t.chosenFilters.has(e),onCheck:function(){t.chosenFilters.has(e)?t.removeFilter(e):t.addFilter(e)}},e);var n})):Object(d.jsx)(u.a,{children:Object(d.jsx)(a.Trans,{id:"No filters in this category."})}):Object(d.jsx)(u.a,{children:Object(d.jsx)(a.Trans,{id:"Choose a category to display filters"})})})}},function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return g}));var r=n(3),o=n(4),a=n(0),i=n.n(a),s=n(63),c=n.n(s),l=n(53),u=n(971),d=n.n(u),p=function(e){return Array.isArray(e.tags)?e:Object(o.a)(Object(o.a)({},e),{},{tags:e.tags.split(",").map((function(e){return e.trim().toLowerCase()}))})},b=function(e,t){return!t.gdevelopVersion||d()(e,t.gdevelopVersion,{includePrerelease:!0})},h=function(){return c.a.get("".concat(l.b.baseUrl,"/extensions-registry")).then((function(e){return e.data})).then((function(e){return Object(o.a)(Object(o.a)({},e),{},{extensionShortHeaders:e.extensionShortHeaders.map(p)})}))},j=function(e){return c.a.get(e.headerUrl).then((function(e){var t=e.data;return p(t)}))},f=function(e){return c.a.get(e.url).then((function(e){var t=e.data;return p(t)}))},g=function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat(l.b.baseUrl,"/extension-short-header"),{params:{authorId:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),o=(n(1),n(508)),a=n(7),i={iconBackground:{flex:0,display:"flex",justifyContent:"center"},icon:{background:"linear-gradient(45deg, #FFFFFF33, #FFFFFF)",borderRadius:4}},s=function(e){var t=e.src,n=e.alt,s=e.size,c=s>24?4:2;return Object(a.jsx)("div",{style:i.iconBackground,children:Object(a.jsx)(o.a,{style:Object(r.a)(Object(r.a)({},i.icon),{},{padding:c,width:s-2*c,height:s-2*c}),src:t,alt:n})})}},function(e,t,n){"use strict";var r=n(1),o=n(138),a=n(7),i=function(e,t,n,r,o){var i=t[0],s=t[1]+1,c=e.slice(n,i),l=e.slice(i,s),u=e.slice(s,r||e.length);return[c,Object(a.jsx)("span",{style:o,children:l},"".concat(l).concat(i)),u]};t.a=function(e){var t=e.text,n=e.matchesCoordinates,s=r.useContext(o.a);if(0===n.length)return[t];for(var c=[],l=0;l<n.length;l++){var u=n[l+1]?n[l+1][0]:void 0,d=0===l?0:n[l][0];c.push(i(t,n[l],d,u,s.text.highlighted))}return c.map((function(e,t){return Object(a.jsx)(r.Fragment,{children:e},t)}))}},function(e,t,n){"use strict";var r=n(12),o=n(1),a=n(2285),i=n(206),s=n(43),c=n(525),l=n(127),u=n(138),d=n(7);t.a=function(e){var t=e.identifier,n=e.show,p=e.touchScreenMessage,b=e.message,h=o.useContext(s.a),j=o.useContext(u.a),f=Object(c.b)();return l.b?null:Object(d.jsx)(a.a,{open:n&&!h.values.hiddenAlertMessages[t],message:"touch"===f&&p?p:b,action:Object(d.jsx)(i.a,{color:"light"===j.palette.type?"secondary":"primary",size:"small",onClick:function(){h.showAlertMessage(t,!1)},children:Object(d.jsx)(r.Trans,{id:"Got it"})},"undo")})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return m})),n.d(t,"l",(function(){return O})),n.d(t,"k",(function(){return v})),n.d(t,"m",(function(){return x})),n.d(t,"a",(function(){return y})),n.d(t,"p",(function(){return C})),n.d(t,"r",(function(){return T})),n.d(t,"q",(function(){return E}));var r=n(2),o=n(4),a=n(45),i=n(681),s=n.n(i),c=function(){return{selectedInstructions:{},selectedEvents:{},selectedInstructionsLists:{}}},l=function(e){return s()(e.selectedEvents).map((function(e){return e.event}))},u=function(e){return s()(e.selectedEvents)},d=function(e){return s()(e.selectedInstructions).map((function(e){return e.instruction}))},p=function(e){return s()(e.selectedInstructions).map((function(e){return e.locatingEvent}))},b=function(e){return s()(e.selectedInstructions)},h=function(e){return s()(e.selectedInstructionsLists)},j=function(e,t){return!!e.selectedEvents[t.ptr]},f=function(e,t){return!!e.selectedInstructions[t.ptr]},g=function(e){return!!Object.keys(e.selectedEvents).length},m=function(e){return!!Object.keys(e.selectedInstructions).length},O=function(e){var t,n=Object(a.a)(b(e));try{for(n.s();!(t=n.n()).done;){if(t.value.isCondition)return!0}}catch(r){n.e(r)}finally{n.f()}return!1},v=function(e){return!!Object.keys(e.selectedInstructionsLists).length},x=function(e){return m(e)||v(e)||g(e)},y=function(){return c()},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.event;if(j(e,a))return e;var i=n?e:y();return Object(o.a)(Object(o.a)({},i),{},{selectedEvents:Object(o.a)(Object(o.a)({},i.selectedEvents),{},Object(r.a)({},a.ptr,t))})},T=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n.instruction;if(f(t,i))return t;var s=a?t:y();return Object(o.a)(Object(o.a)({},s),{},{selectedInstructions:Object(o.a)(Object(o.a)({},s.selectedInstructions),{},Object(r.a)({},i.ptr,Object(o.a)(Object(o.a)({},n),{},{locatingEvent:e})))})},E=function(e){var t=c();return e.forEach((function(e){t.selectedEvents[e.event.ptr]=e})),t}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(18),o=n(2),a=n(4),i=n(1524),s=n.n(i),c=n(1527),l=n.n(c),u=function(e){var t={};return e.forEach((function(e){var n=l()(e.fullGroupName.split("/"));n.length||(n=[""]),s()(t,n,(function(t){var n=t||{};return Object(a.a)(Object(a.a)({},n),{},Object(o.a)({},e.displayedName,e))}))})),t},d=function e(t,n){if(!n)return null;for(var o=Object.keys(t),a=0;a<o.length;++a){var i=o[a],s=t[i];if(!s)return null;if("string"===typeof s.type){if(s.type===n)return[]}else{var c=e(s,n);if(c)return[i].concat(Object(r.a)(c))}}return null}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=e.gd,o=function(e,t){return e.filter((function(e){if(!e.isPrivate)return!0;var n,o,a=e.scope,i=a.behaviorMetadata,s=a.extension,c=t.eventsBasedBehavior,l=t.eventsFunctionsExtension;return!!(i&&c&&l&&(n=l.getName(),o=c.getName(),n+r.PlatformExtension.getNamespaceSeparator()+o===i.getName()))||!(i||!l||l.getName()!==s.getName())}))}}).call(this,n(28))},function(e,t,n){"use strict";n(1);var r=n(494),o=n(7),a={oneColumnContainer:{display:"flex",flexDirection:"column"},twoColumnsContainer:{display:"flex"}};t.a=function(e){return"small"===e.windowWidth?Object(o.jsxs)("div",{style:a.oneColumnContainer,className:e.className,children:[e.renderConditionsList({style:{},className:"".concat(r.c," ").concat(r.u)}),e.renderActionsList({style:{},className:"".concat(r.a," ").concat(r.u)})]}):Object(o.jsxs)("div",{style:a.twoColumnsContainer,className:e.className,children:[e.renderConditionsList({style:{width:"calc(35vw - ".concat(e.leftIndentWidth,"px)")},className:r.c}),e.renderActionsList({className:r.a})]})}},function(e,t,n){"use strict";var r=n(598);t.a=function(e){var t=e.tutorialId;return Object(r.a)(t).DismissableTutorialMessage}},,,,,,,,,function(e,t,n){"use strict";var r=n(4),o=n(26),a=n(1),i=n.n(a),s=n(12),c=n(2113),l=n(209),u=n(9),d=n(8),p=n(20),b=n.n(p),h=b()("electron"),j=b()("@electron/remote"),f=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"buildFromTemplate",value:function(e){this.menuTemplate=e}},{key:"showMenu",value:function(e){if(h){var t=j.Menu,n=j.getCurrentWindow();this.menu=t.buildFromTemplate(this.menuTemplate),this.menu.popup({window:n,x:Math.round(e.left),y:Math.round(e.top+e.height),async:!0})}}},{key:"getMenuProps",value:function(){return{open:!1}}}]),e}(),g=n(2162),m=n(1181),O=n.n(m),v=n(1183),x=n.n(v),y=n(1184),C=n.n(y),T=n(2167),E=n(2168),k=n(2166),w=n(7),S=function(e){var t=e.item,n=e.buildFromTemplate,r=Object(a.useState)(!1),s=Object(o.a)(r,2),u=s[0],d=s[1],p=Object(a.useRef)(null),b=Object(a.useCallback)((function(e){p.current=e}),[]);return Object(w.jsxs)(i.a.Fragment,{children:[Object(w.jsxs)(g.a,{dense:!0,disabled:!1===t.enabled,onClick:function(e){!1!==t.enabled&&(p.current||b(e.currentTarget),d(!u))},children:[t.label,Object(w.jsx)(O.a,{})]},t.label),Object(w.jsx)(c.a,{open:u,anchorEl:p.current,onClose:function(){return d(!1)},TransitionComponent:l.a,children:n(t.submenu)})]})},P=function(){function e(t){var n=t.onClose;Object(u.a)(this,e),this._onClose=n}return Object(d.a)(e,[{key:"buildFromTemplate",value:function(e){var t=this;return e.map((function(e,n){return!1===e.visible?null:"separator"===e.type?Object(w.jsx)(k.a,{},"separator"+n):"checkbox"===e.type?Object(w.jsxs)(g.a,{dense:!0,checked:e.checked,disabled:!1===e.enabled,onClick:function(){!1!==e.enabled&&(e.click&&e.click(),t._onClose())},children:[Object(w.jsx)(T.a,{children:e.checked?Object(w.jsx)(x.a,{}):Object(w.jsx)(C.a,{})}),Object(w.jsx)(E.a,{primary:e.label})]},"checkbox"+e.label):e.submenu?Object(w.jsx)(S,{item:e,buildFromTemplate:function(e){return t.buildFromTemplate(e)}},"submenu"+e.label):Object(w.jsx)(g.a,{dense:!0,disabled:!1===e.enabled,onClick:function(){!1!==e.enabled&&e.click&&(e.click(),t._onClose())},children:e.label},"item"+e.label)})).filter(Boolean)}},{key:"showMenu",value:function(){}},{key:"getMenuProps",value:function(){return{}}}]),e}(),I=b()("electron"),_=i.a.forwardRef((function(e,t){var n=i.a.useState([0,0]),a=Object(o.a)(n,2),u=a[0],d=a[1],p=i.a.useState(!1),b=Object(o.a)(p,2),h=b[0],j=b[1],f=i.a.useState({}),g=Object(o.a)(f,2),m=g[0],O=g[1],v=new P({onClose:function(){return j(!1)}}),x=function(e,t,n){d([e,t]),O(n),j(!0)};return i.a.useImperativeHandle(t,(function(){return{open:x}})),h?Object(w.jsx)(s.I18n,{children:function(t){var n=t.i18n;return Object(w.jsx)(c.a,Object(r.a)(Object(r.a)({open:!0,anchorPosition:{left:u[0],top:u[1]},anchorReference:"anchorPosition",onClose:function(){return j(!1)},TransitionComponent:l.a},v.getMenuProps()),{},{children:v.buildFromTemplate(e.buildMenuTemplate(n,m))}))}}):null})),A=i.a.forwardRef((function(e,t){var n=new f,r=function(t,r,o){n.buildFromTemplate(e.buildMenuTemplate(e.i18n,o)),n.showMenu({left:t||0,top:r||0,width:0,height:0})};return i.a.useImperativeHandle(t,(function(){return{open:r}})),null})),N=i.a.forwardRef((function(e,t){var n=i.a.useRef(null);return i.a.useImperativeHandle(t,(function(){return{open:function(e,t,r){n.current&&n.current.open(e,t,r)}}})),Object(w.jsx)(s.I18n,{children:function(t){var o=t.i18n;return Object(w.jsx)(A,Object(r.a)(Object(r.a)({},e),{},{i18n:o,ref:n}))}})}));t.a=I?N:_},function(e,t,n){"use strict";var r=n(1),o=n(477),a=n(535),i=n(9),s=n(8),c=n(13),l=n(14),u=n(969),d=n(7),p=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state=r._loadFrom(e),r}return Object(s.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.resourceName===this.props.resourceName&&e.project===this.props.project||this.setState(this._loadFrom(e))}},{key:"_loadFrom",value:function(e){var t=e.project,n=e.resourceName,r=t.getResourcesManager();return{resourceKind:r.hasResource(n)?r.getResource(n).getKind():null}}},{key:"render",value:function(){return"image"===this.state.resourceKind?Object(d.jsx)(u.a,{project:this.props.project,resourceName:this.props.resourceName,resourcesLoader:this.props.resourcesLoader,style:this.props.style,selectable:this.props.selectable,selected:this.props.selected,onSelect:this.props.onSelect,onContextMenu:this.props.onContextMenu}):null}}]),n}(r.Component),b={container:{flex:1,display:"flex",alignItems:"flex-end"},selectorContainer:{flex:1},resourceThumbnail:{marginLeft:10,marginBottom:4}};t.a=function(e){var t=e.project,n=e.resourceSources,r=e.onChooseResource,i=e.resourceExternalEditors,s=e.resourceKind,c=e.resourceName,l=e.onChange,u=e.floatingLabelText,h=e.hintText;return Object(d.jsxs)("div",{style:b.container,children:[Object(d.jsx)("div",{style:b.selectorContainer,children:Object(d.jsx)(a.a,{project:t,resourceSources:n,onChooseResource:r,resourceExternalEditors:i,resourcesLoader:o.a,resourceKind:s,fullWidth:!0,initialResourceName:c,onChange:l,floatingLabelText:u,hintText:h})}),Object(d.jsx)(p,{resourceName:c,resourcesLoader:o.a,project:t,style:b.resourceThumbnail})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(1),c=n(511),l=n(4),u=n(485),d=n(513),p=n(469),b=n(500),h=n(101),j=n(635),f=n(7),g={textField:{top:p.c}},m=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;!e.editingName&&this.props.editingName&&setTimeout((function(){t.textField&&t.textField.focus()}),100)}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,r=t.itemName,o=t.id,a=t.renderItemLabel,i=t.isBold,s=t.selected,c=t.getThumbnail,m=t.errorStatus,O=t.onEdit,v=t.onItemSelected,x=t.hideMenuButton,y=t.scaleUpItemIconWhenSelected,C=t.connectIconDragSource;return Object(f.jsx)(b.a,{children:function(t){var b=e.props.editingName?Object(f.jsx)(p.b,{id:"rename-item-field",margin:"none",ref:function(t){return e.textField=t},defaultValue:r,onBlur:function(t){return e.props.onRename(t.currentTarget.value)},onKeyPress:function(t){Object(h.g)(t)&&e.textField&&e.textField.blur()},fullWidth:!0,style:g.textField}):Object(f.jsx)("div",{title:"string"===typeof r?r:void 0,style:Object(l.a)(Object(l.a)({},j.a),{},{color:s?t.listItem.selectedTextColor:void 0,fontStyle:i?"italic":void 0,fontWeight:i?"bold":"normal"}),children:a?a():r}),T={borderBottom:"1px solid ".concat(t.listItem.separatorColor),backgroundColor:s?""===m?t.listItem.selectedBackgroundColor:"error"===m?t.listItem.selectedErrorBackgroundColor:t.listItem.selectedWarningBackgroundColor:void 0,color:""===m?void 0:"error"===m?t.listItem.errorTextColor:t.listItem.warningTextColor},E=c?Object(f.jsx)(d.a,{iconSize:24,src:c(),cssAnimation:y&&s?"scale-and-jiggle 0.8s forwards":""}):null;return Object(f.jsx)(u.b,{style:Object(l.a)({},T),primaryText:b,leftIcon:C&&E?C(Object(f.jsx)("div",{children:E})):E,displayMenuButton:!x,rightIconColor:s?t.listItem.selectedRightIconColor:t.listItem.rightIconColor,buildMenuTemplate:e.props.buildMenuTemplate,onClick:function(){v&&(e.props.editingName||v(s?null:n))},onDoubleClick:function(t){0===t.button&&O&&(e.props.editingName||(v(null),O(n)))},id:o})}})}}]),n}(s.Component),O=m,v=n(898),x=n(563),y=n(761),C=n(86),T=n(525),E=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).DragSourceAndDropTarget=Object(x.a)(e.props.reactDndType),e}return Object(o.a)(n,[{key:"forceUpdateGrid",value:function(){this._list&&this._list.forceUpdateGrid()}},{key:"_renderItemRow",value:function(e,t,n,r){var o=this,a=this.props,i=a.selectedItems,s=a.getItemThumbnail,c=a.erroredItems,l=a.isItemBold,u=a.onEditItem,d=a.renamedItem,p=a.getItemName,b=a.getItemId,h=a.renderItemLabel,j=a.scaleUpItemIconWhenSelected,g=d===e,m=p(e);return Object(f.jsx)(O,{item:e,itemName:m,id:b?b(e,t):void 0,renderItemLabel:h?function(){return h(e)}:void 0,isBold:!!l&&l(e),onRename:function(t){return o.props.onRename(e,t)},editingName:g,getThumbnail:s?function(){return s(e)}:void 0,selected:-1!==i.indexOf(e),onItemSelected:this.props.onItemSelected,errorStatus:c&&c[m]||"",buildMenuTemplate:function(){return o.props.buildMenuTemplate(e,t)},onEdit:u,hideMenuButton:"small"===n,scaleUpItemIconWhenSelected:j,connectIconDragSource:r||null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,r=t.width,o=t.fullList,a=t.addNewItemLabel,i=t.addNewItemId,s=t.renamedItem,l=t.getItemThumbnail,d=t.onAddNewItem,p=t.onMoveSelectionToItem,b=t.canMoveSelectionToItem,h=t.selectedItems,j=this.DragSourceAndDropTarget;return Object(f.jsx)(C.a,{children:function(t){return Object(f.jsx)(T.a,{children:function(g){return Object(f.jsx)(c.f,{ref:function(t){return e._list=t},height:n,rowCount:o.length+(d?1:0),rowHeight:l?u.c:u.d,rowRenderer:function(n){var r=n.index,c=n.key,l=n.style;if(r>=o.length)return Object(f.jsx)("div",{style:l,children:Object(f.jsx)(v.a,{onClick:d,primaryText:a,id:i})},c);var u=o[r],m=s===u,O=-1!==h.indexOf(u);return Object(f.jsx)("div",{style:l,children:Object(f.jsx)(j,{beginDrag:function(){return O||e.props.onItemSelected(u),{}},canDrag:function(){return!m},canDrop:function(){return!b||b(u)},drop:function(){p(u)},children:function(n){var o=n.connectDragSource,a=n.connectDropTarget,i=n.isOver,s=n.canDrop,c="touch"===g&&!O,l=a(Object(f.jsxs)("div",{children:[i&&Object(f.jsx)(y.a,{canDrop:s}),e._renderItemRow(u,r,t,c?o:null)]}));return l?c?l:o(l):null}})},c)},width:r})}})}})}}]),n}(s.Component)},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(7),u={hasUnsavedChanges:!1,sealUnsavedChanges:function(){},triggerUnsavedChanges:function(){}},d=c.createContext(u);t.b=d;var p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={hasUnsavedChanges:!1},e.triggerUnsavedChanges=function(){e.state.hasUnsavedChanges||e.setState({hasUnsavedChanges:!0})},e.sealUnsavedChanges=function(){e.state.hasUnsavedChanges&&e.setState({hasUnsavedChanges:!1})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=Object(r.a)(Object(r.a)({},this.state),{},{triggerUnsavedChanges:this.triggerUnsavedChanges,sealUnsavedChanges:this.sealUnsavedChanges});return Object(l.jsx)(d.Provider,{value:e,children:this.props.children})}}]),n}(c.Component)},,,,,,,,function(e,t,n){"use strict";var r=n(12),o=n(1),a=n(559),i=n(35),s=n(599),c=n(756),l=n.n(c),u=n(7);t.a=function(e){var t=o.useContext(s.a).tutorials;if(!t||!e.tutorialId)return e.renderIfNotFound||null;var n=t.find((function(t){return t.id===e.tutorialId}));return n?Object(u.jsx)(a.a,{onClick:function(){n.link&&i.b.openExternalURL(n.link)},target:"_blank",label:Object(u.jsx)(r.Trans,{id:"{0}",values:{0:e.label||"Tutorial"}}),icon:Object(u.jsx)(l.a,{})}):(console.warn("Tutorial with id ".concat(e.tutorialId||""," not found")),e.renderIfNotFound||null)}},,function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(62),o=n(681),a=n.n(o),i=e.gd,s=function(e){return/^([A-Za-z]{1}[A-Za-z\d_]*\.)+[A-Za-z][A-Za-z\d_]*$/i.test(e)},c=function(e,t){var n={},r=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";n[e]||(n[e]=[]),n[e].push({type:t,message:r,extraExplanation:o})};return t.getPackageName()?t.getPackageName().length>=255?r("packageName","error",e("The package name is too long."),e("Change the package name in the game properties.")):s(t.getPackageName())||r("packageName","error",e('The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'),e("Change the package name in the game properties.")):r("packageName","error",e("The package name is empty."),e("Choose and enter a package name in the game properties.")),t.getName()||r("name","error",e("The name of your game is too long."),e("Change the name in the game properties.")),(!t.getVersion()||t.getVersion().split(".").length<3)&&r("packageName","error",e("The version that you've set for the game is invalid."),e("Enter a version in the game properties.")),n},l=function(e,t){return!Object.keys(t).length||(Object(r.a)({message:e("Your game has some invalid elements, please fix these before continuing:")+"\n\n"+a()(t).map((function(e){return e.map((function(e){return"- ".concat(e.message)})).join("\n")})).join("\n"),rawError:void 0,errorId:"project-invalid-settings-error",doNotReport:!0}),!1)},u=function(e){for(var t=i.WholeProjectRefactorer.findInvalidRequiredBehaviorProperties(e),n=0;n<t.size();n++){var r=t.at(n),o=i.WholeProjectRefactorer.getBehaviorsWithType(r.getSourceObject(),r.getExpectedBehaviorTypeName()).toJSArray();console.error('Invalid value for required behavior property "'.concat(r.getSourcePropertyName(),'" in object ').concat(r.getSourceObject().getName()," for behavior ").concat(r.getSourceBehaviorContent().getName(),".")),console.info("Expected behavior of type ".concat(r.getExpectedBehaviorTypeName(),". Possibles values are: ").concat(o.join(", ")||"(none)","."))}}}).call(this,n(28))},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(12),c=n(1),l=n(790),u=n(490),d=n(478),p=n(30),b=n(80),h=n(62),j=n(518),f=n(480),g=n(137),m=n(529),O=n(968),v=n.n(O),x=n(1157),y=n(7),C=function(e){var t=e.project,n=e.hideIfRegistered,a=e.hideIfSubscribed,s=e.hideLoader,l=e.onGameRegistered,d=c.useContext(u.a),p=d.authenticated,b=d.onLogin,j=d.onCreateAccount,f=d.getAuthorizationHeader,g=d.profile,O=d.onAcceptGameStatsEmail,v=c.useState(null),x=Object(o.a)(v,2),C=x[0],E=x[1],k=c.useState(null),w=Object(o.a)(k,2),S=w[0],P=w[1],I=c.useState(null),_=Object(o.a)(I,2),A=_[0],N=_[1],R=c.useState(!1),L=Object(o.a)(R,2),M=L[0],F=L[1],D=c.useState(!1),B=Object(o.a)(D,2),U=B[0],V=B[1],W=c.useState(!1),G=Object(o.a)(W,2),z=G[0],H=G[1],Y=c.useState("details"),q=Object(o.a)(Y,2),X=q[0],K=q[1],J=c.useCallback(Object(r.a)(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g&&t){e.next=2;break}return e.abrupt("return");case 2:return n=g.id,E(null),e.prev=4,e.next=7,Object(m.e)(f,n,t.getProjectUuid());case 7:r=e.sent,P(null),N(r),e.next=25;break;case 12:if(e.prev=12,e.t0=e.catch(4),console.error(e.t0),!e.t0.response){e.next=24;break}if(403!==e.t0.response.status){e.next=21;break}return P("unauthorized"),e.abrupt("return");case 21:if(404!==e.t0.response.status){e.next=24;break}return P("not-existing"),e.abrupt("return");case 24:E(e.t0);case 25:case"end":return e.stop()}}),e,null,[[4,12]])}))),[t,f,g]),Z=c.useCallback(Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g&&t){e.next=2;break}return e.abrupt("return");case 2:return n=g.id,F(!0),e.prev=4,e.next=7,Object(m.k)(f,n,{gameId:t.getProjectUuid(),authorName:t.getAuthor()||"Unspecified publisher",gameName:t.getName()||"Untitled game",templateSlug:t.getTemplateSlug()});case 7:J(),l&&l(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Unable to register the game",e.t0),Object(h.a)({rawError:e.t0,errorId:"register-game-error",message:"Unable to register the game. Verify your internet connection or try again later."});case 15:F(!1);case 16:case"end":return e.stop()}}),e,null,[[4,11]])}))),[f,g,t,J,l]),Q=c.useCallback(Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g&&t){e.next=2;break}return e.abrupt("return");case 2:return V(!0),e.prev=3,e.next=6,O();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("Unable to accept game stats email.",e.t0),Object(h.a)({rawError:e.t0,errorId:"game-stats-email-error",message:"Unable to accept game stats email.  Verify your internet connection or try again later."});case 12:V(!1);case 13:case"end":return e.stop()}}),e,null,[[3,8]])}))),[g,t,O]);return c.useEffect((function(){A||J()}),[J,A]),Object(y.jsx)(T,{authenticated:p,profile:g,onLogin:b,onCreateAccount:j,project:t,game:A,setGame:N,loadGame:J,onRegisterGame:Z,registrationInProgress:M,hideIfRegistered:n,hideIfSubscribed:a,unavailableReason:S,acceptGameStatsEmailInProgress:U,onAcceptGameStatsEmail:Q,detailsInitialTab:X,setDetailsInitialTab:K,detailsOpened:z,setDetailsOpened:H,error:C,hideLoader:s})},T=function(e){var t=e.authenticated,n=e.profile,r=e.onLogin,o=e.onCreateAccount,a=e.project,i=e.game,c=e.setGame,u=e.loadGame,h=e.onRegisterGame,m=e.registrationInProgress,O=e.hideIfRegistered,C=e.hideIfSubscribed,T=e.unavailableReason,E=e.acceptGameStatsEmailInProgress,k=e.onAcceptGameStatsEmail,w=e.detailsInitialTab,S=e.setDetailsInitialTab,P=e.detailsOpened,I=e.setDetailsOpened,_=e.error,A=e.hideLoader;return a?t&&n?"not-existing"===T?Object(y.jsx)(d.a,{kind:"info",renderRightButton:function(){return Object(y.jsx)(g.a,{label:Object(y.jsx)(s.Trans,{id:"Register the project"}),disabled:m,primary:!0,onClick:h})},children:Object(y.jsx)(s.Trans,{id:"This project is not registered online. Register it now to get access to metrics collected anonymously, like the number of daily players and retention of the players after a few days."})}):"unauthorized"===T?Object(y.jsx)(d.a,{kind:"error",children:Object(y.jsx)(s.Trans,{id:"This project is registered online but you don't have access to it. Ask the original owner of the game to share it with you to get access to the game metrics."})}):_?Object(y.jsxs)(j.a,{onRetry:function(){u()},children:[Object(y.jsx)(s.Trans,{id:"Can't check if the game is registered online."})," ",Object(y.jsx)(s.Trans,{id:"Verify your internet connection or try again later."})]}):i?O?null:n.getGameStatsEmail?C?null:Object(y.jsxs)(b.a,{noMargin:!0,children:[Object(y.jsx)(p.c,{justifyContent:"center",children:Object(y.jsx)(g.a,{icon:Object(y.jsx)(v.a,{}),label:Object(y.jsx)(s.Trans,{id:"Analytics"}),onClick:function(){S("analytics"),I(!0)}})}),P&&Object(y.jsx)(x.a,{game:i,project:a,initialTab:w,onClose:function(){I(!1)},onGameUpdated:function(e){c(e)},onGameDeleted:function(){I(!1),u()}})]}):Object(y.jsx)(d.a,{kind:"info",renderRightButton:function(){return Object(y.jsx)(g.a,{label:Object(y.jsx)(s.Trans,{id:"Get game stats"}),disabled:E,primary:!0,onClick:k})},children:Object(y.jsx)(s.Trans,{id:"Get stats about your game every week!"})}):A?null:Object(y.jsx)(f.a,{}):Object(y.jsx)(l.a,{onLogin:r,onCreateAccount:o}):null}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(63),o=n.n(r),a=n(53),i=function(){return[{planId:"gdevelop_pro",name:"GDevelop Pro",monthlyPriceInEuros:7,smallDescription:{id:"Ideal for advanced game makers"},descriptionBullets:[{message:{id:"Package your game for Android up to 70 times a day (every 24 hours)."}},{message:{id:"One-click packaging for Windows, macOS and Linux up to 70 times a day (every 24 hours)."}},{message:{id:"Immerse your players by removing GDevelop logo when the game loads."}}],extraDescription:{id:"You'll also have access to online packaging for iOS or other services when they are released."}},{planId:"gdevelop_indie",name:"GDevelop Indie",monthlyPriceInEuros:2,smallDescription:{id:"Ideal for beginners"},descriptionBullets:[{message:{id:"Package your game for Android up to 10 times a day (every 24 hours)."}},{message:{id:"One-click packaging for Windows, macOS and Linux up to 10 times a day (every 24 hours)."}},{message:{id:"Immerse your players by removing GDevelop logo when the game loads"}}],extraDescription:{id:"You'll also have access to online packaging for iOS or other services when they are released."}},{planId:null,name:"No subscription",monthlyPriceInEuros:0,descriptionBullets:[{message:{id:"You can use GDevelop for free! Online packaging for Android, Windows, macOS and Linux is limited to twice a day (every 24 hours) to avoid overloading the services."}}]}]},s=function(e,t){return e().then((function(e){return o.a.get("".concat(a.j.baseUrl,"/usage"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},c=function(e,t){return e().then((function(e){return o.a.get("".concat(a.j.baseUrl,"/limits"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data.limits}))},l=function(e,t){return e().then((function(e){return o.a.get("".concat(a.j.baseUrl,"/subscription-v2"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},u=function(e,t,n){return e().then((function(e){return o.a.post("".concat(a.j.baseUrl,"/subscription-v2"),n,{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},d=function(e){return o.a.post("".concat(a.j.baseUrl,"/upload-options/signed-url"),e).then((function(e){return e.data}))},p=function(e,t,n){return"".concat(a.j.baseUrl,"/subscription-v2/redirect-to-checkout?planId=").concat(encodeURIComponent(e),"&clientReferenceId=").concat(encodeURIComponent(t),"&customerEmail=").concat(encodeURIComponent(n))}},function(e,t,n){"use strict";var r=n(3),o=n(0),a=n.n(o),i=n(1),s={leaderboards:null,currentLeaderboard:null,displayOnlyBestEntry:!1,browsing:{entries:null,goToNextPage:null,goToPreviousPage:null,goToFirstPage:null},createLeaderboard:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),listLeaderboards:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),selectLeaderboard:function(){},setDisplayOnlyBestEntry:function(){},updateLeaderboard:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),resetLeaderboard:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),deleteLeaderboard:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),deleteLeaderboardEntry:function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchLeaderboardEntries:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},c=i.createContext(s);t.a=c},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b}));var r=n(26),o=n(45),a=n(1),i=n(974),s=n.n(i),c=n(803),l={minMatchCharLength:1,threshold:.35,includeMatches:!0,ignoreLocation:!0},u=function(e,t){var n=t.toLowerCase();return e.indices.map((function(r){var o=e.value.slice(r[0],r[1]+1).toLowerCase();if(o===n)return r;var a=o.indexOf(n);return-1!==a?[r[0]+a,r[0]+a+t.length-1]:void 0})).filter(Boolean)},d=function(e,t){return e.matches.map((function(e){return{key:e.key,value:e.value,indices:u(e,t)}}))},p=function(e,t,n){if(!e)return null;var r=performance.now(),a=e.filter((function(e){var n=e.item.tags;if(!t)return!0;if(!(t.node.isTagContainerOnly||n.some((function(e){return e===t.node.name}))))return!1;var r,a=Object(o.a)(t.parentNodes);try{var i=function(){var e=r.value;return e.isTagContainerOnly?{v:!0}:n.some((function(t){return t===e.name}))?void 0:{v:!1}};for(a.s();!(r=a.n()).done;){var s=i();if("object"===typeof s)return s.v}}catch(c){a.e(c)}finally{a.f()}return!0})).filter((function(e){var t=e.item.tags;return 0===n.size||t.some((function(e){return n.has(e)}))})),i=performance.now()-r;return console.info("Filtered items by category/filters in ".concat(i.toFixed(3),"ms.")),a},b=function(e,t,n,o){var i=a.useRef(null),l=a.useState(null),u=Object(r.a)(l,2),b=u[0],h=u[1],j=a.useMemo((function(){return e&&Object.keys(e).length?s()(Object.keys(e).map((function(t){return{item:e[t],matches:[]}}))):null}),[e]);a.useEffect((function(){if(e){var t=performance.now();i.current&&(i.current=null);try{var n=new c.a(Object.values(e),{keys:[{name:"name",weight:2},{name:"fullName",weight:5},{name:"shortDescription",weight:1}],minMatchCharLength:2,threshold:.35,includeMatches:!0,ignoreLocation:!0}),r=performance.now()-t;console.info("Indexed ".concat(Object.keys(e).length," items in ").concat(r.toFixed(3),"ms.")),i.current=n}catch(o){console.error("Error while indexing items: ",o)}}}),[e]);var f=i.current;return a.useEffect((function(){var r=!1;if(t){if(!e||!f)return void console.info("Search for items skipped because items are not ready - will be retried when ready");var a=performance.now(),i=f.search("'".concat(t)),s=performance.now()-a;if(console.info("Found ".concat(i.length," items in ").concat(s.toFixed(3),"ms.")),r)return void console.info("Discarding search results as a new search was launched.");h(p(i.map((function(e){return{item:e.item,matches:d(e,t)}})),n,o))}else h(p(j,n,o));return function(){r=!0}}),[j,e,t,n,o,f]),b}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(12),o=n(1),a=n(480),i=n(518),s=n(804),c=n(511),l=n(470),u=n(7),d={container:{flex:1},grid:{overflowX:"hidden"}},p=function(e){var t=e.disableAutoTranslate,n=e.searchItems,p=e.getSearchItemUniqueId,b=e.renderSearchItem,h=e.error,j=e.onRetry,f=o.useRef(null),g=o.useRef(0),m=o.useRef({}),O=o.useCallback((function(e,t){return m.current[p(e)]!==t&&(m.current[p(e)]=t,!0)}),[p]),v=o.useCallback((function(e){var t=e.index;if(!n||!n[t])return 90;var r=n[t];return m.current[p(r)]||90}),[n,p]),x=o.useCallback((function(e){var t=e.key,r=e.rowIndex,o=e.style;if(!n)return null;var a=n[r];return a?Object(u.jsx)("div",{style:o,children:b(a,(function(e){O(a,e)&&f.current&&f.current.recomputeGridSize(0,r)}))},t):null}),[n,O,b]);return n?0===n.length?Object(u.jsx)(l.a,{children:Object(u.jsx)(r.Trans,{id:"No results returned for your search. Try something else or typing at least 2 characters."})}):Object(u.jsx)(s.a,{children:Object(u.jsx)("div",{style:d.container,className:t?"notranslate":"",children:Object(u.jsx)(c.a,{children:function(e){var t=e.width,r=e.height;return t&&r?(g.current!==t&&(m.current={},g.current=t),Object(u.jsx)(c.e,{ref:function(e){e&&e.recomputeGridSize(0,0),f.current=e},width:t,height:r,columnCount:1,columnWidth:t,rowHeight:v,rowCount:n.length,cellRenderer:x,style:d.grid})):null}})})}):h?Object(u.jsx)(i.a,{onRetry:j,children:Object(u.jsx)(r.Trans,{id:"Can't load the results. Verify your internet connection or retry later."})}):Object(u.jsx)(a.a,{})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),o=n(560),a=n(985),i=n.n(a),s=n(984),c=n(7),l={chip:{marginRight:2}},u=function(e){var t=e.user,n=e.isClickable,a=void 0!==n&&n,u=r.useContext(s.a).openUserPublicProfile;return Object(c.jsx)(o.a,{icon:Object(c.jsx)(i.a,{}),size:"small",style:l.chip,label:t.username,onClick:a?function(){return u(t.id)}:null},t.username)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),o=n(994),a=n(995),i=n(7),s=r.createContext(new o.a),c=function(e){var t=Object(a.a)((function(){return new o.a}));return Object(i.jsx)(s.Provider,{value:t,children:e.children})};t.b=s},function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return m}));var r=n(11),o=n(4),a=n(1),i=n(2202),s=n(2199),c=n(2200),l=(n(2201),n(595)),u=n.n(l),d=n(471),p=n(138),b=n(7),h=["costlyBody"],j={bodyRoot:{padding:0}},f=function(e){return Object(b.jsxs)(s.a,{expandIcon:e.expandIcon||Object(b.jsx)(d.a,{size:"small",children:Object(b.jsx)(u.a,{})}),children:[Object(b.jsx)("div",{style:{flexGrow:1,display:"flex",alignItems:"center"},children:e.children}),e.actions&&Object(b.jsx)("div",{style:{flexGrow:0,flexShrink:0,alignSelf:"center"},children:e.actions})]})},g=function(e){return Object(b.jsx)(c.a,{style:Object(o.a)(Object(o.a)({},e.disableGutters&&j.bodyRoot),e.style),children:e.children})},m=function(e){var t=e.costlyBody,n=Object(r.a)(e,h),s=a.useContext(p.a);return Object(b.jsx)(i.a,Object(o.a)(Object(o.a)({},n),{},{square:!0,elevation:0,style:{border:"1px solid ".concat(s.toolbar.separatorColor)},TransitionProps:{unmountOnExit:!!t}}))}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(489),d=n.n(u),p=n(803),b=n(485),h=n(501),j=n(650),f=n(500),g=n(1018),m=n(1019),O=n(470),v=n(484),x=n(30),y=n(137),C=n(612),T=n(80),E=n(699),k=n(7),w=e.gd,S=function(e){return w.JsPlatform.get().getInstructionOrExpressionGroupMetadata(e).getIcon()},P=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={searchText:"",searchResults:[]},e._scrollView=l.createRef(),e._selectedItem=l.createRef(),e.searchApi=null,e.initialInstructionTypePath=Object(j.b)(e.props.instructionsInfoTree,e.props.selectedType),e.focus=function(){e._searchBar&&e._searchBar.focus()},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&Object(h.b)()&&this._searchBar&&this._searchBar.focus(),this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current),this.searchApi=new p.a(this.props.instructionsInfo,Object(r.a)(Object(r.a)({},E.a),{},{keys:[{name:"displayedName",weight:2},{name:"fullGroupName",weight:1}]}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedType,o=t.iconSize,a=t.instructionsInfoTree,i=t.onChoose,s=t.searchPlaceholderObjectName,l=t.searchPlaceholderIsCondition,u=t.useSubheaders,p=t.helpPagePath,j=t.style,w=t.onClickMore,P=t.id,I=this.state.searchText,_=I&&this.searchApi?this.searchApi.search("'".concat(I)).map((function(e){return{item:e.item,matches:Object(E.b)(e,I)}})):[],A=!I||!!_.length,N=function(){_.length&&i(_[0].item.type,_[0].item)};return Object(k.jsx)(f.a,{children:function(t){return Object(k.jsxs)("div",{style:Object(r.a)({backgroundColor:t.list.itemsBackgroundColor},j),id:P,children:[Object(k.jsx)(h.a,{value:I,onChange:function(t){return e.setState({searchText:t})},onRequestSearch:N,aspect:"integrated-search-bar",placeholder:s?l?{id:"Search {searchPlaceholderObjectName} conditions",values:{searchPlaceholderObjectName:s}}:{id:"Search {searchPlaceholderObjectName} actions",values:{searchPlaceholderObjectName:s}}:void 0,helpPagePath:p,ref:function(t){return e._searchBar=t}}),Object(k.jsxs)(v.a,{ref:e._scrollView,children:[A&&Object(k.jsx)(b.a,{children:I?_.map((function(e){var t=e.item,r=e.matches;return Object(g.a)({instructionOrExpressionMetadata:t,iconSize:o,onClick:function(){return i(t.type,t)},matches:r,selectedValue:Object(C.b)(n)})})):Object(k.jsxs)(k.Fragment,{children:[Object(m.a)({instructionTreeNode:a,iconSize:o,onChoose:i,useSubheaders:u,selectedValue:Object(C.b)(n),initiallyOpenedPath:e.initialInstructionTypePath,selectedItemRef:e._selectedItem,getGroupIconSrc:S}),w&&Object(k.jsx)(T.c,{justifyContent:"center",children:Object(k.jsx)(y.a,{primary:!0,icon:Object(k.jsx)(d.a,{}),onClick:w,label:Object(k.jsx)(c.Trans,{id:"Add a new behavior to the object"})})})]})}),!A&&Object(k.jsx)(x.c,{children:Object(k.jsx)(O.a,{children:Object(k.jsx)(c.Trans,{id:"Nothing corresponding to your search. Try browsing the list instead."})})})]})]})}})}}]),n}(l.PureComponent)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return j}));var r=n(465),o=n(1578),a=e.gd,i=function(e,t){var n=t.getFullName()||t.getName();e.setExtensionInformation(t.getName(),n,t.getDescription(),t.getAuthor(),"").setExtensionHelpPath(t.getHelpPath()).setIconUrl(t.getIconUrl()),n&&e.addInstructionOrExpressionGroupMetadata(n).setIcon(t.getIconUrl()),t.getCategory()&&e.setCategory(t.getCategory()),s(e,t)},s=function(e,t){return Object(r.mapVector)(t.getAllDependencies(),(function(t){return e.addDependency().copyFrom(t)}))},c=function(e){return e.getIconUrl()||"res/function24.png"},l=function(e,t){var n=new a.BehaviorJsImplementation,r=Object(o.a)(t.getPropertyDescriptors());return n.updateProperty=function(e,t,n){var o=r.find((function(e){return e.name===t}));if(!o)return!1;var a=e.addChild(t),i=o.type;return"String"===i||"Choice"===i||"Color"===i||"Behavior"===i?a.setStringValue(n):"Number"===i?a.setDoubleValue(parseFloat(n)):"Boolean"===i&&a.setBoolValue("1"===n),!0},n.getProperties=function(e){var t=new a.MapStringPropertyDescriptor;return r.forEach((function(n){var r=n.name,a=n.type,i=Object(o.b)(n,t.getOrCreate(r));e.hasChild(r)&&("String"===a||"Choice"===a||"Color"===a||"Behavior"===a?i.setValue(e.getChild(r).getStringValue()):"Number"===a?i.setValue(""+e.getChild(r).getDoubleValue()):"Boolean"===a&&i.setValue(e.getChild(r).getBoolValue()?"true":"false"))})),t},n.initializeContent=function(e){r.forEach((function(t){var n=e.addChild(t.name),r=t.type;"String"===r||"Choice"===r||"Color"===r||"Behavior"===r?n.setStringValue(t.value):"Number"===r?n.setDoubleValue(parseFloat(t.value)||0):"Boolean"===r&&n.setBoolValue("true"===t.value)}))},e.addBehavior(t.getName(),t.getFullName()||t.getName(),t.getName(),t.getDescription(),"",c(e),t.getName(),n,new a.BehaviorsSharedData).setObjectType(t.getObjectType())},u=function(e){return-1!==["onCreated","onActivate","onDeActivate","doStepPreEvents","doStepPostEvents","onDestroy","onOwnerRemovedFromScene"].indexOf(e)},d=function(e){return a.EventsFunctionsExtension.isExtensionLifecycleEventsFunction(e)},p=function(e,t,n){var r=n.getFunctionType();return r===a.EventsFunction.Expression?e.addExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getGroup()||"",c(e)):r===a.EventsFunction.StringExpression?e.addStrExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getGroup()||"",c(e)):r===a.EventsFunction.Condition?e.addCondition(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),n.getGroup()||"",c(e),c(e)):e.addAction(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),n.getGroup()||"",c(e),c(e))},b=function(e,t,n,r){var o=r.getFunctionType();return o===a.EventsFunction.Expression?t.addExpression(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getGroup()||n.getFullName()||n.getName(),c(e)):o===a.EventsFunction.StringExpression?t.addStrExpression(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getGroup()||n.getFullName()||n.getName(),c(e)):o===a.EventsFunction.Condition?t.addScopedCondition(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getSentence(),r.getGroup()||n.getFullName()||n.getName(),c(e),c(e)):t.addScopedAction(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getSentence(),r.getGroup()||n.getFullName()||n.getName(),c(e),c(e))},h=function(e,t,n,o){var i=function(e){return e.addParameter("object","Object","",!1),e.getParameter(e.getParametersCount()-1).setExtraInfo(o.getObjectType()),e.addParameter("behavior","Behavior",o.getName(),!1),e.setPrivate(),e};Object(r.mapVector)(o.getPropertyDescriptors(),(function(r){var s=r.getType(),l=r.getName(),u=a.BehaviorCodeGenerator.getBehaviorPropertyGetterName(l),d=a.BehaviorCodeGenerator.getBehaviorPropertySetterName(l),p=r.getLabel()||e._({id:"{propertyName} property",values:{propertyName:l}});"String"===s||"Choice"===s?(i(n.addStrExpression(a.EventsBasedBehavior.getPropertyExpressionName(l),p,p,o.getFullName()||o.getName(),c(t))).getCodeExtraInformation().setFunctionName(u),i(n.addScopedCondition(a.EventsBasedBehavior.getPropertyConditionName(l),p,e._({id:"Compare the content of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"the property {propertyName}",values:{propertyName:l}}),o.getFullName()||o.getName(),c(t),c(t))).useStandardRelationalOperatorParameters("string").getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(a.EventsBasedBehavior.getPropertyActionName(l),p,e._({id:"Change the content of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"the property {propertyName}",values:{propertyName:l}}),o.getFullName()||o.getName(),c(t),c(t))).useStandardOperatorParameters("string").getCodeExtraInformation().setFunctionName(d).setManipulatedType("string").setGetter(u)):"Number"===s?(i(n.addExpression(a.EventsBasedBehavior.getPropertyExpressionName(l),p,p,o.getFullName()||o.getName(),c(t))).getCodeExtraInformation().setFunctionName(u),i(n.addScopedCondition(a.EventsBasedBehavior.getPropertyConditionName(l),p,e._({id:"Compare the value of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"the property {propertyName}",values:{propertyName:l}}),o.getFullName()||o.getName(),c(t),c(t))).useStandardRelationalOperatorParameters("number").getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(a.EventsBasedBehavior.getPropertyActionName(l),p,e._({id:"Change the value of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"the property {propertyName}",values:{propertyName:l}}),o.getFullName()||o.getName(),c(t),c(t))).useStandardOperatorParameters("number").getCodeExtraInformation().setFunctionName(d).setGetter(u)):"Boolean"===s?(i(n.addScopedCondition(a.EventsBasedBehavior.getPropertyConditionName(l),p,e._({id:"Check the value of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"Property {propertyName} of _PARAM0_ is true",values:{propertyName:l}}),o.getFullName()||o.getName(),c(t),c(t))).getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(a.EventsBasedBehavior.getPropertyActionName(l),p,e._({id:"Update the value of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"Set property {propertyName} of _PARAM0_ to _PARAM2_",values:{propertyName:l}}),o.getFullName()||o.getName(),c(t),c(t))).addParameter("yesorno",e._({id:"New value to set"}),"",!1).getCodeExtraInformation().setFunctionName(d)):"Color"===s&&(i(n.addScopedCondition(a.EventsBasedBehavior.getPropertyConditionName(l),p,e._({id:"Check the color {propertyLabel}",values:{propertyLabel:p}}),e._({id:"Color {propertyName}",values:{propertyName:l}}),o.getFullName()||o.getName(),c(t),c(t))).useStandardRelationalOperatorParameters("string").getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(a.EventsBasedBehavior.getPropertyActionName(l),p,e._({id:"Update the color of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"Change color {propertyName} of _PARAM0_ to _PARAM2_",values:{propertyName:l}}),o.getFullName()||o.getName(),c(t),c(t))).addParameter("color",e._({id:"New color to set"}),"",!1).getCodeExtraInformation().setFunctionName(d),i(n.addStrExpression(a.EventsBasedBehavior.getPropertyExpressionName(l),p,p,o.getFullName()||o.getName(),c(t))).getCodeExtraInformation().setFunctionName(u))}))},j=function(e,t){Object(r.mapVector)(e.getParameters(),(function(e){e.isCodeOnly()?t.addCodeOnlyParameter(e.getType(),""):(t.addParameter(e.getType(),e.getDescription(),"",e.isOptional()),t.setParameterLongDescription(e.getLongDescription()),t.setDefaultValue(e.getDefaultValue())),t.getParameter(t.getParametersCount()-1).setExtraInfo(e.getExtraInfo())})),t.addCodeOnlyParameter("eventsFunctionContext","")}}).call(this,n(28))},,,,,,,,,,,,function(e,t){throw new Error("This is a fake @blueprintjs/core (or @blueprintjs/icons) package that is just throwing an error. It's used by react-mosaic, which will fallback to using something else.This is useful for avoiding webpack/create-react-app warnings in the developmentconsole about a missing package - while avoiding to import blueprint.")},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n(26),o=n(45),a=n(9),i=n(8),s=n(1),c=n(974),l=n.n(c),u=n(1744),d=n.n(u),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;Object(a.a)(this,e),this.tags=t}return Object(i.a)(e,[{key:"getPertinence",value:function(e){var t=this;return 0===this.tags.size||e.tags.some((function(e){return t.tags.has(e)}))?1:0}}]),e}(),b=function(e,t,n,r){if(!e)return null;var a=performance.now(),i=e.filter((function(e){var n=e.tags;if(!t)return!0;if(!(t.node.isTagContainerOnly||n.some((function(e){return e===t.node.name}))))return!1;var r,a=Object(o.a)(t.parentNodes);try{var i=function(){var e=r.value;return e.isTagContainerOnly?{v:!0}:n.some((function(t){return t===e.name}))?void 0:{v:!1}};for(a.s();!(r=a.n()).done;){var s=i();if("object"===typeof s)return s.v}}catch(c){a.e(c)}finally{a.f()}return!0})).filter((function(e){return!n||0===n.size||e.tags.some((function(e){return n.has(e)}))})),s=i;if(r){var c=1,l=0,u=i.map((function(e){var t,n=1,a=Object(o.a)(r);try{for(a.s();!(t=a.n()).done;){if(0===(n*=t.value.getPertinence(e)))return null}}catch(i){a.e(i)}finally{a.f()}return c=Math.min(c,n),l=Math.max(l,n),{pertinence:n,searchItem:e}})).filter(Boolean);!function(e,t,n,r){if(!(n>=r))for(var o=e.length-1,a=.5;a>1/128&&o>0;a/=2)for(var i=n+(r-n)*(1-a),s=-1,c=o+1;;){do{s++}while(s<o&&t(e[s])>i);if(s===o)break;do{c--}while(c>0&&t(e[c])<i);if(0===c)return;if(s>=c){o=c;break}var l=e[s];e[s]=e[c],e[c]=l}}(u,(function(e){return e.pertinence}),c,l),s=u.map((function(e){return e.searchItem}))}var d=performance.now()-a;return console.info("Filtered items by category/filters in ".concat(d.toFixed(3),"ms.")),s},h=function(e,t,n,o,a,i){var c=s.useRef(null),u=s.useState(null),p=Object(r.a)(u,2),h=p[0],j=p[1],f=s.useMemo((function(){return e?l()(Object.keys(e).map((function(t){return e[t]}))):null}),[e]),g=s.useMemo((function(){return e?Object.keys(e).map((function(t){return e[t]})):null}),[e]);s.useEffect((function(){if(e){var n=performance.now();c.current&&(c.current.terminate(),c.current=null);try{var r=new d.a,o=Object.keys(e);o.forEach((function(n){var o=e[n];r.indexDocument(n,t(o))}));var a=performance.now()-n;console.info("Indexed ".concat(o.length," items in ").concat(a.toFixed(3),"ms.")),c.current=r}catch(i){console.error("Error while indexing items: ",i)}}}),[e,t]);var m=c.current;return s.useEffect((function(){var t=!1;if(n){if(!e||!m)return void console.info("Search for items skipped because items are not ready - will be retried when ready");var r=performance.now();m.search(n).then((function(n){if(t)console.info("Discarding search results as a new search was launched.");else{var s=n.map((function(t){return e[t]})).filter(Boolean),c=performance.now()-r;console.info("Found ".concat(s.length," items in ").concat(c.toFixed(3),"ms.")),j(b(s,o,a,i))}}))}else j(b(o?g:f,o,a,i));return function(){t=!0}}),[f,g,e,n,o,a,i,m]),h}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return O}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(12),c=n(1),l=n(100),u=n(136),d=n(30),p=n(463),b=n(2189),h=n(550),j=n(80),f=n(7),g=c.createContext(null),m=function(e){var t=e.progress,n=e.fetchedResources,r=e.onAbandon,o=e.onRetry,a=n&&n.erroredResources.length>0;return Object(f.jsx)(l.b,{actions:[o?Object(f.jsx)(l.a,{label:Object(f.jsx)(s.Trans,{id:"Retry"}),primary:!0,onClick:o},"retry"):null,Object(f.jsx)(u.a,{label:r?Object(f.jsx)(s.Trans,{id:"Abandon"}):Object(f.jsx)(s.Trans,{id:"Please wait..."}),disabled:!r,onClick:r},"close")],cannotBeDismissed:!a,noMargin:!0,open:!0,maxWidth:"sm",children:Object(f.jsx)(d.c,{children:Object(f.jsxs)(j.a,{expand:!0,children:[Object(f.jsx)(p.a,{children:a?Object(f.jsx)(s.Trans,{id:"There were errors when fetching resources for the project."}):Object(f.jsx)(s.Trans,{id:"Resources needed for the project are downloaded..."})}),Object(f.jsx)(b.a,{variant:"determinate",value:t}),a&&n?Object(f.jsxs)(h.a,{children:[Object(f.jsx)(h.c,{children:Object(f.jsxs)(h.e,{children:[Object(f.jsx)(h.d,{children:"Resource name"}),Object(f.jsx)(h.d,{children:"Error"})]})}),Object(f.jsx)(h.b,{children:n.erroredResources.map((function(e){var t=e.resourceName,n=e.error;return Object(f.jsxs)(h.e,{children:[Object(f.jsx)(h.f,{children:t}),Object(f.jsx)(h.f,{children:n.toString()})]},t)}))})]}):null]})})})},O=function(){var e=c.useContext(g),t=c.useState(0),n=Object(o.a)(t,2),a=n[0],s=n[1],l=c.useState(!1),u=Object(o.a)(l,2),d=u[0],p=u[1],b=c.useState(null),h=Object(o.a)(b,2),j=h[0],O=h[1],v=c.useState(null),x=Object(o.a)(v,2),y=x[0],C=x[1],T=c.useState(null),E=Object(o.a)(T,2),k=E[0],w=E[1],S=c.useCallback(function(){var t=Object(r.a)(i.a.mark((function t(n){var r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("No resourceFetcher was defined");case 2:if(0!==(r=e.getResourcesToFetch(n)).length){t.next=5;break}return t.abrupt("return",{someResourcesWereFetched:!1});case 5:return s(0),C(null),w(null),O(null),p(!0),t.next=12,e.fetchResources({project:n,resourceNames:r,onProgress:function(e,t){s(e/t*100)}});case 12:if(o=t.sent,s(100),0!==o.erroredResources.length){t.next=18;break}return p(!1),O(null),t.abrupt("return",{someResourcesWereFetched:!0});case 18:return t.abrupt("return",new Promise((function(e){C((function(){return function(){e(S(n))}})),w((function(){return function(){p(!1),O(null),e({someResourcesWereFetched:!0})}})),O(o),p(!1)})));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return{ensureResourcesAreFetched:S,renderResourceFetcherDialog:function(){var e=j&&j.erroredResources.length>=0;return d||e?Object(f.jsx)(m,{progress:a,fetchedResources:j,onAbandon:k,onRetry:y}):null}}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(9),o=n(8),a=e.gd,i=function(){function e(){Object(r.a)(this,e),this.selection=[]}return Object(o.a)(e,[{key:"hasSelectedInstances",value:function(){return!!this.getSelectedInstances().length}},{key:"getSelectedInstances",value:function(){return this.selection}},{key:"isInstanceSelected",value:function(e){for(var t=0;t<this.selection.length;t++)if(a.compare(this.selection[t],e))return!0;return!1}},{key:"clearSelection",value:function(){this.selection.length=0}},{key:"selectInstance",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.isInstanceSelected(e)?t&&this.unselectInstance(e):(t||this.clearSelection(),n&&!n[e.getLayer()]||this.selection.push(e))}},{key:"selectInstances",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t||this.clearSelection(),e.forEach((function(e){return n.selectInstance(e,!0,r)}))}},{key:"unselectInstance",value:function(e){if(this.isInstanceSelected(e)){for(var t=this.selection.length-1;t>=-1&&this.selection[t].ptr!==e.ptr;)--t;this.selection.splice(t,1)}}},{key:"unselectInstancesOfObject",value:function(e){for(var t=0;t<this.selection.length;)this.selection[t].getObjectName()===e?this.selection.splice(t,1):t++}},{key:"unselectInstancesOnLayer",value:function(e){for(var t=0;t<this.selection.length;)this.selection[t].getLayer()===e?this.selection.splice(t,1):t++}}]),e}()}).call(this,n(28))},function(e,t,n){"use strict";(function(e){var r=n(1778),o=n(1779),a=n(1780),i=n(1781),s=n(1793),c=n(1794),l=n(1795),u=n(1796),d=e.gd,p={getEditorConfiguration:function(e){return this.editorConfigurations[e]||console.warn("Object with type ".concat(e," has no editor configuration registered. Please use registerEditorConfiguration to register your editor.")),this.editorConfigurations[e]},registerEditorConfiguration:function(e,t){t.component?t.createNewObject?t.castToObjectType?this.editorConfigurations.hasOwnProperty(e)?console.warn('Tried to register editor configuration for object "'.concat(e,'", but an editor configuration already exists.')):this.editorConfigurations[e]=t:console.warn('Tried to register editor configuration for object "'.concat(e,'", but "castToObjectType" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "createNewObject" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "component" property is not defined.'))},getDefaultObjectJsImplementationPropertiesEditor:function(e){return{component:u.a,createNewObject:function(e){return d.asObjectJsImplementation(e).clone().release()},castToObjectType:function(e){return d.asObjectJsImplementation(e)},helpPagePath:e.helpPagePath}},editorConfigurations:{Sprite:{component:i.a,createNewObject:function(){return new d.SpriteObject("")},castToObjectType:function(e){return d.asSpriteObject(e)},helpPagePath:"/objects/sprite"},"TiledSpriteObject::TiledSprite":{component:o.a,createNewObject:function(){return new d.TiledSpriteObject("")},castToObjectType:function(e){return d.asTiledSpriteObject(e)},helpPagePath:"/objects/tiled_sprite"},"PanelSpriteObject::PanelSprite":{component:a.a,createNewObject:function(){return new d.PanelSpriteObject("")},castToObjectType:function(e){return d.asPanelSpriteObject(e)},helpPagePath:"/objects/panel_sprite"},"TextObject::Text":{component:r.a,createNewObject:function(){return new d.TextObject("")},castToObjectType:function(e){return d.asTextObject(e)},helpPagePath:"/objects/text"},"PrimitiveDrawing::Drawer":{component:c.a,createNewObject:function(){return new d.ShapePainterObject("")},castToObjectType:function(e){return d.asShapePainterObject(e)},helpPagePath:"/objects/shape_painter"},"TextEntryObject::TextEntry":{component:s.a,createNewObject:function(){return new d.TextEntryObject("")},castToObjectType:function(e){return d.asTextEntryObject(e)},helpPagePath:"/objects/text_entry"},"ParticleSystem::ParticleEmitter":{component:l.a,createNewObject:function(){return new d.ParticleEmitterObject("")},castToObjectType:function(e){return d.asParticleEmitterObject(e)},helpPagePath:"/objects/particles_emitter"}}};t.a=p}).call(this,n(28))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(469),d=n(137),p=n(20),b=n.n(p),h=n(7),j=b()("electron"),f=b()("@electron/remote"),g=f?f.dialog:null,m={container:{position:"relative",display:"flex",alignItems:"baseline"},button:{marginLeft:10},textField:{flex:1}},O=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._onChooseFolder=function(t){var n=t.title,r=t.message;if(g&&j){var o=f.getCurrentWindow();g.showOpenDialog(o,{title:n,properties:["openDirectory","createDirectory"],message:r,defaultPath:e.props.defaultPath}).then((function(t){var n=t.filePaths;n&&n.length&&e.props.onChange(n[0])}))}},e._getTitleAndMessage=function(t){var n=e.props.type;return"export"===n?{title:t._({id:"Choose an export folder"}),message:t._({id:"Choose where to export the game"})}:"create-game"===n?{title:t._({id:"Choose a folder for the new game"}),message:t._({id:"Choose where to create the game"})}:{title:void 0,message:void 0}},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsx)(c.I18n,{children:function(t){var n=t.i18n,o=e._getTitleAndMessage(n);return Object(h.jsxs)("div",{style:Object(r.a)(Object(r.a)({},m.container),{},{width:e.props.fullWidth?"100%":void 0}),children:[Object(h.jsx)(u.b,{margin:"dense",style:m.textField,type:"text",hintText:o.title,value:e.props.value,onChange:function(t,n){return e.props.onChange(n)}}),Object(h.jsx)(d.a,{label:Object(h.jsx)(c.Trans,{id:"Choose folder"}),primary:!1,style:m.button,onClick:function(){return e._onChooseFolder(o)}})]})}})}}]),n}(l.PureComponent)},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(12),o=(n(1),n(463)),a=n(30),i=n(7),s=function(){return Object(i.jsx)(o.a,{children:Object(i.jsx)(r.Trans,{id:"This will export your game as a Cordova project. Cordova is a technology that enables HTML5 games to be packaged for iOS and Android."})})},c=function(e){var t=e.renderGameButton;return Object(i.jsxs)(a.a,{noMargin:!0,children:[Object(i.jsx)(o.a,{children:Object(i.jsx)(r.Trans,{id:"You can now compile the game by yourself using Cordova command-line tool to iOS (XCode is required) or Android (Android SDK is required)."})}),Object(i.jsx)(a.c,{justifyContent:"center",children:t()})]})},l={key:"cordovaexport",tabName:Object(i.jsx)(r.Trans,{id:"Mobile"}),name:Object(i.jsx)(r.Trans,{id:"iOS & Android (manual)"}),helpPage:"/publishing/android_and_ios_with_cordova"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(12),o=(n(1),n(463)),a=n(30),i=n(7),s=function(){return Object(i.jsx)(o.a,{children:Object(i.jsx)(r.Trans,{id:"This will export your game so that you can package it for Windows, macOS or Linux. You will need to install third-party tools (Node.js, Electron Builder) to package your game."})})},c=function(e){var t=e.renderGameButton;return Object(i.jsxs)(a.a,{noMargin:!0,children:[Object(i.jsx)(o.a,{children:Object(i.jsx)(r.Trans,{id:"The game was properly exported. You can now use Electron Builder (you need Node.js installed and to use the command-line on your computer to run it) to create an executable."})}),Object(i.jsx)(a.c,{justifyContent:"center",children:t()})]})},l={key:"electronexport",tabName:Object(i.jsx)(r.Trans,{id:"Desktop"}),name:Object(i.jsx)(r.Trans,{id:"Windows/macOS/Linux (manual)"}),helpPage:"/publishing/windows-macos-linux-with-electron"}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n(12),o=(n(1),n(463)),a=n(30),i=n(136),s=n(562),c=n(35),l=n(7),u=function(){return Object(l.jsx)(o.a,{children:Object(l.jsx)(r.Trans,{id:"Prepare your game for Facebook Instant Games so that it can be play on Facebook Messenger. GDevelop will create a compressed file that you can upload on your Facebook Developer account."})})},d=function(e){var t=e.renderGameButton;return Object(l.jsxs)(a.a,{noMargin:!0,children:[Object(l.jsx)(o.a,{children:Object(l.jsx)(r.Trans,{id:"You can now create a game on Facebook Instant Games, if not already done, and upload the generated archive."})}),Object(l.jsxs)(a.c,{justifyContent:"center",children:[t(),Object(l.jsx)(i.a,{label:Object(l.jsx)(r.Trans,{id:"Learn more about Instant Games publication"}),primary:!0,onClick:function(){c.b.openExternalURL(Object(s.a)("/publishing/publishing-to-facebook-instant-games"))}})]})]})},p={key:"facebookinstantgamesexport",tabName:Object(l.jsx)(r.Trans,{id:"Instant Games"}),name:Object(l.jsx)(r.Trans,{id:"Facebook Instant Games"}),helpPage:"/publishing/publishing-to-facebook-instant-games"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return j}));var r=n(4),o=n(12),a=(n(1),n(463)),i=n(30),s=n(2172),c=n(2278),l=n(2205),u=n(100),d=n(136),p=n(472),b=n(7),h=function(e){var t=e.exportState,n=e.updateExportState;return Object(b.jsxs)(i.a,{noMargin:!0,children:[Object(b.jsx)(i.c,{children:Object(b.jsx)(a.a,{children:Object(b.jsx)(o.Trans,{id:"Packaging your game for Android will create an APK file that can be installed on Android phones or an Android App Bundle that can be published to Google Play."})})}),Object(b.jsxs)(l.a,{value:t.targets[0]||"androidApk",onChange:function(e){var t=e.target.value;n((function(e){return Object(r.a)(Object(r.a)({},e),{},{targets:[t]})}))},children:[Object(b.jsx)(s.a,{value:"androidApk",control:Object(b.jsx)(c.a,{color:"primary"}),label:Object(b.jsx)(o.Trans,{id:"APK (for testing on device or sharing outside Google Play)"})}),Object(b.jsx)(s.a,{value:"androidAppBundle",control:Object(b.jsx)(c.a,{color:"primary"}),label:Object(b.jsx)(o.Trans,{id:"Android App Bundle (for publishing on Google Play)"})})]}),Object(b.jsx)(i.c,{noMargin:!0,justifyContent:"flex-end",children:Object(b.jsx)(d.a,{label:Object(b.jsx)(o.Trans,{id:"Signing options"}),onClick:function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},{signingDialogOpen:!0})}))},disabled:"androidAppBundle"!==t.targets[0]})}),t.signingDialogOpen&&Object(b.jsxs)(u.b,{actions:[Object(b.jsx)(d.a,{label:Object(b.jsx)(o.Trans,{id:"Close"}),primary:!0,keyboardFocused:!0,onClick:function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},{signingDialogOpen:!1})}))}},"close")],secondaryActions:[Object(b.jsx)(p.a,{helpPagePath:"/publishing/android_and_ios/play-store/upgrading-from-apk-to-aab"},"help")],open:!0,title:Object(b.jsx)(o.Trans,{id:"Signing options"}),onRequestClose:function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},{signingDialogOpen:!1})}))},maxWidth:"sm",children:[Object(b.jsx)(a.a,{children:Object(b.jsx)(o.Trans,{id:'Choose the upload key to use to identify your Android App Bundle. In most cases you don\'t need to change this. Use the "Old upload key" if you used to publish your game as an APK and you activated Play App Signing before switching to Android App Bundle.'})}),Object(b.jsxs)(l.a,{name:"signing-keystore",value:t.keystore,onChange:function(e){var t=e.target.value;n((function(e){return Object(r.a)(Object(r.a)({},e),{},{keystore:t})}))},children:[Object(b.jsx)(s.a,{value:"new",control:Object(b.jsx)(c.a,{color:"primary"}),label:Object(b.jsx)(o.Trans,{id:"New upload key (recommended)"})}),Object(b.jsx)(s.a,{value:"old",control:Object(b.jsx)(c.a,{color:"primary"}),label:Object(b.jsx)(o.Trans,{id:"Old upload key (only if you used to publish your game as an APK and already activated Play App Signing)"})}),Object(b.jsx)(s.a,{value:"custom",control:Object(b.jsx)(c.a,{color:"primary"}),label:Object(b.jsx)(o.Trans,{id:"Custom upload key (not available yet)"}),disabled:!0})]})]})]})},j={key:"onlinecordovaexport",tabName:Object(b.jsx)(o.Trans,{id:"Mobile"}),name:Object(b.jsx)(o.Trans,{id:"Android (& iOS coming soon)"}),helpPage:"/publishing/android_and_ios"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(18),o=n(4),a=n(12),i=n(1),s=n(463),c=n(493),l=n(30),u=n(7),d=function(e){var t=e.exportState,n=e.updateExportState,d=function(e,t){n((function(n){return t&&-1===n.targets.indexOf(e)?Object(o.a)(Object(o.a)({},n),{},{targets:[].concat(Object(r.a)(n.targets),[e])}):t||-1===n.targets.indexOf(e)?n:Object(o.a)(Object(o.a)({},n),{},{targets:n.targets.filter((function(t){return t!==e}))})}))};return Object(u.jsx)(i.Fragment,{children:Object(u.jsxs)(l.a,{noMargin:!0,children:[Object(u.jsx)(l.c,{children:Object(u.jsx)(s.a,{children:Object(u.jsx)(a.Trans,{id:"Your game will be exported and packaged online as a stand-alone game for Windows, Linux and/or macOS."})})}),Object(u.jsx)(c.a,{label:Object(u.jsx)(a.Trans,{id:"Windows (zip file)"}),checked:-1!==t.targets.indexOf("winZip"),onCheck:function(e,t){return d("winZip",t)}}),Object(u.jsx)(c.a,{label:Object(u.jsx)(a.Trans,{id:"Windows (auto-installer file)"}),checked:-1!==t.targets.indexOf("winExe"),onCheck:function(e,t){return d("winExe",t)}}),Object(u.jsx)(c.a,{label:Object(u.jsx)(a.Trans,{id:"macOS (zip file)"}),checked:-1!==t.targets.indexOf("macZip"),onCheck:function(e,t){return d("macZip",t)}}),Object(u.jsx)(c.a,{label:Object(u.jsx)(a.Trans,{id:"Linux (AppImage)"}),checked:-1!==t.targets.indexOf("linuxAppImage"),onCheck:function(e,t){return d("linuxAppImage",t)}})]})})},p={key:"onlineelectronexport",tabName:Object(u.jsx)(a.Trans,{id:"Desktop"}),name:Object(u.jsx)(a.Trans,{id:"Windows/macOS/Linux"}),helpPage:"/publishing/windows-macos-linux"}},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return T}));var r=n(12),o=n(1),a=n.n(o),i=n(463),s=n(562),c=n(35),l=n(136),u=n(30),d=n(478),p=n(1124),b=n(4),h=n(890),j=n(7),f=a.a.memo((function(e){return Object(j.jsx)(h.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(j.jsx)("path",{d:"M7,2H17L13.5,9H17L10,22V14H7V2M9,4V12H12V14.66L14,11H10.24L13.76,4H9Z"})}))})),g=a.a.memo((function(e){return Object(j.jsx)(h.a,Object(b.a)(Object(b.a)({},e),{},{style:Object(b.a)({transform:"rotate(90deg)"},e.style),children:Object(j.jsx)("path",{d:"M12 2C17.5 2 22 6.5 22 12C22 17.5 17.5 22 12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2M12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4M12 5C15.87 5 19 8.13 19 12C19 15.87 15.87 19 12 19V5Z"})}))})),m=a.a.memo((function(e){return Object(j.jsx)(h.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(j.jsx)("path",{fill:"currentColor",d:"M1.5,2.09C2.4,3 3.87,3.73 5.69,4.25C7.41,2.84 9.61,2 12,2C14.39,2 16.59,2.84 18.31,4.25C20.13,3.73 21.6,3 22.5,2.09C22.47,3.72 21.65,5.21 20.28,6.4C21.37,8 22,9.92 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12C2,9.92 2.63,8 3.72,6.4C2.35,5.21 1.53,3.72 1.5,2.09M20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12M10.5,10C10.5,10.8 9.8,11.5 9,11.5C8.2,11.5 7.5,10.8 7.5,10V8.5L10.5,10M16.5,10C16.5,10.8 15.8,11.5 15,11.5C14.2,11.5 13.5,10.8 13.5,10L16.5,8.5V10M12,17.23C10.25,17.23 8.71,16.5 7.81,15.42L9.23,14C9.68,14.72 10.75,15.23 12,15.23C13.25,15.23 14.32,14.72 14.77,14L16.19,15.42C15.29,16.5 13.75,17.23 12,17.23Z"})}))})),O=a.a.memo((function(e){return Object(j.jsx)(h.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(j.jsx)("path",{d:"M20,12H4V11H6L7,6H12L13,11H20V12M13.22,7L13.62,9H22V7H13.22M22,16A3,3 0 0,1 19,19H5A3,3 0 0,1 2,16A3,3 0 0,1 5,13H19A3,3 0 0,1 22,16M6,16A1,1 0 0,0 5,15A1,1 0 0,0 4,16A1,1 0 0,0 5,17A1,1 0 0,0 6,16M13,16A1,1 0 0,0 12,15A1,1 0 0,0 11,16A1,1 0 0,0 12,17A1,1 0 0,0 13,16M20,16A1,1 0 0,0 19,15A1,1 0 0,0 18,16A1,1 0 0,0 19,17A1,1 0 0,0 20,16Z"})}))})),v=n(86),x=n(653),y=function(){var e=function(e){return{height:"small"===e?30:48,width:"small"===e?30:48,margin:10}}(Object(v.b)());return Object(j.jsxs)(u.a,{noMargin:!0,children:[Object(j.jsx)(x.a,{tutorialId:"export-to-itch"}),Object(j.jsx)(u.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(r.Trans,{id:"This will export your game to a folder. You can then upload it on a website/game hosting service and share it on marketplaces and gaming portals like CrazyGames, Poki, Game Jolt, itch.io, Newgrounds..."})})}),Object(j.jsxs)(u.c,{justifyContent:"center",children:[Object(j.jsx)(p.a,{color:"primary",style:e}),Object(j.jsx)(f,{color:"primary",style:e}),Object(j.jsx)(g,{color:"primary",style:e}),Object(j.jsx)(m,{color:"primary",style:e}),Object(j.jsx)(O,{color:"primary",style:e})]})]})},C=function(e){var t=e.renderGameButton;return Object(j.jsxs)(u.a,{noMargin:!0,children:[Object(j.jsx)(i.a,{children:Object(j.jsx)(r.Trans,{id:"You can now upload the game to a web hosting to play to the game."})}),Object(j.jsx)(d.a,{kind:"warning",children:Object(j.jsx)(r.Trans,{id:"Your game won't work if you open index.html on your computer. You must upload it to a web hosting (Kongregate, Itch.io, etc...) or a web server to run it."})}),Object(j.jsx)(u.d,{}),t(),Object(j.jsx)(u.d,{}),Object(j.jsx)(l.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL(Object(s.a)("/publishing/publishing-to-gamejolt-store"))},label:Object(j.jsx)(r.Trans,{id:"Publish your game on Game Jolt"}),icon:Object(j.jsx)(f,{})}),Object(j.jsx)(l.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL("https://gdevelop.io/page/crazy-games")},label:Object(j.jsx)(r.Trans,{id:"Publish your game on CrazyGames.com"}),icon:Object(j.jsx)(m,{})}),Object(j.jsx)(l.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL(Object(s.a)("/publishing/publishing-to-kongregate-store"))},label:Object(j.jsx)(r.Trans,{id:"Publish your game on Kongregate"})}),Object(j.jsx)(l.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL(Object(s.a)("/publishing/publishing-to-itch-io"))},label:Object(j.jsx)(r.Trans,{id:"Publish your game on Itch.io"}),icon:Object(j.jsx)(p.a,{})}),Object(j.jsx)(l.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL("https://gdevelop.io/page/poki")},label:Object(j.jsx)(r.Trans,{id:"Publish your game on Poki.com"}),icon:Object(j.jsx)(g,{})}),Object(j.jsx)(l.a,{fullWidth:!0,onClick:function(){return c.b.openExternalURL(Object(s.a)("/publishing"))},label:Object(j.jsx)(r.Trans,{id:"Learn more about publishing"})})]})},T={key:"webexport",tabName:Object(j.jsx)(r.Trans,{id:"Web"}),name:Object(j.jsx)(r.Trans,{id:"Web"}),helpPage:"/publishing/html5_game_in_a_local_folder"}},function(e,t,n){"use strict";n.d(t,"c",(function(){return K})),n.d(t,"a",(function(){return X})),n.d(t,"b",(function(){return q}));var r=n(12),o=n(1),a=n(463),i=n(30),s=n(3),c=n(26),l=n(0),u=n.n(l),d=n(469),p=n(519),b=n(137),h=n(35),j=n(765),f=n(1885),g=n.n(f),m=n(2285),O=n(525),v=n(7),x=function(e){var t=e.visible,n=e.touchScreenMessage,r=e.message,a=e.hide,i=Object(O.b)();return o.useEffect((function(){if(t){var e=setTimeout((function(){a()}),3e3);return function(){return clearTimeout(e)}}}),[t,a]),Object(v.jsx)(m.a,{open:t,message:"touch"===i&&n?n:r})},y=n(471),C=n(2189),T=n(2178),E=n(136),k=n(100),w=n(2214),S=n(2215),P=n(2216),I=n(2217),_=n(2218),A=n(2219),N=n(2220),R=n(2221),L=n(2222),M=n(2223),F=n(80),D=n(529),B=n(490),U=n(478),V=n(793),W=n(961),G=n(554),z=function(e){var t=e.project,n=e.onSaveProject,a=e.buildId,i=e.game,l=e.slug,d=e.onClose,b=e.onApply,h=e.isLoading,j=o.useContext(B.a).profile,f=o.useState(t.getName()),g=Object(c.a)(f,2),m=g[0],O=g[1],x=o.useState(t.getCategories().toJSArray()),y=Object(c.a)(x,2),C=y[0],T=y[1],w=o.useState(t.getDescription()),S=Object(c.a)(w,2),P=S[0],I=S[1],_=o.useState(t.getAuthorIds().toJSArray()),A=Object(c.a)(_,2),N=A[0],R=A[1],L=o.useState(t.isPlayableWithKeyboard()),M=Object(c.a)(L,2),F=M[0],D=M[1],U=o.useState(t.isPlayableWithGamepad()),z=Object(c.a)(U,2),H=z[0],Y=z[1],q=o.useState(t.isPlayableWithMobile()),X=Object(c.a)(q,2),K=X[0],J=X[1],Z=o.useState(l&&l.username||j&&j.username||""),Q=Object(c.a)(Z,2),$=Q[0],ee=Q[1],te=o.useState(l&&l.gameSlug||Object(V.b)(t.getName())),ne=Object(c.a)(te,2),re=ne[0],oe=ne[1],ae=o.useState(t.getOrientation()),ie=Object(c.a)(ae,2),se=ie[0],ce=ie[1],le=o.useState(!!i.discoverable),ue=Object(c.a)(le,2),de=ue[0],pe=ue[1],be=Object(p.h)(t,a),he=function(){var e=Object(s.a)(u.a.mark((function e(r){var o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.saveProject,!Object(W.b)(t,{name:m,categories:C||[],description:P||"",authorIds:N,playWithKeyboard:!!F,playWithGamepad:!!H,playWithMobile:!!K,orientation:se||"default"})){e.next=7;break}if(!o){e.next=5;break}return e.next=5,n();case 5:return e.next=7,b({discoverable:de,userSlug:$,gameSlug:re});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(k.b,{title:Object(v.jsx)(r.Trans,{id:"Verify your game info before publishing"}),actions:[Object(v.jsx)(E.a,{label:Object(v.jsx)(r.Trans,{id:"Back"}),primary:!1,onClick:d,disabled:h},"back"),Object(v.jsx)(G.a,{label:Object(v.jsx)(r.Trans,{id:"Save project and publish"}),primary:!0,onClick:function(){he({saveProject:!0})},disabled:h,buildMenuTemplate:function(e){return[{label:e._({id:"Publish without saving project"}),click:function(){return he({saveProject:!1})}}]}},"publish")],cannotBeDismissed:h,onRequestClose:d,onApply:function(){he({saveProject:!0})},open:!0,children:Object(v.jsx)(V.a,{name:m,setName:O,categories:C,setCategories:T,description:P,setDescription:I,project:t,authorIds:N,setAuthorIds:R,setPlayableWithKeyboard:D,playWithKeyboard:F,setPlayableWithGamepad:Y,playWithGamepad:H,setPlayableWithMobile:J,playWithMobile:K,setOrientation:ce,orientation:se,userSlug:$,setUserSlug:ee,gameSlug:re,setGameSlug:oe,discoverable:de,setDiscoverable:pe,displayThumbnail:!0,thumbnailUrl:be,disabled:h})})},H=n(62),Y={icon:{padding:5}},q=function(e){var t=e.build,n=e.project,l=e.onSaveProject,f=e.errored,m=e.exportStep,O=o.useState(!1),V=Object(c.a)(O,2),W=V[0],G=V[1],q=o.useState(!1),X=Object(c.a)(q,2),K=X[0],J=X[1],Z=o.useState(!1),Q=Object(c.a)(Z,2),$=Q[0],ee=Q[1],te=o.useState(null),ne=Object(c.a)(te,2),re=ne[0],oe=ne[1],ae=o.useState(null),ie=Object(c.a)(ae,2),se=ie[0],ce=ie[1],le=o.useState(!1),ue=Object(c.a)(le,2),de=ue[0],pe=ue[1],be=o.useContext(B.a),he=be.getAuthorizationHeader,je=be.profile,fe=!f&&""!==m&&"done"!==m,ge=t&&"complete"===t.status,me=t&&re&&t.id===re.publicWebBuildId,Oe=Object(D.g)(re,se),ve=fe||!ge?null:me?Oe:Object(p.e)(t,"s3Key"),xe=o.useCallback(Object(s.a)(u.a.mark((function e(){var n,r,o,a,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t&&t.gameId,je&&n){e.next=3;break}return e.abrupt("return");case 3:return r=je.id,e.prev=4,pe(!0),e.next=8,Promise.all([Object(D.e)(he,r,n),Object(D.f)(he,r,n).catch((function(e){console.error("Unable to get the game slug",e)}))]);case 8:o=e.sent,a=Object(c.a)(o,2),i=a[0],s=a[1],oe(i),s&&s.length>0&&ce(s[0]),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.error("Unable to load the game",e.t0);case 19:return e.prev=19,pe(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,16,19,22]])}))),[t,he,je]),ye=o.useCallback(function(){var e=Object(s.a)(u.a.mark((function e(r){var o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(je&&re&&t){e.next=2;break}return e.abrupt("return",!1);case 2:return o=Object(D.c)(n.getAuthorIds().toJSArray()),e.prev=3,e.next=6,Object(D.m)(he,je.id,n.getProjectUuid(),{author:o});case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(3),console.error("Unable to update the authors:",e.t0.response||e.t0.message),Object(H.a)({message:r._({id:"Unable to update the authors of the project."})+" "+r._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"author-update-error"}),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),[t,re,he,je,n]),Ce=o.useCallback(function(){var e=Object(s.a)(u.a.mark((function e(n,r){var o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(je&&re&&t){e.next=2;break}return e.abrupt("return",!1);case 2:if(o=n.userSlug,a=n.gameSlug,!o||!a||o!==je.username){e.next=15;break}return e.prev=4,e.next=7,Object(D.l)(he,je.id,re.id,o,a);case 7:ce({username:o,gameSlug:a,createdAt:0}),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(4),console.error("Unable to update the game slug:",e.t0.response||e.t0.message),Object(H.a)({message:r._({id:"Unable to update the game slug. A slug must be 6 to 30 characters long and only contains letters, digits or dashes."})+" "+r._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"game-slug-update-error"}),e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n){return e.apply(this,arguments)}}(),[t,re,he,je]);o.useEffect((function(){!re&&ge&&xe()}),[re,xe,ge]);var Te=function(){ve&&h.b.openExternalURL(ve)},Ee=function(){ve&&(navigator.clipboard.writeText(ve),G(!0))},ke=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve&&navigator.share){e.next=2;break}return e.abrupt("return");case 2:return t={title:"My GDevelop game",text:"Try the game I just created with #gdevelop",url:ve},e.prev=3,e.next=6,navigator.share(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("Couldn't share the game",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();o.useEffect((function(){"done"===m&&J(!0)}),[m]);var we=o.useCallback(function(){var e=Object(s.a)(u.a.mark((function e(r,o){var a,i,s,l,d,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(je&&re&&t){e.next=2;break}return e.abrupt("return",!1);case 2:return a=je.id,e.prev=3,pe(!0),e.next=7,Object(D.n)(he,a,re.id,{gameName:n.getName(),description:n.getDescription(),categories:n.getCategories().toJSArray(),playWithGamepad:n.isPlayableWithGamepad(),playWithKeyboard:n.isPlayableWithKeyboard(),playWithMobile:n.isPlayableWithMobile(),orientation:n.getOrientation(),publicWebBuildId:t.id,thumbnailUrl:Object(p.h)(n,t.id),discoverable:r.discoverable});case 7:return i=e.sent,oe(i),e.next=11,Promise.all([ye(o),Ce(r,o)]);case 11:if(s=e.sent,l=Object(c.a)(s,2),d=l[0],b=l[1],d&&b){e.next=17;break}return e.abrupt("return",!1);case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(3),Object(H.a)({message:o._({id:"There was an error updating your game. Verify that your internet connection is working or try again later."}),rawError:e.t0,errorId:"update-game-error"}),console.error("Unable to update the game",e.t0),e.abrupt("return",!1);case 24:return e.prev=24,pe(!1),e.finish(24);case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e,null,[[3,19,24,27]])})));return function(t,n){return e.apply(this,arguments)}}(),[re,he,je,t,n,ye,Ce]);if(!t&&!m)return null;var Se=[Object(v.jsx)(E.a,{label:Object(v.jsx)(r.Trans,{id:"Close"}),primary:!1,onClick:function(){return J(!1)}},"close"),re&&ve&&!me&&Object(v.jsx)(k.a,{label:Object(v.jsx)(r.Trans,{id:"Verify and Publish to Liluo.io"}),primary:!0,onClick:function(){return ee(!0)}},"publish")];return Object(v.jsx)(r.I18n,{children:function(e){var o=e.i18n;return Object(v.jsxs)(v.Fragment,{children:[fe&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(a.a,{children:Object(v.jsx)(r.Trans,{id:"Just a few seconds while we generate the link..."})}),Object(v.jsx)(C.a,{})]}),K&&Object(v.jsxs)(k.b,{title:Object(v.jsx)(r.Trans,{id:"Share your game"}),actions:Se,open:!0,onRequestClose:function(){return J(!1)},onApply:function(){re&&ve&&!me&&ee(!0)},children:[ve&&!de?Object(v.jsxs)(i.a,{noMargin:!0,children:[Object(v.jsx)(F.d,{noFloatingLabelText:!0,renderTextField:function(){return Object(v.jsx)(d.b,{value:ve,readOnly:!0,fullWidth:!0,endAdornment:Object(v.jsx)(y.a,{onClick:Ee,tooltip:{id:"Copy"},edge:"end",children:Object(v.jsx)(j.a,{})})})},renderButton:function(e){return Object(v.jsx)(b.a,{primary:!0,label:Object(v.jsx)(r.Trans,{id:"Open"}),onClick:Te,style:e})}}),me&&navigator.share&&Object(v.jsx)(i.c,{justifyContent:"flex-end",children:Object(v.jsx)(E.a,{label:Object(v.jsx)(r.Trans,{id:"Share"}),onClick:ke,icon:Object(v.jsx)(g.a,{})})}),me&&!navigator.share&&Object(v.jsxs)(i.c,{justifyContent:"space-between",children:[Object(v.jsx)(i.a,{justifyContent:"center",children:Object(v.jsx)(U.a,{kind:"info",children:Object(v.jsx)(r.Trans,{id:"Your game is published! Share it with the community!"})})}),Object(v.jsx)(i.a,{justifyContent:"flex-end",children:Object(v.jsxs)(i.c,{children:[Object(v.jsx)(w.a,{url:ve,style:Y.icon,quote:"Try the game I just created with GDevelop.io",hashtag:"#gdevelop",children:Object(v.jsx)(S.a,{size:32,round:!0})}),Object(v.jsx)(P.a,{url:ve,title:"Try the game I just created with r/gdevelop",style:Y.icon,children:Object(v.jsx)(I.a,{size:32,round:!0})}),Object(v.jsx)(_.a,{title:"Try the game I just created with GDevelop.io",hashtags:["gdevelop"],url:ve,style:Y.icon,children:Object(v.jsx)(A.a,{size:32,round:!0})}),Object(v.jsx)(N.a,{title:"Try the game I just created with GDevelop.io",url:ve,style:Y.icon,children:Object(v.jsx)(R.a,{size:32,round:!0})}),Object(v.jsx)(L.a,{subject:"My GDevelop game",body:"Try the game I just created with GDevelop.io",url:ve,style:Y.icon,children:Object(v.jsx)(M.a,{size:32,round:!0})})]})})]}),!me&&re&&Object(v.jsx)(i.c,{children:Object(v.jsx)(U.a,{kind:"info",children:Object(v.jsx)(r.Trans,{id:"This link is private so you can share it with friends and testers. When you're ready you can update your Liluo.io game page."})})})]}):Object(v.jsx)(i.a,{alignItems:"center",children:Object(v.jsx)(T.a,{})}),Object(v.jsx)(x,{message:Object(v.jsx)(r.Trans,{id:"Copied to clipboard!"}),visible:W,hide:function(){return G(!1)}})]}),re&&t&&$&&Object(v.jsx)(z,{project:n,onSaveProject:l,buildId:t.id,onClose:function(){return ee(!1)},onApply:function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(t,o);case 2:e.sent&&ee(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),game:re,slug:se,isLoading:de})]})}})},X=function(){return Object(v.jsx)(i.a,{noMargin:!0,alignItems:"center",justifyContent:"center",children:Object(v.jsx)(i.c,{children:Object(v.jsx)(a.a,{align:"center",children:Object(v.jsx)(r.Trans,{id:"Generate a unique link, playable from any computer or mobile phone's browser."})})})})},K={key:"onlinewebexport",tabName:"Web",name:Object(v.jsx)(r.Trans,{id:"Web"}),helpPage:"/publishing/web"}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=300},,function(e,t,n){"use strict";n(1);var r=n(2172),o=n(2173),a=n(2171),i=n(7),s=Object(a.a)({root:{cursor:"default"}});t.a=function(e){var t=s();return Object(i.jsx)(r.a,{control:Object(i.jsx)(o.a,{checked:e.toggled,onChange:function(t){return e.onToggle(t,t.target.checked)},color:"primary"}),label:e.label,disabled:e.disabled,classes:t,style:e.style})}},,,,,,function(e,t,n){"use strict";(function(e){var r=n(2),o=n(18),a=n(26),i=n(11),s=n(4),c=n(1),l=n(672),u=n(2181),d=n(2180),p=n(2182),b=n(420),h=n(430),j=n(489),f=n.n(j),g=n(636),m=n.n(g),O=n(920),v=n.n(O),x=n(637),y=n.n(x),C=n(595),T=n.n(C),E=n(1251),k=n.n(E),w=n(30),S=n(476),P=n(471),I=n(600),_=n(563),A=n(761),N=n(566),R=n(484),L=n(138),M=n(80),F=n(762),D=n(514),B=n(139),U=n(465),V=n(486),W=n(567),G=n(492),z=n(763),H=n(1239),Y=n(1240),q=n(1241),X=n(1247),K=n(1248),J=n(764),Z=n(12),Q=n(7),$=["onComputeAllVariableNames"],ee=e.gd,te=function(e){return e.stopPropagation()},ne=function(e){return e.preventDefault()},re={inlineIcon:{padding:0},handlePlaceholder:{width:24}},oe=Object(b.a)((function(e){return{group:{marginLeft:7,paddingLeft:15},iconContainer:{alignSelf:"stretch",alignItems:"center",color:"white"},root:{"&:focus:not(.Mui-selected)":{"& > .MuiTreeItem-content":{filter:"brightness(1.15)"},"& > .MuiTreeItem-content > .MuiTreeItem-label":{backgroundColor:"unset"}},"&:hover:not(:focus)":{"& > .MuiTreeItem-content:hover":{filter:"brightness(1.07)"}},"&.Mui-selected:hover":{"& > .MuiTreeItem-content:hover":{filter:"brightness(1.07)"}}},label:{padding:0,"&:hover":{backgroundColor:"unset"}},content:{marginTop:5}}}))((function(e){return Object(Q.jsx)(d.a,Object(s.a)(Object(s.a)({},e),{},{TransitionProps:{timeout:0}}))}));t.a=function(e){var t=e.onComputeAllVariableNames,n=Object(i.a)(e,$),d=c.useState(Object(Y.e)(n.variablesContainer).concat(n.inheritedVariablesContainer?Object(Y.e)(n.inheritedVariablesContainer,!0):[])),b=Object(a.a)(d,2),j=b[0],g=b[1],O=c.useState(Object(z.c)(n.variablesContainer,{historyMaxSize:50})),x=Object(a.a)(O,2),C=x[0],E=x[1],ae=c.useState(""),ie=Object(a.a)(ae,2),se=ie[0],ce=ie[1],le=c.useMemo((function(){return t?t():null}),[t]),ue=c.useState([]),de=Object(a.a)(ue,2),pe=de[0],be=de[1],he=c.useState([]),je=Object(a.a)(he,2),fe=je[0],ge=je[1],me=c.useState(null),Oe=Object(a.a)(me,2),ve=Oe[0],xe=Oe[1],ye=c.useState({}),Ce=Object(a.a)(ye,2),Te=Ce[0],Ee=Ce[1],ke=c.useRef({}),we=c.useState(null),Se=Object(a.a)(we,2),Pe=Se[0],Ie=Se[1],_e=c.useContext(L.a),Ae=c.useRef(null),Ne=Object(B.a)(),Re=c.useMemo((function(){return Object(_.a)("variable-editor")}),[]),Le=c.useCallback((function(){var e=[],t=Object(Y.b)(n.variablesContainer,Object(J.a)(se));n.inheritedVariablesContainer&&(e=Object(Y.b)(n.inheritedVariablesContainer,Object(J.a)(se),Y.i)),ge([].concat(Object(o.a)(t),Object(o.a)(e)))}),[n.inheritedVariablesContainer,n.variablesContainer,se]);c.useEffect((function(){se?Le():ge([])}),[se,Le]),c.useEffect((function(){if(Pe){var e=ke.current[Pe];e&&(e.focus(),Ie(null))}}),[Pe]);var Me=!Object(H.a)(n.variablesContainer)&&(!n.inheritedVariablesContainer||!Object(H.a)(n.inheritedVariablesContainer)),Fe=Object(h.a)((function(){return{root:{"& > .MuiTreeItem-content":{backgroundColor:_e.list.itemsBackgroundColor},"&.Mui-selected > .MuiTreeItem-content":{marginTop:5,backgroundColor:_e.listItem.selectedBackgroundColor},"&.Mui-selected > .MuiTreeItem-content > .MuiTreeItem-label":{backgroundColor:"unset"},"&.isCollection > .MuiTreeItem-content > .MuiTreeItem-iconContainer":{backgroundColor:_e.listItem.selectedBackgroundColor},"& > .MuiTreeItem-content > .MuiTreeItem-iconContainer":Me?{display:"none"}:void 0},group:{borderLeft:"1px solid ".concat(_e.listItem.groupTextColor)}}}))(),De=c.useMemo((function(){return{minWidth:ve?Math.round(.6*ve):600,flexShrink:0}}),[ve]),Be=c.useMemo((function(){return"small"===n.size||!!ve&&ve<650}),[ve,n.size]),Ue=le?le.map((function(e){return n.variablesContainer.has(e)?null:{text:e,value:e}})).filter(Boolean):[],Ve=function(){n.historyHandler?n.historyHandler.saveToHistory():E(Object(z.e)(C,n.variablesContainer))},We=function(){n.historyHandler?n.historyHandler.undo():E(Object(z.f)(C,n.variablesContainer))},Ge=function(){n.historyHandler?n.historyHandler.redo():E(Object(z.d)(C,n.variablesContainer))},ze=new F.a({isActive:function(){return!0},shortcutCallbacks:{onUndo:We,onRedo:Ge}}),He=function(e){if(e.startsWith(Y.i))return!1;var t=Object(Y.h)(e,n.variablesContainer),r=t.name,o=t.lineage;if(!r)return!1;var a=Object(Y.d)(o);return a?a.getType()===ee.Variable.Array?a.removeAtIndex(parseInt(r,10)):a.removeChild(r):n.variablesContainer.remove(r),!0},Ye=function(e,t,r){be([]);var a=j.filter((function(e){return e.startsWith(Y.i)}));g([].concat(Object(o.a)(a),Object(o.a)(Object(Y.e)(n.variablesContainer)))),se&&(Le(),Ne())},qe=function(){if(0===pe.length||pe.some((function(e){return e.startsWith(Y.i)}))){var e=Object(H.d)(n.variablesContainer,"Variable",null,n.variablesContainer.count()),t=e.name,r=e.variable;return Ve(),be([t]),void Ie(r.ptr)}var o=pe[0],a=Object(Y.h)(o,n.variablesContainer),i=a.name,s=a.lineage;if(i){var c,l=Object(Y.g)(s);c=l?n.variablesContainer.getPosition(l.name)+1:n.variablesContainer.getPosition(i)+1;var u=Object(H.d)(n.variablesContainer,"Variable",null,c),d=u.name,p=u.variable;Ve(),be([d]),Ie(p.ptr)}},Xe=function e(t,r){var a,i=t.name,c=t.variable,l=t.parentNodeId,u=t.parentVariable,d=t.isInherited,p=Object(H.e)(c),b=c.getType(),h=l?l.split(Y.k).length:0,O=0===h,x=Be||!!ve&&(ve<=750?h>=5:ve<=850?h>=6:ve<=950?h>=7:h>=8),y=null;a=l?"".concat(l).concat(Y.k).concat(i):d?"".concat(Y.i).concat(i):i,u&&(y=u.getType());var C=pe.includes(a),T=O&&!d&&n.inheritedVariablesContainer&&n.inheritedVariablesContainer.has(i);if(se&&!(fe.includes(a)||fe.includes(l)||fe.some((function(e){return e.startsWith(a)}))))return null;var E={};return b===ee.Variable.String&&(E.padding=0),C&&(E.color=_e.listItem.selectedTextColor),Object(Q.jsx)(Re,{beginDrag:function(){return Ae.current=a,{}},canDrag:function(){return!d},canDrop:function(){return function(e){if(e.startsWith(Y.i))return!1;var t=Ae.current;if(!t)return!1;var r=Object(Y.h)(e,n.variablesContainer),o=r.lineage,a=Object(Y.h)(t,n.variablesContainer),i=a.variable;if(!i)return!1;if(Object(Y.j)(i,o))return!1;switch(Object(Y.f)(a,r)){case"InsideTopLevel":case"TopLevelToStructure":case"StructureToTopLevel":case"FromStructureToAnotherStructure":case"FromArrayToAnotherArray":case"InsideSameArray":return!0;default:return!1}}(a)},drop:function(){!function(e){if(!e.startsWith(Y.i)){var t=Ae.current;if(t){var r=Object(Y.h)(e,n.variablesContainer),o=r.lineage,a=r.name,i=Object(Y.d)(o);if(a){var s=Object(Y.h)(t,n.variablesContainer),c=s.variable,l=s.lineage,u=s.name,d=Object(Y.d)(l);if(c&&u&&!Object(Y.j)(c,o)){var p,b,h,j=!0;switch(Object(Y.f)(s,r)){case"InsideTopLevel":b=n.variablesContainer.getPosition(u),h=n.variablesContainer.getPosition(a),n.variablesContainer.move(b,h>b?h-1:h);break;case"TopLevelToStructure":p=Object(V.a)(u,(function(e){return i.hasChild(e)}),"CopyOf"),i.insertChild(p,c),n.variablesContainer.remove(u),Object(Y.c)(o)&&Ye();break;case"StructureToTopLevel":p=Object(V.a)(u,(function(e){return n.variablesContainer.has(e)}),"CopyOf"),n.variablesContainer.insert(p,c,n.variablesContainer.getPosition(a)),d.removeChild(u),Ye();break;case"FromStructureToAnotherStructure":p=Object(V.a)(u,(function(e){return i.hasChild(e)}),"CopyOf"),i.insertChild(p,c),d.removeChild(u),Object(Y.c)(o)&&Ye();break;case"FromArrayToAnotherArray":b=parseInt(u,10),h=parseInt(a,10),i.insertAtIndex(c,h),d.removeAtIndex(b),Object(Y.c)(o)&&Ye(0,0,h.toString());break;case"InsideSameArray":b=parseInt(u,10);var f=(h=parseInt(a,10))>b?h-1:h;i.moveChildInArray(b,f),Object(Y.c)(o)&&Ye(0,0,f.toString());break;default:j=!1}j&&(Ve(),Ne())}}}}}(a)},children:function(t){var l=t.connectDragSource,u=t.connectDropTarget,_=t.isOver,N=t.canDrop;return Object(Q.jsx)(oe,{tabIndex:-1,nodeId:a,className:p&&c.getChildrenCount()>0?"isCollection":"",classes:Fe,label:u(Object(Q.jsxs)("div",{children:[_&&Object(Q.jsx)(A.a,{canDrop:N}),Object(Q.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:Be?"4px 4px 4px 0px":"6px 30px 6px 6px"},children:[d?Object(Q.jsx)("span",{style:re.handlePlaceholder}):l(Object(Q.jsx)("span",{children:Object(Q.jsx)(I.a,{color:C?_e.listItem.selectedTextColor:"#AAA"})})),Object(Q.jsxs)(M.c,{expand:!0,noMargin:!0,width:x?"small":void 0,children:[Object(Q.jsxs)(w.c,{alignItems:"center",noMargin:!0,expand:!0,children:[x?null:Object(Q.jsx)(w.d,{}),Object(Q.jsx)(D.a,{fullWidth:!0,ref:function(e){0===h&&e&&(ke.current[c.ptr]=e)},commitOnInputChange:!n.commitChangesOnBlur,dataSource:O?Ue:[],margin:"none",disabled:d||y===ee.Variable.Array,onClick:te,errorText:Te[c.ptr],onChange:function(e){if(Je(a,e),Te[c.ptr]){var t=Object(s.a)({},Te);delete t[c.ptr],Ee(t)}Ne()},inputStyle:{color:C?_e.listItem.selectedTextColor:_e.listItem.textColor,fontStyle:T?"italic":void 0},value:i,onBlur:function(e){if(Je(a,e.currentTarget.value),Te[c.ptr]){var t=Object(s.a)({},Te);delete t[c.ptr],Ee(t)}Ne()}},"name"),Object(Q.jsx)(w.d,{})]}),Object(Q.jsx)("div",{style:x?void 0:De,children:Object(Q.jsxs)(w.c,{noMargin:!0,alignItems:"center",children:[Object(Q.jsx)(w.a,{noMargin:!0,children:Object(Q.jsx)(q.a,{variableType:b,onChange:function(e){Ze(a,e),Ne()},isHighlighted:C,disabled:d})}),Object(Q.jsx)(w.a,{expand:!0,children:b===ee.Variable.Boolean?Object(Q.jsxs)(w.c,{noMargin:!0,children:[Object(Q.jsx)("span",{style:C?{color:_e.listItem.selectedTextColor}:void 0,children:c.getBool()?Object(Q.jsx)(Z.Trans,{id:"True"}):Object(Q.jsx)(Z.Trans,{id:"False"})}),d&&!O?null:Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(w.d,{}),Object(Q.jsx)(P.a,{size:"small",style:re.inlineIcon,onClick:function(){Qe(a,c.getBool()?"false":"true")},tooltip:c.getBool()?{id:"Set to false"}:{id:"Set to true"},children:Object(Q.jsx)(k.a,{htmlColor:C?_e.listItem.selectedTextColor:void 0})})]})]}):Object(Q.jsx)(S.a,{margin:"none",type:b===ee.Variable.Number?"number":"text",onClick:te,multiline:b===ee.Variable.String,inputStyle:E,disabled:p||d&&!O,onChange:function(e){Qe(a,e),Ne()},value:p?r._({id:"{0} children",values:{0:c.getChildrenCount()}}):b===ee.Variable.String?c.getString():c.getValue().toString(),commitOnBlur:n.commitChangesOnBlur},"value")}),p&&!d?Object(Q.jsx)(P.a,{size:"small",style:re.inlineIcon,tooltip:{id:"Add child"},onClick:function(e){te(e),function(e){if(!e.startsWith(Y.i)){var t=Object(Y.h)(e,n.variablesContainer).variable;if(t&&Object(H.e)(t)){var r=t.getType();if(r===ee.Variable.Structure){var a=Object(V.a)("ChildVariable",(function(e){return t.hasChild(e)}));t.getChild(a).setString("")}else r===ee.Variable.Array&&t.pushNew();Ve(),t.isFolded()&&t.setFolded(!1),g([].concat(Object(o.a)(j),[e]))}}}(a)},children:Object(Q.jsx)(f.a,{htmlColor:C?_e.listItem.selectedTextColor:void 0})}):null,p&&d&&O?Object(Q.jsx)(P.a,{size:"small",tooltip:{id:"Edit"},style:re.inlineIcon,onClick:function(e){te(e),function(e){if(n.inheritedVariablesContainer){var t=Object(Y.h)(e,n.inheritedVariablesContainer),r=t.variable,a=t.name;if(r&&a&&!n.variablesContainer.has(a)){var i=new ee.Variable;Object(G.c)(i,Object(G.b)(r)),n.variablesContainer.insert(a,i,n.variablesContainer.count()),Ve(),be([a]),g([].concat(Object(o.a)(j),[a])),i.delete()}}}(a)},children:Object(Q.jsx)(m.a,{htmlColor:C?_e.listItem.selectedTextColor:void 0})}):null,T&&O?Object(Q.jsx)(P.a,{size:"small",tooltip:{id:"Reset"},style:re.inlineIcon,onClick:function(e){te(e),function(e){He(e)&&Ve()}(a)},children:Object(Q.jsx)(v.a,{htmlColor:C?_e.listItem.selectedTextColor:void 0})}):null]})})]})]})]})),onLabelClick:ne,children:p?b===ee.Variable.Structure?c.getAllChildrenNames().toJSArray().map((function(t,n){var o=c.getChild(t);return e({name:t,variable:o,parentNodeId:a,parentVariable:c,isInherited:d},r)})):Object(U.mapFor)(0,c.getChildrenCount(),(function(t){var n=c.getAtIndex(t);return e({name:t.toString(),variable:n,parentNodeId:a,parentVariable:c,isInherited:d},r)})):null})}},c.ptr)},Ke=function(e,t){var r=j.filter((function(e){return!e.startsWith(Y.i)})),o=t.filter((function(e){return!e.startsWith(Y.i)})),a=r.filter((function(e){return!o.includes(e)})),i=o.filter((function(e){return!r.includes(e)}));Object(Y.a)(n.variablesContainer,a,!0),Object(Y.a)(n.variablesContainer,i,!1),g(t)},Je=function(e,t){var o=Object(Y.h)(e,n.variablesContainer),a=o.variable,i=o.lineage,c=o.name;if(null!==c){if(a&&t){if(t.startsWith(Y.i)||t.includes(Y.k))return void Ee(Object(s.a)(Object(s.a)({},Te),{},Object(r.a)({},a.ptr,Object(Q.jsx)(Z.Trans,{id:"Variables cannot have a name that includes {inheritedPrefix} or {separator}",values:{inheritedPrefix:Y.i,separator:Y.k}}))));if(t.match(/^[0-9].*/)||t.includes(".")||t.includes(","))return void Ee(Object(s.a)(Object(s.a)({},Te),{},Object(r.a)({},a.ptr,Object(Q.jsx)(Z.Trans,{id:"Variable names should start with a letter and cannot include a comma nor a dot."}))))}if(t){if(t!==c){var l=Object(Y.d)(i);(l?l.renameChild(c,t):n.variablesContainer.rename(c,t))?(Ve(),function(e,t){g(Object(Y.l)(j,e,t)),be(Object(Y.l)(pe,e,t)),se&&ge(Object(Y.l)(fe,e,t))}(e,t)):a&&Ee(Object(s.a)(Object(s.a)({},Te),{},Object(r.a)({},a.ptr,Object(Q.jsx)(Z.Trans,{id:"The variable name {newName} is already taken",values:{newName:t}}))))}}else a&&Ee(Object(s.a)(Object(s.a)({},Te),{},Object(r.a)({},a.ptr,Object(Q.jsx)(Z.Trans,{id:"Variables cannot have empty names"}))))}},Ze=function(e,t){var r=Object(Y.h)(e,n.variablesContainer).variable;r&&(r.castTo(t),Ve())},Qe=function(e,t){var r;if(e.startsWith(Y.i)&&n.inheritedVariablesContainer){var a=Object(Y.h)(e,n.inheritedVariablesContainer),i=a.variable,s=a.name,c=a.depth;if(!s||!i||c>0)return;switch(i.getType()){case ee.Variable.String:if(i.getString()===t)return;break;case ee.Variable.Number:if(parseFloat(t)===i.getValue())return;break;case ee.Variable.Boolean:if("true"===t===i.getBool())return}var l=new ee.Variable;Object(G.c)(l,Object(G.b)(i)),r=n.variablesContainer.insert(s,l,0);var u=Object(o.a)(pe);-1!==u.indexOf(e)?(u.splice(u.indexOf(e),1,s),be(u)):be([].concat(Object(o.a)(u),[s])),l.delete()}else{r=Object(Y.h)(e,n.variablesContainer).variable}if(r){switch(r.getType()){case ee.Variable.String:if(r.getString()===t)return;r.setString(t);break;case ee.Variable.Number:var d=parseFloat(t);if(d===r.getValue())return;r.setValue(d);break;case ee.Variable.Boolean:var p="true"===t;if(p===r.getBool())return;r.setBool(p);break;default:console.error("Cannot set variable with type ".concat(r.getType()," - are you sure it's a primitive type?"))}Ve(),Ne()}},$e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t&&n.inheritedVariablesContainer?n.inheritedVariablesContainer:n.variablesContainer,o=Object(U.mapFor)(0,r.count(),(function(o){var a=r.getAt(o),i=r.getNameAt(o);return t&&n.variablesContainer.has(i)?null:Xe({name:i,variable:a,isInherited:t},e)}));return o},et=Object(Q.jsx)(K.a,{isNarrow:Be,onCopy:function(){W.b.set(X.a,pe.map((function(e){var t=Object(Y.h)(e,e.startsWith(Y.i)&&n.inheritedVariablesContainer?n.inheritedVariablesContainer:n.variablesContainer),r=t.variable,o=t.name,a=t.lineage;if(!r||!o)return null;var i=!1,s=Object(Y.d)(a);return s&&s.getType()!==ee.Variable.Structure||(i=!0),{nameOrIndex:o,serializedVariable:Object(G.b)(r),hasName:i}})).filter(Boolean)),Ne()},onPaste:function(){if(W.b.has(X.a)){var e=[],t=W.b.get(X.a),r=W.a.extractArray(t);if(r){var o=0;r.forEach((function(t){var r=W.a.extractStringProperty(t,"nameOrIndex"),a=W.a.extractObjectProperty(t,"serializedVariable"),i=W.a.extractBooleanProperty(t,"hasName");if(r&&a&&null!==i){var s=i?r:null;if(0===pe.length||pe.some((function(e){return e.startsWith(Y.i)}))){if(!s)return;var c=Object(H.d)(n.variablesContainer,s,a).name;e.push(c)}else{var l=pe[0];if(l.startsWith(Y.i))return;var u=Object(Y.h)(l,n.variablesContainer),d=u.name,p=u.lineage;if(!d)return;var b=Object(Y.d)(p);if(b){var h=b.getType();if(h===ee.Variable.Structure&&!s||h===ee.Variable.Array&&s)return;if(h===ee.Variable.Array){var j=parseInt(d,10)+1;Object(H.c)(b,a,j);var f=l.split(Y.k);f.splice(f.length-1,1,(j+o).toString()),e.push(f.join(Y.k)),o+=1}else{if(!s)return;var g=Object(H.b)(b,s,a),m=l.split(Y.k);m.splice(m.length-1,1,g),e.push(m.join(Y.k))}}else{if(!s)return;var O=Object(H.d)(n.variablesContainer,s,a,n.variablesContainer.getPosition(d)+1).name;e.push(O)}}}})),Ve(),be(e)}}},onDelete:function(){pe.map(He).some(Boolean)&&be([])},canCopy:pe.length>0,canPaste:W.b.has(X.a),canDelete:pe.length>0&&pe.every((function(e){return!e.startsWith(Y.i)})),onUndo:We,onRedo:Ge,canUndo:n.historyHandler?n.historyHandler.canUndo():Object(z.b)(C),canRedo:n.historyHandler?n.historyHandler.canRedo():Object(z.a)(C),hideHistoryChangeButtons:!!n.historyHandler,onAdd:qe,searchText:se,onChangeSearchText:ce});return Object(Q.jsx)(Z.I18n,{children:function(e){var t=e.i18n;return Object(Q.jsx)(u.a,{onClickAway:function(){return be([])},children:Object(Q.jsx)(l.a,{bounds:!0,onResize:function(e){xe(e.bounds.width)},children:function(e){e.contentRect;var r=e.measureRef;return Object(Q.jsx)("div",{ref:r,style:{flex:1,display:"flex",minHeight:0},onKeyDown:ze.onKeyDown,onKeyUp:ze.onKeyUp,children:Object(Q.jsxs)(w.a,{expand:!0,useFullHeight:!0,children:[Be?null:et,0!==n.variablesContainer.count()||n.inheritedVariablesContainer&&0!==n.inheritedVariablesContainer.count()?Object(Q.jsx)(R.a,{autoHideScrollbar:!0,children:Object(Q.jsxs)(p.a,{multiSelect:!0,defaultExpandIcon:Object(Q.jsx)(y.a,{}),defaultCollapseIcon:Object(Q.jsx)(T.a,{}),onNodeSelect:function(e,t){return be(t)},onNodeToggle:Ke,selected:pe,expanded:j,children:[n.inheritedVariablesContainer?$e(t,!0):null,$e(t)]})}):Object(Q.jsx)(w.a,{noMargin:!0,expand:!0,justifyContent:"center",children:n.emptyPlaceholderTitle&&n.emptyPlaceholderDescription?Object(Q.jsx)(N.a,{title:n.emptyPlaceholderTitle,description:n.emptyPlaceholderDescription,actionLabel:Object(Q.jsx)(Z.Trans,{id:"Add a variable"}),helpPagePath:n.helpPagePath||void 0,tutorialId:"intermediate-advanced-variables",onAction:qe}):null}),Be?et:null]})})}})})}})}}).call(this,n(28))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),o=n(1),a=n(138),i=n(7),s={borderTop:"2px solid black",height:0,marginTop:"-1px",marginBottom:"-1px",width:"100%",boxSizing:"border-box"};function c(e){var t=e.canDrop,n=o.useContext(a.a);return Object(i.jsx)("div",{style:Object(r.a)(Object(r.a)({},s),{},{borderColor:t?n.dropIndicator.canDrop:n.dropIndicator.cannotDrop})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(9),o=n(8),a=function(){function e(t){var n=this,o=t.isActive,a=t.shortcutCallbacks;Object(r.a)(this,e),this._shiftPressed=!1,this._ctrlPressed=!1,this._altPressed=!1,this._metaPressed=!1,this._updateModifiersFromEvent=function(e){n._metaPressed=e.metaKey,n._altPressed=e.altKey,n._ctrlPressed=e.ctrlKey,n._shiftPressed=e.shiftKey},this._isControlOrCmdPressed=function(){return n._metaPressed||n._ctrlPressed},this.onDragOver=function(e){n._updateModifiersFromEvent(e)},this.onKeyUp=function(e){n._updateModifiersFromEvent(e)},this.onKeyDown=function(e){if(n._updateModifiersFromEvent(e),!n._isActive||n._isActive()){if(!e.target||!e.target.closest('textarea, input, [contenteditable="true"]')){var t=n._shortcutCallbacks,r=t.onDelete,o=t.onMove,a=t.onCopy,i=t.onCut,s=t.onPaste,c=t.onUndo,l=t.onRedo,u=t.onSearch,d=t.onZoomOut,p=t.onZoomIn,b=t.onEscape;o&&(38===e.which?(e.preventDefault(),n._shiftPressed?o(0,-5):o(0,-1)):40===e.which?(e.preventDefault(),n._shiftPressed?o(0,5):o(0,1)):37===e.which?(e.preventDefault(),n._shiftPressed?o(-5,0):o(-1,0)):39===e.which&&(e.preventDefault(),n._shiftPressed?o(5,0):o(1,0))),!r||8!==e.which&&46!==e.which||(e.preventDefault(),r()),a&&n._isControlOrCmdPressed()&&67===e.which&&(e.preventDefault(),a()),i&&n._isControlOrCmdPressed()&&88===e.which&&(e.preventDefault(),i()),s&&n._isControlOrCmdPressed()&&86===e.which&&(e.preventDefault(),s()),(c||l)&&n._isControlOrCmdPressed()&&90===e.which&&(e.preventDefault(),e.shiftKey?l&&l():c&&c()),l&&n._isControlOrCmdPressed()&&89===e.which&&(e.preventDefault(),l()),u&&n._isControlOrCmdPressed()&&70===e.which&&(e.preventDefault(),u()),b&&27===e.which&&(e.preventDefault(),b()),d&&n._isControlOrCmdPressed()&&189===e.which&&(e.preventDefault(),d(e)),d&&109===e.which&&(e.preventDefault(),d(e)),p&&n._isControlOrCmdPressed()&&187===e.which&&(e.preventDefault(),p(e)),p&&107===e.which&&(e.preventDefault(),p(e))}}},this._shortcutCallbacks=a,this._isActive=o}return Object(o.a)(e,[{key:"shouldCloneInstances",value:function(){return this._isControlOrCmdPressed()}},{key:"shouldMultiSelect",value:function(){return this._shiftPressed}}]),e}()},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return d}));var r=n(4),o=n(18),a=n(492),i=function(e,t){var n=t.historyMaxSize;return{previousActions:[],currentValue:Object(a.b)(e),futureActions:[],maxSize:n}},s=function(e){return!!e.futureActions.length},c=function(e){return!!e.previousActions.length},l=function(e,t,n,i){var s=Object(a.b)(t),c=[].concat(Object(o.a)(e.previousActions),[{type:n,valueBeforeChange:e.currentValue,changeContext:i}]);return c.length>e.maxSize&&c.splice(0,c.length-e.maxSize),Object(r.a)(Object(r.a)({},e),{},{currentValue:s,previousActions:c,futureActions:[]})},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!e.previousActions.length)return e;var i=e.previousActions[e.previousActions.length-1],s=i.valueBeforeChange;Object(a.c)(t,s,"unserializeFrom",n);var c=e.previousActions.slice(0,-1),l=[].concat(Object(o.a)(e.futureActions),[{type:i.type,changeContext:i.changeContext,valueAfterChange:e.currentValue}]);return Object(r.a)(Object(r.a)({},e),{},{previousActions:c,futureActions:l,currentValue:s})},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!e.futureActions.length)return e;var i=e.futureActions[e.futureActions.length-1],s=i.valueAfterChange;Object(a.c)(t,s,"unserializeFrom",n);var c=[].concat(Object(o.a)(e.previousActions),[{type:i.type,changeContext:i.changeContext,valueBeforeChange:e.currentValue}]),l=e.futureActions.slice(0,-1);return Object(r.a)(Object(r.a)({},e),{},{previousActions:c,futureActions:l,currentValue:s})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n.n(o),i=n(890),s=n(7);t.a=a.a.memo((function(e){return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}))}))},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(12),o=(n(1),n(136)),a=n(137),i=n(30),s=n(463),c=n(506),l=n(7);t.a=function(e){var t=e.message,n=e.onLogin,u=e.onCreateAccount,d=e.justifyContent;return Object(l.jsxs)(i.a,{noMargin:!0,children:[Object(l.jsx)(i.c,{justifyContent:d,children:Object(l.jsx)(s.a,{children:t||Object(l.jsx)(r.Trans,{id:"You are not connected. Create an account to build your game for Android, Windows, macOS and Linux in one click, and get access to metrics for your game."})})}),Object(l.jsxs)(i.c,{justifyContent:"center",alignItems:"baseline",children:[Object(l.jsx)(a.a,{label:Object(l.jsx)(r.Trans,{id:"Create my account"}),onClick:u,primary:!0}),Object(l.jsx)(i.d,{}),Object(l.jsx)(c.a,{children:"or"}),Object(l.jsx)(i.d,{}),Object(l.jsx)(o.a,{label:Object(l.jsx)(r.Trans,{id:"Login"}),onClick:n})]})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return Date.now()+"-"+Math.floor(1e6*Math.random())}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return C}));var r=n(26),o=n(1),a=n.n(o),i=n(476),s=n(962),c=n(80),l=n(493),u=n(474),d=n(475),p=n(964),b=n(529),h=n(490),j=n(12),f=n(30),g=n(506),m=n(478),O=n(965),v=n(7),x=n(1398),y=function(e){var t=e;return/[\u0411\u0413\u0414\u0416\u0417\u0418\u0419\u041b\u041f\u0424\u0426\u0427\u0428\u0429\u042b\u042d\u042e\u042f\u0431\u0432\u0433\u0434\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043f\u0442\u0444\u0446\u0447\u0448\u0449\u044b\u044d\u044e\u044f]/.test(e)&&(t=e.split("").map((function(e){var t=x[e];return void 0===t?e:t})).join("")),t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"-").toLowerCase().slice(0,30)};function C(e){var t=e.project,n=e.disabled,o=e.setName,x=e.name,C=e.categories,T=e.setCategories,E=e.setDescription,k=e.description,w=e.setAuthorIds,S=e.authorIds,P=e.setOwnerIds,I=e.ownerIds,_=e.setPlayableWithKeyboard,A=e.playWithKeyboard,N=e.setPlayableWithGamepad,R=e.playWithGamepad,L=e.setPlayableWithMobile,M=e.playWithMobile,F=e.setOrientation,D=e.orientation,B=e.userSlug,U=e.setUserSlug,V=e.gameSlug,W=e.setGameSlug,G=e.setDiscoverable,z=e.discoverable,H=e.displayThumbnail,Y=e.thumbnailUrl,q=a.a.useState(""),X=Object(r.a)(q,2),K=X[0],J=X[1],Z=a.a.useContext(h.a).profile,Q=B&&B.length&&Z&&Z.username,$=Q&&Z&&B!==Z.username;return Object(v.jsx)(j.I18n,{children:function(e){var r=e.i18n;return Object(v.jsxs)(c.a,{noMargin:!0,children:[Object(v.jsxs)(c.c,{noMargin:!0,children:[H&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f.a,{noMargin:!0,children:Object(v.jsx)(O.a,{gameName:t.getName(),thumbnailUrl:Y})}),Object(v.jsx)(f.d,{})]}),Object(v.jsxs)(c.a,{noMargin:!0,expand:!0,children:[Object(v.jsx)(i.a,{floatingLabelText:Object(v.jsx)(j.Trans,{id:"Game name"}),fullWidth:!0,type:"text",value:x,onChange:o,autoFocus:!0,disabled:n}),T&&Object(v.jsx)(p.a,{hintText:{id:"Select a genre"},floatingLabelText:Object(v.jsx)(j.Trans,{id:"Genres"}),helperText:Object(v.jsx)(j.Trans,{id:"Select up to 4 genres for the game to be visible on Liluo.io's categories pages!"}),value:C?C.map((function(e){return{value:e,text:Object(b.d)(e,r)}})):[],onChange:function(e,t){T(t?t.map((function(e){return e.value})):[])},inputValue:K,onInputChange:function(e,t){J(t)},dataSource:b.a.map((function(e){return{value:e,text:Object(b.d)(e,r)}})),fullWidth:!0,optionsLimit:4,loading:n}),G&&Object(v.jsx)(l.a,{label:Object(v.jsx)(j.Trans,{id:"Make your game discoverable on Liluo.io"}),checked:!!z,onCheck:function(e,t){return G(t)},disabled:n})]})]}),H&&Object(v.jsx)(f.c,{noMargin:!0,children:Object(v.jsx)(g.a,{children:Object(v.jsx)(j.Trans,{id:"To update your thumbnail, go into your Game Settings > Icons and thumbnail, then create and publish a new build."})})}),Object(v.jsx)(i.a,{floatingLabelText:Object(v.jsx)(j.Trans,{id:"Game description"}),fullWidth:!0,type:"text",value:k||"",onChange:E,autoFocus:!0,multiline:!0,rows:5,disabled:n}),U&&W&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(f.c,{children:[Object(v.jsxs)(u.a,{fullWidth:!0,floatingLabelText:Object(v.jsx)(j.Trans,{id:"User name in the game URL"}),value:B||"",onChange:function(e,t,n){return U(n)},disabled:!$||n,children:[Z&&Z.username&&Object(v.jsx)(d.a,{value:Z.username,primaryText:Z.username}),B&&(!Z||B!==Z.username)&&Object(v.jsx)(d.a,{value:B,primaryText:B})]}),Object(v.jsx)(f.d,{}),Object(v.jsx)(i.a,{disabled:!Q||n,floatingLabelText:Object(v.jsx)(j.Trans,{id:"Game name in the game URL"}),fullWidth:!0,maxLength:30,type:"text",value:Q&&V||"",onChange:function(e){return W(y(e))},autoFocus:!0})]}),!Q&&Object(v.jsx)(m.a,{kind:"info",children:Object(v.jsx)(j.Trans,{id:"Usernames are required to choose a custom game URL."})})]}),Object(v.jsx)(s.a,{userIds:S,onChange:w,floatingLabelText:Object(v.jsx)(j.Trans,{id:"Authors"}),helperText:Object(v.jsx)(j.Trans,{id:"Select the usernames of the authors of this project. They will be displayed in the selected order, if you publish this game as an example or in the community."}),disabled:n}),P&&Object(v.jsx)(s.a,{userIds:I||[],onChange:P,floatingLabelText:Object(v.jsx)(j.Trans,{id:"Owners"}),helperText:Object(v.jsx)(j.Trans,{id:"Select the usernames of the owners of this project to let them manage this game builds. Be aware that owners can revoke your ownership."}),disabled:n}),Object(v.jsxs)(u.a,{fullWidth:!0,floatingLabelText:Object(v.jsx)(j.Trans,{id:"Device orientation (for mobile)"}),value:D,onChange:function(e,t,n){return F(n)},disabled:n,children:[Object(v.jsx)(d.a,{value:"default",primaryText:{id:"Platform default"}}),Object(v.jsx)(d.a,{value:"landscape",primaryText:{id:"Landscape"}}),Object(v.jsx)(d.a,{value:"portrait",primaryText:{id:"Portrait"}})]}),_&&N&&L&&Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsx)(l.a,{label:Object(v.jsx)(j.Trans,{id:"Playable with a keyboard"}),checked:!!A,onCheck:function(e,t){return _(t)},disabled:n}),Object(v.jsx)(l.a,{label:Object(v.jsx)(j.Trans,{id:"Playable with a gamepad"}),checked:!!R,onCheck:function(e,t){return N(t)},disabled:n}),Object(v.jsx)(l.a,{label:Object(v.jsx)(j.Trans,{id:"Playable on mobile"}),checked:!!M,onCheck:function(e,t){return L(t)},disabled:n})]})]})}})}t.c=C},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),o=function(){var e=r.useRef(!1);return r.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(63),o=n.n(r),a=n(53),i=function(e){return o.a.get("".concat(a.k.baseUrl,"/user-public-profile/search"),{params:{username:e}}).then((function(e){return e.data}))},s=function(e){return o.a.get("".concat(a.k.baseUrl,"/user/").concat(e,"/badge")).then((function(e){return e.data}))},c=function(e){return o.a.get("".concat(a.k.baseUrl,"/user-public-profile"),{params:{id:e.join(",")}}).then((function(e){return e.data}))},l=function(e){return o.a.get("".concat(a.k.baseUrl,"/user-public-profile/").concat(e)).then((function(e){return e.data}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(26),o=n(1);var a=function(){var e=o.useState("undefined"===typeof navigator||"boolean"!==typeof navigator.onLine||navigator.onLine),t=Object(r.a)(e,2),n=t[0],a=t[1],i=function(){return a(!0)},s=function(){return a(!1)};return o.useEffect((function(){return window.addEventListener("online",i),window.addEventListener("offline",s),function(){window.removeEventListener("online",i),window.removeEventListener("offline",s)}}),[]),n}},function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return j})),n.d(t,"j",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return O}));var r=n(3),o=n(0),a=n.n(o),i=n(63),s=n.n(i),c=n(53),l=function(e){var t=e.playerName,n=e.id,r=e.score;return{id:n,createdAt:e.createdAt,playerName:t,score:r}},u=function(e){var t=e.playerName,n=e.relatedEntryId,r=e.score;return{id:n,createdAt:e.relatedEntryCreatedAt,playerName:t,score:r}},d=function(e){return"".concat(e.split("-")[0],"-...")},p=function(){var e=Object(r.a)(a.a.mark((function e(t,n){var r,o,i,l,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getAuthorizationHeader,o=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return i=o.uid,e.next=6,r();case 6:return l=e.sent,e.next=9,s.a.get("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard?deleted=false"),{headers:{Authorization:l},params:{userId:i}});case 9:return u=e.sent,e.abrupt("return",u.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(e){var t=e.split(",").map((function(e){return e.trim()})).reduce((function(e,t){var n=t.match(/;\srel="(\w*)"/),r=t.match(/^<(.*)>/);return e&&n&&r&&(e[n[1]]=r[1]),e}),{});return Object.keys(t).includes("next")?t.next:null},h=function(){var e=Object(r.a)(a.a.mark((function e(t,n,r){var o,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.forceUri||"/game/".concat(t,"/leaderboard/").concat(n,"/entry"),e.next=3,s.a.get("".concat(c.h.baseUrl).concat(o),{params:r.forceUri?null:{onlyBestEntry:r.onlyBestEntry,perPage:r.pageSize}});case 3:return i=e.sent,l=i.headers.link?b(i.headers.link):null,e.abrupt("return",{entries:i.data,nextPageUri:l});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.a)(a.a.mark((function e(t,n,r){var o,i,l,u,d,p,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.name,i=r.sort,l=t.getAuthorizationHeader,u=t.firebaseUser){e.next=4;break}return e.abrupt("return");case 4:return d=u.uid,e.next=7,l();case 7:return p=e.sent,e.next=10,s.a.post("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard"),{name:o,sort:i},{headers:{Authorization:p},params:{userId:d}});case 10:return b=e.sent,e.abrupt("return",b.data);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(r.a)(a.a.mark((function e(t,n,r,o){var i,l,u,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getAuthorizationHeader,l=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return u=l.uid,e.next=6,i();case 6:return d=e.sent,e.next=9,s.a.patch("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard/").concat(r),o,{headers:{Authorization:d},params:{userId:u}});case 9:return p=e.sent,e.abrupt("return",p.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),g=function(){var e=Object(r.a)(a.a.mark((function e(t,n,r){var o,i,l,u,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.getAuthorizationHeader,i=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return l=i.uid,e.next=6,o();case 6:return u=e.sent,e.next=9,s.a.put("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard/").concat(r,"/reset"),{},{headers:{Authorization:u},params:{userId:l}});case 9:return d=e.sent,e.abrupt("return",d.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(r.a)(a.a.mark((function e(t,n,r){var o,i,l,u,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.getAuthorizationHeader,i=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return l=i.uid,e.next=6,o();case 6:return u=e.sent,e.next=9,s.a.delete("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard/").concat(r),{headers:{Authorization:u},params:{userId:l}});case 9:return d=e.sent,e.abrupt("return",d.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),O=function(){var e=Object(r.a)(a.a.mark((function e(t,n,r,o){var i,l,u,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getAuthorizationHeader,l=t.firebaseUser){e.next=3;break}return e.abrupt("return");case 3:return u=l.uid,e.next=6,i();case 6:return d=e.sent,e.next=9,s.a.delete("".concat(c.h.baseUrl,"/game/").concat(n,"/leaderboard/").concat(r,"/entry/").concat(o),{headers:{Authorization:d},params:{userId:u}});case 9:return p=e.sent,e.abrupt("return",p.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),o=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e})),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current&&n.current()}),t);return function(){return clearInterval(e)}}}),[t])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}},function(e,t,n){"use strict";var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(136),u=n(100),d=n(1415),p=n.n(d),b=n(1416),h=n.n(b),j=n(490),f=n(30),g=n(81),m=n(463),O=n(7),v={icon:{width:40,height:40,marginRight:20},iconText:{flex:1}},x=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={open:!1},e._closeDialog=function(){Object(g.w)(),e.setState({open:!1})},e}return Object(o.a)(n,[{key:"checkHasSubscription",value:function(){var e=this.props,t=e.authenticatedUser,n=e.mode,r=e.id;if(t.subscription&&!!t.subscription.planId)return this.setState({open:!1}),!0;return this.setState({open:!0}),Object(g.v)({mode:n,id:r}),!1}},{key:"render",value:function(){var e=this,t=this.state.open,n=this.props,r=n.onChangeSubscription,o=n.mode;return t?Object(O.jsx)(u.b,{actions:[r&&Object(O.jsx)(u.a,{label:Object(O.jsx)(s.Trans,{id:"Get a subscription or login"}),primary:!0,onClick:function(){e.setState({open:!1}),r()}},"subscribe")],secondaryActions:[Object(O.jsx)(l.a,{label:"try"===o?Object(O.jsx)(s.Trans,{id:"Continue anyway"}):Object(O.jsx)(s.Trans,{id:"Not now, thanks!"}),primary:!1,onClick:this._closeDialog},"close")],onRequestClose:this._closeDialog,open:t,title:"try"===o?Object(O.jsx)(s.Trans,{id:"We need your support!"}):this.props.title,children:Object(O.jsxs)(f.a,{noMargin:!0,children:[Object(O.jsx)(f.c,{noMargin:!0,alignItems:"center",children:"try"===o?Object(O.jsx)(m.a,{children:Object(O.jsx)(s.Trans,{id:"Please get a subscription to keep GDevelop running."})}):Object(O.jsx)(m.a,{children:Object(O.jsx)(s.Trans,{id:"To use this feature, we ask you to get a subscription to GDevelop."})})}),Object(O.jsxs)(f.c,{noMargin:!0,alignItems:"center",children:[Object(O.jsx)(p.a,{style:v.icon}),Object(O.jsx)(m.a,{style:v.iconText,children:Object(O.jsx)(s.Trans,{id:"Get a subscription to gain more one-click exports, remove the GDevelop splashscreen, this message asking you to get a subscription."})})]}),Object(O.jsxs)(f.c,{noMargin:!0,alignItems:"center",children:[Object(O.jsx)(h.a,{style:v.icon}),Object(O.jsx)(m.a,{style:v.iconText,children:Object(O.jsx)(s.Trans,{id:"You're also supporting the development of GDevelop, an open-source software! In the future, more online services will be available for users with a subscription."})})]}),Object(O.jsx)(f.d,{}),Object(O.jsx)(f.d,{}),Object(O.jsx)(f.d,{}),Object(O.jsx)(f.d,{}),Object(O.jsx)(m.a,{align:"right",children:Object(O.jsx)("b",{children:Object(O.jsx)(s.Trans,{id:"Thanks!"})})})]})}):null}}]),n}(c.Component),y=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._dialog=null,e}return Object(o.a)(n,[{key:"checkHasSubscription",value:function(){return!!this._dialog&&this._dialog.checkHasSubscription()}},{key:"render",value:function(){var e=this;return Object(O.jsx)(j.a.Consumer,{children:function(t){return Object(O.jsx)(x,{authenticatedUser:t,ref:function(t){return e._dialog=t},onChangeSubscription:e.props.onChangeSubscription,id:e.props.id,title:e.props.title,mode:e.props.mode})}})}}]),n}(c.Component);t.a=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(1),c=n(642),l=n(643),u=n(699),d=n(7),p=s.createContext({filters:null,searchResults:null,fetchExtensionsAndFilters:function(){},error:null,searchText:"",setSearchText:function(){},extensionShortHeadersByName:{},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),b=function(e){var t=e.children,n=s.useState({}),a=Object(o.a)(n,2),b=a[0],h=a[1],j=s.useState(null),f=Object(o.a)(j,2),g=f[0],m=f[1],O=s.useState(null),v=Object(o.a)(O,2),x=v[0],y=v[1],C=s.useRef(!1),T=s.useState(""),E=Object(o.a)(T,2),k=E[0],w=E[1],S=Object(c.b)(),P=s.useCallback((function(){Object.keys(b).length||C.current||Object(r.a)(i.a.mark((function e(){var t,n,r,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(null),C.current=!0,e.prev=2,e.next=5,Object(l.c)();case 5:t=e.sent,n=t.extensionShortHeaders,r=t.allTags,o=r.slice().sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())})),a={},n.forEach((function(e){a[e.name]=e})),console.info("Loaded ".concat(n.length," extensions from the extension store.")),h(a),m({allTags:o,defaultTags:o,tagsTree:[]}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("Unable to load the extensions from the extension store:",e.t0),y(e.t0);case 19:C.current=!1;case 20:case"end":return e.stop()}}),e,null,[[2,15]])})))()}),[b,C]);s.useEffect((function(){if(!Object.keys(b).length&&!C.current){var e=setTimeout((function(){console.info("Pre-fetching extensions from extension store..."),P()}),5e3);return function(){return clearTimeout(e)}}}),[P,b,C]);var I=S.chosenCategory,_=S.chosenFilters,A=Object(u.c)(b,k,I,_),N=s.useMemo((function(){return{searchResults:A,fetchExtensionsAndFilters:P,filters:g,error:x,searchText:k,setSearchText:w,extensionShortHeadersByName:b,filtersState:S}}),[A,x,g,k,b,S,P]);return Object(d.jsx)(p.Provider,{value:N,children:t})}},,,function(e,t,n){"use strict";var r=n(12),o=(n(1),n(1427)),a=n.n(o),i=n(1429),s=n.n(i),c=n(609),l=n(2166),u=n(137),d=n(81),p=n(35),b=n(463),h=n(30),j=n(54),f=n(88),g=n(7),m=function(e,t){console.error("Error catched by Boundary:",e,t),Object(d.h)("Error catched by error boundary","error-boundary",{error:e,componentStack:t},"error-boundary-error")},O=function(e){var t=e.componentStack,n=e.error;return Object(g.jsxs)(c.a,{children:[Object(g.jsxs)(h.c,{children:[Object(g.jsx)(s.a,{fontSize:"large"}),Object(g.jsx)(h.d,{}),Object(g.jsx)(b.a,{size:"title",children:"This editor encountered a problem."})]}),Object(g.jsx)(l.a,{}),Object(g.jsxs)(b.a,{children:["Something wrong happened :(",Object(g.jsx)("br",{}),"Please ",Object(g.jsx)("b",{children:"backup your game file"})," and save your game to ensure that you don't lose anything."]}),Object(g.jsxs)(b.a,{children:["The error was automatically reported.",Object(g.jsx)("br",{}),"To make sure it's fixed, you may report it on GitHub, the platform where GDevelop is developed:"]}),Object(g.jsx)(u.a,{label:Object(g.jsx)(r.Trans,{id:"Report the issue on GitHub"}),onClick:function(){var e="\n=> Please write here a short description of when the error occured and how to reproduce it.\nYou also may have to create an account on GitHub before posting.\n\nWhen you're ready, click on \"Submit new issue\". Don't change the rest of the message. Thanks!\n\n## Error stack (don't write anything here)\n```\n".concat(n?n.stack:"No error found","\n```\n\n## Component stack (don't write anything here)\n```\n").concat(t||"No component stack found","\n```\n\n## Other details\n* IDE version: ").concat(Object(j.c)(),"\n* Arch: ").concat(Object(f.a)(),",\n* Platform Name: ").concat(Object(f.b)(),",\n* System Version: ").concat(Object(f.c)(),",\n* User Agent: ").concat(Object(f.d)(),",\n        ");p.b.openExternalURL("https://github.com/4ian/GDevelop/issues/new?body=".concat(encodeURIComponent(e),"&title=Crash%20while%20using%20an%20editor"))}})]})};t.a=function(e){return Object(g.jsx)(a.a,{FallbackComponent:O,onError:m,children:e.children})}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(3),o=n(0),a=n.n(o),i=n(62),s=n(643),c=n(807),l=n(35),u=function(){var e=Object(r.a)(a.a.mark((function e(t,n,r,o){var l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.a)(o);case 3:return l=e.sent,e.next=6,Object(c.a)(r,n,[l]);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),Object(i.a)({message:t._({id:"Unable to download and install the extension. Verify that your internet connection is working or try again later."}),rawError:e.t0,errorId:"download-extension-error"}),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r,o){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(a.a.mark((function e(t,n,r){var o,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.getEventsFunctionsExtensionOpener()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,o.chooseEventsFunctionExtensionFile();case 6:if(s=e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,o.readEventsFunctionExtensionFile(s);case 11:if(u=e.sent,!r.hasEventsFunctionsExtensionNamed(u.name)){e.next=16;break}if(l.b.showConfirmDialog(t._({id:"An extension with this name already exists in the project. Importing this extension will replace it: are you sure you want to continue?"}))){e.next=16;break}return e.abrupt("return",!1);case 16:return e.next=18,Object(c.a)(n,r,[u],!1);case 18:return e.abrupt("return",!0);case 21:return e.prev=21,e.t0=e.catch(3),Object(i.a)({message:t._({id:"An error happened while loading this extension. Please check that it is a proper extension file and compatible with this version of GDevelop"}),rawError:e.t0,errorId:"extension-loading-error"}),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t,n,r){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return P}));var r=n(18),o=n(3),a=n(0),i=n.n(a),s=n(575),c=n(486),l=n(492),u=n(543),d=n.n(u),p=n(987),b=n.n(p),h=n(808),j=n.n(h),f=n(643),g=n(465),m=n(926),O=e.gd,v=function(e){var t=e.trim();if(!t)return"UnnamedObject";var n,r=(n=t)?n.replace(/^[^A-Za-z0-9]*|[^A-Za-z0-9]*$/g,"$").replace(/[^A-Za-z0-9]+/g,"$").replace(/([a-z])([A-Z])/g,(function(e,t,n){return t+"$"+n})).toLowerCase().replace(/(\$)(\w?)/g,(function(e,t,n){return n.toUpperCase()})):"";return r[0]>="0"&&r[0]<="9"&&(r="_"+r),r},x=function(e,t,n,r){var o=n.name;if(!r[o]){var a=e.getResourcesManager(),i=n.file,u=n.origin?n.origin.name:"",d=n.origin?n.origin.identifier:"",p=u&&d?a.getResourceNameWithOrigin(u,d):"",b=a.getResourceNameWithFile(i);if(p)r[o]=p;else if(b)r[o]=b;else{var h=null;if("image"!==n.kind)throw new Error('Resource of kind "'.concat(n.kind,'" is not supported.'));h=new O.ImageResource,Object(l.c)(h,n);var j=Object(c.a)(o,(function(e){return a.hasResource(e)}));h.setName(j),h.setSmooth("nearest"!==e.getScaleMode()&&!Object(s.c)(t)),h.setOrigin(u,d),a.addResource(h),h.delete(),r[o]=j}}},y=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,o,a,s,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.asset,r=t.project,o=t.events,a=t.objectsContainer,s={},u={},d=[],n.objectAssets.forEach((function(e){e.resources.forEach((function(e){}))})),n.objectAssets.forEach((function(e){var t=e.object.type;if(!t)throw new Error("An object has no type specified");var o=v(e.object.name),i=Object(c.a)(o,(function(e){return a.hasObjectNamed(e)})),p=a.insertNewObject(r,t,i,a.getObjectsCount());s[o]=i,Object(l.c)(p,e.object,"unserializeFrom",r),p.setAssetStoreId(n.id),p.setName(i),e.resources.forEach((function(e){x(r,n,e,u)}));var b=Object(m.a)(u),h=new O.ResourcesRenamer(b);b.delete(),p.exposeResources(h),h.delete(),e.customization.forEach((function(e){if(e.behaviorName){var t=e.behaviorName,n=e.behaviorType,o=O.MetadataProvider.getBehaviorMetadata(O.JsPlatform.get(),n);if(O.MetadataProvider.isBadBehaviorMetadata(o))throw new Error("Behavior with type "+n+" could not be found.");var a=o.get(),i=p.addNewBehavior(r,n,t);e.properties.forEach((function(e){a.updateProperty(i.getContent(),e.name,e.defaultValue)}))}})),d.push(p)})),n.objectAssets.forEach((function(e){var t=e.object.name,n=s[t];e.customization.forEach((function(e){if(e.events){var t=new O.GroupEvent;for(var i in t.setName(n),Object(l.c)(t.getSubEvents(),e.events,"unserializeFrom",r),e.parameters.forEach((function(e){O.EventsRefactorer.replaceStringInEvents(r,a,t.getSubEvents(),e.name,e.defaultValue,!0,!0,!0,!1)})),s){var c=s[i];i!==c&&O.EventsRefactorer.renameObjectInEvents(r.getCurrentPlatform(),r,a,t.getSubEvents(),i,c)}o.insertEvent(t,o.getEventsCount())}}))})),e.abrupt("return",{createdObjects:d});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){return b()(d()(e.objectAssets.map((function(e){return e.customization.map((function(e){return e.behaviorName?{behaviorType:e.behaviorType,extensionName:e.extensionName,extensionVersion:e.extensionVersion}:null})).filter(Boolean)}))),(function(e){return e.behaviorType}))},T=function(e,t){var n=Object(g.mapVector)(e.asPlatform(e.JsPlatform.get()).getAllPlatformExtensions(),(function(e){return e.getName()}));return t.filter((function(e){var t=e.extensionName;return!n.includes(t)}))},E=function(e){return b()(d()(e.objectAssets.map((function(e){return d()(e.customization.map((function(e){return e.events?e.extensions:null})).filter(Boolean))}))),(function(e){return e.extensionName}))},k=function(e,t){return t.filter((function(t){var n=t.behaviorType,r=e.MetadataProvider.getBehaviorMetadata(e.JsPlatform.get(),n);return e.MetadataProvider.isBadBehaviorMetadata(r)}))},w=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",Promise.resolve([]));case 2:return e.next=4,Object(f.c)();case 4:return n=e.sent,e.next=7,Promise.all(j()(t).map((function(e){var t=n.extensionShortHeaders.find((function(t){return t.name===e}));if(!t)throw new Error("Unable to find extension "+e+" in the registry.");return Object(f.a)(t)})));case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n.forEach((function(e){var n=e.name;if(!n)return Promise.reject(new Error("Malformed extension (missing name)."));var o=t.hasEventsFunctionsExtensionNamed(n)?t.getEventsFunctionsExtension(n):t.insertNewEventsFunctionsExtension(n,0);Object(l.c)(o,e,"unserializeFrom",t),r&&o.setOrigin("gdevelop-extension-store",n)})),e.loadProjectEventsFunctionsExtensions(t)},P=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,o,a,c,l,u,d,p,b,h,j,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.assetShortHeader,o=t.eventsFunctionsExtensionsState,a=t.project,c=t.events,l=t.objectsContainer,e.next=3,Object(s.a)(n);case 3:return u=e.sent,d=C(u),p=E(u),b=k(O,d),h=T(O,p),e.next=10,w([].concat(Object(r.a)(b.map((function(e){return e.extensionName}))),Object(r.a)(h.map((function(e){return e.extensionName})))));case 10:return j=e.sent,e.next=13,S(o,a,j);case 13:if(!k(O,d).length){e.next=16;break}throw new Error("These behaviors could not be installed: "+b.map((function(e){var t=e.extensionName,n=e.behaviorType;return"".concat(n," (").concat(t,")")})).join(", "));case 16:if(!T(O,p).length){e.next=19;break}throw new Error("These extensions could not be installed: "+h.map((function(e){return e.extensionName})).join(", "));case 19:return e.next=21,y({project:a,asset:u,events:c,objectsContainer:l});case 21:return f=e.sent,e.abrupt("return",f);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(28))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20),o=n.n(r);function a(e){var t=!1,n=void 0;return function(){return t||(console.info("Lazy loading ".concat(e,"...")),n=o()(e),t=!0),n}}},,function(e,t,n){"use strict";(function(e){var r=n(4),o=n(18),a=n(9),i=n(8),s=n(10),c=n(13),l=n(14),u=n(12),d=n(1),p=n(1004),b=n(1576),h=n(2099),j=n(1582),f=n(1583),g=n(2110),m=n(762),O=n(556),v=n(1584),x=n(662),y=n(492),C=n(763),T=n(647),E=n(1585),k=n(1586),w=n(1587),S=n(1589),P=n(1590),I=n(1027),_=n(43),A=n(1591),N=n(1034),R=n(1025),L=n(646),M=n(525),F=n(86),D=n(490),B=n(544),U=n(695),V=n(599),W=n(7),G=e.gd,z=1,H=50,Y={container:{display:"flex",width:"100%",flexDirection:"column",flex:1,position:"relative"}},q=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e))._containerDiv=d.createRef(),i._keyboardShortcuts=new m.a({isActive:function(){return!i.state.inlineEditing&&!i.state.editedInstruction.instruction&&!i.state.analyzedEventsContextResult&&!i.state.serializedEventsToExtract},shortcutCallbacks:{onDelete:function(){return i.deleteSelection()},onCopy:function(){return i.copySelection()},onCut:function(){return i.cutSelection()},onPaste:function(){return i.pasteEventsOrInstructions()},onSearch:function(){return i._toggleSearchPanel()},onEscape:function(){return i._closeSearchPanel()},onUndo:function(){return i.undo()},onRedo:function(){return i.redo()},onZoomIn:function(e){return i.onZoomEvent("IN")(e)},onZoomOut:function(e){return i.onZoomEvent("OUT")(e)}}}),i.state={eventsHistory:Object(C.c)(i.props.events,{historyMaxSize:100}),editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0,locatingEvent:null},editedParameter:{isCondition:!0,instruction:null,instrsList:null,parameterIndex:0,locatingEvent:null},selection:Object(T.b)(),inlineEditing:!1,inlineEditingAnchorEl:null,inlineInstructionEditorAnchorEl:null,inlineEditingPreviousValue:null,analyzedEventsContextResult:null,serializedEventsToExtract:null,showSearchPanel:!1,searchResults:null,searchFocusOffset:null,allEventsMetadata:[],textEditedEvent:null,fontSize:14},i._addStandardEvent=function(){i.addNewEvent("BuiltinCommonInstructions::Standard")},i._addCommentEvent=function(){i.addNewEvent("BuiltinCommonInstructions::Comment")},i._toggleSearchPanel=function(){i.setState((function(e){if(!(e.showSearchPanel&&i._searchPanel&&i._searchPanel.isSearchOngoing())){var t=!e.showSearchPanel;return t||i._eventSearcher&&i._eventSearcher.reset(),{showSearchPanel:t}}i._searchPanel.focus()}),(function(){i.state.showSearchPanel&&i._searchPanel&&i._searchPanel.focus()}))},i._closeSearchPanel=function(){i._eventSearcher&&i._eventSearcher.reset(),i.setState({showSearchPanel:!1})},i.addSubEvents=function(){var e=i.props.project,t=Object(T.d)(i.state.selection).map((function(t){return t.canHaveSubEvents()?t.getSubEvents().insertNewEvent(e,"BuiltinCommonInstructions::Standard",t.getSubEvents().getEventsCount()):null})).filter(Boolean);i._eventsTree&&i._eventsTree.forceEventsUpdate((function(){var e=i._getChangedEventRows(t);i._saveChangesToHistory("ADD",{positionsBeforeAction:e,positionAfterAction:e})}))},i._selectionCanHaveSubEvents=function(){return Object(T.d)(i.state.selection).some((function(e){return e.canHaveSubEvents()}))},i._selectionCanToggleDisabled=function(){return Object(T.d)(i.state.selection).some((function(e){return e.isExecutable()}))},i._addNewEvent=function(e,t){var n=i.props.project,r=Object(T.i)(i.state.selection),o=!1,a=[];t?a=[t]:r?("BuiltinCommonInstructions::Comment"!==e&&"BuiltinCommonInstructions::Group"!==e||(o=!0),a=Object(T.c)(i.state.selection).map((function(e){return{eventsList:e.eventsList,indexInList:o?e.indexInList-1:e.indexInList}}))):a=[{eventsList:i.props.events,indexInList:i.props.events.getEventsCount()}];var s=a.map((function(t){return t.eventsList.insertNewEvent(n,e,t.indexInList+1)})),c=i._eventsTree;return c&&c.forceEventsUpdate((function(){var e=i._getChangedEventRows(s);i._saveChangesToHistory("ADD",{positionsBeforeAction:e,positionAfterAction:e},(function(){t||r||c.scrollToRow(c.getEventRow(s[0]))}))})),s},i.openEventTextDialog=function(){var e=Object(f.b)(Object(T.d)(i.state.selection));if(e.length){var t=e[e.length-1];i.setState({textEditedEvent:t})}},i.closeEventTextDialog=function(){if(i.state.textEditedEvent){var e=i._getChangedEventRows([i.state.textEditedEvent]);i._saveChangesToHistory("EDIT",{positionsBeforeAction:e,positionAfterAction:e})}i.setState({textEditedEvent:null})},i._buildInstructionContextMenu=function(e){return[{label:e._({id:"Copy"}),click:function(){return i.copySelection()},accelerator:"CmdOrCtrl+C"},{label:e._({id:"Cut"}),click:function(){return i.cutSelection()},accelerator:"CmdOrCtrl+X"},{label:e._({id:"Paste"}),click:function(){return i.pasteInstructions()},enabled:Object(R.c)()||Object(R.b)(),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:e._({id:"Delete"}),click:function(){return i.deleteSelection()},accelerator:"Delete"},{type:"separator"},{label:e._({id:"Undo"}),click:i.undo,enabled:Object(C.b)(i.state.eventsHistory),accelerator:"CmdOrCtrl+Z"},{label:e._({id:"Redo"}),click:i.redo,enabled:Object(C.a)(i.state.eventsHistory),accelerator:"CmdOrCtrl+Shift+Z"},{label:e._({id:"Invert Condition"}),click:function(){return i._invertSelectedConditions()},visible:Object(T.l)(i.state.selection)}]},i.openAddInstructionContextMenu=function(e,t,n){i.openInstructionEditor(e,n,t)},i.openInstructionEditor=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i.state.editedInstruction.instruction&&(i.state.editedInstruction.instruction.delete(),console.warn("state.editedInstruction.instruction was containing an instruction - deleting it. Verify the logic handling the state in EventsSheet because that should not happen.")),i.setState({inlineInstructionEditorAnchorEl:n,editedInstruction:{instrsList:t.instrsList,isCondition:t.isCondition,instruction:t.instruction?t.instruction.clone():new G.Instruction,indexInList:void 0!==t.indexInList?t.indexInList:void 0,locatingEvent:e}})},i.moveSelectionToInstruction=function(e,t){i.moveSelectionToInstructionsList(e,{instrsList:t.instrsList,isCondition:t.isCondition},t.indexInList)},i.moveSelectionToInstructionsList=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=Object(T.e)(i.state.selection),o=void 0===n||null===n?t.instrsList.size():n,a=!!r.filter((function(e){return Object(P.a)(e,t.instrsList)})).length;if(!a){r.forEach((function(e){return t.instrsList.insert(e,o)}));var s=Object(T.h)(i.state.selection),c=i._getChangedEventRows(s),l=i._getChangedEventRows([e]);i._keyboardShortcuts.shouldCloneInstances()||i.deleteSelection({deleteEvents:!1,shouldSaveInHistory:!1}),i._saveChangesToHistory("EDIT",{positionsBeforeAction:c,positionAfterAction:l})}},i.selectEvent=function(e){var t=i._keyboardShortcuts.shouldMultiSelect();i.setState({selection:Object(T.p)(i.state.selection,e,t)},(function(){return i.updateToolbar()}))},i.collapseAll=function(){i._eventsTree&&i._eventsTree.foldAll()},i.expandToLevel=function(e){i._eventsTree&&i._eventsTree.unfoldToLevel(e)},i._buildEventContextMenu=function(e){return[{label:e._({id:"Edit"}),click:function(){return i.openEventTextDialog()},visible:Object(f.b)(Object(T.d)(i.state.selection)).length>0},{label:e._({id:"Copy"}),click:function(){return i.copySelection()},accelerator:"CmdOrCtrl+C"},{label:e._({id:"Cut"}),click:function(){return i.cutSelection()},accelerator:"CmdOrCtrl+X"},{label:e._({id:"Paste"}),click:function(){return i.pasteEvents()},enabled:Object(R.d)(),accelerator:"CmdOrCtrl+V"},{label:e._({id:"Delete"}),click:function(){return i.deleteSelection()},accelerator:"Delete"},{label:e._({id:"Toggle disabled"}),click:function(){return i.toggleDisabled()},enabled:i._selectionCanToggleDisabled(),accelerator:Object(O.b)(i.props.preferences.values.userShortcutMap.TOGGLE_EVENT_DISABLED||"KeyD")},{type:"separator"},{label:e._({id:"Add New Event Below"}),click:function(){i.addNewEvent("BuiltinCommonInstructions::Standard")}},{label:e._({id:"Add Sub Event"}),click:function(){return i.addSubEvents()},enabled:i._selectionCanHaveSubEvents()},{label:e._({id:"Add Other"}),submenu:i.state.allEventsMetadata.map((function(e){return{label:e.fullName,click:function(){i.addNewEvent(e.type)}}}))},{type:"separator"},{label:e._({id:"Undo"}),click:i.undo,enabled:Object(C.b)(i.state.eventsHistory),accelerator:"CmdOrCtrl+Z"},{label:e._({id:"Redo"}),click:i.redo,enabled:Object(C.a)(i.state.eventsHistory),accelerator:"CmdOrCtrl+Shift+Z"},{type:"separator"},{label:e._({id:"Collapse all"}),click:i.collapseAll},{label:e._({id:"Expand all to level"}),submenu:[{label:e._({id:"All"}),click:function(){return i.expandToLevel(-1)}},{type:"separator"}].concat(Object(o.a)([0,1,2,3,4,5,6,7,8].map((function(t){return{label:e._({id:"Level {0}",values:{0:t+1}}),click:function(){return i.expandToLevel(t)}}}))))},{type:"separator"},{label:e._({id:"Extract Events to a Function"}),click:function(){return i.extractEventsToFunction()}},{label:e._({id:"Move Events into a Group"}),click:function(){return i.moveEventsIntoNewGroup()}},{label:e._({id:"Analyze Objects Used in this Event"}),click:i._openEventsContextAnalyzer},{type:"separator"},{label:e._({id:"Zoom In"}),click:function(){return i.onZoomEvent("IN")()},accelerator:"CmdOrCtrl+=",enabled:i.props.preferences.values.eventsSheetZoomLevel<H},{label:e._({id:"Zoom Out"}),click:function(){return i.onZoomEvent("OUT")()},accelerator:"CmdOrCtrl+-",enabled:i.props.preferences.values.eventsSheetZoomLevel>z}]},i.openEventContextMenu=function(e,t,n){var r=i._keyboardShortcuts.shouldMultiSelect();i.setState({selection:Object(T.p)(i.state.selection,n,r)},(function(){i.updateToolbar(),i.eventContextMenu&&i.eventContextMenu.open(e,t)}))},i.openInstructionContextMenu=function(e,t,n,r){var o=i._keyboardShortcuts.shouldMultiSelect();i.setState({selection:Object(T.r)(e,i.state.selection,r,o)},(function(){i.updateToolbar(),i.instructionContextMenu&&i.instructionContextMenu.open(t,n)}))},i.selectInstruction=function(e,t){var n=i._keyboardShortcuts.shouldMultiSelect();i.setState({selection:Object(T.r)(e,i.state.selection,t,n)},(function(){return i.updateToolbar()}))},i.openParameterEditor=function(e,t){if(!i.state.editedParameter.instruction){var n=t.instruction,o=t.parameterIndex;i.setState({editedParameter:Object(r.a)({locatingEvent:e},t),inlineEditing:!0,inlineEditingAnchorEl:t.domEvent?t.domEvent.currentTarget:null,inlineEditingPreviousValue:n.getParameter(o).getPlainString()})}},i.closeParameterEditor=function(e){var t=i.state.editedParameter,n=t.instruction,r=t.parameterIndex,o=t.locatingEvent;if(n&&(e&&"string"===typeof i.state.inlineEditingPreviousValue&&n.setParameter(r,i.state.inlineEditingPreviousValue),!e&&i.state.inlineEditingPreviousValue!==n.getParameter(r)&&o)){var a=i._getChangedEventRows([o]);i._saveChangesToHistory("EDIT",{positionsBeforeAction:a,positionAfterAction:a})}var s=i.state.inlineEditingAnchorEl;i.setState({editedParameter:{isCondition:!0,instruction:null,instrsList:null,parameterIndex:0,locatingEvent:null},inlineEditing:!1,inlineEditingAnchorEl:null},(function(){s&&s.focus()}))},i.toggleDisabled=function(){var e=!1,t=Object(T.d)(i.state.selection);if(t.forEach((function(t){t.isExecutable()&&(t.setDisabled(!t.isDisabled()),e=!0)})),e){var n=i._getChangedEventRows(t);i._saveChangesToHistory("DELETE",{positionsBeforeAction:n,positionAfterAction:n},(function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))}},i.deleteSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deleteInstructions,n=void 0===t||t,r=e.deleteEvents,o=void 0===r||r,a=e.shouldSaveInHistory,s=void 0===a||a,c=i.props.events,l=new G.EventsRemover,u=[];if(o){var d=Object(T.d)(i.state.selection);d.forEach((function(e){return l.addEventToRemove(e)})),u=u.concat(d)}n&&(Object(T.e)(i.state.selection).forEach((function(e){return l.addInstructionToRemove(e)})),u=u.concat(Object(T.h)(i.state.selection)));var p=i._getChangedEventRows(u);l.launch(c),i._eventsTree&&i._eventsTree.forceEventsUpdate(),i.setState({selection:Object(T.a)(),inlineEditing:!1,inlineEditingAnchorEl:null},(function(){s&&i._saveChangesToHistory("DELETE",{positionsBeforeAction:p,positionAfterAction:p}),i._ensureFocused()}))},i.copySelection=function(){Object(R.a)(i.state.selection)},i.cutSelection=function(){i.copySelection(),i.deleteSelection()},i.pasteEvents=function(){if(Object(R.e)(i.props.project,i.state.selection)){var e=i._getChangedEventRows(Object(T.d)(i.state.selection));i._saveChangesToHistory("ADD",{positionsBeforeAction:e,positionAfterAction:e},(function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))}},i.pasteInstructions=function(){if(Object(R.g)(i.props.project,i.state.selection)){var e=Object(T.h)(i.state.selection),t=i._getChangedEventRows(e);i._saveChangesToHistory("EDIT",{positionsBeforeAction:t,positionAfterAction:t},(function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))}},i.pasteEventsOrInstructions=function(){Object(T.i)(i.state.selection)?i.pasteEvents():(Object(T.j)(i.state.selection)||Object(T.k)(i.state.selection))&&i.pasteInstructions()},i.pasteInstructionsInInstructionsList=function(e,t){if(Object(R.f)(i.props.project,t)){var n=i._getChangedEventRows([e]);i._saveChangesToHistory("EDIT",{positionsBeforeAction:n,positionAfterAction:n},(function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))}},i._invertSelectedConditions=function(){Object(T.f)(i.state.selection).forEach((function(e){e.isCondition&&e.instruction.setInverted(!e.instruction.isInverted())}));var e=Object(T.h)(i.state.selection),t=i._getChangedEventRows(e);i._saveChangesToHistory("EDIT",{positionsBeforeAction:t,positionAfterAction:t},(function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))},i._onEndEditingStringEvent=function(e){var t=i._getChangedEventRows([e]);i._saveChangesToHistory("EDIT",{positionsBeforeAction:t,positionAfterAction:t})},i._getChangedEventRows=function(e){var t=i._eventsTree;return t?e.map((function(e){return t.getEventRow(e)})):[]},i._saveChangesToHistory=function(e,t,n){i.setState({eventsHistory:Object(C.e)(i.state.eventsHistory,i.props.events,e,{positions:t})},(function(){i.updateToolbar(),n&&n()})),i._searchPanel&&i._searchPanel.markSearchResultsDirty()},i.undo=function(){if(Object(C.b)(i.state.eventsHistory)){var e=i.props,t=e.events,n=e.project,r=Object(C.f)(i.state.eventsHistory,t,n),o=Object(s.a)(i)._eventsTree;o&&o.forceEventsUpdate((function(){var e=r.futureActions[r.futureActions.length-1],t=e.changeContext.positions,n=e.type;o.scrollToRow(t.positionsBeforeAction[0]);var a=Object(T.b)();if("ADD"===n)a=Object(T.a)();else{var s=o.getEventContextAtRowIndexes(t.positionsBeforeAction);a=Object(T.q)(s)}i.setState({selection:a,eventsHistory:r},(function(){return i.updateToolbar()}))}))}},i.redo=function(){if(Object(C.a)(i.state.eventsHistory)){var e=i.props,t=e.events,n=e.project,r=Object(C.d)(i.state.eventsHistory,t,n),o=Object(s.a)(i)._eventsTree;o&&o.forceEventsUpdate((function(){var e=r.previousActions[r.previousActions.length-1],t=e.changeContext.positions,n=e.type;o.scrollToRow(t.positionAfterAction);var a=Object(T.b)();if("DELETE"===n)a=Object(T.a)();else{var s=o.getEventContextAtRowIndexes(t.positionAfterAction);a=Object(T.q)(s)}i.setState({selection:a,eventsHistory:r},(function(){return i.updateToolbar()}))}))}},i.onZoomEvent=function(e){var t="IN"===e?1:-1;return function(e){e&&(e.preventDefault(),e.stopPropagation()),i.props.preferences.setEventsSheetZoomLevel(Math.min(Math.max(i.props.preferences.values.eventsSheetZoomLevel+1*t,z),H))}},i._openEventsContextAnalyzer=function(){var e=i.props,t=e.globalObjectsContainer,n=e.objectsContainer,r=new G.EventsContextAnalyzer(G.JsPlatform.get(),t,n),o=new G.EventsList;Object(T.d)(i.state.selection).forEach((function(e){return o.insertEvent(e,o.getEventsCount())})),r.launch(o),o.delete(),i.setState({analyzedEventsContextResult:Object(k.b)(r.getEventsContext())}),r.delete()},i._closeEventsContextAnalyzer=function(){i.setState({analyzedEventsContextResult:null})},i.extractEventsToFunction=function(){var e=new G.EventsList;Object(T.d)(i.state.selection).forEach((function(t){return e.insertEvent(t,e.getEventsCount())})),i.props.onBeginCreateEventsFunction(),i.setState({serializedEventsToExtract:Object(y.b)(e)}),e.delete()},i.moveEventsIntoNewGroup=function(){var e=new G.EventsList;Object(T.d)(i.state.selection).forEach((function(t){return e.insertEvent(t,e.getEventsCount())})),i._replaceSelectionByGroupOfEvents(e),e.delete()},i._replaceSelectionByEventsFunction=function(e,t){var n=Object(T.c)(i.state.selection);if(n.length){var r=i.addNewEvent("BuiltinCommonInstructions::Standard",{eventsList:n[0].eventsList,indexInList:n[0].indexInList});if(r.length){var o=Object(N.b)(e,t);G.asStandardEvent(r[0]).getActions().push_back(o),o.delete(),i.deleteSelection({deleteInstructions:!1})}else console.error("A new event should have been created")}},i._replaceSelectionByGroupOfEvents=function(e){var t=Object(T.c)(i.state.selection);if(t.length){var n=i.addNewEvent("BuiltinCommonInstructions::Group",{eventsList:t[0].eventsList,indexInList:t[0].indexInList});if(n.length){var r=G.asGroupEvent(n[0]);r.setName("Grouped events"),r.setFolded(!0),r.getSubEvents().insertEvents(e,0,e.getEventsCount(),0),i.deleteSelection({deleteInstructions:!1})}else console.error("A new event should have been created")}},i._ensureEventUnfolded=function(e){var t=e();t&&i._eventsTree&&i._eventsTree.unfoldForEvent(t)},i._replaceInEvents=function(e,t){var n=e(t,(function(){i.forceUpdate((function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))}));if(n.length){var r=i._getChangedEventRows(n);i._saveChangesToHistory("EDIT",{positionsBeforeAction:r,positionAfterAction:r})}},i._searchInEvents=function(e,t){e(t,(function(){i.forceUpdate((function(){i._eventsTree&&i._eventsTree.forceEventsUpdate()}))}))},i._onEventMoved=function(e,t){i._saveChangesToHistory("EDIT",{positionsBeforeAction:[e],positionAfterAction:[t]})},i._renderInstructionEditorDialog=function(e){var t=i.props,n=t.project,r=t.scope,o=t.globalObjectsContainer,a=t.objectsContainer,s=i.state.inlineInstructionEditorAnchorEl?j.a:e?b.a:h.a;return i.state.editedInstruction.instruction?Object(W.jsx)(s,{project:n,scope:r,globalObjectsContainer:o,objectsContainer:a,instruction:i.state.editedInstruction.instruction,isCondition:i.state.editedInstruction.isCondition,isNewInstruction:void 0===i.state.editedInstruction.indexInList,anchorEl:i.state.inlineInstructionEditorAnchorEl,open:!0,onCancel:function(){return i.closeInstructionEditor()},onSubmit:function(){var e=i.state.editedInstruction,t=e.instrsList,n=e.instruction,r=e.indexInList;t&&n&&(void 0!==r&&null!==r?t.set(r,n):t.insert(n,t.size()),i.closeInstructionEditor(!0),Object(E.a)(t),i._eventsTree&&i._eventsTree.forceEventsUpdate())},resourceSources:i.props.resourceSources,onChooseResource:i.props.onChooseResource,resourceExternalEditors:i.props.resourceExternalEditors,openInstructionOrExpression:function(e,t){i.closeInstructionEditor(),i.props.openInstructionOrExpression(e,t)},canPasteInstructions:i.state.editedInstruction.isCondition?Object(R.c)():Object(R.b)(),onPasteInstructions:function(){var e=i.state.editedInstruction,t=e.instrsList,n=e.isCondition,r=e.locatingEvent;t&&r&&i.pasteInstructionsInInstructionsList(r,{instrsList:t,isCondition:n})}}):void 0},i._ensureFocused=function(){if(i._containerDiv&&document){var e=i._containerDiv.current;if(document.activeElement!==e&&e){if(document.activeElement!==document.body&&e.contains(document.activeElement))return;e.focus()}}},i.addNewEvent=Object(B.h)(i.props.authenticatedUser,B.d,i._addNewEvent),i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setState({allEventsMetadata:Object(I.a)()})}},{key:"componentDidUpdate",value:function(e,t){this.addNewEvent=Object(B.h)(this.props.authenticatedUser,B.d,this._addNewEvent),this.state.eventsHistory!==t.eventsHistory&&this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),!e.isActive&&this.props.isActive&&this._ensureFocused()}},{key:"updateToolbar",value:function(){this.props.setToolbar&&this.props.setToolbar(Object(W.jsx)(g.a,{allEventsMetadata:this.state.allEventsMetadata,onAddStandardEvent:this._addStandardEvent,onAddSubEvent:this.addSubEvents,canAddSubEvent:Object(T.i)(this.state.selection),canToggleEventDisabled:Object(T.i)(this.state.selection),onAddCommentEvent:this._addCommentEvent,onAddEvent:this.addNewEvent,onToggleDisabledEvent:this.toggleDisabled,canRemove:Object(T.m)(this.state.selection),onRemove:this.deleteSelection,canUndo:Object(C.b)(this.state.eventsHistory),canRedo:Object(C.a)(this.state.eventsHistory),undo:this.undo,redo:this.redo,onOpenSettings:this.props.onOpenSettings,onToggleSearchPanel:this._toggleSearchPanel}))}},{key:"closeInstructionEditor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.state.editedInstruction,r=n.instruction,o=n.locatingEvent;this.setState({editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0,locatingEvent:null}},(function(){if(r&&r.delete(),t&&o){var n=e._getChangedEventRows([o]);e._saveChangesToHistory("EDIT",{positionsBeforeAction:n,positionAfterAction:n})}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.scope,o=t.events,a=t.onOpenExternalEvents,i=t.onOpenLayout,s=t.globalObjectsContainer,c=t.objectsContainer,l=t.preferences,d=t.resourceSources,b=t.onChooseResource,h=t.resourceExternalEditors,j=t.onCreateEventsFunction,g=t.tutorials;if(!n)return null;var m=Object(M.b)();return Object(W.jsx)(F.a,{children:function(t){return Object(W.jsx)(S.a,{ref:function(t){return e._eventSearcher=t},events:o,globalObjectsContainer:s,objectsContainer:c,selection:e.state.selection,project:n,children:function(O){var y=O.eventsSearchResultEvents,C=O.searchFocusOffset,E=O.searchInEvents,S=O.replaceInEvents,P=O.goToPreviousSearchResult,I=O.goToNextSearchResult;return Object(W.jsxs)("div",{className:"gd-events-sheet",style:Y.container,onKeyDown:e._keyboardShortcuts.onKeyDown,onKeyUp:e._keyboardShortcuts.onKeyUp,onDragOver:e._keyboardShortcuts.onDragOver,ref:e._containerDiv,tabIndex:0,children:[Object(W.jsx)(p.a,{ref:function(t){return e._eventsTree=t},onScroll:e._ensureFocused,events:o,project:n,scope:r,globalObjectsContainer:s,objectsContainer:c,selection:e.state.selection,onInstructionClick:e.selectInstruction,onInstructionDoubleClick:e.openInstructionEditor,onInstructionContextMenu:e.openInstructionContextMenu,onAddInstructionContextMenu:e.openAddInstructionContextMenu,onAddNewInstruction:e.openInstructionEditor,onPasteInstructions:e.pasteInstructionsInInstructionsList,onMoveToInstruction:e.moveSelectionToInstruction,onMoveToInstructionsList:e.moveSelectionToInstructionsList,onParameterClick:e.openParameterEditor,onEventClick:e.selectEvent,onEventContextMenu:e.openEventContextMenu,onAddNewEvent:function(t,n){e.addNewEvent(t,{eventsList:n,indexInList:n.getEventsCount()})},onOpenExternalEvents:a,onOpenLayout:i,searchResults:y,searchFocusOffset:C,onEventMoved:e._onEventMoved,onEndEditingEvent:e._onEndEditingStringEvent,showObjectThumbnails:l.values.eventsSheetShowObjectThumbnails,screenType:m,windowWidth:t,eventsSheetHeight:e._containerDiv.current?e._containerDiv.current.clientHeight:0,fontSize:l.values.eventsSheetZoomLevel,preferences:l,tutorials:g},o.ptr),e.state.showSearchPanel&&Object(W.jsx)(w.a,{ref:function(t){return e._searchPanel=t},onSearchInEvents:function(t){return e._searchInEvents(E,t)},onReplaceInEvents:function(t){e._replaceInEvents(S,t)},resultsCount:y?y.length:null,hasEventSelected:Object(T.i)(e.state.selection),onGoToPreviousSearchResult:function(){return e._ensureEventUnfolded(P)},onCloseSearchPanel:function(){e._closeSearchPanel()},onGoToNextSearchResult:function(){return e._ensureEventUnfolded(I)},searchFocusOffset:C}),Object(W.jsx)(v.a,{open:e.state.inlineEditing,anchorEl:e.state.inlineEditingAnchorEl,onRequestClose:function(){e.closeParameterEditor("cancel"===l.values.eventsSheetCancelInlineParameter)},onApply:function(){e.closeParameterEditor(!1)},project:n,scope:r,globalObjectsContainer:s,objectsContainer:c,isCondition:e.state.editedParameter.isCondition,instruction:e.state.editedParameter.instruction,parameterIndex:e.state.editedParameter.parameterIndex,onChange:function(t){var n=e.state.editedParameter,r=n.instruction,o=n.parameterIndex;r&&e.state.inlineEditing&&(r.setParameter(o,t),e.forceUpdate(),e._searchPanel&&e._searchPanel.markSearchResultsDirty())},resourceSources:d,onChooseResource:b,resourceExternalEditors:h}),Object(W.jsx)(x.a,{ref:function(t){return e.eventContextMenu=t},buildMenuTemplate:e._buildEventContextMenu}),Object(W.jsx)(x.a,{ref:function(t){return e.instructionContextMenu=t},buildMenuTemplate:e._buildInstructionContextMenu}),e._renderInstructionEditorDialog(l.values.useNewInstructionEditorDialog||"touch"===m),e.state.analyzedEventsContextResult&&Object(W.jsx)(k.a,{onClose:e._closeEventsContextAnalyzer,eventsContextResult:e.state.analyzedEventsContextResult}),e.state.serializedEventsToExtract&&Object(W.jsx)(A.a,{project:n,globalObjectsContainer:s,objectsContainer:c,onClose:function(){return e.setState({serializedEventsToExtract:null})},serializedEvents:e.state.serializedEventsToExtract,onCreate:function(t,n){j(t,n),e._replaceSelectionByEventsFunction(t,n),e.setState({serializedEventsToExtract:null})}}),e.state.textEditedEvent&&Object(W.jsx)(f.a,{event:e.state.textEditedEvent,onApply:function(){e.closeEventTextDialog()},onClose:e.closeEventTextDialog}),Object(W.jsx)(L.a,{identifier:"edit-instruction-explanation",message:Object(W.jsx)(u.Trans,{id:"Double click on a condition or action to edit it."}),touchScreenMessage:Object(W.jsx)(u.Trans,{id:"Double tap a condition or action to edit it. Long press to show more options."}),show:Object(T.j)(e.state.selection)})]})}},o.ptr)}})}}]),n}(d.Component),X=function(e,t){d.useImperativeHandle(t,(function(){return{updateToolbar:o}}));var n=d.useRef(null),o=function(){n.current&&n.current.updateToolbar()},a=d.useContext(D.a),i=d.useContext(_.a),s=d.useContext(V.a).tutorials,c=d.useContext(U.a);return Object(W.jsx)(q,Object(r.a)({ref:n,authenticatedUser:a,preferences:i,tutorials:s,leaderboardsManager:c},e))};t.a=d.forwardRef(X)}).call(this,n(28))},,function(e,t,n){"use strict";(function(e){n(1);var r=n(1009),o=n(1497),a=n(1498),i=n(1499),s=n(1500),c=n(815),l=n(1520),u=n(1521),d=n(1522),p=n(1536),b=n(1537),h=n(1538),j=n(1024),f=n(1539),g=n(1540),m=n(1541),O=n(1542),v=n(1543),x=n(1544),y=n(1545),C=n(1546),T=n(1547),E=n(1548),k=n(1549),w=n(1550),S=n(1551),P=n(1552),I=n(1553),_=n(1554),A=n(1555),N=n(1556),R=n(1557),L=n(1558),M=n(2117),F=e.gd,D={default:r.a,mouse:i.a,object:c.a,relationalOperator:o.a,operator:a.a,yesorno:l.a,trueorfalse:u.a,expression:d.a,string:p.a,stringWithSelector:b.a,behavior:h.a,scenevar:j.a,globalvar:f.a,objectvar:g.a,layer:m.a,key:s.a,file:r.a,musicfile:v.a,soundfile:v.a,imageResource:O.a,videoResource:x.a,jsonResource:y.a,bitmapFontResource:C.a,fontResource:T.a,color:E.a,police:r.a,joyaxis:r.a,forceMultiplier:k.a,sceneName:w.a,layerEffectName:S.a,layerEffectParameterName:P.a,objectEffectName:I.a,objectEffectParameterName:_.a,objectPointName:A.a,objectAnimationName:N.a,functionParameterName:R.a,externalLayoutName:L.a,leaderboardId:M.a},B={default:r.b,forceMultiplier:k.b,globalvar:f.b,scenevar:j.b,objectvar:g.b,key:s.b,mouse:i.b,object:c.b,yesorno:l.b,trueorfalse:u.b,operator:a.b,relationalOperator:o.b,leaderboardId:M.b},U={mouse:{id:"Mouse button"},object:{id:"Object"},relationalOperator:{id:"Relational operator"},operator:{id:"Operator"},yesorno:{id:"Yes or No"},trueorfalse:{id:"True or False"},expression:{id:"Number"},string:{id:"String"},stringWithSelector:{id:"String"},behavior:{id:"Behavior"},scenevar:{id:"Scene variable"},globalvar:{id:"Global variable"},objectvar:{id:"Object variable"},layer:{id:"Layer"},key:{id:"Keyboard key"},musicfile:{id:"Audio resource"},soundfile:{id:"Audio resource"},imageResource:{id:"Image resource"},videoResource:{id:"Video resource"},bitmapFontResource:{id:"Bitmap font resource"},fontResource:{id:"Font resource"},jsonResource:{id:"JSON resource"},color:{id:"Color"},forceMultiplier:{id:"Instant or permanent force"},sceneName:{id:"Scene name"},layerEffectName:{id:"Layer effect name"},layerEffectParameterName:{id:"Layer effect parameter name"},objectEffectName:{id:"Object effect name"},objectEffectParameterName:{id:"Object effect parameter name"},objectPointName:{id:"Object point name"},objectAnimationName:{id:"Object animation name"},functionParameterName:{id:"Parameter name"},externalLayoutName:{id:"Name of the external layout"}},V={components:D,getParameterComponent:function(e){var t=F.ParameterMetadata.isObject(e)?"object":e;return D.hasOwnProperty(t)?D[t]:D.default},renderInlineParameter:function(e){var t=e.parameterMetadata.getType(),n=F.ParameterMetadata.isObject(t)?"object":t;return(B[n]||B.default)(e)},getUserFriendlyTypeName:function(e){var t=F.ParameterMetadata.isObject(e)?"object":e;return U[t]||null}};t.a=V}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return f}));var r=n(2),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(87),d=n.n(u),p=n(1010),b=n(494),h=n(7),j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var r;Object(o.a)(this,n);var a=(r=t.call(this,e)).props.parameterMetadata;return r._description=a?a.getDescription():void 0,r._longDescription=a?a.getLongDescription():void 0,r._allowedObjectType=a?a.getExtraInfo():void 0,r}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return Object(h.jsx)(p.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,value:this.props.value,onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,allowedObjectType:this._allowedObjectType,requiredObjectCapability:this.props.instructionMetadata?this.props.instructionMetadata.getRequiredBaseObjectCapability():this.props.expressionMetadata?this.props.expressionMetadata.getRequiredBaseObjectCapability():void 0,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,floatingLabelText:this._description,helperMarkdownText:this._longDescription,id:void 0!==this.props.parameterIndex?"parameter-".concat(this.props.parameterIndex,"-object-selector"):void 0,fullWidth:!0,errorTextIfInvalid:this._allowedObjectType?Object(h.jsx)(c.Trans,{id:"The object does not exist or can't be used here."}):Object(h.jsx)(c.Trans,{id:"Enter the name of an object."}),openOnFocus:!this.props.value,ref:function(t){return e._field=t}})}}]),n}(l.Component),f=function(e){var t=e.value,n=e.parameterMetadata,o=e.renderObjectThumbnail,a=e.expressionIsValid,i=e.InvalidParameterValue,s=e.MissingParameterValue;return t||n.isOptional()?Object(h.jsxs)("span",{title:t,className:d()(Object(r.a)({},b.r,!0)),children:[o(t),a?t:Object(h.jsx)(i,{children:t})]}):Object(h.jsx)(s,{})}},,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(9),o=n(8),a=n(704),i=n.n(a),s=n(63),c=n.n(s),l=n(479),u=n(477),d=n(1511),p=e.gd,b={},h={},j={},f=l.Texture.from("res/error48.png"),g=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,null,[{key:"_initializeTexture",value:function(e,t){"image"===e.getKind()&&(p.asImageResource(e).isSmooth()||(t.baseTexture.scaleMode=l.SCALE_MODES.NEAREST))}},{key:"loadTextures",value:function(t,n,r,o){var a=t.getResourcesManager(),i=l.Loader.shared;i.reset();var s={};n.forEach((function(e){if(a.hasResource(e)){var n=a.getResource(e),r=u.a.getResourceFullUrl(t,e,{isResourceForPixi:!0});i.add(e,r),s[e]=n}}));var c=Object.keys(s).length;if(c){var d=0,p=i.onProgress.add((function(){d++,r(d,c)}));i.load((function(t,n){for(var r in t.onProgress.detach(p),n)if(n.hasOwnProperty(r)){var i=a.getResource(r);if("image"!==i.getKind())continue;j[r]=n[r].texture,e._initializeTexture(i,j[r])}o()}))}else o()}},{key:"getPIXITexture",value:function(t,n){if(j[n])return j[n];if(!t.getResourcesManager().hasResource(n))return f;var r=t.getResourcesManager().getResource(n);return"image"!==r.getKind()?f:(j[n]=l.Texture.from(u.a.getResourceFullUrl(t,n,{isResourceForPixi:!0})),e._initializeTexture(r,j[n]),j[n])}},{key:"getPIXIVideoTexture",value:function(e,t){return j[t]?j[t]:e.getResourcesManager().hasResource(t)?"video"!==e.getResourcesManager().getResource(t).getKind()?f:(j[t]=l.Texture.from(u.a.getResourceFullUrl(e,t,{disableCacheBurst:!0,isResourceForPixi:!0}),{scaleMode:l.SCALE_MODES.LINEAR,resourceOptions:{autoPlay:!1}}),j[t]):f}},{key:"loadFontFamily",value:function(e,t){if(h[t])return Promise.resolve(h[t]);var n=i()(t),r=null;e.getResourcesManager().hasResource(t)?"font"===e.getResourcesManager().getResource(t).getKind()&&(r=u.a.getResourceFullUrl(e,t,{isResourceForPixi:!0})):r=u.a.getFullUrl(e,t,{isResourceForPixi:!0});return r?Object(d.a)(n,'url("'.concat(r,'")'),{}).then((function(e){return h[t]=n,n})):Promise.resolve("Arial")}},{key:"getFontFamily",value:function(e,t){return h[t]?h[t]:i()(t)}},{key:"getBitmapFontData",value:function(e,t){if(b[t])return Promise.resolve(b[t].data);if(!e.getResourcesManager().hasResource(t))return Promise.reject(new Error("Can't find resource called ".concat(t,".")));if("bitmapFont"!==e.getResourcesManager().getResource(t).getKind())return Promise.reject(new Error("The resource called ".concat(t," is not a bitmap font file. Require .fnt or .xml format.")));var n=u.a.getResourceFullUrl(e,t,{isResourceForPixi:!0});return n?c.a.get(n).then((function(e){return b[t]=e,e.data})):Promise.reject(new Error("The resource called ".concat(t," was no found.\nThe default bitmap font will be used.")))}},{key:"getInvalidPIXITexture",value:function(){return f}},{key:"getResourceJsonData",value:function(e,t){if(!e.getResourcesManager().hasResource(t))return Promise.reject(new Error("Can't find resource called ".concat(t,".")));if("json"!==e.getResourcesManager().getResource(t).getKind())return Promise.reject(new Error("The resource called ".concat(t," is not a json file.")));var n=u.a.getResourceFullUrl(e,t,{isResourceForPixi:!0});return c.a.get(n).then((function(e){return e.data}))}}]),e}()}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(19),o=n.n(r),a=function(e){if(e&&e.current){var t=o.a.findDOMNode(e.current);if(t instanceof HTMLButtonElement)t.focus();else if(t instanceof HTMLElement){var n=t.getElementsByTagName("button");n&&n.length&&n[0]instanceof HTMLButtonElement&&n[0].focus()}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n(465),o=function(e,t,n){var r=t.getParametersCount();return e.filter((function(e,o){return!(o<n)&&(o<r&&!t.getParameter(o).isCodeOnly())}))},a=function(e,t,n){var r=-1,o=-1,a=e.map((function(e,n){var a=t.getParameter(n);return a.isOptional()||(r=n),e.length>0?(o=n,e):a.getDefaultValue()})),i=Math.max(r,o,0);return a.filter((function(e,r){return n<=r&&r<=i&&!t.getParameter(r).isCodeOnly()}))},i=function(e){var t=Object(r.mapVector)(e.metadata.getParameters(),(function(e){return e.getType()}));return e.scope.objectMetadata?o(t,e.metadata,1):e.scope.behaviorMetadata?o(t,e.metadata,2):o(t,e.metadata,0)},s=function(e,t){var n=e.name||"";if(e.scope.objectMetadata){var r=t[0],o=a(t,e.metadata,1).join(", ");return"".concat(r,".").concat(n,"(").concat(o,")")}if(e.scope.behaviorMetadata){var i=t[0],s=t[1],c=a(t,e.metadata,2).join(", ");return"".concat(i,".").concat(s,"::").concat(n,"(").concat(c,")")}var l=a(t,e.metadata,0).join(", ");return"".concat(n,"(").concat(l,")")}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return I}));var r=n(2),o=n(18),a=n(9),i=n(8),s=n(13),c=n(14),l=n(12),u=n(561),d=n.n(u),p=n(1),b=n(137),h=n(1021),j=n(87),f=n.n(j),g=n(494),m=n(514),O=n(80),v=n(43),x=n(808),y=n.n(x),C=n(7),T=0,E=1,k=2,w=3,S=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("["===n)return T;if(" "===n)return k;if('"'===n)return E;if("("===n||"+"===n||"-"===n||"/"===n||"*"===n)return w}return T},P=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={autocompletionVariableNames:[]},r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.updateAutocompletions()}},{key:"componentDidUpdate",value:function(e){e.variablesContainer!==this.props.variablesContainer&&this.updateAutocompletions()}},{key:"updateAutocompletions",value:function(){var e=Object(h.a)(this.props.variablesContainer).map((function(e){var t=e.name;return e.isValidName?t:null})).filter(Boolean),t=this.context.values.useUndefinedVariablesInAutocompletion?y()([].concat(Object(o.a)(e),Object(o.a)(this.props.onComputeAllVariableNames()))):e;this.setState({autocompletionVariableNames:t.map((function(e){return{text:e,value:e}}))})}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,o=t.isInline,a=t.onOpenDialog,i=t.parameterMetadata,s=t.onRequestClose,c=t.onApply,u=i?i.getDescription():void 0,p=S(n),h=p===E?Object(C.jsx)(l.Trans,{id:"It seems you entered a name with a quote. Variable names should not be quoted."}):p===k?Object(C.jsx)(l.Trans,{id:"The variable name contains a space - this is not recommended. Prefer to use underscores or uppercase letters to separate words."}):p===w?Object(C.jsx)(l.Trans,{id:"The variable name looks like you're building an expression or a formula. You can only use this for structure or arrays. For example: Score[3]."}):null;return Object(C.jsx)(O.d,{renderTextField:function(){return Object(C.jsx)(m.a,{margin:e.props.isInline?"none":"dense",floatingLabelText:u,helperMarkdownText:i?i.getLongDescription():void 0,errorText:h,fullWidth:!0,value:n,onChange:r,onRequestClose:s,onApply:c,dataSource:e.state.autocompletionVariableNames,openOnFocus:!o,ref:function(t){return e._field=t}})},renderButton:function(t){return a&&!o?Object(C.jsx)(b.a,{icon:Object(C.jsx)(d.a,{}),disabled:!e.props.variablesContainer,primary:!0,style:t,onClick:a}):null}})}}]),n}(p.Component);P.contextType=v.a;var I=function(e,t,n){var o,a=e.value,i=e.parameterMetadata,s=e.expressionIsValid,c=e.InvalidParameterValue,l=e.MissingParameterValue;return a||i.isOptional()?Object(C.jsxs)("span",{title:n,className:f()((o={},Object(r.a)(o,g.r,!0),Object(r.a)(o,g.n,S(a)!==T),o)),children:[Object(C.jsx)("img",{className:f()(Object(r.a)({},g.j,!0)),src:t,alt:""}),s?a:Object(C.jsx)(c,{children:a})]}):Object(C.jsx)(l,{})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n(465),o=n(543),a=n.n(o),i=function(e){var t=e.getCurrentPlatform().getAllPlatformExtensions();return a()(Object(r.mapFor)(0,t.size(),(function(e){var n=t.at(e);return n.getExtensionEffectTypes().toJSArray().map((function(e){return n.getEffectMetadata(e)})).map((function(e){var t=e.getType(),r=e.getProperties(),o=r.keys().toJSArray().map((function(e){var n=r.get(e),o=n.getType().toLowerCase(),a=n.getLabel(),i=n.getDescription(),s=function(){return a},c=function(){return i},l=function(){return e};if("number"===o)return{name:e,valueType:"number",getValue:function(t){return t.getDoubleParameter(e)},setValue:function(t,n){return t.setDoubleParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l};if("boolean"===o)return{name:e,valueType:"boolean",getValue:function(t){return t.getBooleanParameter(e)},setValue:function(t,n){return t.setBooleanParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l};if("resource"===o){var u=n.getExtraInfo().toJSArray()[0]||"";return{name:e,valueType:"resource",resourceKind:u,getValue:function(t){return t.getStringParameter(e)},setValue:function(t,n){return t.setStringParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l}}return"color"===o?{name:e,valueType:"color",getValue:function(t){return t.getStringParameter(e)},setValue:function(t,n){return t.setStringParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l}:(console.error("A property with type=".concat(o," could not be mapped to a field for effect ").concat(t,". Ensure that this type is correct.")),null)})).filter(Boolean);return{extension:n,type:t,effectMetadata:e,fullName:e.getFullName(),description:e.getDescription(),isMarkedAsNotWorkingForObjects:e.isMarkedAsNotWorkingForObjects(),parametersSchema:o}}))}))).sort((function(e,t){return e.fullName.localeCompare(t.fullName)}))},s=function(e){return Object(r.mapFor)(0,e.getEffectsCount(),(function(t){return e.getEffectAt(t).getName()}))},c=function(e,t){e.clearParameters();var n=t.getProperties();n.keys().toJSArray().forEach((function(t){var r=n.get(t),o=r.getType().toLowerCase();"number"===o?e.setDoubleParameter(t,parseFloat(r.getValue())||0):"boolean"===o?e.setBooleanParameter(t,"true"===r.getValue()):e.setStringParameter(t,r.getValue())}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),o=(n(1),n(527)),a=n(7),i=function(e){var t=Object(o.DropTarget)(e,{canDrop:function(e,t){var n=t.getItem();return n&&e.canDrop(n)},hover:function(e,t){e.hover&&e.hover(t)},drop:function(e,t){t.didDrop()||e.drop(t)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),isOverLazy:t.isOver({shallow:!1}),canDrop:t.canDrop()}}))((function(e){return(0,e.children)({connectDropTarget:e.connectDropTarget,isOver:e.isOver,isOverLazy:e.isOverLazy,canDrop:e.canDrop})}));return function(e){return Object(a.jsx)(t,Object(r.a)({},e))}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=function(e){return e.nodePath[e.nodePath.length-1]},o=function(e){var t=e.targetEventsList,n=e.movingEvent,r=e.initialEventsList,o=e.toIndex;r.moveEventToAnotherEventsList(n,t,o)},a=function(e){var t=e.targetNode,n=e.node;if(t.event&&n.event){o({targetEventsList:t.event.getSubEvents(),movingEvent:n.event,initialEventsList:n.eventsList,toIndex:0});var a=r(n),i=r(t);return a<=i?i:i+1}},i=function(e){var t=e.targetNode,n=e.node;if(t.event&&n.event){var a=n.depth===t.depth&&n.indexInList<t.indexInList?t.indexInList:t.indexInList+1;o({targetEventsList:t.eventsList,movingEvent:n.event,initialEventsList:n.eventsList,toIndex:a});var i=r(n),s=r(t);return i<=s?s:s+1}},s=function(e){var t=e.targetNode,n=e.node;if(t.event&&n.event){var a=n.depth===t.depth&&n.indexInList<t.indexInList?t.indexInList-1:t.indexInList;o({targetEventsList:t.eventsList,movingEvent:n.event,initialEventsList:n.eventsList,toIndex:a});var i=r(n),s=r(t);return i<=s?s-1:s}},c=function(e,t){if(t.depth<=e.depth)return!1;var n=e.nodePath,r=t.nodePath;return n.every((function(e,t){return e===r[t]}))},l=function(e,t){if(e.depth!==t.depth)return!1;var n=t.nodePath,r=e.nodePath;return 0!==n[n.length-1]&&n[n.length-1]-1===r[r.length-1]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a}));var r=function(){return{"PhysicsBehavior::PhysicsBehavior":{warning:{id:"A new physics engine (Physics Engine 2.0) is now available. You should prefer using it for new game. For existing games, note that the two behaviors are not compatible, so you should only use one of them with your objects."}}}},o=function(){return{"Video::VideoObject":[{kind:"warning",message:{id:"Most browsers will require the user to have interacted with your game before allowing any video to play. Make sure that the player click/touch the screen at the beginning of the game before starting any video."}},{kind:"warning",message:{id:"For a given video resource, only one video will be played in memory and displayed. If you put this object multiple times on the scene, all the instances will be displaying the exact same video (with the same timing and paused/played/stopped state)."}},{kind:"info",message:{id:"Video format supported can vary according to devices and browsers. For maximum compatibility, use H.264/mp4 file format (and AAC for audio)."}}],"BitmapText::BitmapTextObject":[{kind:"warning",message:{id:"This object is experimental and not yet complete. It might have bugs or incomplete support in GDevelop, be sure to read the wiki by clicking on help button below."}},{kind:"info",message:{id:"For a pixel type font, you must disable the Smooth checkbox related to your texture in the game resources to disable anti-aliasing."}},{kind:"info",message:{id:"The font size is stored directly inside the font. If you want to change it, export again your font using an external editor like bmFont. Click on the help button to learn more."}}],"TileMap::TileMap":[{kind:"info",message:{id:"The tilemap must be designed in a separated program, Tiled, that can be downloaded on mapeditor.org. Save your map as a JSON file, then select here the Atlas image that you used and the Tile map JSON file."}}],"TextInput::TextInputObject":[{kind:"warning",message:{id:"The text input will be always shown on top of all other objects in the game - this is a limitation that can't be changed. According to the platform/device or browser running the game, the appearance can also slightly change."}}]}},a=function(e){return 0===e.indexOf("PhysicsBehavior::")?{kind:"warning",message:{id:'This action is deprecated and should not be used anymore. Instead, use for all your objects the behavior called "Physics2" and the associated actions (in this case, all objects must be set up to use Physics2, you can\'t mix the behaviors).'}}:e.startsWith("BoundingBox")?{kind:"info",message:{id:"The bounding box is an imaginary rectangle surrounding the object collision mask. Even if the object X and Y positions are not changed, this rectangle can change if the object is rotated or if an animation is being played. Usually you should use actions and conditions related to the object position or center, but the bounding box can be useful to deal with the area of the object."}}:"PickedInstancesCount"===e?{kind:"info",message:{id:"If no previous condition or action used the specified object(s), the picked instances count will be 0."}}:"CompareTimer"===e?{kind:"info",message:{id:'To start a timer, don\'t forget to use the action "Start (or reset) a scene timer" in another event.'}}:"CompareObjectTimer"===e?{kind:"info",message:{id:'To start a timer, don\'t forget to use the action "Start (or reset) an object timer" in another event.'}}:"FixCamera"===e?{kind:"info",message:{id:'Please prefer using the new action "Enforce camera boundaries" which is more flexible.'}}:"BitmapText::Scale"===e?{kind:"info",message:{id:"A scale under 1 on a Bitmap text object can downgrade the quality text, prefer to remake a bitmap font smaller in the external bmFont editor."}}:"TextObject::Text::SetFontSize"===e?{kind:"warning",message:{id:"This action will create a new texture and re-render the text each time it is called, which is expensive and can reduce performances. Prefer to avoid changing a lot the character size of a text."}}:"PlayMusicCanal"===e||"PlayMusic"===e?{kind:"warning",message:{id:"Musics will only be played if the user has interacted with the game before (by clicking/touching it or pressing a key on the keyboard). This is due to browser limitations. Make sure to have the user interact with the game before using this action."}}:"P2P::OnEvent"===e?{kind:"info",message:{id:"Read the wiki page for more info about the dataloss mode."}}:"PlatformBehavior::IsObjectOnGivenFloor"===e?{kind:"info",message:{id:"This condition may have unexpected results when the object is on different floors at the same time, due to the fact that the engine only considers the first floor the object comes into contact with."}}:"P2P::OverrideID"===e?{kind:"warning",message:{id:"Overriding the ID may have unwanted consequences. Do not use this feature unless you really know what you are doing."}}:0===e.indexOf("P2P::")?{kind:"warning",message:{id:"It is recommended to use your own custom broker server. Read the wiki page for more info."},identifier:"p2p-broker-recommendation"}:"SystemInfo::IsMobile"===e?{kind:"warning",message:{id:'Note that the distinction between what is a mobile device and what is not is becoming blurry (with devices like iPad pro and other "desktop-class" tablets). If you use this for mobile controls, prefer to check if the device has touchscreen support.'}}:"AdvancedWindow::SetClosable"===e||"AdvancedWindow::EnableWindow"===e||"AdvancedWindow::Show"===e||"AdvancedWindow::SetFocusable"===e||"AdvancedWindow::Focus"===e?{kind:"warning",message:{id:"Be careful with this action, you may have problems exiting the preview if you don't add a way to toggle it back."}}:"GetArgumentAsBoolean"===e?{kind:"info",message:{id:'If the parameter is a string or a number, you probably want to use the expressions "GetArgumentAsString" or "GetArgumentAsNumber", along with the conditions "Compare two strings" or "Compare two numbers".'}}:null}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var r=n(4),o=n(26),a=n(1),i=n(578),s=n(650),c=n(651),l=e.gd,u=function(e){var t=e.instructionType,n=e.isCondition,r=e.project;return t?n?l.MetadataProvider.getConditionMetadata(r.getCurrentPlatform(),t):l.MetadataProvider.getActionMetadata(r.getCurrentPlatform(),t):null},d=function(e,t){return e.find((function(e){return e.type===t}))},p=function(e){var t=e.instruction,n=e.isCondition,l=(e.project,e.isNewInstruction),u=e.scope,p=e.globalObjectsContainer,b=e.objectsContainer,h=function(e,r){var o=Object(c.a)(Object(i.d)(n,p,b,e),u);t.getType()&&r&&(d(o,t.getType())||t.setType(""));return{chosenObjectName:e,chosenObjectInstructionsInfo:o,chosenObjectInstructionsInfoTree:Object(s.a)(o)}},j=a.useState((function(){if(!l){var e=Object(i.b)(n),r=t.getType(),o=d(e,r);if(o&&(o.scope.objectMetadata||o.scope.behaviorMetadata)){var a=Object(i.f)(o.metadata);if(-1!==a)return h(t.getParameter(a).getPlainString(),!1)}}return{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null}})),f=Object(o.a)(j,2),g=f[0],m=f[1];return[g,{chooseInstruction:function(e){t.setType(e);return m({chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null}),Object(r.a)({instruction:t},{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null})},chooseObject:function(e){var n=h(e,!0);return m(n),Object(r.a)({instruction:t},n)},chooseObjectInstruction:function(e){if(t.setType(e),g.chosenObjectName){var n=h(g.chosenObjectName,!0);return m(n),Object(r.a)({instruction:t},n)}return Object(r.a)({instruction:t},g)}}]}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(578),o=e.gd,a=function(e,t,n,a,i){if(n.setParametersCount(a.getParametersCount()),i){var s=Object(r.f)(a);if(-1!==s){n.setParameter(s,i);var c=s+1;if(c<a.getParametersCount()){var l=a.getParameter(c);if(!o.ParameterMetadata.isBehavior(l.getType()))return;var u=l.getExtraInfo(),d=o.getBehaviorsOfObject(e,t,i,!0).toJSArray().filter((function(n){return!u||o.getTypeOfBehavior(e,t,n,!1)===u}));if(d.length>0){var p=n.getParameter(c).getPlainString();d.some((function(e){return p===e}))||n.setParameter(c,d[0])}}}else console.error('Instruction "'.concat(a.getFullName(),'" is used for an object, but does not have an object as first parameter'))}}}).call(this,n(28))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(12),o=(n(1),n(480)),a=n(518),i=n(804),s=n(511),c=n(470),l=n(7),u={container:{flex:1},grid:{overflowX:"hidden"}},d=function(e){var t=e.searchItems,n=e.renderSearchItem,d=e.error,p=e.onRetry,b=e.baseSize,h=e.noResultPlaceholder,j=e.noScroll;return t?0===t.length?h||Object(l.jsx)(c.a,{children:Object(l.jsx)(r.Trans,{id:"No results returned for your search. Try something else, browse the categories or create your object from scratch!"})}):Object(l.jsx)(i.a,{children:Object(l.jsx)("div",{style:u.container,children:Object(l.jsx)(s.a,{children:function(e){var r=e.width,o=e.height,a=Math.max(Math.floor((r-5)/b),1),i=Math.max(Math.floor(r/a),30),c=Math.max(1,Math.ceil(t.length/a)),d=i,p=j?d*c:o,h=r;return Object(l.jsx)(s.e,{width:h,height:p,columnCount:a,columnWidth:i,rowHeight:d,rowCount:c,cellRenderer:function(e){var r=e.columnIndex,o=e.key,s=e.rowIndex,c=e.style,u=s*a+r,d=u<t.length?t[u]:null;return Object(l.jsx)("div",{style:c,children:d?n(d,i):null},o)},style:u.grid})}})})}):d?Object(l.jsx)(a.a,{onRetry:p,children:Object(l.jsx)(r.Trans,{id:"Can't load the results. Verify your internet connection or retry later."})}):Object(l.jsx)(o.a,{})}},function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return g}));var r=n(45),o=n(8),a=n(9),i=n(13),s=n(14),c=n(721),l=n(497),u=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return Object(a.a)(this,n),t.call(this,e)}return Object(o.a)(n)}(c.a),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;Object(a.a)(this,e),this.objectTypes=t}return Object(o.a)(e,[{key:"getPertinence",value:function(e){return 0===this.objectTypes.size||this.objectTypes.has(e.objectType)?1:0}}]),e}(),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(a.a)(this,e),this.attributionFreeOnly=t}return Object(o.a)(e,[{key:"getPertinence",value:function(t){return!this.attributionFreeOnly||e.noAttributionLicenses.includes(t.license)?1:0}}]),e}();p.noAttributionLicenses=["CC0 (public domain)","Apache 2.0","Trademark of GDevelop Ltd (fair use authorised in GDevelop games)","SIL Open Font License 1.1 (OFL)"];var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(a.a)(this,e),this.mustBeAnimated=t,this.mustHaveSeveralState=n}return Object(o.a)(e,[{key:"getPertinence",value:function(e){var t=e.maxFramesCount>1,n=e.animationsCount>1;return this.mustBeAnimated&&!t||this.mustHaveSeveralState&&!n?0:1}}]),e}(),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.boundMin,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.boundMax;Object(a.a)(this,e),this.dimensionMin=t,this.dimensionMax=n}return Object(o.a)(e,[{key:"getPertinence",value:function(t){return(this.dimensionMin===e.boundMin||this.dimensionMin<=t.width)&&(this.dimensionMin===e.boundMax||t.width<=this.dimensionMax)||(this.dimensionMin===e.boundMin||this.dimensionMin<=t.height)&&(this.dimensionMin===e.boundMax||t.height<=this.dimensionMax)?1:0}}]),e}();h.boundMin=8,h.boundMax=2048;var j=function(e,t){var n=Object(l.l)(e.r,e.g,e.b),r=Object(l.l)(t.r,t.g,t.b),o=n[1],a=r[1];if(0===o){var i=a-o,s=r[2]-n[2];return 1-(i*i+s*s)/2}var c,u=0===a?1:2*Math.abs(((r[0]-n[0]+.5)%(c=1)+c)%c-.5),d=a-o,p=r[2]-n[2];return 1-(4*u*u+d*d+p*p)/6},f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(a.a)(this,e),this.color=t}return Object(o.a)(e,[{key:"getPertinence",value:function(e){var t=this.color;if(!t)return 1;var n,o=Number.MIN_VALUE,a=Object(r.a)(e.dominantColors);try{for(a.s();!(n=a.n()).done;){var i=n.value,s=Object(l.a)(i),c=j(s,t);o=Math.max(o,c)}}catch(u){a.e(u)}finally{a.f()}return o}}]),e}(),g=function(){function e(t){Object(a.a)(this,e),this.other=t}return Object(o.a)(e,[{key:"getPertinence",value:function(e){if(this.other===e||this.other.objectType!==e.objectType)return 0;var t=e.maxFramesCount>1,n=e.animationsCount>1,o=this.other.maxFramesCount>1,a=this.other.animationsCount>1;if(t!==o||n!==a)return 0;var i=e.tags.includes("top-down"),s=e.tags.includes("isometric"),c=e.tags.includes("side view"),u=this.other.tags.includes("top-down"),d=this.other.tags.includes("isometric"),p=this.other.tags.includes("side view");if(!(i&&u||s&&d||c&&p||!i&&!s&&!c&&!u&&!d&&!p))return 0;var b=e.width*e.height,h=this.other.width*this.other.height;if(2*Math.min(b,h)<Math.max(b,h))return 0;var f=e.width/e.height,g=this.other.width/this.other.height;if(1.5*Math.min(f,g)<Math.max(f,g))return 0;var m,O=0,v=Object(r.a)(e.dominantColors);try{for(v.s();!(m=v.n()).done;){var x,y=m.value,C=Object(l.a)(y),T=Object(r.a)(this.other.dominantColors);try{for(T.s();!(x=T.n()).done;){var E=x.value,k=Object(l.a)(E),w=j(C,k);O=Math.max(O,w)}}catch(S){T.e(S)}finally{T.f()}}}catch(S){v.e(S)}finally{v.f()}return O}}]),e}()},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(e,t,n,r,o,a){if("isometric"===a){if(t<=0||n<=0)return e[0]=Math.round(e[0]),void(e[1]=Math.round(e[1]));var i=Math.round(2*(e[0]-r)/t),s=Math.round(2*(e[1]-o)/n);if(((i+s)%2+2)%2===1){var c=(e[0]-(i/2*t+r))/t,l=(e[1]-(s/2*n+o))/n;Math.abs(c)>Math.abs(l)?c>0?i++:i--:l>0?s++:s--}e[0]=i/2*t+r,e[1]=s/2*n+o}else e[0]=t<=0?Math.round(e[0]):Math.round((e[0]-r)/t)*t+r,e[1]=n<=0?Math.round(e[1]):Math.round((e[1]-o)/n)*n+o},o=function(e,t,n,o,a,i){return"isometric"===i?r(e,t/2,n/2,o,a,"rectangular"):r(e,t,n,o,a,i)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(4),o=n(497),a=function(e){return{grid:e.grid||!1,gridType:e.gridType||"rectangular",gridWidth:e.gridWidth||32,gridHeight:e.gridHeight||32,gridOffsetX:e.gridOffsetX||0,gridOffsetY:e.gridOffsetY||0,gridColor:void 0!==e.gridColor?e.gridColor:Object(o.k)(158,180,255),gridAlpha:void 0!==e.gridAlpha?e.gridAlpha:.8,snap:e.snap||!1,zoomFactor:Math.max(e.zoomFactor||1,1e-4),windowMask:e.windowMask||!1}},i=function(e){return Object(r.a)({},e)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));n(1);var r=e.gd,o=[{kind:"audio",displayName:{id:"Audio"},fileExtensions:["aac","wav","mp3","ogg"],createNewResource:function(){return new r.AudioResource}},{kind:"image",displayName:{id:"Image"},fileExtensions:["png","jpg","jpeg","webp"],createNewResource:function(){return new r.ImageResource}},{kind:"font",displayName:{id:"Font"},fileExtensions:["ttf","otf"],createNewResource:function(){return new r.FontResource}},{kind:"video",displayName:{id:"Video"},fileExtensions:["mp4","webm"],createNewResource:function(){return new r.VideoResource}},{kind:"json",displayName:{id:"Json"},fileExtensions:["json"],createNewResource:function(){return new r.JsonResource}},{kind:"bitmapFont",displayName:{id:"Bitmap Font"},fileExtensions:["fnt","xml"],createNewResource:function(){return new r.BitmapFontResource}}]}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return j}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(1),c=n(642),l=n(529),u=n(721),d=n(1829),p=n(7),b=s.createContext({filters:null,searchResults:null,fetchShowcasedGamesAndFilters:function(){},allShowcasedGames:null,error:null,searchText:"",setSearchText:function(){},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),h=function(e){return e.title+"\n"+e.author+"\n"+e.description+"\n"+e.tags.join(",")},j=function(e){var t=e.children,n=s.useState(null),a=Object(o.a)(n,2),j=a[0],f=a[1],g=s.useState(null),m=Object(o.a)(g,2),O=m[0],v=m[1],x=s.useState(null),y=Object(o.a)(x,2),C=y[0],T=y[1],E=s.useState(null),k=Object(o.a)(E,2),w=k[0],S=k[1],P=s.useRef(!1),I=s.useState(""),_=Object(o.a)(I,2),A=_[0],N=_[1],R=Object(c.b)(),L=s.useCallback((function(){j||P.current||Object(r.a)(i.a.mark((function e(){var t,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(null),P.current=!0,e.prev=2,e.next=5,Object(l.j)();case 5:t=e.sent,n=t.showcasedGames,r=t.filters,v(Object(d.shuffle)(n)),o={},n.forEach((function(e){o[e.title]=e})),console.info("Loaded ".concat(n.length," games from the games showcase.")),f(o),T(r),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("Unable to load the games from the games showcase:",e.t0),S(e.t0);case 19:P.current=!1;case 20:case"end":return e.stop()}}),e,null,[[2,15]])})))()}),[j,P]),M=R.chosenCategory,F=R.chosenFilters,D=Object(u.b)(j,h,A,M,F),B=s.useMemo((function(){return{searchResults:D,fetchShowcasedGamesAndFilters:L,allShowcasedGames:O,filters:C,error:w,searchText:A,setSearchText:N,filtersState:R}}),[D,O,w,C,A,R,L]);return Object(p.jsx)(b.Provider,{value:B,children:t})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(1),c=n(642),l=n(610),u=n(699),d=n(7),p=s.createContext({filters:null,searchResults:null,fetchExamplesAndFilters:function(){},allExamples:null,error:null,searchText:"",setSearchText:function(){},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),b=function(e){var t=e.children,n=s.useState(null),a=Object(o.a)(n,2),b=a[0],h=a[1],j=s.useState(null),f=Object(o.a)(j,2),g=f[0],m=f[1],O=s.useState(null),v=Object(o.a)(O,2),x=v[0],y=v[1],C=s.useState(null),T=Object(o.a)(C,2),E=T[0],k=T[1],w=s.useRef(!1),S=s.useState(""),P=Object(o.a)(S,2),I=P[0],_=P[1],A=Object(c.b)(),N=s.useCallback((function(){b||w.current||Object(r.a)(i.a.mark((function e(){var t,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(null),w.current=!0,e.prev=2,e.next=5,Object(l.c)();case 5:t=e.sent,n=t.exampleShortHeaders,r=t.filters,k(n),o={},n.forEach((function(e){o[e.id]=e})),console.info("Loaded ".concat(n.length," examples from the example store.")),h(o),m(r),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("Unable to load the examples from the example store:",e.t0),y(e.t0);case 19:w.current=!1;case 20:case"end":return e.stop()}}),e,null,[[2,15]])})))()}),[b,w]);s.useEffect((function(){if(!b&&!w.current){var e=setTimeout((function(){console.info("Pre-fetching examples from the example store..."),N()}),5e3);return function(){return clearTimeout(e)}}}),[N,b,w]);var R=A.chosenCategory,L=A.chosenFilters,M=Object(u.c)(b,I,R,L),F=s.useMemo((function(){return{searchResults:M,fetchExamplesAndFilters:N,allExamples:E,filters:g,error:x,searchText:I,setSearchText:_,filtersState:A}}),[M,E,x,g,I,A,N]);return Object(d.jsx)(p.Provider,{value:F,children:t})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return A}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(12),c=n(1),l=n(100),u=n(136),d=n(610),p=n(575),b=n(542),h=n(480),j=n(518),f=n(142),g=n(463),m=n(478),O=n(54),v=n(30),x=n(2166),y=n(80),C=n(1126),T=n(554),E=n(35),k=n(20),w=n.n(k),S=n(701),P=n(7),I=w()("electron"),_=function(e){E.b.openExternalURL("https://editor.gdevelop-app.com/?project=".concat(e.projectFileUrl))};function A(e){var t=e.isOpening,n=e.exampleShortHeader,a=e.onClose,E=e.onOpen,k=c.useState(null),w=Object(o.a)(k,2),A=w[0],N=w[1],R=c.useState(null),L=Object(o.a)(R,2),M=L[0],F=L[1],D=c.useCallback(Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(null),e.prev=1,e.next=4,Object(d.a)(n);case 4:t=e.sent,F(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),N(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[n]);c.useEffect((function(){D()}),[D]);var B=Object(p.b)(Object(O.b)(),n),U=n.previewImageUrls.length>0,V=!t&&B,W=c.useCallback((function(){V&&E()}),[E,V]);return Object(P.jsx)(l.b,{actions:[Object(P.jsx)(u.a,{label:Object(P.jsx)(s.Trans,{id:"Back"}),primary:!1,onClick:a,disabled:t},"close"),Object(P.jsx)(b.a,{isLoading:t,children:Object(P.jsx)(T.a,{label:B?Object(P.jsx)(s.Trans,{id:"Open"}):Object(P.jsx)(s.Trans,{id:"Not compatible"}),primary:!0,onClick:W,disabled:!V,buildMenuTemplate:function(e){return[{label:I?e._({id:"Open in the web-app"}):e._({id:"Open in a new tab"}),disabled:!M,click:function(){M&&_(M)}}]}})},"open")],open:!0,cannotBeDismissed:t,onRequestClose:a,onApply:W,children:Object(P.jsxs)(y.a,{expand:!0,noMargin:!0,children:[!B&&Object(P.jsx)(m.a,{kind:"error",children:Object(P.jsx)(s.Trans,{id:"Unfortunately, this example requires a newer version of GDevelop to work. Update GDevelop to be able to open this example."})}),Object(P.jsxs)(v.c,{alignItems:"center",noMargin:!0,children:[U?Object(P.jsx)(C.a,{exampleShortHeader:n,size:40}):null,Object(P.jsx)(v.a,{expand:!0,noMargin:!U,children:Object(P.jsx)(g.a,{noMargin:!0,size:"title",children:n.name})})]}),n.authors&&Object(P.jsx)(v.c,{children:n.authors.map((function(e){return Object(P.jsx)(S.a,{user:e,isClickable:!0},e.id)}))}),Object(P.jsx)(g.a,{noMargin:!0,children:n.shortDescription}),Object(P.jsx)(x.a,{}),M&&Object(P.jsx)(f.a,{source:M.description,isStandaloneText:!0}),!M&&!A&&Object(P.jsx)(h.a,{}),!M&&A&&Object(P.jsx)(j.a,{onRetry:D,children:Object(P.jsx)(s.Trans,{id:"Can't load the example. Verify your internet connection or try again later."})})]})})}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return g}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(1),c=n(575),l=n(721),u=n(859),d={chosenCategory:null,chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},setChosenCategory:function(){}},p={isOnHomePage:!0,openedAssetShortHeader:null,openedAssetPack:null,filtersState:d,ignoreTextualSearch:!1},b={isOnHomePage:!1,openedAssetShortHeader:null,openedAssetPack:null,filtersState:d,ignoreTextualSearch:!1},h=n(7),j=s.createContext({filters:null,assetPacks:null,authors:null,licenses:null,searchResults:null,fetchAssetsAndFilters:function(){},error:null,searchText:"",setSearchText:function(){},assetFiltersState:{animatedFilter:new u.a,setAnimatedFilter:function(e){},viewpointFilter:new u.g,setViewpointFilter:function(e){},dimensionFilter:new u.c,setDimensionFilter:function(e){},objectTypeFilter:new u.e,setObjectTypeFilter:function(e){},colorFilter:new u.b,setColorFilter:function(e){},licenseFilter:new u.d,setLicenseFilter:function(e){}},navigationState:{previousPages:[p],getCurrentPage:function(){return p},backToPreviousPage:function(){},openHome:function(){},clearHistory:function(){},openSearchIfNeeded:function(){},activateTextualSearch:function(){},openTagPage:function(e){},openPackPage:function(e){},openDetailPage:function(e){}},currentPage:p,useSearchItem:function(e,t,n,r){return null}}),f=function(e){return e.name+"\n"+e.shortDescription+"\n"+e.tags.join(", ")},g=function(e){var t=e.children,n=s.useState(null),a=Object(o.a)(n,2),g=a[0],m=a[1],O=s.useState(null),v=Object(o.a)(O,2),x=v[0],y=v[1],C=s.useState(null),T=Object(o.a)(C,2),E=T[0],k=T[1],w=s.useState(null),S=Object(o.a)(w,2),P=S[0],I=S[1],_=s.useState(null),A=Object(o.a)(_,2),N=A[0],R=A[1],L=s.useState(null),M=Object(o.a)(L,2),F=M[0],D=M[1],B=s.useRef(!1),U=s.useState(""),V=Object(o.a)(U,2),W=V[0],G=V[1],z=function(){var e=s.useState({previousPages:[p]}),t=Object(o.a)(e,2),n=t[0],r=t[1],a=n.previousPages;return{previousPages:a,getCurrentPage:function(){return a[a.length-1]},backToPreviousPage:function(){a.length>1&&(a.pop(),r({previousPages:a}))},openHome:function(){a.length=0,a.push(p),r({previousPages:a})},clearHistory:function(){var e=a[a.length-1];a.length=0,a.push(p),a.push(e),r({previousPages:a})},openSearchIfNeeded:function(){var e=a[a.length-1];(e.isOnHomePage||e.openedAssetShortHeader)&&(a.push(b),r({previousPages:a}))},activateTextualSearch:function(){var e=a[a.length-1];e.isOnHomePage||e.openedAssetShortHeader?(a.push(b),r({previousPages:a})):e.ignoreTextualSearch&&(e.ignoreTextualSearch=!1,r({previousPages:a}))},openTagPage:function(e){a.push({isOnHomePage:!1,openedAssetShortHeader:null,openedAssetPack:null,filtersState:{chosenCategory:{node:{name:e,allChildrenTags:[],children:[]},parentNodes:[]},chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},setChosenCategory:function(){}},ignoreTextualSearch:!0}),r({previousPages:a})},openPackPage:function(e){a.push({isOnHomePage:!1,openedAssetShortHeader:null,openedAssetPack:e,filtersState:{chosenCategory:{node:{name:e.tag,allChildrenTags:[],children:[]},parentNodes:[]},chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},setChosenCategory:function(){}},ignoreTextualSearch:!0}),r({previousPages:a})},openDetailPage:function(e){a.push({isOnHomePage:!1,openedAssetShortHeader:e,openedAssetPack:null,filtersState:d,ignoreTextualSearch:!0}),r({previousPages:a})}}}(),H=s.useState(new u.a),Y=Object(o.a)(H,2),q=Y[0],X=Y[1],K=s.useState(new u.g),J=Object(o.a)(K,2),Z=J[0],Q=J[1],$=s.useState(new u.c),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],re=s.useState(new u.e),oe=Object(o.a)(re,2),ae=oe[0],ie=oe[1],se=s.useState(new u.b),ce=Object(o.a)(se,2),le=ce[0],ue=ce[1],de=s.useState(new u.d),pe=Object(o.a)(de,2),be=pe[0],he=pe[1],je=s.useMemo((function(){return[q,Z,te,ae,le,be]}),[q,Z,te,ae,le,be]),fe=s.useCallback((function(){g||B.current||Object(r.a)(i.a.mark((function e(){var t,n,r,o,a,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(null),B.current=!0,e.prev=2,e.next=5,Object(c.d)();case 5:return t=e.sent,n=t.assetShortHeaders,r=t.filters,o=t.assetPacks,e.next=11,Object(c.e)();case 11:return a=e.sent,e.next=14,Object(c.f)();case 14:s=e.sent,l={},n.forEach((function(e){l[e.id]=e})),console.info("Loaded ".concat(n.length," assets from the asset store.")),m(l),y(r),k(o),I(a),R(s),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(2),console.error("Unable to load the assets from the asset store:",e.t0),D(e.t0);case 29:B.current=!1;case 30:case"end":return e.stop()}}),e,null,[[2,25]])})))()}),[g,B]);s.useEffect((function(){if(!g&&!B.current){var e=setTimeout((function(){console.info("Pre-fetching assets from asset store..."),fe()}),6e3);return function(){return clearTimeout(e)}}}),[fe,g,B]);var ge=z.getCurrentPage(),me=ge.filtersState,Oe=me.chosenCategory,ve=me.chosenFilters,xe=Object(l.b)(g,f,ge.ignoreTextualSearch?"":W,Oe,ve,je),ye=s.useMemo((function(){return{searchResults:xe,fetchAssetsAndFilters:fe,filters:x,assetPacks:E,authors:P,licenses:N,error:F,navigationState:z,currentPage:ge,searchText:W,setSearchText:G,assetFiltersState:{animatedFilter:q,setAnimatedFilter:X,viewpointFilter:Z,setViewpointFilter:Q,dimensionFilter:te,setDimensionFilter:ne,objectTypeFilter:ae,setObjectTypeFilter:ie,colorFilter:le,setColorFilter:ue,licenseFilter:be,setLicenseFilter:he},useSearchItem:function(e,t,n,r){return Object(l.b)(g,f,e,t,n,r)}}}),[xe,fe,x,E,P,N,F,z,ge,W,q,Z,te,ae,le,be,he,g]);return Object(h.jsx)(j.Provider,{value:ye,children:t})}},,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(2),o=n(3),a=n(4),i=n(26),s=n(0),c=n.n(s),l=n(12),u=n(1),d=(n(1179),n(2286)),p=n(2285),b=n(1109),h=n.n(b),j=n(2103),f=n(1185),g=n(2096),m=n(1187),O=n(2091),v=n(1469),x=n(1471),y=n(1472),C=n(1473),T=n(2092),E=n(35),k=n(62),w=n(1e3),S=n(2104),P=n(1001),I=n(1120),_=n(2105),A=n(1146),N=n(1003),R=n(1099),L=n(1119),M=n(1102),F=n(1081),D=n(2093),B=n(1118),U=n(804),V=n(2106),W=n(477),G=n(552),z=n(895),H=n(470),Y=n(2107),q=n(1130),X=n(1846),K=n(43),J=n(580),Z=n(173),Q=n(1847),$=n(1848),ee=n(1849),te=n(1850),ne=n(670),re=n(139),oe=n(1851),ae=n(556),ie=n(1852),se=n(2097),ce=n(1853),le=n(993),ue=n(1854),de=n(1855),pe=n(1856),be=n(722),he=n(960),je=n(680),fe=n(536),ge=n(1857),me=n(544),Oe=n(490),ve=n(127),xe=n(966),ye=n(81),Ce=n(7),Te=e.GD_STARTUP_TIMES||[],Ee=e.gd,ke={drawerContent:{width:320,overflowX:"hidden",display:"flex",flexDirection:"column"}},we=function(e,t,n){var r=n.storageProviderName,o=t.filter((function(e){return e.internalName===r}))[0];if(o)return o;var a=n.storageProviderName;Object(k.a)({message:e._({id:"Unable to open the project because this provider is unknown: {storageProviderName}. Try to open the project again from another location.",values:{storageProviderName:r}}),rawError:new Error("Can't find storage provider called \"".concat(a,'"')),errorId:"unknown-storage-provider"})},Se={previewLayoutName:null,previewExternalLayoutName:null,isPreviewOverriden:!1,overridenPreviewLayoutName:null,overridenPreviewExternalLayoutName:null};t.a=function(e){var t=Object(oe.a)({createDialogOpen:!1,currentProject:null,currentFileMetadata:null,editorTabs:Object(P.l)(),snackMessage:"",snackMessageOpen:!1,updateStatus:{message:"",status:"unknown"},openFromStorageProviderDialogOpen:!1,saveToStorageProviderDialogOpen:!1,eventsFunctionsExtensionsError:null,gdjsDevelopmentWatcherEnabled:!1}),n=Object(i.a)(t,2),s=n[0],b=n[1],Pe=u.useRef(null),Ie=u.useContext(Oe.a),_e=u.useState(null),Ae=Object(i.a)(_e,2),Ne=Ae[0],Re=Ae[1],Le=u.useState(null),Me=Object(i.a)(Le,2),Fe=Me[0],De=Me[1],Be=u.useRef(null),Ue=Object(re.a)(),Ve=u.useState(!1),We=Object(i.a)(Ve,2),Ge=We[0],ze=We[1],He=u.useState(!1),Ye=Object(i.a)(He,2),qe=Ye[0],Xe=Ye[1],Ke=u.useState(!1),Je=Object(i.a)(Ke,2),Ze=Je[0],Qe=Je[1],$e=u.useState(!1),et=Object(i.a)($e,2),tt=et[0],nt=et[1],rt=u.useState(!1),ot=Object(i.a)(rt,2),at=ot[0],it=ot[1],st=u.useState(!1),ct=Object(i.a)(st,2),lt=ct[0],ut=ct[1],dt=u.useState(!1),pt=Object(i.a)(dt,2),bt=pt[0],ht=pt[1],jt=u.useState(!1),ft=Object(i.a)(jt,2),gt=ft[0],mt=ft[1],Ot=u.useState("profile"),vt=Object(i.a)(Ot,2),xt=vt[0],yt=vt[1],Ct=u.useState(!1),Tt=Object(i.a)(Ct,2),Et=Tt[0],kt=Tt[1],wt=u.useState(!1),St=Object(i.a)(wt,2),Pt=St[0],It=St[1],_t=u.useState(!1),At=Object(i.a)(_t,2),Nt=At[0],Rt=At[1],Lt=u.useState(!1),Mt=Object(i.a)(Lt,2),Ft=Mt[0],Dt=Mt[1],Bt=u.useContext(K.a),Ut=u.useState(!1),Vt=Object(i.a)(Ut,2),Wt=Vt[0],Gt=Vt[1],zt=u.useState(Se),Ht=Object(i.a)(zt,2),Yt=Ht[0],qt=Ht[1],Xt=u.useRef(null),Kt=u.useContext(G.a),Jt=Be.current&&Be.current.getPreviewDebuggerServer(),Zt=Object(ue.a)(Jt),Qt=Zt.previewDebuggerIds,$t=Zt.hotReloadLogs,en=Zt.clearHotReloadLogs,tn=!!Qt.length,nn=Object(ee.a)(),rn=nn.ensureInteractionHappened,on=nn.renderOpenConfirmDialog,an=Object(be.b)(),sn=an.ensureResourcesAreFetched,cn=an.renderResourceFetcherDialog,ln=u.useContext(G.a),un=u.useContext(ne.b),dn=u.useState("examples"),pn=Object(i.a)(dn,2),bn=pn[0],hn=pn[1],jn=s.currentProject,fn=s.currentFileMetadata,gn=s.updateStatus,mn=s.eventsFunctionsExtensionsError,On=e.renderExportDialog,vn=e.renderCreateDialog,xn=e.onCreateFromExampleShortHeader,yn=e.onCreateBlank,Cn=e.resourceSources,Tn=e.renderPreviewLauncher,En=e.resourceExternalEditors,kn=e.getStorageProviderOperations,wn=e.getStorageProvider,Sn=e.integratedEditor,Pn=e.initialFileMetadataToOpen,In=e.introDialog,_n=e.i18n,An=e.renderGDJSDevelopmentWatcher,Nn=e.renderMainMenu;u.useEffect((function(){Sn||ir(),Te.push(["MainFrameComponentDidMount",performance.now()]),Un().then((function(){return b((function(e){return Object(a.a)(Object(a.a)({},e),{},{gdjsDevelopmentWatcherEnabled:!0})}))})).then(function(){var t=Object(o.a)(c.a.mark((function t(n){var r,o,a,i,s,l,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Te.push(["MainFrameComponentDidMountFinished",performance.now()]),console.info("Startup times:",Object(Z.a)()),r=Bt.getAutoOpenMostRecentProject,o=Bt.getRecentProjectFiles,a=Bt.hadProjectOpenedDuringLastSession,!Pn){t.next=13;break}return t.next=6,kn();case 6:return i=t.sent,t.next=9,rn(i);case 9:t.sent&&Fn(),t.next=28;break;case 13:if(!(r()&&a()&&o()[0])){t.next=27;break}if(s=o()[0],l=we(_n,e.storageProviders,s)){t.next=18;break}return t.abrupt("return");case 18:return t.next=20,kn(l);case 20:return u=t.sent,t.next=23,rn(u);case 23:t.sent&&xr(s),t.next=28;break;case 27:In&&nt(!0);case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){}))}),[]);var Rn=function(e){yt(e),kt(!0)},Ln=u.useCallback((function(e){b((function(t){return Object(a.a)(Object(a.a)({},t),{},{snackMessage:e,snackMessageOpen:!0})}))}),[b]),Mn=u.useCallback((function(){b((function(e){return Object(a.a)(Object(a.a)({},e),{},{snackMessageOpen:!1})}))}),[b]),Fn=function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pn){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,zn(Pn);case 4:(t=e.sent)&&mr({currentProject:t.currentProject,editorTabs:t.editorTabs});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Dn=u.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.editorTabs,t=Object(P.j)(e);t&&t.editorRef?t.editorRef.updateToolbar():qn(null)}),[s.editorTabs]);u.useEffect((function(){Dn()}),[Dn]);var Bn=function(){Ee.JsPlatform.get().reloadBuiltinExtensions(),Un().catch((function(){}))},Un=function(){var t=e.extensionsLoader,n=e.i18n;return t?t.loadAllExtensions(Object(q.a)(n)).then((function(e){var t=e.filter((function(e){return!e.result.error})),n=e.filter((function(e){return e.result.error&&!e.result.dangerous})),r=e.filter((function(e){return e.result.error&&e.result.dangerous}));console.info("Loaded ".concat(t.length," JS extensions.")),n.length&&console.error("\u26a0\ufe0f Unable to load ".concat(n.length," JS extensions. Please check these errors:"),n),r.length&&console.error("\ud83d\udca3 Dangerous exceptions while loading ".concat(r.length," JS extensions. \ud83d\udd25 Please check these errors as they will CRASH GDevelop:"),r)})):(console.info("No extensions loader specified, skipping extensions loading."),Promise.reject(new Error("No extension loader specified.")))};Object(pe.a)(jn);var Vn=u.useCallback((function(){return Bt.setHasProjectOpened(!1),qt(Se),b((function(e){return jn?(jn&&(ln.unloadProjectEventsFunctionsExtensions(jn),jn.delete()),Object(a.a)(Object(a.a)({},e),{},{currentProject:null,currentFileMetadata:null,editorTabs:Object(P.i)(e.editorTabs,jn)})):Object(a.a)({},e)})).then((function(){}))}),[jn,ln,Bt,b]),Wn=u.useCallback(function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r,o,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return r=wn(),e.next=4,kn(r);case 4:o=e.sent,o.onSaveProject&&Bt.insertRecentProjectFile({fileMetadata:n,storageProviderName:r.internalName});case 7:return e.next=9,Vn();case 9:return W.a.burstAllUrlsCache(),Bt.setHasProjectOpened(!0),e.next=13,b((function(e){return Object(a.a)(Object(a.a)({},e),{},{currentProject:t,currentFileMetadata:n,createDialogOpen:!1})}));case 13:return i=e.sent,ln.loadProjectEventsFunctionsExtensions(t),n&&t.setProjectFile(n.fileIdentifier),e.next=18,sn(t);case 18:return s=e.sent,s.someResourcesWereFetched&&un&&un.triggerUnsavedChanges(),e.abrupt("return",i);case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[un,b,Vn,Bt,ln,wn,kn,sn]),Gn=u.useCallback((function(e,t){return Object(I.b)((function(){var n=Ee.ProjectHelper.createNewGDJSProject();return n.unserializeFrom(e),Wn(n,t)}),(function(e){return console.info("Unserialization took ".concat(e," ms"))}))}),[Wn]),zn=u.useCallback((function(e){return kn().then((function(t){var n=t.hasAutoSave,r=t.onGetAutoSave,o=t.onOpen,a=t.getOpenErrorMessage;if(!o)return console.error("Tried to open a file for a storage without onOpen support:",e,t),Promise.resolve();return ze(!0),Object(he.a)(150).then((function(){return n&&r?n(e,!0).then((function(t){return t&&E.b.showConfirmDialog(_n._({id:"An autosave file (backup made automatically by GDevelop) that is newer than the project file exists. Would you like to load it instead?"}))?r(e):e})):Promise.resolve(e)})).then((function(e){return o(e)})).catch((function(t){return(n&&r?n(e,!1).then((function(t){return t&&E.b.showConfirmDialog(_n._({id:"The project file appears to be malformed, but an autosave file exists (backup made automatically by GDevelop). Would you like to try to load it instead?"}))?r(e):null})):Promise.resolve(null)).then((function(e){if(e)return o(e);throw t}))})).then((function(t){var n=t.content;if(Object(te.a)(_n,n)){var r=Ee.Serializer.fromJSObject(n);return Gn(r,e).then((function(e){return r.delete(),Promise.resolve(e)}),(function(e){throw r.delete(),e}))}ze(!1)})).catch((function(e){var t=a?a(e):{id:"Check that the path/URL is correct, that you selected a file that is a game file created with GDevelop and that is was not removed."};return Object(k.a)({message:[_n._({id:"Unable to open the project."}),_n._(t)].join("\n"),errorId:"project-open-error",rawError:e}),ze(!1),Promise.reject(e)}))}))}),[_n,kn,Gn]),Hn=u.useCallback((function(){return E.b.quit()}),[]),Yn=u.useCallback((function(){Pe.current&&Qe((function(e){return!e}))}),[Qe]),qn=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Pe.current&&t&&Pe.current.setEditorToolbar(e)},Xn=function(e,t){qt((function(n){return Object(a.a)(Object(a.a)({},n),{},{previewLayoutName:e,previewExternalLayoutName:t})}))},Kn=u.useCallback(Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jn){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,kn();case 4:if(t=e.sent,!(Bt.values.autosaveOnPreview&&t.onAutoSaveProject&&fn)){e.next=15;break}return e.prev=6,e.next=9,t.onAutoSaveProject(jn,fn);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),console.error("Error while auto-saving the project: ",e.t0),Ln(_n._({id:"There was an error while making an auto-save of the project. Verify that you have permissions to write in the project folder."}));case 15:case"end":return e.stop()}}),e,null,[[6,11]])}))),[_n,Ln,jn,fn,kn,Bt.values.autosaveOnPreview]),Jn=u.useCallback((function(e){var t=e.networkPreview,n=e.hotReload,r=e.projectDataOnlyExport,o=e.fullLoadingScreen;if(jn&&0!==jn.getLayoutsCount()){var a=Be.current;if(a){Gt(!0),Object(P.p)(s.editorTabs);var i=Yt.isPreviewOverriden?Yt.overridenPreviewLayoutName:Yt.previewLayoutName,c=Yt.isPreviewOverriden?Yt.overridenPreviewExternalLayoutName:Yt.previewExternalLayoutName,l=i&&jn.hasLayoutNamed(i)?jn.getLayout(i):jn.getLayoutAt(0),u=c&&jn.hasExternalLayoutNamed(c)?jn.getExternalLayout(c):null;Kn(),Object(je.b)(jn),ln.ensureLoadFinished().then((function(){return a.launchPreview({project:jn,layout:l,externalLayout:u,networkPreview:!!t,hotReload:!!n,projectDataOnlyExport:!!r,fullLoadingScreen:!!o,getIsMenuBarHiddenInPreview:Bt.getIsMenuBarHiddenInPreview,getIsAlwaysOnTopInPreview:Bt.getIsAlwaysOnTopInPreview})})).catch((function(e){console.error("Error caught while launching preview, this should never happen.",e)})).then((function(){Gt(!1)}))}}}),[Kn,jn,ln,Yt,s.editorTabs,Bt.getIsMenuBarHiddenInPreview,Bt.getIsAlwaysOnTopInPreview]),Zn=Object(me.h)(Ie,me.f,Jn),Qn=u.useCallback((function(){return Zn({networkPreview:!1})}),[Zn]),$n=u.useCallback((function(){return Zn({networkPreview:!1,hotReload:!0})}),[Zn]),er=u.useCallback((function(){return Zn({networkPreview:!0,hotReload:!1})}),[Zn]),tr=u.useMemo((function(){return{hasPreviewsRunning:tn,launchProjectWithLoadingScreenPreview:function(){return Zn({fullLoadingScreen:!0})},launchProjectDataOnlyPreview:function(){return Zn({hotReload:!0,projectDataOnlyExport:!0})}}}),[tn,Zn]),nr=u.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.openEventsEditor,r=void 0===n||n,o=t.openSceneEditor,i=void 0===o||o,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.editorTabs,l={label:e,projectItemName:e,renderEditorContainer:L.b,key:"layout "+e},u={label:e+" "+_n._({id:"(Events)"}),projectItemName:e,renderEditorContainer:N.b,key:"layout events "+e,dontFocusTab:i},d=i?Object(P.q)(c,l):c,p=r?Object(P.q)(d,u):d;b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:p})})),ze(!1),Qe(!1)}),[_n,b,s.editorTabs]),rr=u.useCallback((function(e){b((function(t){return Object(a.a)(Object(a.a)({},t),{},{editorTabs:Object(P.q)(t.editorTabs,{label:e,projectItemName:e,renderEditorContainer:R.b,key:"external events "+e})})})),Qe(!1)}),[b]),or=u.useCallback((function(e){b((function(t){return Object(a.a)(Object(a.a)({},t),{},{editorTabs:Object(P.q)(t.editorTabs,{label:e,projectItemName:e,renderEditorContainer:M.b,key:"external layout "+e})})})),Qe(!1)}),[b,Qe]),ar=u.useCallback((function(e,t,n){b((function(r){return Object(a.a)(Object(a.a)({},r),{},{editorTabs:Object(P.q)(r.editorTabs,{label:e+" "+_n._({id:"(Extension)"}),projectItemName:e,extraEditorProps:{initiallyFocusedFunctionName:t,initiallyFocusedBehaviorName:n},renderEditorContainer:F.b,key:"events functions extension "+e})})})),Qe(!1)}),[b,Qe,_n]),ir=u.useCallback((function(){b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.q)(e.editorTabs,{icon:Object(Ce.jsx)(h.a,{role:"img",titleAccess:"Home"}),projectItemName:null,renderEditorContainer:D.a,key:"start page",closable:!1})})}))}),[b]),sr=u.useCallback((function(){b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.q)(e.editorTabs,{label:_n._({id:"Debugger"}),projectItemName:null,renderEditorContainer:A.a,key:"debugger"})})}))}),[_n,b]),cr=Object(me.h)(Ie,me.b,sr),lr=u.useCallback((function(){cr(),$n()}),[cr,$n]),ur=function(e,t){var n=s.currentProject,r=s.editorTabs;if(n){var o=e.getName();if(n.hasEventsFunctionsExtensionNamed(o)){var i=n.getEventsFunctionsExtension(o),c=Object(J.b)(t),l=Object(P.n)(r,i);l?(l.editor.selectEventsFunctionByName(c.name,c.behaviorName),b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.a)(r,l.tabIndex)})}))):ar(o,c.name,c.behaviorName)}else console.warn("Extension with name=".concat(o," can not be opened (no editor for this)"))}},dr=function(){un&&un.triggerUnsavedChanges(),Ue()},pr=function(e,t,n){var r=s.currentProject;if(r){Object(ye.i)({step:"end",parentEditor:n});var o=!r.hasEventsFunctionsExtensionNamed(e),a=o?r.insertNewEventsFunctionsExtension(e,0):r.getEventsFunctionsExtension(e);o&&(a.setFullName(e),a.setDescription("Originally automatically extracted from events of the project")),a.insertEventsFunction(t,0),ln.loadProjectEventsFunctionsExtensions(r)}},br=u.useCallback((function(e){return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];hn(e),b((function(e){return Object(a.a)(Object(a.a)({},e),{},{createDialogOpen:t})}))}}),[b]),hr=u.useMemo((function(){return br("tutorials")}),[br]),jr=u.useMemo((function(){return br("examples")}),[br]),fr=u.useMemo((function(){return br("games-showcase")}),[br]),gr=u.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];b((function(t){return Object(a.a)(Object(a.a)({},t),{},{openFromStorageProviderDialogOpen:e})}))}),[b]),mr=u.useCallback((function(e){var t=e.currentProject,n=e.editorTabs;t&&(t.getLayoutsCount()<=1?(0===t.getLayoutsCount()&&t.insertNewLayout(_n._({id:"Untitled scene"}),0),nr(t.getLayoutAt(0).getName(),{openSceneEditor:!0,openEventsEditor:!0},n)):b((function(e){return Object(a.a)(Object(a.a)({},e),{},{currentProject:t,editorTabs:n})})).then((function(){ze(!1),Qe(!0)})))}),[nr,b,_n]),Or=u.useCallback((function(){kn().then((function(e){if(e.onOpenWithPicker)return e.onOpenWithPicker().then((function(e){if(e)return zn(e).then((function(e){e&&mr({currentProject:e.currentProject,editorTabs:e.editorTabs})}))})).catch((function(t){var n=e.getOpenErrorMessage?e.getOpenErrorMessage(t):{id:"Verify that you have the authorizations for reading the file you're trying to access."};Object(k.a)({message:[_n._({id:"Unable to open the project."}),_n._(n)].join("\n"),errorId:"project-open-with-picker-error",rawError:t})}))}))}),[_n,kn,zn,mr]),vr=u.useCallback((function(){e.storageProviders.filter((function(e){return!e.hiddenInOpenDialog})).length>1?gr():Or()}),[e.storageProviders,gr,Or]),xr=u.useCallback((function(t){var n=t.fileMetadata,r=we(_n,e.storageProviders,t);r&&kn(r).then((function(){zn(n).then((function(e){e&&mr({currentProject:e.currentProject,editorTabs:e.editorTabs})})).catch((function(e){}))}))}),[_n,zn,mr,e.storageProviders,kn]),yr=u.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&Qe(!1),b((function(t){return Object(a.a)(Object(a.a)({},t),{},{saveToStorageProviderDialogOpen:e})}))}),[b]),Cr=u.useCallback((function(){jn&&(Object(P.r)(s.editorTabs),kn().then((function(e){var t=e.onSaveProjectAs;t&&(qe?console.info("Project is already being saved, not triggering save."):(Xe(!0),t(jn,fn).then((function(e){var t=e.wasSaved,n=e.fileMetadata;t&&(un&&un.sealUnsavedChanges(),Ln(_n._({id:"Project properly saved"})),n&&(Bt.insertRecentProjectFile({fileMetadata:n,storageProviderName:wn().internalName}),b((function(e){return Object(a.a)(Object(a.a)({},e),{},{currentFileMetadata:n})}))))}),(function(e){Object(k.a)({message:_n._({id:"Unable to save as the project! Please try again by choosing another location."}),rawError:e,errorId:"project-save-as-error"})})).catch((function(){})).then((function(){return Xe(!1)}))))})))}),[_n,qe,jn,fn,kn,un,b,s.editorTabs,Ln,wn,Bt]),Tr=u.useCallback((function(){jn&&kn().then((function(t){e.storageProviders.filter((function(e){return!e.hiddenInSaveDialog})).length>1||!t.onSaveProjectAs?yr():Cr()}))}),[jn,kn,yr,e.storageProviders,Cr]),Er=u.useCallback(Object(o.a)(c.a.mark((function e(){var t,n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jn){e.next=2;break}return e.abrupt("return");case 2:if(fn){e.next=4;break}return e.abrupt("return",Tr());case 4:return e.next=6,kn();case 6:if(t=e.sent,n=t.onSaveProject){e.next=10;break}return e.abrupt("return",Tr());case 10:if(Object(P.r)(s.editorTabs),Ln(_n._({id:"Saving..."})),!qe){e.next=15;break}return console.info("Project is already being saved, not triggering save."),e.abrupt("return");case 15:return Xe(!0),e.prev=16,r=performance.now(),e.next=20,n(jn,fn);case 20:o=e.sent,o.wasSaved&&(console.info("Project saved in ".concat(performance.now()-r,"ms.")),un&&un.sealUnsavedChanges(),Ln(_n._({id:"Project properly saved"}))),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(16),Object(k.a)({message:_n._({id:"Unable to save as the project! Please try again by choosing another location."}),rawError:e.t0,errorId:"project-save-error"});case 28:Xe(!1);case 29:case"end":return e.stop()}}),e,null,[[16,25]])}))),[qe,jn,fn,kn,Ln,_n,un,Tr,s.editorTabs]),kr=u.useCallback((function(){if(un&&un.hasUnsavedChanges){if(!jn)return Promise.resolve();if(!E.b.showConfirmDialog(_n._({id:"Close the project? Any changes that have not been saved will be lost."})))return Promise.resolve()}return Vn()}),[jn,un,_n,Vn]),wr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;Dn(t.editorTabs),e.editorRef&&e.editorRef.forceUpdateEditor()},Sr=function(e){return new Promise((function(t){Re(e);De((function(){return t}))}))},Pr=function(e){b((function(t){return Object(a.a)(Object(a.a)({},t),{},{updateStatus:e})}));var t=Object(z.d)(e),n=Object(z.c)(e);t&&(new window.Notification(t,{body:n}).onclick=function(){return mt(!0)})},Ir=function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,o,i,s,l,u,d,p,h,j,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.project,r=t.storageProvider,o=t.fileMetadata,i=t.projectName,s=t.templateSlug,!t.shouldCloseDialog){e.next=4;break}return e.next=4,b((function(e){return Object(a.a)(Object(a.a)({},e),{},{createDialogOpen:!1})}));case 4:if(!n){e.next=10;break}return e.next=7,Wn(n,o);case 7:l=e.sent,e.next=14;break;case 10:if(!o){e.next=14;break}return e.next=13,zn(o);case 13:l=e.sent;case 14:if(l){e.next=16;break}return e.abrupt("return");case 16:if(d=(u=l).currentProject,p=u.editorTabs,d){e.next=19;break}return e.abrupt("return");case 19:return d.resetProjectUuid(),d.setVersion("1.0.0"),d.getAuthorIds().clear(),d.setAuthor(""),s&&d.setTemplateSlug(s),i&&d.setName(i),mr({currentProject:d,editorTabs:p}),e.next=28,kn(r);case 28:if(h=e.sent,!(j=h.onSaveProject)||!o){e.next=42;break}return e.prev=31,e.next=34,j(d,o);case 34:f=e.sent,f.wasSaved&&un&&un.sealUnsavedChanges(),e.next=42;break;case 39:e.prev=39,e.t0=e.catch(31),console.error("Couldn't save the project after creation.",e.t0);case 42:case"end":return e.stop()}}),e,null,[[31,39]])})));return function(t){return e.apply(this,arguments)}}();Object(ae.d)(Xt.current?Xt.current.launchCommand:function(){}),Object(ie.a)({i18n:_n,project:s.currentProject,previewEnabled:!!s.currentProject&&s.currentProject.getLayoutsCount()>0,onOpenProjectManager:Yn,hasPreviewsRunning:tn,allowNetworkPreview:!!Be.current&&Be.current.canDoNetworkPreview(),onLaunchPreview:Qn,onHotReloadPreview:$n,onLaunchDebugPreview:lr,onLaunchNetworkPreview:er,onOpenHomePage:ir,onCreateProject:jr,onOpenProject:vr,onSaveProject:Er,onSaveProjectAs:Tr,onCloseApp:Hn,onCloseProject:kr,onExportGame:u.useCallback((function(){return Dt(!0)}),[]),onOpenLayout:nr,onOpenExternalEvents:rr,onOpenExternalLayout:or,onOpenEventsFunctionsExtension:ar,onOpenCommandPalette:Xt.current?Xt.current.open:function(){},onOpenProfile:u.useCallback((function(){return Rn("profile")}),[]),onOpenGamesDashboard:u.useCallback((function(){return Rn("games-dashboard")}),[])});var _r=Ge||Wt;return Object(Ce.jsxs)("div",{className:"main-frame",children:[!!Nn&&Nn({i18n:_n,project:s.currentProject,onChooseProject:vr,onOpenRecentFile:xr,onSaveProject:Er,onSaveProjectAs:Tr,onCloseProject:kr,onCloseApp:Hn,onExportProject:function(){return Dt(!0)},onCreateProject:jr,onOpenProjectManager:function(){return Qe(!0)},onOpenHomePage:ir,onOpenDebugger:cr,onOpenAbout:function(){return mt(!0)},onOpenPreferences:function(){return It(!0)},onOpenLanguage:function(){return it(!0)},onOpenProfile:function(){return Rn("profile")},onOpenGamesDashboard:function(){return Rn("games-dashboard")},setUpdateStatus:Pr,recentProjectFiles:Bt.getRecentProjectFiles()}),Object(Ce.jsx)(f.a,{fileMetadata:fn}),Object(Ce.jsxs)(d.a,{open:Ze,PaperProps:{style:ke.drawerContent,className:"safe-area-aware-left-container"},ModalProps:{keepMounted:!0},onClose:Yn,children:[Object(Ce.jsx)(y.a,{title:s.currentProject?s.currentProject.getName():"No project",displayRightCloseButton:!0,onClose:Yn}),jn&&Object(Ce.jsx)(O.a,{project:jn,onOpenExternalEvents:rr,onOpenLayout:nr,onOpenExternalLayout:or,onOpenEventsFunctionsExtension:ar,onInstallExtension:function(e){var t=s.currentProject;if(t){var n=e.name;if(t.hasEventsFunctionsExtensionNamed(n)){var r=t.getEventsFunctionsExtension(n);b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.d)(e.editorTabs,r)})}))}}},onDeleteLayout:function(t){var n=s.currentProject,r=e.i18n;n&&(E.b.showConfirmDialog(r._({id:"Are you sure you want to remove this scene? This can't be undone."}))&&b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.g)(e.editorTabs,t)})})).then((function(e){n.getFirstLayout()===t.getName()&&n.setFirstLayout(""),n.removeLayout(t.getName()),dr()})))},onDeleteExternalLayout:function(t){var n=s.currentProject,r=e.i18n;n&&(E.b.showConfirmDialog(r._({id:"Are you sure you want to remove this external layout? This can't be undone."}))&&b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.f)(e.editorTabs,t)})})).then((function(e){e.currentProject&&e.currentProject.removeExternalLayout(t.getName()),dr()})))},onDeleteEventsFunctionsExtension:function(t){var n=s.currentProject,r=e.i18n;n&&(E.b.showConfirmDialog(r._({id:"Are you sure you want to remove this extension? This can't be undone."}))&&b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.d)(e.editorTabs,t)})})).then((function(e){var r=t.getName();ln.unloadProjectEventsFunctionsExtension(n,r),n.removeEventsFunctionsExtension(r),dr(),ln.reloadProjectEventsFunctionsExtensions(n)})))},onDeleteExternalEvents:function(t){var n=e.i18n;s.currentProject&&(E.b.showConfirmDialog(n._({id:"Are you sure you want to remove these external events? This can't be undone."}))&&b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.e)(e.editorTabs,t)})})).then((function(e){e.currentProject&&e.currentProject.removeExternalEvents(t.getName()),dr()})))},onRenameLayout:function(t,n){var r=s.currentProject,o=e.i18n;if(r&&r.hasLayoutNamed(t)&&n!==t)if(""!==n)if(r.hasLayoutNamed(n))Object(k.c)(o._({id:"Another scene with this name already exists."}),{delayToNextTick:!0});else{var i=r.getLayout(t),c=t===r.getFirstLayout();b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.g)(e.editorTabs,i)})})).then((function(e){i.setName(n),c&&r.setFirstLayout(n),dr()}))}else Object(k.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onRenameExternalLayout:function(t,n){var r=s.currentProject,o=e.i18n;if(r&&r.hasExternalLayoutNamed(t)&&n!==t)if(""!==n)if(r.hasExternalLayoutNamed(n))Object(k.c)(o._({id:"Another external layout with this name already exists."}),{delayToNextTick:!0});else{var i=r.getExternalLayout(t);b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.f)(e.editorTabs,i)})})).then((function(e){i.setName(n),dr()}))}else Object(k.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onRenameEventsFunctionsExtension:function(t,n){var r=s.currentProject,o=e.i18n;if(r&&r.hasEventsFunctionsExtensionNamed(t)&&n!==t)if(""!==n)if(Object(le.a)(n,r))Object(k.c)(o._({id:"Another extension with this name already exists (or you used a reserved extension name). Please choose another name."}),{delayToNextTick:!0});else if(Ee.Project.validateName(n)){var i=r.getEventsFunctionsExtension(t);b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.d)(e.editorTabs,i)})})).then((function(e){Ee.WholeProjectRefactorer.renameEventsFunctionsExtension(r,i,t,n),i.setName(n),ln.unloadProjectEventsFunctionsExtension(r,t),ln.reloadProjectEventsFunctionsExtensions(r),dr()}))}else Object(k.c)(o._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0});else Object(k.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onRenameExternalEvents:function(t,n){var r=s.currentProject,o=e.i18n;if(r&&r.hasExternalEventsNamed(t)&&n!==t)if(""!==n)if(r.hasExternalEventsNamed(n))Object(k.c)(o._({id:"Other external events with this name already exist."}),{delayToNextTick:!0});else{var i=r.getExternalEvents(t);b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.e)(e.editorTabs,i)})})).then((function(e){i.setName(n),dr()}))}else Object(k.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onSaveProject:Er,onSaveProjectAs:Tr,onCloseProject:function(){kr()},onExportProject:function(){return Dt(!0)},onOpenPreferences:function(){return It(!0)},onOpenProfile:function(){return Rn("profile")},onOpenGamesDashboard:function(){return Rn("games-dashboard")},onOpenResources:function(){!function(){var t=e.i18n;b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.q)(e.editorTabs,{label:t._({id:"Resources"}),projectItemName:null,renderEditorContainer:B.a,key:"resources"})})}))}(),Qe(!1)},onOpenPlatformSpecificAssets:function(){return ht(!0)},onChangeSubscription:function(){return Rt(!0)},eventsFunctionsExtensionsError:mn,onReloadEventsFunctionsExtensions:function(){ln.reloadProjectEventsFunctionsExtensions(jn)},freezeUpdate:!Ze,unsavedChanges:un,hotReloadPreviewButtonProps:tr,resourceSources:Cn,onChooseResource:Sr,resourceExternalEditors:En}),!s.currentProject&&Object(Ce.jsx)(H.a,{children:Object(Ce.jsx)(l.Trans,{id:"To begin, open or create a new project."})})]}),Object(Ce.jsx)(j.a,{ref:Pe,showProjectIcons:!e.integratedEditor,hasProject:!!jn,toggleProjectManager:Yn,exportProject:function(){return Dt(!0)},requestUpdate:e.requestUpdate,simulateUpdateDownloaded:function(){return Pr({status:"update-downloaded",message:"update-downloaded",info:{releaseName:"Fake update"}})},simulateUpdateAvailable:function(){return Pr({status:"update-available",message:"Update available"})},onOpenDebugger:lr,hasPreviewsRunning:tn,onPreviewWithoutHotReload:Qn,onNetworkPreview:er,onHotReloadPreview:$n,canDoNetworkPreview:!!Be.current&&Be.current.canDoNetworkPreview(),setPreviewOverride:function(e){var t=e.isPreviewOverriden,n=e.overridenPreviewLayoutName,r=e.overridenPreviewExternalLayoutName;qt((function(e){return Object(a.a)(Object(a.a)({},e),{},{isPreviewOverriden:t,overridenPreviewLayoutName:n,overridenPreviewExternalLayoutName:r})}))},isPreviewEnabled:!!jn&&jn.getLayoutsCount()>0,previewState:Yt}),Object(Ce.jsx)(S.a,{hideLabels:!!e.integratedEditor,editorTabs:s.editorTabs,onClickTab:function(e){return t=e,void b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.a)(e.editorTabs,t)})})).then((function(e){return wr(Object(P.j)(e.editorTabs),e)}));var t},onCloseTab:function(e){return function(e){Object(P.r)(s.editorTabs),b((function(t){return Object(a.a)(Object(a.a)({},t),{},{editorTabs:Object(P.c)(t.editorTabs,e)})}))}(e)},onCloseOtherTabs:function(e){return function(e){Object(P.r)(s.editorTabs),b((function(t){return Object(a.a)(Object(a.a)({},t),{},{editorTabs:Object(P.h)(t.editorTabs,e)})}))}(e)},onCloseAll:function(){Object(P.r)(s.editorTabs),b((function(e){return Object(a.a)(Object(a.a)({},e),{},{editorTabs:Object(P.b)(e.editorTabs)})}))},onTabActived:function(e){return wr(e)},onDropTab:function(e,t){b((function(n){return Object(a.a)(Object(a.a)({},n),{},{editorTabs:Object(P.o)(n.editorTabs,e,t)})}))}}),Object(Ce.jsx)(xe.a,{gameId:s.currentProject?s.currentProject.getProjectUuid():"",children:Object(P.m)(s.editorTabs).map((function(t,n){var o=Object(P.k)(s.editorTabs)===n;return Object(Ce.jsx)(w.c,{active:o,children:Object(Ce.jsx)(ce.a,{active:o,children:Object(Ce.jsx)(U.a,{children:t.renderEditorContainer({isActive:o,extraEditorProps:t.extraEditorProps,project:jn,ref:function(e){return t.editorRef=e},setToolbar:function(e){return qn(e,o)},onChangeSubscription:function(){return Rt(!0)},projectItemName:t.projectItemName,setPreviewedLayout:Xn,onOpenExternalEvents:rr,onOpenEvents:function(e){return nr(e,{openEventsEditor:!0,openSceneEditor:!1})},previewDebuggerServer:Jt,hotReloadPreviewButtonProps:tr,onOpenLayout:function(e){return nr(e,{openEventsEditor:!0,openSceneEditor:!1})},resourceSources:e.resourceSources,onChooseResource:Sr,resourceExternalEditors:En,onCreateEventsFunction:pr,openInstructionOrExpression:ur,unsavedChanges:un,canOpen:!!e.storageProviders.filter((function(e){return!e.hiddenInOpenDialog})).length,onOpen:function(){return vr()},onOpenRecentFile:xr,onCreateFromExampleShortHeader:xn,onCreateBlank:yn,onOpenProjectAfterCreation:Ir,onOpenProjectManager:function(){return Qe(!0)},onCloseProject:function(){return kr()},onOpenTutorials:function(){return hr()},onOpenGamesShowcase:function(){return fr()},onOpenExamples:function(){return jr()},onOpenProfile:function(){return Rn("profile")},onOpenHelpFinder:function(){return ut(!0)},onOpenLanguageDialog:function(){return it(!0)},onLoadEventsFunctionsExtensions:function(){return ln.loadProjectEventsFunctionsExtensions(jn)},onDeleteResource:function(e,t){t(!0)},onRenameResource:function(e,t,n){jn&&Object(fe.g)(jn,Object(r.a)({},e.getName(),t)),n(!0)}})})})},t.key)}))}),Object(Ce.jsx)(se.a,{ref:Xt}),Object(Ce.jsx)(x.a,{show:_r}),Object(Ce.jsx)(_.a,{open:lt,onClose:function(){return ut(!1)}}),Object(Ce.jsx)(p.a,{open:s.snackMessageOpen,autoHideDuration:3e3,onClose:Mn,ContentProps:{"aria-describedby":"snackbar-message"},message:Object(Ce.jsx)("span",{id:"snackbar-message",children:s.snackMessage})}),!!On&&Ft&&On({onClose:function(){return Dt(!1)},onChangeSubscription:function(){Dt(!1),Rt(!0)},project:s.currentProject,onSaveProject:Er}),!!vn&&s.createDialogOpen&&vn({open:s.createDialogOpen,initialTab:bn,onClose:function(){b((function(e){return Object(a.a)(Object(a.a)({},e),{},{createDialogOpen:!1})}))},onOpen:Ir}),!!In&&tt&&u.cloneElement(In,{open:!0,onClose:function(){return nt(!1)}}),!!jn&&bt&&Object(Ce.jsx)(v.a,{project:jn,open:!0,onApply:function(){return ht(!1)},onClose:function(){return ht(!1)},resourceSources:Cn,onChooseResource:Sr,resourceExternalEditors:En}),!!Tn&&Tn({getIncludeFileHashs:Kt.getIncludeFileHashs,onExport:function(){return Dt(!0)},onChangeSubscription:function(){return Rt(!0)}},(function(e){Be.current=e})),!!jn&&Ne&&Fe&&Object(Ce.jsx)(ge.a,{project:jn,i18n:_n,resourceSources:Cn,onChooseResources:function(e){De(null),Re(null),Fe(e)},onClose:function(){De(null),Re(null),Fe([])},options:Ne}),Et&&Object(Ce.jsx)(T.a,{currentProject:jn,initialTab:xt,open:!0,onClose:function(){return kt(!1)},onChangeSubscription:function(){return Rt(!0)}}),Nt&&Object(Ce.jsx)(V.a,{onClose:function(){Rt(!1)},open:!0}),Pt&&Object(Ce.jsx)(g.a,{i18n:e.i18n,onClose:function(e){It(!1),e&&Bn()}}),at&&Object(Ce.jsx)(X.a,{open:!0,onClose:function(e){it(!1),e&&Bn()}}),gt&&Object(Ce.jsx)(m.a,{open:!0,onClose:function(){return mt(!1)},updateStatus:gn}),s.openFromStorageProviderDialogOpen&&Object(Ce.jsx)(Q.a,{onClose:function(){return gr(!1)},storageProviders:e.storageProviders,onChooseProvider:function(t){gr(!1),e.getStorageProviderOperations(t).then((function(){Or()}))}}),s.saveToStorageProviderDialogOpen&&Object(Ce.jsx)($.a,{onClose:function(){return yr(!1)},storageProviders:e.storageProviders,onChooseProvider:function(t){yr(!1),e.getStorageProviderOperations(t).then((function(){Cr()}))}}),on(),cn(),Object(Ce.jsx)(C.a,{shouldPrompt:!!s.currentProject,i18n:e.i18n,language:e.i18n.language,hasUnsavedChanges:!!un&&un.hasUnsavedChanges}),Object(Ce.jsx)(Y.a,{}),Object(Ce.jsx)(ve.a,{}),s.gdjsDevelopmentWatcherEnabled&&An&&An(),!!$t.length&&Object(Ce.jsx)(de.a,{logs:$t,onClose:en,onLaunchNewPreview:function(){en(),Qn()}})]})}}).call(this,n(28))},,,,function(e,t,n){"use strict";var r=n(12),o=n(1),a=n(474),i=n(475),s=n(30),c=n(35),l=n(43),u=n(134),d=n.n(u),p=n(463),b=n(2176),h=n(7),j=d.a.filter((function(e){return"en"!==e.languageCode&&("pseudo_LOCALE"!==e.languageCode||c.b.isDev())})),f=j.filter((function(e){return e.translationRatio>.5})),g=j.filter((function(e){return e.translationRatio<.5})),m=function(e){var t=e.translationRatio||0,n=(100*e.translationRatio).toFixed(0),r=t>0;return Object(h.jsx)(i.a,{value:e.languageCode,primaryText:"".concat(e.languageNativeName," (").concat(e.languageName,")").concat(r?" - ~".concat(n,"%"):""),disabled:!r},e.languageCode)};t.a=function(e){var t=e.onLanguageChanged,n=Object(o.useContext)(l.a),u=n.values,d=n.setLanguage;return Object(h.jsxs)(s.a,{noMargin:!0,children:[Object(h.jsx)(s.c,{noMargin:!0,expand:!0,children:Object(h.jsxs)(a.a,{floatingLabelText:Object(h.jsx)(r.Trans,{id:"Choose GDevelop language"}),value:u.language,onChange:function(e,n,r){d(r),t(r)},fullWidth:!0,children:[Object(h.jsx)(i.a,{value:"en",primaryText:"English (default)"}),f.map((function(e){return m(e)})),g.map((function(e){return m(e)}))]})}),Object(h.jsx)(p.a,{children:Object(h.jsx)(r.Trans,{id:"You can <0>help to translate GDevelop in your language</0>.",components:[Object(h.jsx)(b.a,{href:"https://crowdin.com/project/gdevelop",onClick:function(e){c.b.openExternalURL("https://crowdin.com/project/gdevelop"),e.preventDefault()}})]})})]})}},,,function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=function(e){return"update-available"===e.status?"A new update is available!":""},o=function(e){return"update-available"===e.status?"It will be downloaded and installed automatically (unless you deactivated this in preferences)":""},a=function(e){return"checking-for-update"===e?"Checking for update...":"update-available"===e?"A new update is available!":"update-not-available"===e?"No update available. You're using the latest version!":"error"===e?"Error while checking update":"download-progress"===e?"A new update is being downloaded...":"update-downloaded"===e?"A new update will be installed after you quit and relaunch GDevelop":""},i=function(e){return"update-available"===e?"Update GDevelop to latest version":"Check again for new updates"},s=function(e){return"update-available"===e}},function(e,t,n){"use strict";n(1);var r=n(897),o=n.n(r),a=n(471),i=n(562),s=n(35),c=n(7);t.a=function(e){var t=e.helpPagePath;return t?Object(c.jsx)(a.a,{onClick:function(){return s.b.openExternalURL(Object(i.a)(t))},disabled:e.disabled,style:e.style,size:e.size,children:Object(c.jsx)(o.a,{})}):null}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));n(1);var r=n(485),o=n(506),a=n(7),i=function(e){return Object(a.jsx)(r.b,{onClick:e.onClick,primaryText:Object(a.jsx)(o.a,{children:e.primaryText}),displayAddIcon:!0,id:e.id})},s=function(e){return Object(a.jsx)(r.b,{onClick:e.onClick,primaryText:Object(a.jsx)(o.a,{children:e.primaryText}),displaySearchIcon:!0,id:e.id})}},function(e,t,n){"use strict";t.a=function(e,t,n){if(!t)return null;if(e.values.hiddenTutorialHints[n])return null;var r=t.find((function(e){return e.id===n}));return r||(console.warn("Tutorial with id ".concat(n," not found")),null)}},function(e,t,n){"use strict";var r=n(12),o=n(1),a=n(43),i=n(478),s=n(35),c=n(137),l=n(756),u=n.n(l),d=n(1192),p=n.n(d),b=n(7);t.a=function(e){var t=e.tutorial,n=o.useContext(a.a).showTutorialHint;return Object(b.jsx)(r.I18n,{children:function(e){e.i18n;return Object(b.jsx)(i.a,{kind:"info",children:t.title,renderLeftIcon:function(){return Object(b.jsx)("img",{alt:"",style:{width:128,borderRadius:4,aspectRatio:"16 / 9"},src:t.thumbnailUrl})},renderRightButton:function(){return Object(b.jsx)(c.a,{icon:"video"===t.type?Object(b.jsx)(u.a,{}):Object(b.jsx)(p.a,{}),label:"video"===t.type?Object(b.jsx)(r.Trans,{id:"Watch the tutorial"}):Object(b.jsx)(r.Trans,{id:"Read the tutorial"}),onClick:function(){s.b.openExternalURL(t.link)}})},onHide:function(){n(t.id,!1)}})}})}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(4),o=n(1),a=n.n(o),i=n(890),s=n(7);t.a=a.a.memo((function(e){return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("path",{d:"M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"})}))}))},,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=e.gd,o=function(e){var t=new r.MapStringString;for(var n in e)t.set(n,e[n]);return t}}).call(this,n(28))},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(3),o=n(0),a=n.n(o),i=n(12),s=n(1),c=n(137),l=n(136),u=n(30),d=n(470),p=n(2114),b=n(2189),h=n(463),j=n(519),f=n(529),g=n(35),m=n(80),O=n(490),v=n(7),x={"cordova-build":{estimatedTimeInSeconds:function(e){return 300},completeDescription:"You can download it on your Android phone and install it."},"electron-build":{estimatedTimeInSeconds:function(e){return 90+130*(e.targets?e.targets.length:0)},completeDescription:""},"web-build":{estimatedTimeInSeconds:function(e){return 5},completeDescription:""}},y=[{displayName:{id:"Download (APK)"},key:"apkKey"},{displayName:{id:"Download (Android App Bundle)"},key:"aabKey"},{displayName:{id:"Windows (zip)"},key:"windowsZipKey"},{displayName:{id:"Windows (exe)"},key:"windowsExeKey"},{displayName:{id:"macOS (zip)"},key:"macosZipKey"},{displayName:{id:"Linux (AppImage)"},key:"linuxAppImageKey"},{displayName:{id:"Open"},key:"s3Key"}];t.a=function(e){var t=e.build,n=e.game,o=e.onGameUpdated,C=e.gameUpdating,T=e.setGameUpdating,E=s.useContext(O.a),k=E.getAuthorizationHeader,w=E.profile,S=x[t.type],P=S.estimatedTimeInSeconds(t),I=Math.abs(Object(p.a)(t.updatedAt,Date.now())),_=P-I,A=_>0,N=!A&&_>=-P,R=!A&&_<-P,L=function(e){var n=Object(j.e)(t,e);n&&g.b.openExternalURL(n)},M=s.useCallback(function(){var e=Object(r.a)(a.a.mark((function e(t){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w&&n&&o&&T){e.next=2;break}return e.abrupt("return");case 2:return r=w.id,e.prev=3,T(!0),e.next=7,Object(f.n)(k,r,n.id,{publicWebBuildId:t});case 7:i=e.sent,o(i),T(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Unable to update the game",e.t0),T(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),[n,k,w,o,T]),F=n&&n.publicWebBuildId===t.id;return Object(v.jsx)(i.I18n,{children:function(e){var r=e.i18n;return"error"===t.status?Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(u.c,{alignItems:"center",justifyContent:"flex-end",children:[Object(v.jsx)(h.a,{children:Object(v.jsx)(i.Trans,{id:"Something wrong happened :("})}),Object(v.jsx)(u.d,{}),Object(v.jsx)(c.a,{label:Object(v.jsx)(i.Trans,{id:"See logs"}),onClick:function(){return L("logsKey")}})]}),Object(v.jsx)(u.c,{alignItems:"center",justifyContent:"flex-end",children:Object(v.jsx)(d.a,{style:{justifyContent:"flex-end"},children:Object(v.jsx)(i.Trans,{id:"Check the logs to see if there is an explanation about what went wrong, or try again later."})})})]}):"pending"===t.status?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(u.c,{alignItems:"center",expand:!0,justifyContent:"center",children:[(A||N)&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(b.a,{style:{flex:1},value:A?(P-_)/P*100:0,variant:A?"determinate":"indeterminate"}),Object(v.jsx)(u.d,{})]}),A&&Object(v.jsx)(h.a,{children:Object(v.jsx)(i.Trans,{id:"~{0} minutes.",values:{0:Math.round(_/60)}})}),N&&Object(v.jsx)(h.a,{children:Object(v.jsx)(i.Trans,{id:"Should finish soon."})})]}),R&&Object(v.jsxs)(m.a,{children:[Object(v.jsx)(u.c,{justifyContent:"flex-end",children:Object(v.jsx)(h.a,{children:Object(v.jsx)(i.Trans,{id:"Something wrong happened :("})})}),Object(v.jsx)(u.c,{justifyContent:"flex-end",children:Object(v.jsx)(d.a,{style:{justifyContent:"flex-end"},children:Object(v.jsx)(i.Trans,{id:"It looks like the build has timed out, please try again."})})})]})]}):"complete"===t.status?Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(u.c,{expand:!0,justifyContent:"flex-end",children:[n&&!!t.s3Key&&!F&&Object(v.jsx)(c.a,{label:Object(v.jsx)(i.Trans,{id:"Publish this build on Liluo.io"}),onClick:function(){return M(t.id)},disabled:C}),n&&!!t.s3Key&&F&&Object(v.jsx)(l.a,{label:Object(v.jsx)(i.Trans,{id:"Unpublish this build from Liluo.io"}),onClick:function(){return M(null)},disabled:C}),Object(v.jsx)(u.d,{}),y.filter((function(e){return!!t[e.key]})).map((function(e){return Object(v.jsxs)(s.Fragment,{children:[Object(v.jsx)(c.a,{label:r._(e.displayName),primary:!0,onClick:function(){return L(e.key)}}),Object(v.jsx)(u.d,{})]},e.key)})),Object(v.jsx)(l.a,{label:Object(v.jsx)(i.Trans,{id:"See logs"}),onClick:function(){return L("logsKey")}})]}),S&&S.completeDescription&&Object(v.jsx)(u.c,{expand:!0,justifyContent:"flex-end",children:Object(v.jsx)(h.a,{children:S.completeDescription})})]}):Object(v.jsx)(u.c,{children:Object(v.jsx)(i.Trans,{id:"Unknown status"})})}})}},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n.n(o),i=n(890),s=n(7);t.a=a.a.memo((function(e){return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("path",{d:"M12,20L15.46,14H15.45C15.79,13.4 16,12.73 16,12C16,10.8 15.46,9.73 14.62,9H19.41C19.79,9.93 20,10.94 20,12A8,8 0 0,1 12,20M4,12C4,10.54 4.39,9.18 5.07,8L8.54,14H8.55C9.24,15.19 10.5,16 12,16C12.45,16 12.88,15.91 13.29,15.77L10.89,19.91C7,19.37 4,16.04 4,12M15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12M12,4C14.96,4 17.54,5.61 18.92,8H12C10.06,8 8.45,9.38 8.08,11.21L5.7,7.08C7.16,5.21 9.44,4 12,4M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})}))}))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),o=n(9),a=n(8),i=n(0),s=n.n(i),c=n(519),l=n(960),u=18e5,d=function(){function e(){var t=this;Object(o.a)(this,e),this.runningWatchers={},this.nextWatcherId=0,this._pollBuild=function(){var e=Object(r.a)(s.a.mark((function e(n,r){var o,a,i,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.nextWatcherId.toString(),t.nextWatcherId++,t.runningWatchers[o]=!0,a=null;case 4:if(t.authenticatedUser){e.next=6;break}return e.abrupt("return");case 6:if(i=t.authenticatedUser,u=i.getAuthorizationHeader,d=i.firebaseUser){e.next=9;break}return e.abrupt("return");case 9:return e.prev=9,console.info("Checking progress of build ".concat(n,"...")),e.next=13,Object(c.d)(u,d.uid,n);case 13:a=e.sent,t.onBuildUpdated&&t.onBuildUpdated(a),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.warn("Error while watching build progress:",e.t0);case 20:return e.next=22,Object(l.a)(r);case 22:if(t.runningWatchers[o]){e.next=25;break}return console.info("Stopping watch of build ".concat(n,".")),e.abrupt("return");case 25:if(a&&"pending"===a.status){e.next=4;break}case 26:console.info("Watch of build ".concat(n," finished."));case 27:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t,n){return e.apply(this,arguments)}}()}return Object(a.a)(e,[{key:"start",value:function(e){var t=this,n=e.authenticatedUser,r=e.builds,o=e.onBuildUpdated;this.stop(),this.authenticatedUser=n,this.onBuildUpdated=o,r.forEach((function(e){"pending"===e.status&&((!e.createdAt||e.createdAt<Date.now()-u)&&(!e.updatedAt||e.updatedAt<Date.now()-u)?console.info("Ignoring a build for polling as it's too old and still pending",e):t._pollBuild(e.id,r.length>1?5e3:1500))}))}},{key:"stop",value:function(){this.runningWatchers={}}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(12),c=n(1),l=n.n(c),u=n(793),d=n(680),p=n(136),b=n(100),h=n(490),j=n(7),f=function(e,t){var n=function(e){return e},r=t.name,o=t.authorIds,a=t.description,i=t.categories;e.setName(r);var s=e.getCategories();s.clear(),i.forEach((function(e){return s.push_back(e)})),e.setDescription(a);var c=e.getAuthorIds();return c.clear(),o.forEach((function(e){return c.push_back(e)})),e.setPlayableWithKeyboard(t.playWithKeyboard),e.setPlayableWithGamepad(t.playWithGamepad),e.setPlayableWithMobile(t.playWithMobile),e.setOrientation(t.orientation),Object(d.a)(n,Object(d.c)(n,e))},g=function(e){var t=e.project,n=e.publicGame,a=e.onClose,c=e.onApply,d=e.isLoading,g=l.a.useContext(h.a).profile,m=n.authors.map((function(e){return e.id})),O=n.owners.map((function(e){return e.id})),v=l.a.useState(n.gameName),x=Object(o.a)(v,2),y=x[0],C=x[1],T=l.a.useState(n.categories),E=Object(o.a)(T,2),k=E[0],w=E[1],S=l.a.useState(n.description),P=Object(o.a)(S,2),I=P[0],_=P[1],A=l.a.useState(m),N=Object(o.a)(A,2),R=N[0],L=N[1],M=l.a.useState(O),F=Object(o.a)(M,2),D=F[0],B=F[1],U=l.a.useState(n.playWithKeyboard),V=Object(o.a)(U,2),W=V[0],G=V[1],z=l.a.useState(n.playWithGamepad),H=Object(o.a)(z,2),Y=H[0],q=H[1],X=l.a.useState(n.playWithMobile),K=Object(o.a)(X,2),J=K[0],Z=K[1],Q=l.a.useState(n.orientation),$=Object(o.a)(Q,2),ee=$[0],te=$[1],ne=l.a.useState(n.userSlug||g&&g.username||""),re=Object(o.a)(ne,2),oe=re[0],ae=re[1],ie=l.a.useState(n.gameSlug||Object(u.b)(n.gameName)),se=Object(o.a)(ie,2),ce=se[0],le=se[1],ue=l.a.useState(n.discoverable),de=Object(o.a)(ue,2),pe=de[0],be=de[1],he=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f(t,{name:y,categories:k||[],description:I||"",authorIds:R,playWithKeyboard:!!W,playWithGamepad:!!Y,playWithMobile:!!J,orientation:ee||"default"})){e.next=3;break}return e.next=3,c({ownerIds:D,userSlug:oe,gameSlug:ce,discoverable:pe});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=[Object(j.jsx)(p.a,{label:Object(j.jsx)(s.Trans,{id:"Back"}),primary:!1,onClick:a,disabled:d},"back"),Object(j.jsx)(b.a,{label:Object(j.jsx)(s.Trans,{id:"Save"}),primary:!0,onClick:he,disabled:d},"save")];return Object(j.jsx)(b.b,{title:Object(j.jsx)(s.Trans,{id:"Game info"}),actions:je,cannotBeDismissed:d,onRequestClose:a,onApply:he,open:!0,children:Object(j.jsx)(u.a,{name:y,setName:C,categories:k,setCategories:w,description:I,setDescription:_,project:t,authorIds:R,setAuthorIds:L,ownerIds:D,setOwnerIds:B,setPlayableWithKeyboard:G,playWithKeyboard:W,setPlayableWithGamepad:q,playWithGamepad:Y,setPlayableWithMobile:Z,playWithMobile:J,setOrientation:te,orientation:ee,setUserSlug:ae,userSlug:oe,setGameSlug:le,gameSlug:ce,setDiscoverable:be,discoverable:pe,displayThumbnail:!0,thumbnailUrl:n.thumbnailUrl})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(1),c=n(963),l=n(964),u=n(795),d=n(139),p=n(7),b=function(e){if(e)return"Error while loading users"},h=function(e){var t=e.userIds,n=e.onChange,a=e.floatingLabelText,h=e.helperText,j=e.disabled,f=Object(d.a)(),g=s.useState([]),m=Object(o.a)(g,2),O=m[0],v=m[1],x=Object(s.useState)(""),y=Object(o.a)(x,2),C=y[0],T=y[1],E=Object(s.useState)(!1),k=Object(o.a)(E,2),w=k[0],S=k[1],P=s.useState([]),I=Object(o.a)(P,2),_=I[0],A=I[1],N=s.useState(null),R=Object(o.a)(N,2),L=R[0],M=R[1],F=Object(c.a)(Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(null),C){e.next=4;break}return A([]),e.abrupt("return");case 4:return e.prev=4,S(!0),e.next=8,Object(u.d)(C);case 8:t=e.sent,A(t),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),M(e.t0),console.error("Could not load the users: ",e.t0);case 16:return e.prev=16,S(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,12,16,19]])}))),500);s.useEffect((function(){F()}),[F,C]);var D=s.useCallback(Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(null),t.length){e.next=4;break}return v([]),e.abrupt("return");case 4:return e.prev=4,S(!0),e.next=8,Object(u.c)(t);case 8:n=e.sent,v(t.map((function(e){var t=n[e];return t?{text:t.username||"(no username)",value:t.id}:null})).filter(Boolean)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),M(e.t0),console.error("Could not load the users: ",e.t0);case 16:return e.prev=16,S(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,12,16,19]])}))),[t]);return s.useEffect((function(){D()}),[D]),Object(p.jsx)(l.a,{hintText:{id:"Start typing a username"},floatingLabelText:a,helperText:h,value:O,onChange:function(e,t){t&&(v(t),n(t.map((function(e){return e.value}))),f())},inputValue:C,onInputChange:function(e,t){T(t)},dataSource:_.map((function(e){return e.username&&e.id?{text:e.username,value:e.id}:null})).filter(Boolean),loading:w||j,fullWidth:!0,error:b(L)})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),o=n(794),a=n(573),i=n.n(a),s=function(e,t){var n=Object(o.a)(),a=Object(r.useRef)({cb:e,delay:t});return Object(r.useEffect)((function(){a.current={cb:e,delay:t}})),Object(r.useCallback)(i()((function(){var e;a.current.delay===t&&n.current&&(e=a.current).cb.apply(e,arguments)}),t,{leading:!1,trailing:!0}),[t,i.a])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),o=(n(1),n(12)),a=n(2275),i=n(2279),s=n(2171),c=n(7),l=Object(s.a)({root:{height:25},deleteIcon:{cursor:"default"}});function u(e){var t=l();return Object(c.jsx)(o.I18n,{children:function(n){var o=n.i18n;return Object(c.jsx)(i.a,{multiple:!0,value:e.value,onChange:e.onChange,inputValue:e.inputValue,onInputChange:e.onInputChange,options:e.dataSource,getOptionLabel:function(e){return e.text},getOptionDisabled:function(t){return!!e.value.find((function(e){return e&&e.value===t.value}))||e.optionsLimit&&e.value.length>=e.optionsLimit},getOptionSelected:function(e,t){return e.value===t.value},loading:e.loading,renderInput:function(t){return Object(c.jsx)(a.a,Object(r.a)(Object(r.a)({},t),{},{InputProps:Object(r.a)(Object(r.a)({},t.InputProps),{},{placeholder:e.hintText&&o._(e.hintText)}),label:e.floatingLabelText,helperText:e.error||e.helperText,variant:"filled",error:!!e.error,disabled:e.loading}))},fullWidth:e.fullWidth,disabled:e.loading,ChipProps:{classes:t}})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),o=n(12),a=n(423),i=(n(1),n(470)),s=n(7),c={display:"block",objectFit:"cover"},l={width:272,height:153},u=function(e){var t=e.thumbnailUrl,n=e.gameName;return t?Object(s.jsx)("img",{src:t,style:Object(r.a)(Object(r.a)({},c),l),alt:n,title:n}):Object(s.jsx)(a.a,{variant:"outlined",style:Object(r.a)(Object(r.a)({},l),{},{whiteSpace:"normal",display:"flex"}),children:Object(s.jsx)(i.a,{children:Object(s.jsx)(o.Trans,{id:"No thumbnail set"})})})}},function(e,t,n){"use strict";var r=n(3),o=n(26),a=n(2),i=n(4),s=n(0),c=n.n(s),l=n(1),u=n(695),d=n(797),p=n(490),b=n(798),h=n(7),j=function(e){return"PREFER_UNIQUE"===e.playerUnicityDisplayChoice},f=function(e,t){switch(t.type){case"SET_LEADERBOARDS":var n=t.payload;if(!n)return Object(i.a)(Object(i.a)({},e),{},{leaderboardsByIds:null,currentLeaderboardId:null,currentLeaderboard:null});var r=n.reduce((function(e,t){return e[t.id]=t,e}),{}),s=!e.currentLeaderboard&&n&&n.length>0,c=n.find((function(e){return e.primary})),l=(e.currentLeaderboard?r[e.currentLeaderboard.id]:void 0)||e.currentLeaderboard,u=s?c||n[0]:l;return Object(i.a)(Object(i.a)({},e),{},{leaderboardsByIds:r,displayOnlyBestEntry:!!u&&j(u),currentLeaderboardId:u?u.id:null,currentLeaderboard:u});case"SET_ENTRIES":return Object(i.a)(Object(i.a)({},e),{},{entries:t.payload});case"PURGE_NAVIGATION":return Object(i.a)(Object(i.a)({},e),{},{entries:null,pageIndex:0,mapPageIndexToUri:{}});case"SET_NEXT_PAGE_URI":var d=e.pageIndex+1;return Object(i.a)(Object(i.a)({},e),{},{mapPageIndexToUri:Object(i.a)(Object(i.a)({},e.mapPageIndexToUri),{},Object(a.a)({},d,t.payload))});case"SET_PAGE_INDEX":return Object(i.a)(Object(i.a)({},e),{},{pageIndex:t.payload});case"SELECT_LEADERBOARD":if(!e.leaderboardsByIds)return e;var p=e.leaderboardsByIds[t.payload];return Object(i.a)(Object(i.a)({},e),{},{displayOnlyBestEntry:j(p),currentLeaderboardId:p.id,currentLeaderboard:p});case"CHANGE_DISPLAY_ONLY_BEST_ENTRY":return Object(i.a)(Object(i.a)({},e),{},{displayOnlyBestEntry:t.payload});case"UPDATE_OR_CREATE_LEADERBOARD":var b={};return e.leaderboardsByIds&&Object.entries(e.leaderboardsByIds).forEach((function(e){var n=Object(o.a)(e,2),r=n[0],a=n[1];b[r]=Object(i.a)(Object(i.a)({},a),{},{primary:t.payload.primary?void 0:a.primary})})),b[t.payload.id]=t.payload,Object(i.a)(Object(i.a)({},e),{},{displayOnlyBestEntry:j(t.payload),leaderboardsByIds:b,currentLeaderboardId:t.payload.id,currentLeaderboard:t.payload});case"REMOVE_LEADERBOARD":var h=Object(i.a)({},e.leaderboardsByIds);delete h[t.payload];var f=Object.keys(h);return 0===f.length?Object(i.a)(Object(i.a)({},e),{},{displayOnlyBestEntry:!1,leaderboardsByIds:h,currentLeaderboard:null,currentLeaderboardId:null}):Object(i.a)(Object(i.a)({},e),{},{displayOnlyBestEntry:j(h[f[0]]),leaderboardsByIds:h,currentLeaderboard:h[f[0]],currentLeaderboardId:f[0]});default:return Object(i.a)({},e)}};t.a=function(e){var t=e.gameId,n=e.children,a=l.useContext(p.a),i=l.useRef(!1),s=l.useReducer(f,{currentLeaderboardId:null,currentLeaderboard:null,leaderboardsByIds:null,displayOnlyBestEntry:!1,entries:null,mapPageIndexToUri:{},pageIndex:0}),j=Object(o.a)(s,2),g=j[0],m=g.currentLeaderboardId,O=g.currentLeaderboard,v=g.leaderboardsByIds,x=g.displayOnlyBestEntry,y=g.entries,C=g.mapPageIndexToUri,T=g.pageIndex,E=j[1],k=l.useCallback(function(){var e=Object(r.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.current){e.next=14;break}return i.current=!0,e.prev=2,n&&n.shouldClearBeforeFetching&&E({type:"SET_LEADERBOARDS",payload:null}),e.next=6,Object(d.g)(a,t);case 6:if(r=e.sent){e.next=9;break}return e.abrupt("return");case 9:r.sort((function(e,t){return e.name.localeCompare(t.name)})),E({type:"SET_LEADERBOARDS",payload:r});case 11:return e.prev=11,i.current=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,,11,14]])})));return function(t){return e.apply(this,arguments)}}(),[t,a]),w=l.useCallback(function(){var e=Object(r.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E({type:"SET_ENTRIES",payload:null}),e.next=3,Object(d.b)(a,t,n);case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:E({type:"UPDATE_OR_CREATE_LEADERBOARD",payload:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,a]),S=l.useCallback(function(){var e=Object(r.a)(c.a.mark((function e(n){var r,o,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return r=n&&n.uri?n.uri:null,E({type:"SET_ENTRIES",payload:null}),e.next=6,Object(d.h)(t,m,{pageSize:10,onlyBestEntry:x,forceUri:r});case 6:if(o=e.sent){e.next=9;break}return e.abrupt("return");case 9:a=o.entries,o.nextPageUri&&E({type:"SET_NEXT_PAGE_URI",payload:o.nextPageUri}),i=[],i=x?a.map((function(e){return Object(d.f)(e)})):a.map((function(e){return Object(d.e)(e)})),E({type:"SET_ENTRIES",payload:i});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m,x,t]),P=l.useCallback((function(e){E({type:"SELECT_LEADERBOARD",payload:e})}),[]),I=l.useCallback((function(e){E({type:"CHANGE_DISPLAY_ONLY_BEST_ENTRY",payload:e})}),[]),_=function(){var e=Object(r.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return n.sort&&E({type:"PURGE_NAVIGATION"}),e.next=5,Object(d.j)(a,t,m,n);case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return");case 8:if(E({type:"UPDATE_OR_CREATE_LEADERBOARD",payload:r}),!n.sort){e.next=12;break}return e.next=12,S();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(r.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return E({type:"PURGE_NAVIGATION"}),e.next=5,Object(d.i)(a,t,m);case 5:if(n=e.sent){e.next=8;break}return e.abrupt("return");case 8:E({type:"UPDATE_OR_CREATE_LEADERBOARD",payload:n}),S();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&v){e.next=2;break}return e.abrupt("return");case 2:return E({type:"PURGE_NAVIGATION"}),e.next=5,Object(d.c)(a,t,m);case 5:E({type:"REMOVE_LEADERBOARD",payload:m});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(d.d)(a,t,m,n);case 4:S({uri:T>0?C[T]:null});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=l.useCallback(Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C[T+1]){e.next=3;break}return e.abrupt("return");case 3:return E({type:"SET_PAGE_INDEX",payload:T+1}),e.next=6,S({uri:t});case 6:case"end":return e.stop()}}),e)}))),[S,C,T]),M=l.useCallback(Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==T){e.next=6;break}return E({type:"SET_PAGE_INDEX",payload:0}),e.next=4,S();case 4:e.next=12;break;case 6:if(t=C[T-1]){e.next=9;break}return e.abrupt("return");case 9:return E({type:"SET_PAGE_INDEX",payload:T-1}),e.next=12,S({uri:t});case 12:case"end":return e.stop()}}),e)}))),[S,C,T]),F=l.useCallback(Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E({type:"SET_PAGE_INDEX",payload:0}),e.next=3,S();case 3:case"end":return e.stop()}}),e)}))),[S]);l.useEffect((function(){E({type:"SET_LEADERBOARDS",payload:null}),E({type:"PURGE_NAVIGATION"})}),[t]),l.useEffect((function(){m&&t&&(E({type:"PURGE_NAVIGATION"}),S())}),[m,x,S,t]);var D=l.useRef(null),B=l.useRef(null);return l.useEffect((function(){D.current===m&&B.current&&O&&!O.resetLaunchedAt&&S(),D.current=m,B.current=O?O.resetLaunchedAt:null}),[O,m,S]),Object(b.a)((function(){k({shouldClearBeforeFetching:!1})}),!v||Object.values(v).every((function(e){return!e.resetLaunchedAt}))?null:5e3),Object(h.jsx)(u.a.Provider,{value:{leaderboards:v?Object.values(v):null,currentLeaderboard:O,displayOnlyBestEntry:x,browsing:{entries:y,goToNextPage:C[T+1]?L:null,goToPreviousPage:1===T||C[T-1]?M:null,goToFirstPage:0===T?null:F},setDisplayOnlyBestEntry:I,createLeaderboard:w,listLeaderboards:k,selectLeaderboard:P,updateLeaderboard:_,resetLeaderboard:A,deleteLeaderboard:N,deleteLeaderboardEntry:R,fetchLeaderboardEntries:S},children:n})}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return p}));var r=n(4),o=n(1),a=(n(477),n(493)),i=n(508),s=n(138),c=n(628),l=n(641),u=n(7),d=100,p={position:"relative",display:"inline-block",width:d,height:d,justifyContent:"center",alignItems:"center",lineHeight:"100px",textAlign:"center"},b={spriteThumbnail:Object(r.a)({},p),spriteThumbnailImage:{position:"relative",maxWidth:d,maxHeight:d,verticalAlign:"middle",pointerEvents:"none"},checkboxContainer:{textAlign:"initial",position:"absolute",width:34,height:64,bottom:0,right:0}};t.a=function(e){var t=e.onContextMenu,n=e.resourcesLoader,d=e.resourceName,p=e.project,h=o.useContext(s.a),j=Object(c.a)(o.useCallback((function(e){t&&t(e.clientX,e.clientY)}),[t])),f=h.imageThumbnail.selectedBorderColor,g=h.imagePreview.borderColor,m=e.selected?f:g,O=Object(r.a)(Object(r.a)({},b.spriteThumbnail),{},{border:"1px solid ".concat(m)},e.style);return Object(u.jsxs)("div",Object(r.a)(Object(r.a)({title:d,style:O,onContextMenu:function(e){e.stopPropagation(),t&&t(e.clientX,e.clientY)}},j),{},{children:[Object(u.jsx)(l.a,{}),Object(u.jsx)(i.a,{style:b.spriteThumbnailImage,alt:d,src:n.getResourceFullUrl(p,d,{})}),e.selectable&&Object(u.jsx)("div",{style:b.checkboxContainer,children:Object(u.jsx)(a.a,{checked:!!e.selected,onCheck:function(t,n){return e.onSelect&&e.onSelect(n)}})})]}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(12),c=n(1),l=n(100),u=n(136),d=n(1458),p=n.n(d),b=n(1160),h=n(552),j=n(472),f=n(806),g=n(646),m=n(490),O=n(544),v=n(489),x=n.n(v),y=n(7);function C(e){var t=e.project,n=e.onClose,a=e.onInstallExtension,d=e.onExtensionInstalled,v=e.onCreateNew,C=c.useState(!1),T=Object(o.a)(C,2),E=T[0],k=T[1],w=c.useState(!1),S=Object(o.a)(w,2),P=S[0],I=S[1],_=c.useContext(h.a),A=c.useContext(m.a),N=Object(O.h)(A,O.e,f.b),R=function(){var e=Object(r.a)(i.a.mark((function e(n,r){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!0),e.prev=1,!r){e.next=9;break}return a(r),e.next=6,N(n,t,_,r);case 6:o=e.sent,e.next=12;break;case 9:return e.next=11,Object(f.a)(n,_,t);case 11:o=e.sent;case 12:if(!o){e.next=16;break}return I(!0),d&&d(),e.abrupt("return",!0);case 16:return e.abrupt("return",!1);case 17:return e.prev=17,k(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,,17,20]])})));return function(t,n){return e.apply(this,arguments)}}(),L=_.getEventsFunctionsExtensionOpener();return Object(y.jsx)(s.I18n,{children:function(e){var o=e.i18n;return Object(y.jsxs)(l.b,{fullHeight:!0,title:Object(y.jsx)(s.Trans,{id:"Search for New Extensions"}),actions:[Object(y.jsx)(u.a,{label:Object(y.jsx)(s.Trans,{id:"Close"}),primary:!0,onClick:n,disabled:E},"close")],secondaryActions:[Object(y.jsx)(j.a,{helpPagePath:"/extensions/search"},"help"),L?Object(y.jsx)(u.a,{icon:Object(y.jsx)(p.a,{}),label:Object(y.jsx)(s.Trans,{id:"Import extension"}),onClick:function(){R(o)},disabled:E},"import"):null,v?Object(y.jsx)(u.a,{onClick:v,label:Object(y.jsx)(s.Trans,{id:"Create a new extension"}),icon:Object(y.jsx)(x.a,{})},"create-new"):null],flexBody:!0,open:!0,noMargin:!0,cannotBeDismissed:E,onRequestClose:n,children:[Object(y.jsx)(b.a,{isInstalling:E,onInstall:function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(o,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),project:t,showOnlyWithBehaviors:!1}),Object(y.jsx)(g.a,{identifier:"extension-installed-explanation",message:Object(y.jsx)(s.Trans,{id:"The extension was added to the project. You can now use it in the list of actions/conditions and, if it's a behavior, in the list of behaviors for an object."}),show:P})]})}})}},,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(1),o={openUserPublicProfile:function(e){}},a=r.createContext(o);t.a=a},,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(469),u=n(137),d=n(100),p=n(549),b=n(470),h=n(570),j=n(606),f=n(991),g=n.n(f),m=n(493),O=n(1460),v=n(80),x=n(497),y=n(7),C=e.gd,T=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e))._onApply=function(){o.props.layout.setWindowDefaultTitle(o.state.windowTitle),o.props.layout.setStopSoundsOnStartup(o.state.shouldStopSoundsOnStartup),o.props.layout.setBackgroundColor(o.state.backgroundColor?o.state.backgroundColor.r:0,o.state.backgroundColor?o.state.backgroundColor.g:0,o.state.backgroundColor?o.state.backgroundColor.b:0),o.props.onApply()},o.state=o._loadFrom(e.layout),o}return Object(o.a)(n,[{key:"_loadFrom",value:function(e){return{windowTitle:e.getWindowDefaultTitle(),shouldStopSoundsOnStartup:e.stopSoundsOnStartup(),backgroundColor:{r:e.getBackgroundColorRed(),g:e.getBackgroundColorGreen(),b:e.getBackgroundColorBlue(),a:1}}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.layout!==e.layout)&&this.setState(this._loadFrom(e.layout))}},{key:"render",value:function(){var e=this,t=this.props.layout,n=[Object(y.jsx)(d.a,{label:Object(y.jsx)(s.Trans,{id:"Ok"}),primary:!0,onClick:this._onApply},"ok")],r=t.getAllBehaviorSharedDataNames().toJSArray().map((function(e){var n=t.getBehaviorSharedData(e),r=n.getTypeName(),o=C.MetadataProvider.getBehaviorMetadata(C.JsPlatform.get(),r);if(C.MetadataProvider.isBadBehaviorMetadata(o))return null;var a=o.getSharedDataInstance();if(Object(O.a)(C,a))return null;var i=a.getProperties(n.getContent()),s=Object(j.a)(i,(function(e){return a.getProperties(e.getContent())}),(function(e,t,n){a.updateProperty(e.getContent(),t,n)}));return!!s.length&&Object(y.jsx)(h.a,{schema:s,instances:[n]},e)})).filter(Boolean);return Object(y.jsx)(d.b,{title:Object(y.jsx)(s.Trans,{id:"Scene properties"}),actions:n,secondaryActions:[Object(y.jsx)(u.a,{label:Object(y.jsx)(s.Trans,{id:"Edit scene variables"}),fullWidth:!0,onClick:function(){e.props.onEditVariables(),e.props.onClose()}},"edit-scene-variables")],onRequestClose:this.props.onClose,onApply:this._onApply,open:this.props.open,maxWidth:"sm",children:Object(y.jsxs)(v.a,{expand:!0,noMargin:!0,children:[Object(y.jsx)(l.b,{floatingLabelText:Object(y.jsx)(s.Trans,{id:"Window title"}),fullWidth:!0,type:"text",value:this.state.windowTitle,onChange:function(t,n){return e.setState({windowTitle:n})}}),Object(y.jsx)(m.a,{checked:this.state.shouldStopSoundsOnStartup,label:Object(y.jsx)(s.Trans,{id:"Stop music and sounds on startup"}),onCheck:function(t,n){return e.setState({shouldStopSoundsOnStartup:n})}}),Object(y.jsx)(p.a,{floatingLabelText:Object(y.jsx)(s.Trans,{id:"Scene background color"}),fullWidth:!0,disableAlpha:!0,color:Object(x.e)(this.state.backgroundColor),onChange:function(t){return e.setState({backgroundColor:Object(x.h)(t)})}}),!g()(r)&&Object(y.jsx)(b.a,{children:Object(y.jsx)(s.Trans,{id:"Any additional properties will appear here if you add behaviors to objects, like Physics behavior."})}),r,this.props.onOpenMoreSettings&&Object(y.jsx)(u.a,{label:Object(y.jsx)(s.Trans,{id:"Open advanced settings"}),fullWidth:!0,onClick:function(){e.props.onOpenMoreSettings&&e.props.onOpenMoreSettings(),e.props.onClose()}})]})})}}]),n}(c.Component)}).call(this,n(28))},,function(e,t,n){"use strict";var r=n(12),o=(n(1),n(597)),a=n(576),i=n(7);t.a=function(e){return Object(i.jsx)(o.a,{open:e.open,variablesContainer:e.layout.getVariables(),onCancel:e.onClose,onApply:e.onApply,title:Object(i.jsx)(r.Trans,{id:"Scene Variables"}),emptyPlaceholderTitle:Object(i.jsx)(r.Trans,{id:"Add your first scene variable"}),emptyPlaceholderDescription:Object(i.jsx)(r.Trans,{id:"These variables hold additional information on a scene."}),helpPagePath:"/all-features/variables/scene-variables",hotReloadPreviewButtonProps:e.hotReloadPreviewButtonProps,onComputeAllVariableNames:function(){return a.a.findAllLayoutVariables(e.project.getCurrentPlatform(),e.project,e.layout)}})}},function(e,t,n){"use strict";function r(e,t){for(var n=t.getCurrentPlatform().getAllPlatformExtensions(),r=0;r<n.size();r++)if(n.at(r).getName()===e)return!0;return t.hasEventsFunctionsExtensionNamed(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),o=n(8),a=n(9),i=Object(o.a)((function e(){var t=this;Object(a.a)(this,e),this.registerCommand=function(e,n){if(t._commands[e])return console.warn("Tried to register command ".concat(e,", but it is already registered."));t._commands[e]=n},this.deregisterCommand=function(e){if(!t._commands[e])return console.warn("Tried to deregister command ".concat(e,", but it is not registered."));delete t._commands[e]},this.getNamedCommand=function(e){var n=t._commands[e];return n?Object(r.a)({name:e},n):null},this.getAllNamedCommands=function(){return Object.keys(t._commands).map((function(e){var n=t._commands[e];return Object(r.a)(Object(r.a)({},n),{},{name:e})}))},this._commands={}}))},function(e,t,n){"use strict";var r=n(1);t.a=function(e){var t=Object(r.useRef)(null),n=t.current;if(null!==n)return n;var o=e();return t.current=o,o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1474),o=n.n(r),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:40},n=t.size,r=o()(e.trim().toLowerCase());return"https://www.gravatar.com/avatar/".concat(r,"?s=").concat(n,"&d=retro")}},function(e,t,n){"use strict";var r=n(4),o=(n(1),n(2197)),a=n(7);t.a=function(e){return Object(a.jsx)(o.a,Object(r.a)({color:"primary",variant:"dot"},e))}},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return v}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(594),u=n.n(l),d=n(429),p=n(662),b=n(628),h=n(30),j=n(138),f=n(7),g={tabContentContainer:{width:"100%",position:"relative",textAlign:"initial",minHeight:0,display:"flex",flex:1},tabLabel:{maxWidth:360,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"15px"},tabLabelAndIcon:{display:"flex",alignItems:"center",marginLeft:10,marginRight:10},closeButton:{marginRight:5,marginLeft:5}},m=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.active||e.active}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.active;return Object(f.jsx)("div",{style:Object(r.a)(Object(r.a)({},g.tabContentContainer),n?void 0:{display:"none"}),children:t})}}]),n}(c.Component),O=function(e){var t=e.hideLabels,n=e.children,r={maxWidth:"100%",flexShrink:0,display:t?"none":"flex",flexWrap:"nowrap",overflowX:"auto",backgroundColor:c.useContext(j.a).closableTabs.containerBackgroundColor};return Object(f.jsx)("div",{style:r,children:n})};function v(e){var t=e.id,n=e.active,o=e.onClose,a=e.onCloseOthers,i=e.onCloseAll,s=e.label,l=e.icon,m=e.closable,O=e.onClick,v=e.onActivated;c.useEffect((function(){n&&v()}),[n,v]);var x=c.useRef(null),y=function(e){e.stopPropagation(),x.current&&x.current.open(e.clientX,e.clientY)},C=c.useCallback((function(e){e.nativeEvent&&1===e.nativeEvent.button&&o()}),[o]),T=Object(b.a)(c.useCallback((function(e){x.current&&x.current.open(e.clientX,e.clientY)}),[x])),E=c.useContext(j.a),k=n?E.closableTabs.selectedTextColor:E.closableTabs.textColor;return Object(f.jsxs)(c.Fragment,{children:[Object(f.jsxs)("span",{style:{flexShrink:0,position:"relative",display:"inline-block",marginRight:1,backgroundColor:n?E.closableTabs.selectedBackgroundColor:E.closableTabs.backgroundColor},children:[Object(f.jsx)(d.a,Object(r.a)(Object(r.a)({onClick:O,onAuxClick:m?C:void 0,onContextMenu:y,id:t?"".concat(t,"-button"):void 0},T),{},{focusRipple:!0,disableTouchRipple:!0,children:Object(f.jsxs)("span",{style:Object(r.a)(Object(r.a)({},g.tabLabelAndIcon),{},{height:E.closableTabs.height,color:k,fontFamily:E.closableTabs.fontFamily}),children:[l,l&&s?Object(f.jsx)(h.d,{}):null,s&&Object(f.jsx)("span",{style:g.tabLabel,children:s})]})})),m&&Object(f.jsx)(d.a,Object(r.a)(Object(r.a)({onClick:o,onAuxClick:C,onContextMenu:y},T),{},{focusRipple:!0,children:Object(f.jsx)(u.a,{style:Object(r.a)(Object(r.a)({},g.closeButton),{},{width:E.closableTabs.height/2,height:E.closableTabs.height}),htmlColor:k})}))]}),Object(f.jsx)(p.a,{ref:x,buildMenuTemplate:function(e){return[{label:e._({id:"Close"}),click:o,enabled:m},{label:e._({id:"Close others"}),click:a},{label:e._({id:"Close all"}),click:i}]}})]})}},function(e,t,n){"use strict";n.d(t,"l",(function(){return p})),n.d(t,"q",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return m})),n.d(t,"m",(function(){return O})),n.d(t,"k",(function(){return v})),n.d(t,"j",(function(){return x})),n.d(t,"i",(function(){return y})),n.d(t,"r",(function(){return C})),n.d(t,"p",(function(){return T})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return k})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return S})),n.d(t,"n",(function(){return P})),n.d(t,"o",(function(){return I}));var r=n(18),o=n(4),a=(n(1),n(1002)),i=n.n(a),s=n(1003),c=(n(1146),n(1081)),l=n(1099),u=n(1102),d=(n(1118),n(1119)),p=function(){return{editors:[],currentTab:0}},b=function(e,t){var n=t.label,a=t.icon,s=t.projectItemName,c=t.renderEditorContainer,l=t.key,u=t.extraEditorProps,d=t.dontFocusTab,p=t.closable,b=i()(e.editors,(function(e){return e.key===l}));if(-1!==b)return Object(o.a)(Object(o.a)({},e),{},{currentTab:d?e.currentTab:b});var h={label:n,icon:a,projectItemName:s,renderEditorContainer:c,key:l,extraEditorProps:u,editorRef:null,closable:"undefined"===typeof p||!!p};return Object(o.a)(Object(o.a)({},e),{},{editors:[].concat(Object(r.a)(e.editors),[h]),currentTab:d?e.currentTab:e.editors.length})},h=function(e,t){return Object(o.a)(Object(o.a)({},e),{},{currentTab:Math.max(0,Math.min(t,e.editors.length-1))})},j=function(e,t){var n=x(e),r=e.editors.filter(t);return h(Object(o.a)(Object(o.a)({},e),{},{editors:r}),r.indexOf(n)||0)},f=function(e){return j(e,(function(e){return!e.closable}))},g=function(e,t){return j(e,(function(e){return e!==t}))},m=function(e,t){return j(e,(function(e){return!e.closable||e===t}))},O=function(e){return e.editors},v=function(e){return e.currentTab},x=function(e){return e.editors[e.currentTab]},y=function(e,t){return j(e,(function(e){var n=e.editorRef&&e.editorRef.getProject();return!n||n!==t}))},C=function(e){e.editors.forEach((function(e){e.editorRef&&(e.editorRef instanceof d.a||e.editorRef instanceof u.a)&&e.editorRef.saveUiSettings()}))},T=function(e){e.editors.forEach((function(e){var t=e.editorRef;t instanceof c.a&&t.previewWillStart()}))},E=function(e,t){return j(e,(function(e){var n=e.editorRef;if(n instanceof s.a||n instanceof l.a||n instanceof u.a||n instanceof d.a){var r=n.getLayout();return!r||r!==t}return!0}))},k=function(e,t){return j(e,(function(e){var n=e.editorRef;return!(n instanceof u.a)||(!n.getExternalLayout()||n.getExternalLayout()!==t)}))},w=function(e,t){return j(e,(function(e){var n=e.editorRef;return!(n instanceof l.a)||(!n.getExternalEvents()||n.getExternalEvents()!==t)}))},S=function(e,t){return j(e,(function(e){var n=e.editorRef;return!(n instanceof c.a)||(!n.getEventsFunctionsExtension()||n.getEventsFunctionsExtension()!==t)}))},P=function(e,t){for(var n=0;n<e.editors.length;++n){var r=e.editors[n].editorRef;if(r instanceof c.a&&r.getEventsFunctionsExtension()===t)return{editor:r,tabIndex:n}}return null},I=function(e,t,n){return _(e,t,t>n?n+1:n)},_=function(e,t,n){var o=Object(r.a)(O(e)),a=o[t];o.splice(t,1),o.splice(n,0,a);var i=v(e),s=i;return t===i?s=n:t<i&&n>=i?s-=1:t>i&&n<=i&&(s+=1),{editors:o,currentTab:s}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(812),u=n(81),d=n(7),p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onBeginCreateEventsFunction=function(){Object(u.i)({step:"begin",parentEditor:"scene-events-editor"})},e.onCreateEventsFunction=function(t,n){e.props.onCreateEventsFunction(t,n,"scene-events-editor")},e}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=this.getLayout();this.props.setPreviewedLayout(e?e.getName():null)}}},{key:"componentDidUpdate",value:function(e){if(!e.isActive&&this.props.isActive){var t=this.getLayout();this.props.setPreviewedLayout(t?t.getName():null)}}},{key:"getProject",value:function(){return this.props.project}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"getLayout",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasLayoutNamed(n)?t.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,o=this.getLayout();return o&&n?Object(d.jsx)(l.a,{ref:function(t){return e.editor=t},setToolbar:this.props.setToolbar,onOpenLayout:this.props.onOpenLayout,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.onCreateEventsFunction,onBeginCreateEventsFunction:this.onBeginCreateEventsFunction,unsavedChanges:this.props.unsavedChanges,project:n,scope:{layout:o},globalObjectsContainer:n,objectsContainer:o,events:o.getEvents(),onOpenExternalEvents:this.props.onOpenExternalEvents,isActive:this.props.isActive}):Object(d.jsxs)("div",{children:["No layout called ",r," found!"]})}}]),n}(c.Component),b=function(e){return Object(d.jsx)(p,Object(r.a)({},e))}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return G})),n.d(t,"a",(function(){return X}));var r=n(18),o=n(2),a=n(10),i=n(4),s=n(11),c=n(9),l=n(8),u=n(13),d=n(14),p=n(12),b=n(1),h=n(1002),j=n.n(h),f=n(1477),g=n(465),m=n(647),O=n(2116),v=n(1572),x=n(87),y=n.n(x),C=n(494),T=n(521),E=n(530),k=(n(1573),n(1026),n(500)),w=n(1574),S=n(566),P=n(508),I=n(30),_=n(900),A=n(899),N=n(563),R=n(825),L=n(1575),M=n(826),F=n(7),D=["className"],B=e.gd,U="events-sheet-events-dnd-type",V=E.a.getThumbnail.bind(E.a),W={container:{flex:1,position:"relative"},defaultEventContainer:{marginRight:10,position:"relative"},smallEventContainer:{marginRight:0,position:"relative"},eventComponentContainer:{display:"flex",flexDirection:"row",justifyContent:"stretch",position:"relative"}},G=function(e){return"small"===e?11:22},z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._onEventUpdated=function(){e.forceUpdate()},e._onEventContextMenu=function(t){t.preventDefault(),e.props.onEventContextMenu(t.clientX,t.clientY)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}},{key:"componentDidUpdate",value:function(){var e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.event,r=t.project,o=t.scope,a=t.disabled,i=O.a.getEventComponent(n);return Object(F.jsx)("div",{ref:function(t){return e._container=t},onClick:this.props.onEventClick,onContextMenu:this._onEventContextMenu,children:i&&Object(F.jsxs)("div",{style:W.eventComponentContainer,children:[this.props.connectDragSource(Object(F.jsx)("div",{className:C.i})),Object(F.jsx)("div",{style:W.container,children:Object(F.jsx)(i,{project:r,scope:o,event:n,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,selected:Object(m.n)(this.props.selection,n),selection:this.props.selection,leftIndentWidth:this.props.leftIndentWidth,onUpdate:this._onEventUpdated,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onEndEditingEvent:this.props.onEndEditingEvent,onParameterClick:this.props.onParameterClick,onOpenExternalEvents:this.props.onOpenExternalEvents,onOpenLayout:this.props.onOpenLayout,disabled:a,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,eventsSheetHeight:this.props.eventsSheetHeight})})]})})}}]),n}(b.Component),H=function(e){var t=e.className,n=Object(s.a)(e,D);return Object(F.jsx)(k.a,{children:function(e){return Object(F.jsx)(f.a,Object(i.a)({className:"".concat(C.f," ").concat(e.eventsSheetRootClassName," ").concat(t)},n))}})},Y=function(){},q=function(e){return e.treeIndex},X=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).DragSourceAndDropTarget=Object(N.a)(U),r.DropTarget=Object(R.a)(U),r._eventsToTreeData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=Object(g.mapFor)(0,e.getEventsCount(),(function(i){var s=e.getEventAt(i);t.push(s);var c=o||s.isDisabled(),l=a.concat(t.length-1);return{title:r._renderEvent,event:s,eventsList:e,indexInList:i,expanded:!s.isFolded(),disabled:c,depth:n,key:s.ptr,children:r._eventsToTreeData(s.getSubEvents(),s.isFolded()?[]:t,n+1,c,l).treeData,nodePath:l}})),s=Object(A.a)(r.props.preferences,r.props.tutorials,"intro-event-system"),c=[0===n?{title:function(){return Object(F.jsx)(w.a,{onAddEvent:function(e){return r.props.onAddNewEvent(e,r.props.events)},DnDComponent:r.DropTarget,draggedNode:r.state.draggedNode,rootEventsList:e})},event:null,indexInList:e.getEventsCount(),disabled:!1,depth:0,fixedHeight:40,children:[]}:null,0===n&&0!==e.getEventsCount()&&s?{title:function(){return Object(F.jsx)(I.c,{justifyContent:"center",children:Object(F.jsx)(_.a,{tutorial:s})})},event:null,indexInList:e.getEventsCount()+1,disabled:!1,depth:0,fixedHeight:150,children:[],key:"eventstree-tutorial-node"}:null,0===n&&0===e.getEventsCount()?{title:function(){return Object(F.jsx)(S.a,{title:Object(F.jsx)(p.Trans,{id:"Add your first event"}),description:Object(F.jsx)(p.Trans,{id:"Events define the rules of a game."}),actionLabel:Object(F.jsx)(p.Trans,{id:"Add an event"}),helpPagePath:"/events",tutorialId:"intro-event-system",onAction:function(){return r.props.onAddNewEvent("BuiltinCommonInstructions::Standard",r.props.events)}})},event:null,indexInList:e.getEventsCount()+1,disabled:!1,depth:0,fixedHeight:300,children:[]}:null].filter(Boolean);return{treeData:c.length?i.concat(c):i,flatData:t}},r._canDrag=function(e){return!!e&&!!e.event},r._canDrop=function(e){return!0},r._onDrop=function(e,t){var n=r.state.draggedNode;if(n){var o=e({node:n,targetNode:t}),a=n.nodePath;r.props.onEventMoved(a[a.length-1],o)}},r._onVisibilityToggle=function(e){var t=e.node.event;t&&(t.setFolded(!t.isFolded()),r.forceEventsUpdate())},r._renderObjectThumbnail=function(e){var t=r.props,n=t.project,a=t.scope;if(!t.showObjectThumbnails)return null;var i=Object(T.a)(n,a.layout,e);return i?Object(F.jsx)(P.a,{className:y()(Object(o.a)({},C.j,!0)),alt:"",src:V(n,i)}):null},r._temporaryUnfoldNode=function(e,t){var n=t.event;if(n){var o=r.temporaryUnfoldedNodes.some((function(e){return t.key===e.key}));e?r._hoverTimerId||t.expanded||o||(r._hoverTimerId=window.setTimeout((function(){n.setFolded(!1),r.temporaryUnfoldedNodes.push(t),r.forceEventsUpdate()}),1e3)):(window.clearTimeout(r._hoverTimerId),r._hoverTimerId=null)}},r._restoreFoldedNodes=function(){r.temporaryUnfoldedNodes.forEach((function(e){return e.event&&e.event.setFolded(!0)})),r.temporaryUnfoldedNodes=[],r.forceEventsUpdate()},r._getRowHeight=function(e){var t=e.node;return t?t.event?r.eventsHeightsCache.getEventHeight(t.event):t.fixedHeight||0:0},r._onEndDrag=function(){r.setState({draggedNode:null}),r._restoreFoldedNodes(),r.forceEventsUpdate()},r._renderEvent=function(e){var t=e.node,n=t.event,o=t.depth,s=t.disabled;if(!n)return null;var c=Object(a.a)(r),l=c.DragSourceAndDropTarget,u=c.DropTarget,d=!!r.state.draggedNode&&(Object(M.a)(r.state.draggedNode,t)||t.key===r.state.draggedNode.key);return Object(F.jsx)(l,{beginDrag:function(){return r.setState({draggedNode:t}),t},canDrag:function(){return r._canDrag(t)},canDrop:function(){return r._canDrop(t)},drop:function(){},endDrag:r._onEndDrag,children:function(e){var a=e.connectDragSource,c=e.connectDropTarget,l=e.isOverLazy;r._temporaryUnfoldNode(l,t);var p,b=Object(F.jsxs)("div",{style:Object(i.a)({opacity:d?.5:1},(p=r.props.windowWidth,"small"===p?W.smallEventContainer:W.defaultEventContainer)),children:[Object(F.jsx)(z,{project:r.props.project,scope:r.props.scope,globalObjectsContainer:r.props.globalObjectsContainer,objectsContainer:r.props.objectsContainer,event:n,eventsHeightsCache:r.eventsHeightsCache,selection:r.props.selection,leftIndentWidth:o*G(r.props.windowWidth),onAddNewInstruction:function(e){return r.props.onAddNewInstruction(n,e)},onPasteInstructions:function(e){return r.props.onPasteInstructions(n,e)},onMoveToInstruction:function(e){return r.props.onMoveToInstruction(n,e)},onMoveToInstructionsList:function(e){return r.props.onMoveToInstructionsList(n,e)},onInstructionClick:function(e){return r.props.onInstructionClick(n,e)},onInstructionDoubleClick:function(e){return r.props.onInstructionDoubleClick(n,e)},onParameterClick:function(e){return r.props.onParameterClick(n,e)},onEventClick:function(){return r.props.onEventClick({eventsList:t.eventsList,event:n,indexInList:t.indexInList})},onEndEditingEvent:function(){return r.props.onEndEditingEvent(n)},onEventContextMenu:function(e,o){return r.props.onEventContextMenu(e,o,{eventsList:t.eventsList,event:n,indexInList:t.indexInList})},onInstructionContextMenu:function(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=r.props).onInstructionContextMenu.apply(e,[n].concat(o))},onAddInstructionContextMenu:function(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=r.props).onAddInstructionContextMenu.apply(e,[n].concat(o))},onOpenExternalEvents:r.props.onOpenExternalEvents,onOpenLayout:r.props.onOpenLayout,disabled:s,renderObjectThumbnail:r._renderObjectThumbnail,screenType:r.props.screenType,eventsSheetHeight:r.props.eventsSheetHeight,connectDragSource:a},n.ptr),r.state.draggedNode&&Object(F.jsx)(L.b,{node:t,draggedNode:r.state.draggedNode,draggedNodeHeight:r._getRowHeight({node:r.state.draggedNode}),DnDComponent:u,onDrop:r._onDrop,activateTargets:!d&&!!r.state.draggedNode,windowWidth:r.props.windowWidth})]});return d?b:c(b)}})},r._isNodeHighlighted=function(e){var t=e.node,n=e.searchQuery;if(!n)return!1;var r=t.event;return!!r&&n.find((function(e){return B.compare(e,r)}))},r._scrollUp=function(){r._list&&r._list.container.scrollBy({top:-5})},r._scrollDown=function(){r._list&&r._list.container.scrollBy({top:5})},r.temporaryUnfoldedNodes=[],r.eventsHeightsCache=new v.a(Object(a.a)(r)),r.state=Object(i.a)(Object(i.a)({},r._eventsToTreeData(e.events)),{},{draggedNode:null,isScrolledTop:!0,isScrolledBottom:!1}),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.onHeightsChanged()}},{key:"componentDidUpdate",value:function(e){var t=this.props.preferences.values.hiddenTutorialHints,n=e.preferences.values.hiddenTutorialHints;t["intro-event-system"]!==n["intro-event-system"]&&this.setState(Object(i.a)(Object(i.a)({},this.state),{},{treeData:this.state.treeData.filter((function(e){return"eventstree-tutorial-node"!==e.key}))}))}},{key:"componentWillUnmount",value:function(){this._hoverTimerId&&clearTimeout(this._hoverTimerId)}},{key:"onHeightsChanged",value:function(e){var t=this;this.forceUpdate((function(){t._list&&t._list.wrappedInstance.current&&t._list.wrappedInstance.current.recomputeRowHeights(),e&&e()}))}},{key:"forceEventsUpdate",value:function(e){var t=this;this.setState(this._eventsToTreeData(this.props.events),(function(){t._list&&t._list.wrappedInstance.current&&t._list.wrappedInstance.current.recomputeRowHeights(),e&&e()}))}},{key:"scrollToRow",value:function(e){if(-1!==e){var t=this._list;if(t){var n=t.wrappedInstance.current;n&&n.scrollToRow(e)}}}},{key:"unfoldForEvent",value:function(e){B.EventsListUnfolder.unfoldWhenContaining(this.props.events,e),this.forceEventsUpdate()}},{key:"foldAll",value:function(){B.EventsListUnfolder.foldAll(this.props.events),this.forceEventsUpdate()}},{key:"unfoldToLevel",value:function(e){B.EventsListUnfolder.unfoldToLevel(this.props.events,e),this.forceEventsUpdate()}},{key:"getEventRow",value:function(e){return j()(this.state.flatData,(function(t){return t.ptr===e.ptr}))}},{key:"getEventContextAtRowIndexes",value:function(e){var t=Object(f.b)({treeData:this.state.treeData,getNodeKey:q,ignoreCollapsed:!0});return e.map((function(e){if(!t[e])return null;var n=t[e].node,r=n.event,o=n.eventsList,a=n.indexInList;return r?{event:r,eventsList:o,indexInList:a}:null})).filter(Boolean)}},{key:"render",value:function(){var e=this,t=this.state.treeData?Object(r.a)(this.state.treeData):null,n=this.props.fontSize||14;return Object(F.jsxs)("div",{style:Object(i.a)(Object(i.a)({},W.container),{},{fontSize:"".concat(n,"px"),"--icon-size":"".concat(Math.round(1.14*n),"px")}),children:["touch"!==this.props.screenType&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(L.a,{DnDComponent:this.DropTarget,direction:"top",activateTargets:!!this.state.draggedNode&&!this.state.isScrolledTop,onHover:this._scrollUp}),Object(F.jsx)(L.a,{DnDComponent:this.DropTarget,direction:"bottom",activateTargets:!!this.state.draggedNode&&!this.state.isScrolledBottom,onHover:this._scrollDown})]}),Object(F.jsx)(H,{treeData:t,scaffoldBlockPxWidth:G(this.props.windowWidth),onChange:Y,onVisibilityToggle:this._onVisibilityToggle,canDrag:!1,rowHeight:this._getRowHeight,searchMethod:this._isNodeHighlighted,searchQuery:this.props.searchResults,searchFocusOffset:this.props.searchFocusOffset,className:this.props.searchResults?C.g:"",reactVirtualizedListProps:{ref:function(t){return e._list=t},onScroll:function(t){e.props.onScroll&&e.props.onScroll(),e.setState({isScrolledTop:0===t.scrollTop,isScrolledBottom:t.clientHeight+t.scrollTop>=t.scrollHeight})},scrollToAlignment:"center"},slideRegionSize:-10})]})}}]),n}(b.Component);X.defaultProps={selection:Object(m.b)()}}).call(this,n(28))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(1);var r=n(494),o=n(7);function a(e){var t=e.canDrop;return Object(o.jsx)("div",{className:t?r.e:r.b})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(1),c=n(476),l=n(7),u=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._field=null,e}return Object(o.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0;return Object(l.jsx)(c.a,{margin:this.props.isInline?"none":"dense",commitOnBlur:!0,value:this.props.value,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,onChange:function(t){return e.props.onChange(t)},ref:function(t){return e._field=t},fullWidth:!0})}}]),n}(s.Component),d=function(e){var t=e.value,n=e.expressionIsValid,r=e.parameterMetadata,o=e.InvalidParameterValue,a=e.MissingParameterValue;return t||r.isOptional()?n?t:Object(l.jsx)(o,{children:t}):Object(l.jsx)(a,{})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(4),o=n(11),a=n(9),i=n(8),s=n(13),c=n(14),l=n(18),u=n(12),d=n(1),p=n(520),b=n(514),h=n(513),j=n(521),f=n(530),g=n(7),m=["value","onChange","onChoose","project","globalObjectsContainer","objectsContainer","allowedObjectType","requiredObjectCapability","noGroups","errorTextIfInvalid","margin","onRequestClose","onApply","id"],O=e.gd,v=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,i=t.onChoose,s=t.project,c=t.globalObjectsContainer,d=t.objectsContainer,v=t.allowedObjectType,x=t.requiredObjectCapability,y=t.noGroups,C=t.errorTextIfInvalid,T=t.margin,E=t.onRequestClose,k=t.onApply,w=t.id,S=Object(o.a)(t,m),P=function(e){var t=e.project,n=e.globalObjectsContainer,r=e.objectsContainer,o=e.noGroups,a=e.allowedObjectType,i=Object(p.d)(n,r,a||void 0),s=i.allObjectsList.map((function(e){var n=e.object;return{text:n.getName(),value:n.getName(),renderIcon:t?function(){return Object(g.jsx)(h.a,{iconSize:24,src:f.a.getThumbnail(t,n)})}:void 0}})),c=o?[]:i.allGroupsList.map((function(e){var t=e.group;return{text:t.getName(),value:t.getName()}}));return[].concat(Object(l.a)(s),[{type:"separator"}],Object(l.a)(c))}({project:s,globalObjectsContainer:c,objectsContainer:d,noGroups:y,allowedObjectType:v}),I=0!==P.filter((function(e){return void 0!==e.text&&n===e.text})).length,_=function(e){var t=e.project,n=e.globalObjectsContainer,r=e.objectsContainer,o=e.requiredObjectCapability,a=e.objectName;if(!o)return!0;if(!t)return!0;var i=Object(j.a)(n,r,a);return!i||!O.MetadataProvider.getObjectMetadata(t.getCurrentPlatform(),i.getType()).isUnsupportedBaseObjectCapability(o)}({project:s,requiredObjectCapability:x,globalObjectsContainer:c,objectsContainer:d,objectName:n}),A=_?I?void 0:C:Object(g.jsx)(u.Trans,{id:"This object exists, but can't be used here."});return Object(g.jsx)(b.a,Object(r.a)({margin:T,hintText:{id:"Choose an object"},value:n,onChange:a,onChoose:i,onRequestClose:E,onApply:k,dataSource:P,errorText:A,ref:function(t){return e._field=t},id:w},S))}}]),n}(d.Component)}).call(this,n(28))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(546),c=n(479);function l(e){return function(t){Object(a.a)(s,t);var n=Object(i.a)(s);function s(t,o,a,i,l,u){var d;return Object(r.a)(this,s),(d=n.call(this,t,o,a,i,l,u))._pixiObject=new c.Sprite(c.Texture.from(e)),d._pixiContainer.addChild(d._pixiObject),d}return Object(o.a)(s,[{key:"update",value:function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180}}],[{key:"getThumbnail",value:function(t,n,r){return e}}]),s}(s.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e||(t&&t.isOptional()?t.getDefaultValue():"")}},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return f}));var r=n(18),o=n(465),a=n(543),i=n.n(a),s=n(578),c=e.gd,l=function(e){return"string"===e||"number|string"===e},u=function(e){return"number"===e||"number|string"===e},d=function(e,t,n){return Object(o.mapVector)(t.keys(),(function(r){var o=t.get(r);if(!o.isShown())return null;if(n.objectMetadata&&n.objectMetadata.isUnsupportedBaseObjectCapability(o.getRequiredBaseObjectCapability()))return null;for(var a=[],i=0;i<o.getParametersCount();i++)n.objectMetadata&&0===i||n.behaviorMetadata&&i<=1||o.getParameter(i).isCodeOnly()||a.push(o.getParameter(i));var s=o.getGroup();return{type:r,name:r,displayedName:o.getFullName(),fullGroupName:[e,s].filter(Boolean).join("/"),iconFilename:o.getSmallIconFilename(),metadata:o,parameters:a,scope:n,isPrivate:o.isPrivate()}})).filter(Boolean)},p=function(e){var t=c.asPlatform(c.JsPlatform.get()).getAllPlatformExtensions(),n=u(e),a=l(e);return i()(Object(o.mapVector)(t,(function(e){var t=Object(s.e)(e),o={extension:e,objectMetadata:void 0,behaviorMetadata:void 0};return[].concat(Object(r.a)(a?d(t,e.getAllStrExpressions(),o):[]),Object(r.a)(n?d(t,e.getAllExpressions(),o):[]))})))},b=function(e,t){var n=c.MetadataProvider.getExtensionAndObjectMetadata(c.JsPlatform.get(),t),o=n.getExtension(),a={extension:o,objectMetadata:n.getMetadata()},i=[].concat(Object(r.a)(l(e)?d("",o.getAllStrExpressionsForObject(t),a):[]),Object(r.a)(u(e)?d("",o.getAllExpressionsForObject(t),a):[]));if(""!==t){var s=c.MetadataProvider.getExtensionAndObjectMetadata(c.JsPlatform.get(),"").getExtension();i=[].concat(Object(r.a)(i),Object(r.a)(l(e)?d("",s.getAllStrExpressionsForObject(""),a):[]),Object(r.a)(u(e)?d("",s.getAllExpressionsForObject(""),a):[]))}return i},h=function(e,t){var n=c.MetadataProvider.getExtensionAndBehaviorMetadata(c.JsPlatform.get(),t),o=n.getExtension(),a={extension:o,behaviorMetadata:n.getMetadata()};return[].concat(Object(r.a)(l(e)?d("",o.getAllStrExpressionsForBehavior(t),a):[]),Object(r.a)(u(e)?d("",o.getAllExpressionsForBehavior(t),a):[]))},j=function(e){var t=u(e),n=l(e),a=[],i=[],b=p(e),h=c.asPlatform(c.JsPlatform.get()).getAllPlatformExtensions();return Object(o.mapVector)(h,(function(e){var r=Object(s.e)(e);Object(o.mapVector)(e.getExtensionObjectsTypes(),(function(o){var i=e.getObjectMetadata(o),s={extension:e,objectMetadata:i};n&&a.push.apply(a,d(r,e.getAllStrExpressionsForObject(o),s)),t&&a.push.apply(a,d(r,e.getAllExpressionsForObject(o),s))})),Object(o.mapVector)(e.getBehaviorsTypes(),(function(o){var a=e.getBehaviorMetadata(o),s={extension:e,behaviorMetadata:a};n&&i.push.apply(i,d(r,e.getAllStrExpressionsForBehavior(o),s)),t&&i.push.apply(i,d(r,e.getAllExpressionsForBehavior(o),s))}))})),[].concat(Object(r.a)(b),a,i)},f=function(e,t){if(!t)return e;var n=t.toLowerCase();return function(e){if(!t)return e;for(var r=0;r<e.length;++r)if(e[r].type.toLowerCase()===n){var o=e[r];e.splice(r,1),e.unshift(o)}return e}(e.filter((function(e){return-1!==e.type.toLowerCase().indexOf(n)})))}}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(1);var r=n(485),o=n(513),a=n(612),i=n(645),s=n(7),c=function(e){var t=e.instructionOrExpressionMetadata,n=e.iconSize,c=e.onClick,l=e.selectedValue,u=e.matches,d=function(e){var n=t[e];if(u&&u.length){var r=u.filter((function(t){return t.key===e}));r.length&&(n=Object(s.jsx)(i.a,{text:n,matchesCoordinates:r[0].indices}))}return n};return Object(s.jsx)(r.b,{selected:l===Object(a.b)(t.type),primaryText:d("displayedName"),secondaryText:d("fullGroupName"),leftIcon:Object(s.jsx)(o.a,{iconSize:n,src:t.iconFilename}),onClick:c,disableAutoTranslate:!0},Object(a.a)(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(811),o=(n(1),n(485)),a=n(513),i=n(528),s=n(543),c=n.n(s),l=n(612),u=n(7),d=function e(t){var n=t.instructionTreeNode,s=t.onChoose,d=t.iconSize,p=t.useSubheaders,b=t.selectedValue,h=t.selectedItemRef,j=t.initiallyOpenedPath,f=t.getGroupIconSrc,g=j||[],m=Object(r.a)(g),O=m[0],v=m.slice(1);return c()(Object.keys(n).map((function(t){var r=n[t];if(!r)return null;if("string"===typeof r.type){var c=r,j=Object(l.b)(r.type),g=b===j;return Object(u.jsx)(o.b,{primaryText:t,selected:g,id:"instruction-item-"+c.type,leftIcon:Object(u.jsx)(a.a,{iconSize:d,src:c.iconFilename}),onClick:function(){s(c.type,c)},ref:g?h:void 0},j)}var m=r;if(p)return[Object(u.jsx)(i.a,{children:t},Object(l.f)(t))].concat(e({instructionTreeNode:m,onChoose:s,iconSize:d,useSubheaders:!1,selectedValue:b,selectedItemRef:h,initiallyOpenedPath:v,getGroupIconSrc:f}));var x=O===t,y=f(t);return Object(u.jsx)(o.b,{primaryText:t,autoGenerateNestedIndicator:!0,initiallyOpen:x,leftIcon:y?Object(u.jsx)(a.a,{iconSize:d,src:y}):null,renderNestedItems:function(){return e({instructionTreeNode:m,onChoose:s,iconSize:d,selectedValue:b,selectedItemRef:h,initiallyOpenedPath:x?v:void 0,getGroupIconSrc:f})}},t)})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var r=n(12),o=n(1),a=n(465),i=n(470),s=n(80),c=n(7),l=function(e){return 0!==Object(a.mapFor)(0,e.getParametersCount(),(function(t){return!e.getParameter(t).isCodeOnly()})).filter((function(e){return e})).length};t.a=function(e){var t=e.expressionMetadata,n=e.parameterValues,u=e.project,d=e.scope,p=e.globalObjectsContainer,b=e.objectsContainer,h=e.parameterRenderingService,j=e.onChangeParameter;if(!h)return console.error("Missing parameterRenderingService for ExpressionParametersEditor"),null;var f=t.getParametersCount(),g={getParametersCount:function(){return f},getParameter:function(e){return n[e]||""}};return Object(c.jsxs)(s.a,{children:[Object(a.mapFor)(0,t.getParametersCount(),(function(e){var r=t.getParameter(e),a=h.getParameterComponent(r.getType());return r.isCodeOnly()?null:Object(c.jsx)(o.Fragment,{children:Object(c.jsx)(a,{expressionMetadata:t,expression:g,parameterMetadata:r,parameterIndex:e,value:n[e],onChange:function(t){return j(e,t)},project:u,scope:d,globalObjectsContainer:p,objectsContainer:b,parameterRenderingService:h})},e)})),!l(t)&&Object(c.jsx)(i.a,{children:Object(c.jsx)(r.Trans,{id:"There is nothing to configure."})})]})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(18),o=n(543),a=n.n(o),i=n(465),s=n(1022),c=n.n(s),l=e.gd,u=function(e){for(var t=0;t<e.length;++t)if(-1!==",.\"()[]{}()[],+-<>?^=:!+-/* '".indexOf(e[t]))return!1;return!0},d=function(e){if(!e)return[];var t=function e(t,n,o,a){var i=o?u(t):a,s={name:t,isValidName:i};return n.getType()===l.Variable.Structure?[s].concat(Object(r.a)(c()(n.getAllChildrenNames().toJSArray(),(function(r){return e(u(r)?"".concat(t,".").concat(r):"".concat(t,"[").concat('"'+r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"',"]"),n.getChild(r),!1,i)})))):n.getType()===l.Variable.Array?[s].concat(Object(r.a)(c()(new Array(n.getChildrenCount()).fill(""),(function(r,o){return e("".concat(t,"[").concat(o,"]"),n.getAtIndex(o),!1,i)})))):[s]};return a()(Object(i.mapFor)(0,e.count(),(function(n){return t(e.getNameAt(n),e.getAt(n),!0,!0)})))}}).call(this,n(28))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(465),o=e.gd,a=function(e){return Object(r.mapVector)(e.getParameters(),(function(e){return e.isCodeOnly()||o.ParameterMetadata.isObject(e.getType())||o.ParameterMetadata.isBehavior(e.getType())?null:e})).filter(Boolean)}}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(823),u=n(597),d=n(576),p=n(7),b=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={editorOpen:!1},e}return Object(o.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.scope,o=r.layout,a=function(){return n&&o?d.a.findAllLayoutVariables(n.getCurrentPlatform(),n,o):[]};return Object(p.jsxs)(c.Fragment,{children:[Object(p.jsx)(l.a,{variablesContainer:o?o.getVariables():null,onComputeAllVariableNames:a,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:r}),this.state.editorOpen&&o&&Object(p.jsx)(u.a,{title:Object(p.jsx)(s.Trans,{id:"Scene Variables"}),open:!0,variablesContainer:o.getVariables(),onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1}),e._field&&e._field.updateAutocompletions()},emptyPlaceholderTitle:Object(p.jsx)(s.Trans,{id:"Add your first scene variable"}),emptyPlaceholderDescription:Object(p.jsx)(s.Trans,{id:"These variables hold additional information on a scene."}),helpPagePath:"/all-features/variables/scene-variables",onComputeAllVariableNames:a})]})}}]),n}(c.Component),h=function(e){return Object(l.b)(e,"res/types/scenevar.png","scene variable")}},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return h}));var r=n(567),o=n(647),a=n(492),i=e.gd,s="EventsAndInstructions",c=function(){if(!r.b.has(s))return!1;var e=r.b.get(s),t=r.a.extractNumberProperty(e,"eventsCount");return null!==t&&t>0},l=function(){if(!r.b.has(s))return!1;var e=r.b.get(s),t=r.a.extractNumberProperty(e,"conditionsCount");return null!==t&&t>0},u=function(){if(!r.b.has(s))return!1;var e=r.b.get(s),t=r.a.extractNumberProperty(e,"actionsCount");return null!==t&&t>0},d=function(e){var t=new i.EventsList,n=new i.InstructionsList,c=new i.InstructionsList;Object(o.d)(e).forEach((function(e){return t.insertEvent(e,t.getEventsCount())})),Object(o.f)(e).forEach((function(e){e.isCondition?c.insert(e.instruction,c.size()):n.insert(e.instruction,n.size())})),r.b.set(s,{eventsList:Object(a.b)(t),eventsCount:t.getEventsCount(),actionsList:Object(a.b)(n),actionsCount:n.size(),conditionsList:Object(a.b)(c),conditionsCount:c.size()}),t.delete(),n.delete(),c.delete()},p=function(e,t){if(!Object(o.i)(t)||!c())return!1;var n=r.b.get(s),l=r.a.extractArrayProperty(n,"eventsList");if(!l)return!1;var u=new i.EventsList;return Object(a.c)(u,l,"unserializeFrom",e),Object(o.c)(t).forEach((function(e){e.eventsList.insertEvents(u,0,u.getEventsCount(),e.indexInList)})),u.delete(),!0},b=function(e,t){if(!Object(o.j)(t)&&!Object(o.k)(t)||!l()&&!u())return!1;var n=r.b.get(s),c=r.a.extractArrayProperty(n,"actionsList"),d=r.a.extractArrayProperty(n,"conditionsList");if(!c||!d)return!1;var p=new i.InstructionsList,b=new i.InstructionsList;return Object(a.c)(p,c,"unserializeFrom",e),Object(a.c)(b,d,"unserializeFrom",e),Object(o.f)(t).forEach((function(e){e.isCondition?e.instrsList.insertInstructions(b,0,b.size(),e.indexInList):e.instrsList.insertInstructions(p,0,p.size(),e.indexInList)})),Object(o.g)(t).forEach((function(e){e.isCondition?e.instrsList.insertInstructions(b,0,b.size(),e.instrsList.size()):e.instrsList.insertInstructions(p,0,p.size(),e.instrsList.size())})),b.delete(),p.delete(),!0},h=function(e,t){if(!l()&&!u())return!1;var n=r.b.get(s),o=r.a.extractArrayProperty(n,"actionsList"),c=r.a.extractArrayProperty(n,"conditionsList");if(o&&c){var d=new i.InstructionsList,p=new i.InstructionsList;return Object(a.c)(d,o,"unserializeFrom",e),Object(a.c)(p,c,"unserializeFrom",e),t.isCondition?t.instrsList.insertInstructions(p,0,p.size(),t.instrsList.size()):t.instrsList.insertInstructions(d,0,d.size(),t.instrsList.size()),p.delete(),d.delete(),!0}}}).call(this,n(28))},function(e,t,n){},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(543),o=n.n(r),a=n(465),i=e.gd,s=function(){var e=i.asPlatform(i.JsPlatform.get()).getAllPlatformExtensions();return o()(Object(a.mapFor)(0,e.size(),(function(t){var n=e.at(t).getAllEvents();return n.keys().toJSArray().filter((function(e){return"BuiltinAsync::Async"!==e})).map((function(e){var t=n.get(e);return{type:e,fullName:t.getFullName(),description:t.getDescription()}}))})))}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return M}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(751),d=n(465),p=n(470),b=n(814),h=n(472),j=n(30),f=n(478),g=n(512),m=n(35),O=n(827),v=n(653),x=n(580),y=n(561),C=n.n(y),T=n(471),E=n(578),k=n(463),w=n(828),S=n(80),P=n(829),I=n(484),_=n(633),A=n(7),N=e.gd,R={emptyContainer:{display:"flex",alignItems:"center",justifyContent:"center"},parametersContainer:{flex:1},icon:{width:24,height:24,marginRight:8,paddingTop:6,flexShrink:0},invertToggle:{marginTop:8},description:{whiteSpace:"pre-wrap"}},L=function(e,t,n){return!e.isCodeOnly()&&t!==n},M=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._firstVisibleField={},e.state={isDirty:!1},e._openExtension=function(t){if(e.state.isDirty&&!m.b.showConfirmDialog(t._({id:"You've made some changes here. Are you sure you want to discard them and open the function?"})))return;var n=e.props,r=n.instruction,o=n.isCondition,a=n.project,i=r.getType();if(!i)return null;var s=o?N.MetadataProvider.getExtensionAndConditionMetadata(a.getCurrentPlatform(),i).getExtension():N.MetadataProvider.getExtensionAndActionMetadata(a.getCurrentPlatform(),i).getExtension();e.props.openInstructionOrExpression(s,i)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.focusOnMount&&setTimeout((function(){e.focus()}),300)}},{key:"focus",value:function(){var e=this.props,t=e.instruction,n=e.isCondition,r=e.project;0!==this._getVisibleParametersCount(Object(w.a)({instructionType:t.getType(),isCondition:n,project:r}),this.props.objectName)&&this._firstVisibleField&&this._firstVisibleField.focus&&this._firstVisibleField.focus()}},{key:"_getVisibleParametersCount",value:function(e,t){if(!e)return 0;var n=t?Object(E.f)(e):-1;return Object(d.mapFor)(0,e.getParametersCount(),(function(t){if(!e)return!1;var r=e.getParameter(t);return L(r,t,n)})).filter((function(e){return e})).length}},{key:"_renderEmpty",value:function(){return Object(A.jsx)("div",{style:Object(r.a)(Object(r.a)({},R.emptyContainer),this.props.style),children:Object(A.jsx)(p.a,{children:this.props.isCondition?Object(A.jsx)(c.Trans,{id:"Choose a condition (or an object then a condition) on the left"}):Object(A.jsx)(c.Trans,{id:"Choose an action (or an object then an action) on the left"})})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.instruction,r=t.project,o=t.globalObjectsContainer,a=t.objectsContainer,i=t.noHelpButton,s=t.objectName,l=t.isCondition,m=t.scope,y=n.getType(),N=Object(w.a)({instructionType:y,isCondition:l,project:r});if(!N)return this._renderEmpty();var M=N.getHelpPath(),F=Object(O.b)(y),D=Object(_.b)(y),B=s?Object(E.f)(N):-1;Object(P.a)(o,a,n,N,s);var U=0;return Object(A.jsx)(c.I18n,{children:function(t){var l=t.i18n;return Object(A.jsx)(I.a,{autoHideScrollbar:!0,children:Object(A.jsxs)(j.a,{expand:!0,children:[Object(A.jsxs)(j.c,{alignItems:"flex-start",children:[Object(A.jsx)("img",{src:N.getIconFilename(),alt:"",style:R.icon}),Object(A.jsx)(k.a,{style:R.description,children:N.getDescription()}),Object(x.d)(N)&&Object(A.jsx)(T.a,{onClick:function(){e._openExtension(l)},children:Object(A.jsx)(C.a,{})})]}),F&&Object(A.jsx)(j.c,{children:void 0===F.identifier?Object(A.jsx)(f.a,{kind:F.kind,children:l._(F.message)}):Object(A.jsx)(g.a,{kind:F.kind,identifier:F.identifier,children:l._(F.message)})}),D.length?Object(A.jsx)(j.c,{children:Object(A.jsx)(S.a,{expand:!0,children:D.map((function(e){return Object(A.jsx)(v.a,{tutorialId:e},e)}))})}):null,Object(A.jsx)(j.d,{}),Object(A.jsxs)("div",{style:R.parametersContainer,id:"instruction-parameters-container",children:[Object(A.jsx)(S.a,{noMargin:!0,children:Object(d.mapFor)(0,N.getParametersCount(),(function(t){var i=N.getParameter(t);if(!L(i,t,B))return null;var s=i.getType(),c=b.a.getParameterComponent(s),l=0===U;return U++,Object(A.jsx)(c,{instructionMetadata:N,instruction:n,parameterMetadata:i,parameterIndex:t,value:n.getParameter(t).getPlainString(),onChange:function(r){n.getParameter(t).getPlainString()!==r&&(n.setParameter(t,r),e.setState({isDirty:!0}))},project:r,scope:m,globalObjectsContainer:o,objectsContainer:a,parameterRenderingService:b.a,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,ref:function(t){l&&(e._firstVisibleField=t)}},t)}))}),0===e._getVisibleParametersCount(N,s)&&Object(A.jsx)(p.a,{children:Object(A.jsx)(c.Trans,{id:"There is nothing to configure."})}),e.props.isCondition&&Object(A.jsx)(u.a,{label:Object(A.jsx)(c.Trans,{id:"Invert condition"}),labelPosition:"right",toggled:n.isInverted(),style:R.invertToggle,onToggle:function(t,r){n.setInverted(r),e.forceUpdate()}})]},y),Object(A.jsx)(j.c,{children:!i&&M&&Object(A.jsx)(h.a,{helpPagePath:N.getHelpPath(),label:e.props.isCondition?Object(A.jsx)(c.Trans,{id:"Help for this condition"}):Object(A.jsx)(c.Trans,{id:"Help for this action"})})})]})})}})}}]),n}(l.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return B}));var r=n(4),o=n(18),a=n(9),i=n(8),s=n(13),c=n(14),l=n(12),u=n(803),d=n(1),p=n(489),b=n.n(p),h=n(2287),j=n(650),f=n(578),g=n(651),m=n(485),O=n(501),v=n(500),x=n(484),y=n(495),C=n(528),T=n(520),E=n(630),k=n(137),w=n(80),S=n(1579),P=n(1580),I=n(1018),_=n(1019),A=n(470),N=n(596),R=n(612),L=n(699),M=n(7),F=e.gd,D=function(e){return F.JsPlatform.get().getInstructionOrExpressionGroupMetadata(e).getIcon()},B=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={searchText:"",selectedObjectTags:[],searchResults:{objects:[],groups:[],instructions:[],tags:[]}},e._searchBar=d.createRef(),e._scrollView=d.createRef(),e._selectedItem=d.createRef(),e.freeInstructionsInfo=Object(g.a)(Object(f.c)(e.props.isCondition),e.props.scope),e.freeInstructionsInfoTree=Object(j.a)(e.freeInstructionsInfo),e.initialInstructionTypePath=Object(j.b)(e.freeInstructionsInfoTree,e.props.chosenInstructionType),e.instructionSearchApi=null,e.objectSearchApi=null,e.groupSearchApi=null,e.tagSearchApi=null,e.reEnumerateInstructions=function(){e.freeInstructionsInfo=Object(g.a)(Object(f.c)(e.props.isCondition),e.props.scope),e.freeInstructionsInfoTree=Object(j.a)(e.freeInstructionsInfo),e.forceUpdate()},e.allInstructionsInfo=Object(g.a)(Object(f.b)(e.props.isCondition),e.props.scope),e._search=function(t){""!==t&&e.setState({searchResults:{objects:e.objectSearchApi?e.objectSearchApi.search("'".concat(t)).map((function(e){return{item:e.item,matches:Object(L.b)(e,t)}})):[],groups:e.groupSearchApi?e.groupSearchApi.search("'".concat(t)).map((function(e){return{item:e.item,matches:Object(L.b)(e,t)}})):[],instructions:e.instructionSearchApi?e.instructionSearchApi.search("'".concat(t)).map((function(e){return{item:e.item,matches:Object(L.b)(e,t)}})):[],tags:e.tagSearchApi?e.tagSearchApi.search("'".concat(t)).map((function(e){return{item:e.item,matches:Object(L.b)(e,t)}})):[]}})},e._selectTag=function(t){e.setState({selectedObjectTags:[].concat(Object(o.a)(e.state.selectedObjectTags),[t]),searchText:""}),e._searchBar.current&&e._searchBar.current.focus()},e._getAllObjectTags=function(){var t=e.props,n=t.globalObjectsContainer,r=t.objectsContainer,o=new Set;return Object(T.c)(n,r).allObjectsList.forEach((function(e){var t=e.object;Object(N.c)(t.getTags()).forEach((function(e){return o.add(e)}))})),Array.from(o)},e._buildObjectTagsMenuTemplate=function(t){var n=e.state.selectedObjectTags;return Object(N.a)({noTagLabel:t._({id:"No tags - add a tag to an object first"}),getAllTags:e._getAllObjectTags,selectedTags:n,onChange:function(t){e.setState({selectedObjectTags:t})}})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&Object(O.b)()&&this._searchBar.current&&this._searchBar.current.focus(),this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current);var e=Object(T.d)(this.props.globalObjectsContainer,this.props.objectsContainer),t=e.allObjectsList,n=e.allGroupsList;this.instructionSearchApi=new u.a(Object(f.a)(this.allInstructionsInfo),Object(r.a)(Object(r.a)({},L.a),{},{keys:[{name:"displayedName",weight:5},{name:"fullGroupName",weight:1}]})),this.objectSearchApi=new u.a(t,Object(r.a)(Object(r.a)({},L.a),{},{getFn:function(e,t){return e.object.getName()},keys:["name"]})),this.groupSearchApi=new u.a(n,Object(r.a)(Object(r.a)({},L.a),{},{getFn:function(e,t){return e.group.getName()},keys:["name"]})),this.tagSearchApi=new u.a(this._getAllObjectTags(),Object(r.a)({},L.a))}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,o=t.globalObjectsContainer,a=t.objectsContainer,i=t.project,s=t.chosenInstructionType,c=t.onChooseInstruction,u=t.chosenObjectName,p=t.onChooseObject,j=t.isCondition,f=t.currentTab,g=t.onChangeTab,N=t.onSearchStartOrReset,L=t.onClickMore,F=this.state,B=F.searchText,U=F.selectedObjectTags,V=F.searchResults,W=o!==i,G=Object(T.d)(o,a),z=G.allObjectsList,H=G.allGroupsList,Y=!!B,q=[],X=[],K=[],J=[];Y?(q=V.objects,X=V.groups,K=V.instructions,J=V.tags):(q=z.map((function(e){return{item:e,matches:[]}})),X=H.map((function(e){return{item:e,matches:[]}})));var Z=q.filter((function(e){return Object(T.f)(e.item,U)})),Q=K.slice(0,20),$=Y?Math.max(K.length-20,0):0,ee=!Y||!!Z.length||!!X.length||!!Q.length||!!J.length,te=function(){Y&&(Z.length>0?p(Z[0].item.object.getName()):X.length>0?p(X[0].item.group.getName()):J.length>0?e._selectTag(J[0].item):Q.length>0&&c(Q[0].item.type,Q[0].item))};return Object(M.jsx)(l.I18n,{children:function(t){var o=t.i18n;return Object(M.jsx)(v.a,{children:function(t){return Object(M.jsxs)("div",{style:Object(r.a)({backgroundColor:t.list.itemsBackgroundColor,minHeight:0},n),children:[Object(M.jsx)(O.a,{value:B,onChange:function(t){var n=e.state.searchText;t&&e._search(t),e.setState({searchText:t}),(!n&&t||n&&!t)&&N&&N()},onRequestSearch:te,buildMenuTemplate:function(){return e._buildObjectTagsMenuTemplate(o)},aspect:"integrated-search-bar",ref:e._searchBar,placeholder:j?{id:"Search objects or conditions"}:{id:"Search objects or actions"}}),!Y&&Object(M.jsxs)(y.b,{value:f,onChange:g,children:[Object(M.jsx)(y.a,{label:Object(M.jsx)(l.Trans,{id:"Objects"}),value:"objects"}),Object(M.jsx)(y.a,{label:j?Object(M.jsx)(l.Trans,{id:"Other conditions"}):Object(M.jsx)(l.Trans,{id:"Other actions"}),value:"free-instructions"})]}),Object(M.jsxs)(x.a,{ref:e._scrollView,children:[!Y&&"objects"===f&&Object(M.jsx)(E.a,{tags:U,onChange:function(t){return e.setState({selectedObjectTags:t})}}),ee&&Object(M.jsxs)(m.a,{children:[(Y||"objects"===f)&&Object(M.jsxs)(d.Fragment,{children:[Z.map((function(e,t){var n=e.item,r=e.matches;return Object(P.a)({project:i,objectWithContext:n,iconSize:24,onClick:function(){return p(n.object.getName())},matchesCoordinates:r.length?r[0].indices:[],selectedValue:u?Object(R.e)(u):void 0,id:"object-item-"+t})})),X.length>0&&Object(M.jsx)(C.a,{children:Object(M.jsx)(l.Trans,{id:"Object groups"})}),X.map((function(e){var t=e.item,n=e.matches;return Object(S.a)({groupWithContext:t,iconSize:24,onClick:function(){return p(t.group.getName())},matchesCoordinates:n.length?n[0].indices:[],selectedValue:u?Object(R.e)(u):void 0})}))]}),Y&&"objects"===f&&J.length>0&&Object(M.jsx)(C.a,{children:Object(M.jsx)(l.Trans,{id:"Object tags"})}),"objects"===f&&J.map((function(t){var n=t.item;t.matches;return Object(M.jsx)(m.b,{primaryText:Object(M.jsx)(h.a,{label:n}),onClick:function(){e._selectTag(n)},disableAutoTranslate:!0},n)})),Y&&Q.length>0&&Object(M.jsx)(C.a,{children:j?Object(M.jsx)(l.Trans,{id:"Conditions"}):Object(M.jsx)(l.Trans,{id:"Actions"})}),Y&&Q.map((function(e){var t=e.item,n=e.matches;return Object(I.a)({instructionOrExpressionMetadata:t,iconSize:24,onClick:function(){return c(t.type,t)},selectedValue:s?Object(R.b)(s):void 0,matches:n})})),!Y&&"free-instructions"===f&&Object(M.jsxs)(M.Fragment,{children:[Object(_.a)({instructionTreeNode:e.freeInstructionsInfoTree,onChoose:c,iconSize:24,useSubheaders:!0,selectedValue:s?Object(R.b)(s):void 0,initiallyOpenedPath:e.initialInstructionTypePath,selectedItemRef:e._selectedItem,getGroupIconSrc:D}),L&&Object(M.jsx)(w.c,{justifyContent:"center",children:Object(M.jsx)(k.a,{primary:!0,icon:Object(M.jsx)(b.a,{}),onClick:L,label:j?Object(M.jsx)(l.Trans,{id:"Search for new conditions in extensions"}):Object(M.jsx)(l.Trans,{id:"Search for new actions in extensions"})})})]}),$>0&&Object(M.jsx)(m.b,{primaryText:Object(M.jsx)(l.Trans,{id:"And {remainingResultsCount} more results.",values:{remainingResultsCount:$}}),disabled:!0,secondaryText:Object(M.jsx)(l.Trans,{id:"Refine your search with more specific keyword to see them."})})]}),!Y&&"objects"===f&&!z.length&&Object(M.jsx)(A.a,{children:W?Object(M.jsx)(l.Trans,{id:"There are no objects. Objects will appear if you add some as parameters."}):Object(M.jsx)(l.Trans,{id:"There is no object in your game or in this scene. Start by adding an new object in the scene editor, using the objects list."})}),!ee&&Object(M.jsx)(A.a,{children:Object(M.jsx)(l.Trans,{id:"Nothing corresponding to your search. Choose an object first or browse the list of actions/conditions."})})]})]})}})}},"tags")}}]),n}(d.PureComponent)}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(1);var r=n(30),o=n(7),a=function(e){var t=e.getColumns();return Object(o.jsx)(r.c,{noMargin:!0,expand:!0,children:t.map((function(t){return e.columnsRenderer[t]?e.columnsRenderer[t]():null}))})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(12),c=n(1),l=n(100),u=n(472),d=n(136),p=n(528),b=n(513),h=n(495),j=n(485),f=n(574),g=n.n(f),m=n(551),O=n.n(m),v=n(1581),x=n.n(v),y=n(30),C=n(62),T=n(827),E=n(562),k=n(1032),w=n(501),S=n(470),P=n(1160),I=n(35),_=n(552),A=n(806),N=n(646),R=n(484),L=n(490),M=n(544),F=n(7),D={disabledItem:{opacity:.6}},B=function(e){var t=e.i18n,n=e.behaviorMetadata,r=e.alreadyInstalled,o=e.onClick,a=e.disabled;return Object(F.jsx)(j.b,{leftIcon:Object(F.jsx)(b.a,{src:n.iconFilename,iconSize:40,isGDevelopIcon:!0}),primaryText:"".concat(n.fullName," ").concat(r?t._({id:"(already added to this object)"}):""),secondaryText:n.description,secondaryTextLines:2,onClick:o,style:a?D.disabledItem:void 0,disabled:a,id:"behavior-item-"+n.type.replace(/:/g,"-")},n.type)};function U(e){var t=e.project,n=e.open,a=e.onClose,b=e.onChoose,f=e.objectType,m=e.objectBehaviorsTypes,v=c.useState(!1),D=Object(o.a)(v,2),U=D[0],V=D[1],W=c.useState(""),G=Object(o.a)(W,2),z=G[0],H=G[1],Y=c.useState("installed"),q=Object(o.a)(Y,2),X=q[0],K=q[1],J=c.useRef(null),Z=c.useRef(null),Q=c.useState(!1),$=Object(o.a)(Q,2),ee=$[0],te=$[1],ne=c.useState(0),re=Object(o.a)(ne,2),oe=re[0],ae=re[1],ie=c.useContext(_.a),se=c.useContext(L.a),ce=Object(M.h)(se,M.e,A.b),le=t.getCurrentPlatform(),ue=c.useMemo((function(){return t&&le?Object(k.a)(le,t):[]}),[t,le,oe]),de=Object(w.b)();if(c.useEffect((function(){setTimeout((function(){de&&J.current&&J.current.focus()}),20)}),[de]),!n||!t)return null;var pe=Object(T.a)(),be=Object(k.b)(ue,z),he=be.filter((function(e){var t=e.type;return!pe[t]})),je=be.filter((function(e){var t=e.type;return!!pe[t]})),fe=Object(M.h)(se,M.a,(function(e,t){var n=t.type,r=t.defaultName;return pe[n]&&Object(C.b)(e._(pe[n].warning)),b(n,r)})),ge=function(e){return m.includes(e.type)},me=function(e){return(""===e.objectType||e.objectType===f)&&!ge(e)},Oe=!!z&&!he.length&&!je.length,ve=function(){var e=Object(r.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!0),e.prev=1,e.next=4,ce(n,t,ie,r);case 4:if(!e.sent){e.next=10;break}return ae(Date.now()),K("installed"),Z.current&&Z.current.scrollToBottom(),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:return e.prev=11,te(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,,11,14]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(F.jsx)(s.I18n,{children:function(e){var n=e.i18n;return Object(F.jsxs)(l.b,{title:Object(F.jsx)(s.Trans,{id:"Add a new behavior to the object"}),actions:[Object(F.jsx)(d.a,{label:Object(F.jsx)(s.Trans,{id:"Close"}),primary:!1,onClick:a},"close")],secondaryActions:[Object(F.jsx)(u.a,{helpPagePath:"/behaviors"},"help")],open:!0,onRequestClose:a,flexBody:!0,noMargin:!0,fullHeight:!0,id:"new-behavior-dialog",children:[Object(F.jsxs)(y.a,{expand:!0,noMargin:!0,children:[Object(F.jsxs)(h.b,{value:X,onChange:K,children:[Object(F.jsx)(h.a,{label:Object(F.jsx)(s.Trans,{id:"Installed Behaviors"}),value:"installed"}),Object(F.jsx)(h.a,{label:Object(F.jsx)(s.Trans,{id:"Search New Behaviors"}),value:"search"})]}),"installed"===X&&Object(F.jsxs)(c.Fragment,{children:[Object(F.jsx)(y.c,{children:Object(F.jsx)(y.a,{expand:!0,children:Object(F.jsx)(w.a,{value:z,onRequestSearch:function(){he.length?fe(n,he[0]):U&&je.length&&fe(n,je[0])},onChange:H,ref:J,placeholder:{id:"Search installed behaviors"}})})}),Oe&&Object(F.jsx)(S.a,{children:Object(F.jsx)(s.Trans,{id:"No behavior found for your search. Try another search, or search for new behaviors to install."})}),Object(F.jsxs)(R.a,{ref:Z,children:[Object(F.jsxs)(j.a,{children:[he.map((function(e,t){return Object(F.jsx)(B,{i18n:n,behaviorMetadata:e,alreadyInstalled:ge(e),onClick:function(){return fe(n,e)},disabled:!me(e)},t)})),U&&!!je.length&&Object(F.jsx)(p.a,{children:"Deprecated (old, prefer not to use anymore)"}),U&&je.map((function(e,t){return Object(F.jsx)(B,{i18n:n,behaviorMetadata:e,alreadyInstalled:ge(e),onClick:function(){return fe(n,e)},disabled:!me(e)},t)}))]}),Object(F.jsx)(y.c,{justifyContent:"center",alignItems:"center",children:U?Object(F.jsx)(d.a,{icon:Object(F.jsx)(O.a,{}),primary:!1,onClick:function(){V(!1)},label:Object(F.jsx)(s.Trans,{id:"Show deprecated (old) behaviors"})},"toggle-experimental"):Object(F.jsx)(d.a,{icon:Object(F.jsx)(g.a,{}),primary:!1,onClick:function(){V(!0)},label:Object(F.jsx)(s.Trans,{id:"Show deprecated (old) behaviors"})},"toggle-experimental")}),Object(F.jsx)(y.c,{justifyContent:"center",alignItems:"center",children:Object(F.jsx)(d.a,{icon:Object(F.jsx)(x.a,{}),primary:!1,onClick:function(){return I.b.openExternalURL(Object(E.a)("/behaviors/events-based-behaviors"))},label:Object(F.jsx)(s.Trans,{id:"Create your own behavior"})})})]})]}),"search"===X&&Object(F.jsx)(P.a,{project:t,isInstalling:ee,onInstall:function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ve(n,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),showOnlyWithBehaviors:!0})]}),Object(F.jsx)(N.a,{identifier:"extension-installed-explanation",message:Object(F.jsx)(s.Trans,{id:"The behavior was added to the project. You can now add it to your object."}),show:0!==oe})]})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(465),o=n(543),a=n.n(o),i=function(e,t){var n=e.getAllPlatformExtensions();return a()(Object(r.mapFor)(0,n.size(),(function(e){var t=n.at(e);return t.getBehaviorsTypes().toJSArray().map((function(e){return{behaviorType:e,behaviorMetadata:t.getBehaviorMetadata(e)}})).map((function(e){var n=e.behaviorType,r=e.behaviorMetadata;return{extension:t,behaviorMetadata:r,type:n,defaultName:r.getDefaultName(),fullName:r.getFullName(),description:r.getDescription(),iconFilename:r.getIconFilename(),objectType:r.getObjectType()}}))})))},s=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.fullName.toLowerCase().indexOf(n)||-1!==e.description.toLowerCase().indexOf(n)}))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(486),o=n(35),a=e.gd,i=function(e,t,n,i){if(function(e,t){return e.getAllBehaviorNames().toJSArray().filter((function(n){return e.getBehavior(n).getTypeName()===t})).length}(t,n)&&!o.b.showConfirmDialog("There is already a behavior of this type attached to the object. It's possible to add this behavior again, but it's unusual and may not always be supported properly. Are you sure you want to add this behavior again?"))return!1;var s=Object(r.a)(i,(function(e){return t.hasBehaviorNamed(e)}));return a.WholeProjectRefactorer.addBehaviorAndRequiredBehaviors(e,t,n,s),!0},s=function(e){return e.getAllBehaviorNames().toJSArray().map((function(t){return e.getBehavior(t).getTypeName()}))}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return f}));var r=n(18),o=n(492),a=n(465),i=n(580),s=n(1592),c=e.gd,l=function(e){var t=e.globalObjectsContainer,n=e.objectsContainer,a=e.serializedEvents,i=e.project,l=e.eventsFunction;l.setName("MyFunction"),l.setFunctionType(c.EventsFunction.Action),Object(o.c)(l.getEvents(),a,"unserializeFrom",i);var u=new c.EventsContextAnalyzer(c.JsPlatform.get(),t,n);u.launch(l.getEvents());var d=u.getEventsContext(),p=d.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),b=d.getObjectNames().toNewVectorString().toJSArray(),h=p.filter((function(e){return-1===b.indexOf(e)})).map((function(e){return Object(s.a)(t,n,e)})).filter(Boolean),j=h.filter((function(e){return!p.some((function(t){return e.find(t)}))})),f=j.map((function(e){return e.getName()})),g=b.filter((function(e){return!j.some((function(t){return t.find(e)}))})),m=l.getParameters();m.clear(),[].concat(Object(r.a)(f),Object(r.a)(g)).forEach((function(e){var r=new c.ParameterMetadata;r.setType("objectList"),r.setName(e),r.setExtraInfo(c.getTypeOfObject(t,n,e,!0)),m.push_back(r),d.getBehaviorNamesOfObjectOrGroup(e).toNewVectorString().toJSArray().forEach((function(e){var r=new c.ParameterMetadata;r.setType("behavior"),r.setName(e),r.setExtraInfo(c.getTypeOfBehavior(t,n,e,!1)),m.push_back(r)}))})),h.filter((function(e){return!f.includes(e.getName())})).forEach((function(e){e&&l.getObjectGroups().insert(e,0)})),u.delete()},u=function(e,t){var n=new c.Instruction;return n.setType(Object(i.a)(e,t)),n.setParametersCount(t.getParameters().size()+1+1),Object(a.mapVector)(t.getParameters(),(function(e,t){n.setParameter(1+t,e.getName())})),n},d=function(e){return c.Project.validateName(e)},p=function(e){return c.Project.validateName(e)},b=function(e,t){return!e.hasEventsFunctionsExtensionNamed(t)},h=function(e,t,n){return!e.hasEventsFunctionsExtensionNamed(t)||!e.getEventsFunctionsExtension(t).hasEventsFunctionNamed(n.getName())},j=function(e,t,n){return""!==t&&p(t)&&""!==n.getName()&&d(n.getName())&&h(e,t,n)&&""!==n.getFullName()&&""!==n.getSentence()},f=function(e){return e.getParameters().size()>7}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return U}));var r=n(2),o=n(4),a=n(9),i=n(8),s=n(13),c=n(14),l=n(12),u=n(1),d=n(30),p=n(474),b=n(475),h=n(465),j=n(137),f=n(471),g=n(470),m=n(505),O=n(629),v=n.n(O),x=n(472),y=n(476),C=n(532),T=n(62),E=n(1036),k=n(1037),w=n(706),S=n(580),P=n(489),I=n.n(P),_=n(512),A=n(80),N=n(522),R=n(1038),L=n(486),M=n(7),F=e.gd,D={parametersContainer:{flex:1}},B=function(e){var t=e.getExtraInfo(),n=[];try{""!==t&&(n=JSON.parse(t)),Array.isArray(n)||(n=[])}catch(r){console.error("Cannot parse parameter extraInfo: ",r)}return n},U=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={longDescriptionShownIndexes:{}},e._addParameter=function(){var t=e.props.eventsFunction.getParameters(),n=Object(h.mapVector)(t,(function(e){return e.getName()})),r=new F.ParameterMetadata;r.setType("objectList");var o=Object(L.a)("Parameter",(function(e){return n.includes(e)}));r.setName(o),t.push_back(r),r.delete(),e.forceUpdate(),e.props.onParametersUpdated()},e._removeParameter=function(t){var n=e.props.eventsFunction.getParameters();F.removeFromVectorParameterMetadata(n,t),e.forceUpdate(),e.props.onParametersUpdated()},e._addLongDescription=function(t){e.setState((function(e){return{longDescriptionShownIndexes:Object(o.a)(Object(o.a)({},e.longDescriptionShownIndexes),{},Object(r.a)({},t,!0))}}))},e._removeLongDescription=function(t){e.props.eventsFunction.getParameters().at(t).setLongDescription(""),e.setState((function(e){return{longDescriptionShownIndexes:Object(o.a)(Object(o.a)({},e.longDescriptionShownIndexes),{},Object(r.a)({},t,!1))}}))},e._moveParameters=function(t,n){var r=e.props,o=r.eventsFunction,a=r.eventsBasedBehavior,i=o.getParameters();a?e.props.onMoveBehaviorEventsParameter&&e.props.onMoveBehaviorEventsParameter(a,o,t,n,(function(r){r&&(F.swapInVectorParameterMetadata(i,t,n),e.forceUpdate(),e.props.onParametersUpdated())})):e.props.onMoveFreeEventsParameter&&e.props.onMoveFreeEventsParameter(o,t,n,(function(r){r&&(F.swapInVectorParameterMetadata(i,t,n),e.forceUpdate(),e.props.onParametersUpdated())}))},e._setStringSelectorExtraInfo=function(t){return function(n){t.setExtraInfo(JSON.stringify(n)),e.forceUpdate()}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsFunction,o=t.eventsBasedBehavior,a=t.freezeParameters,i=t.helpPagePath,s=r.getParameters();if(!!o&&Object(w.g)(r.getName()))return Object(M.jsx)(g.a,{children:Object(M.jsx)(l.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine and has two parameters: "Object" (the object the behavior is acting on) and "Behavior" (the behavior itself).'})});if(!o&&Object(w.h)(r.getName()))return Object(M.jsxs)(d.a,{children:[Object(M.jsx)(_.a,{kind:"info",identifier:"lifecycle-events-function-included-only-if-extension-used",children:Object(M.jsx)(l.Trans,{id:"For the lifecycle functions to be executed, you need the extension to be used in the game, either by having at least one action, condition or expression used, or a behavior of the extension added to an object. Otherwise, the extension won't be included in the game."})}),Object(M.jsx)(g.a,{children:Object(M.jsx)(l.Trans,{id:'This is a "lifecycle function". It will be called automatically by the game engine. It has no parameters. Only global objects can be used as the events will be run for all scenes in your game.'})})]});var c=function(e){return!!a||!!o&&e<2},O=function(e){return!o||e>=2},P=function(t,n){return!!O(n)&&(!!t.getLongDescription()||!!e.state.longDescriptionShownIndexes[n])},L=Object(S.c)(!!o);return Object(M.jsx)(l.I18n,{children:function(t){var r=t.i18n;return Object(M.jsxs)(d.a,{noMargin:!0,expand:!0,children:[Object(M.jsx)(d.c,{noMargin:!0,children:Object(M.jsxs)("div",{style:D.parametersContainer,children:[Object(h.mapVector)(s,(function(t,o){return Object(M.jsxs)(u.Fragment,{children:[Object(M.jsxs)(C.b,{children:[Object(M.jsx)(C.a,{firstChild:!0,children:Object(M.jsx)(l.Trans,{id:"Parameter #{0}:",values:{0:o+L}})}),Object(M.jsx)(d.a,{expand:!0,noMargin:!0,children:Object(M.jsx)(y.a,{commitOnBlur:!0,margin:"none",hintText:{id:"Enter the parameter name (mandatory)"},value:t.getName(),onChange:function(n){(function(e,t){return t?!!F.Project.validateName(t)||(Object(T.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1):(Object(T.c)(e._({id:"The name of a parameter can not be empty. Enter a name for the parameter or you won't be able to use it."}),{delayToNextTick:!0}),!1)})(r,n)&&(t.setName(n),e.forceUpdate(),e.props.onParametersUpdated())},disabled:c(o),fullWidth:!0})}),Object(M.jsx)(m.a,{element:Object(M.jsx)(f.a,{children:Object(M.jsx)(v.a,{})}),buildMenuTemplate:function(n){return[{label:n._({id:"Delete"}),enabled:!c(o),click:function(){return e._removeParameter(o)}},{type:"separator"},{label:n._({id:"Add a Long Description"}),enabled:!c(o),visible:!P(t,o),click:function(){return e._addLongDescription(o)}},{label:n._({id:"Remove the Long Description"}),enabled:!c(o),visible:P(t,o),click:function(){return e._removeLongDescription(o)}},{label:n._({id:"Move up"}),click:function(){return e._moveParameters(o,o-1)},enabled:!c(o)&&o-1>=0&&!c(o-1)},{label:n._({id:"Move down"}),click:function(){return e._moveParameters(o,o+1)},enabled:!c(o)&&o+1<s.size()&&!c(o+1)}]}})]}),Object(M.jsx)(d.c,{children:Object(M.jsxs)(A.a,{expand:!0,children:[Object(M.jsxs)(A.c,{noMargin:!0,children:[O(o)&&Object(M.jsxs)(p.a,{floatingLabelText:Object(M.jsx)(l.Trans,{id:"Type"}),value:t.getType(),onChange:function(n,r,o){t.setType(o),t.setOptional(!1),t.setDefaultValue(""),e.forceUpdate(),e.props.onParametersUpdated()},disabled:c(o),fullWidth:!0,children:[Object(M.jsx)(b.a,{value:"objectList",primaryText:{id:"Objects"}}),Object(M.jsx)(b.a,{value:"behavior",primaryText:{id:"Behavior (for the previous object)"}}),Object(M.jsx)(b.a,{value:"expression",primaryText:{id:"Number"}}),Object(M.jsx)(b.a,{value:"string",primaryText:{id:"String (text)"}}),Object(M.jsx)(b.a,{value:"stringWithSelector",primaryText:{id:"String from a list of options (text)"}}),Object(M.jsx)(b.a,{value:"key",primaryText:{id:"Keyboard Key (text)"}}),Object(M.jsx)(b.a,{value:"mouse",primaryText:{id:"Mouse button (text)"}}),Object(M.jsx)(b.a,{value:"color",primaryText:{id:"Color (text)"}}),Object(M.jsx)(b.a,{value:"layer",primaryText:{id:"Layer (text)"}}),Object(M.jsx)(b.a,{value:"sceneName",primaryText:{id:"Scene name (text)"}}),Object(M.jsx)(b.a,{value:"yesorno",primaryText:{id:"Yes or No (boolean)"}}),Object(M.jsx)(b.a,{value:"trueorfalse",primaryText:{id:"True or False (boolean)"}}),Object(M.jsx)(b.a,{value:"objectPointName",primaryText:{id:"Object point (text)"}}),Object(M.jsx)(b.a,{value:"objectAnimationName",primaryText:{id:"Object animation (text)"}})]}),F.ParameterMetadata.isObject(t.getType())&&Object(M.jsx)(E.a,{project:n,value:t.getExtraInfo(),onChange:function(n){t.setExtraInfo(n),e.forceUpdate(),e.props.onParametersUpdated()},disabled:c(o)}),"behavior"===t.getType()&&Object(M.jsx)(k.a,{project:n,objectType:Object(N.a)(s,o),value:t.getExtraInfo(),onChange:function(n){t.setExtraInfo(n),e.forceUpdate(),e.props.onParametersUpdated()},disabled:c(o)}),"yesorno"===t.getType()&&Object(M.jsxs)(p.a,{floatingLabelText:Object(M.jsx)(l.Trans,{id:"Default value"}),value:"yes"===t.getDefaultValue()?"yes":"no",onChange:function(n,r,o){t.setOptional(!0),t.setDefaultValue(o),e.forceUpdate(),e.props.onParametersUpdated()},fullWidth:!0,children:[Object(M.jsx)(b.a,{value:"yes",primaryText:{id:"Yes"}}),Object(M.jsx)(b.a,{value:"no",primaryText:{id:"No"}})]}),"trueorfalse"===t.getType()&&Object(M.jsxs)(p.a,{floatingLabelText:Object(M.jsx)(l.Trans,{id:"Default value"}),value:"True"===t.getDefaultValue()?"True":"False",onChange:function(n,r,o){t.setOptional(!0),t.setDefaultValue(o),e.forceUpdate(),e.props.onParametersUpdated()},fullWidth:!0,children:[Object(M.jsx)(b.a,{value:"True",primaryText:{id:"True"}}),Object(M.jsx)(b.a,{value:"False",primaryText:{id:"False"}})]})]}),"stringWithSelector"===t.getType()&&Object(M.jsx)(R.a,{extraInfo:B(t),setExtraInfo:e._setStringSelectorExtraInfo(t)}),O(o)&&Object(M.jsx)(y.a,{commitOnBlur:!0,floatingLabelText:Object(M.jsx)(l.Trans,{id:"Label"}),floatingLabelFixed:!0,value:t.getDescription(),onChange:function(n){t.setDescription(n),e.forceUpdate()},fullWidth:!0,disabled:!1}),P(t,o)&&Object(M.jsx)(y.a,{commitOnBlur:!0,floatingLabelText:Object(M.jsx)(l.Trans,{id:"Long description"}),floatingLabelFixed:!0,value:t.getLongDescription(),onChange:function(n){t.setLongDescription(n),e.forceUpdate()},multiline:!0,fullWidth:!0,disabled:!1})]})})]},o)})),0===s.size()?Object(M.jsx)(g.a,{children:Object(M.jsx)(l.Trans,{id:"No parameters for this function."})}):null,Object(M.jsx)(d.a,{children:Object(M.jsx)(d.c,{justifyContent:"flex-end",expand:!0,children:!a&&Object(M.jsx)(j.a,{primary:!0,label:Object(M.jsx)(l.Trans,{id:"Add a parameter"}),onClick:e._addParameter,icon:Object(M.jsx)(I.a,{})})})})]})}),i?Object(M.jsx)(d.c,{children:Object(M.jsx)(x.a,{helpPagePath:i})}):Object(M.jsx)(d.d,{})]})}})}}]),n}(u.Component)}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(474),u=n(475),d=n(520),p=n(7),b=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={objectMetadata:Object(d.b)(e.props.project)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.value,r=e.onChange,o=e.floatingLabelText,a=e.allowedObjectTypes,i=this.state.objectMetadata,c=function(e){return!!a&&-1===a.indexOf(e)};return Object(p.jsxs)(l.a,{floatingLabelText:o||Object(p.jsx)(s.Trans,{id:"Object type"}),value:n,onChange:function(e,t,n){r(n)},disabled:t,fullWidth:!0,children:[Object(p.jsx)(u.a,{value:"",primaryText:{id:"Any object"},disabled:c("")}),i.map((function(e){return""===e.name?null:Object(p.jsx)(u.a,{value:e.name,primaryText:e.fullName,disabled:c(e.name)},e.name)}))]})}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(474),u=n(475),d=n(1032),p=n(7),b=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={behaviorMetadata:Object(d.a)(e.props.project.getCurrentPlatform(),e.props.project)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.objectType,r=e.value,o=e.onChange,a=this.state.behaviorMetadata,i=!!a.find((function(e){return e.type===r}));return Object(p.jsxs)(l.a,{floatingLabelText:Object(p.jsx)(s.Trans,{id:"Behavior type"}),value:r,onChange:function(e,t,n){o(n)},disabled:t,fullWidth:!0,children:[a.map((function(e){return Object(p.jsx)(u.a,{value:e.type,primaryText:e.fullName,disabled:""!==e.objectType&&e.objectType!==n},e.type)})),!i&&r&&Object(p.jsx)(u.a,{value:r,primaryText:r})]})}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(12),o=(n(1),n(80)),a=n(30),i=n(476),s=n(2158),c=n(515),l=n.n(c),u=n(137),d=n(489),p=n.n(d),b=n(7);t.a=function(e){var t=e.extraInfo,n=e.setExtraInfo,c=function(){return n(t)};return Object(b.jsx)(o.c,{children:Object(b.jsxs)(a.a,{justifyContent:"flex-end",expand:!0,children:[t.map((function(e,n){return Object(b.jsxs)(a.c,{justifyContent:"flex-end",expand:!0,children:[Object(b.jsx)(i.a,{commitOnBlur:!0,value:e,onChange:function(e){t[n]=e,c()},fullWidth:!0}),Object(b.jsx)(s.a,{tooltip:{id:"Delete option"},onClick:function(){t.splice(n,1),c()},children:Object(b.jsx)(l.a,{})})]},n)})),Object(b.jsx)(a.c,{justifyContent:"flex-end",expand:!0,children:Object(b.jsx)(u.a,{primary:!0,onClick:function(){t.push("New Option"),c()},label:Object(b.jsx)(r.Trans,{id:"Add a new option"}),icon:Object(b.jsx)(p.a,{})})})]})})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(30),u=n(474),d=n(475),p=n(465),b=n(472),h=n(476),j=n(706),f=n(470),g=n(580),m=n(80),O=n(512),v=n(514),x=n(7),y=e.gd,C=function(e,t,n){var r=n.getSentence();if(!r)return e._({id:"Enter the sentence that will be displayed in the events sheet"});var o=Object(g.c)(!!t),a=Object(p.mapVector)(n.getParameters(),(function(e,t){if(y.ParameterMetadata.isBehavior(e.getType()))return null;var n="_PARAM".concat(t+o,"_");return-1===r.indexOf(n)?n:null})).filter(Boolean);return a.length?e._({id:"The sentence is probably missing this/these parameter(s):"})+a.join(", "):void 0},T=function(e){return e===y.EventsFunction.Condition?{id:"Example: Is flashing?"}:e===y.EventsFunction.Expression?{id:"Example: Life remaining"}:e===y.EventsFunction.StringExpression?{id:"Example: Equipped shield name"}:{id:"Example: Flash the object"}},E=function(e){return e===y.EventsFunction.Condition?{id:"Example: Check if the object is flashing."}:e===y.EventsFunction.Expression?{id:"Example: Life remaining for the player."}:e===y.EventsFunction.StringExpression?{id:"Example: Name of the shield equipped by the player."}:{id:"Example: Make the object flash for 5 seconds."}},k=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.eventsFunction,r=t.freezeEventsFunctionType,o=t.onConfigurationUpdated,a=t.helpPagePath,i=t.renderConfigurationHeader,c=t.eventsBasedBehavior,p=t.getFunctionGroupNames,g=n.getFunctionType();return!!c&&Object(j.g)(n.getName())?Object(x.jsx)(f.a,{children:Object(x.jsx)(s.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine for each instance living on the scene having the behavior.'})}):!c&&Object(j.h)(n.getName())?Object(x.jsxs)(l.a,{children:[Object(x.jsx)(O.a,{kind:"info",identifier:"lifecycle-events-function-included-only-if-extension-used",children:Object(x.jsx)(s.Trans,{id:"For the lifecycle functions to be executed, you need the extension to be used in the game, either by having at least one action, condition or expression used, or a behavior of the extension added to an object. Otherwise, the extension won't be included in the game."})}),Object(x.jsx)(f.a,{children:Object(x.jsx)(s.Trans,{id:'This is a "lifecycle function". It will be called automatically by the game engine. It has no parameters. Only global objects can be used as the events will be run for all scenes in your game.'})})]}):Object(x.jsx)(s.I18n,{children:function(t){var j=t.i18n;return Object(x.jsxs)(m.a,{expand:!0,children:[i?i():null,Object(x.jsxs)(m.c,{alignItems:"center",noMargin:!0,children:[Object(x.jsx)(l.c,{alignItems:"center",noMargin:!0,children:Object(x.jsxs)(u.a,{value:g,floatingLabelText:Object(x.jsx)(s.Trans,{id:"Function type"}),fullWidth:!0,disabled:!!r,onChange:function(t,r,a){n.setFunctionType(a),o&&o("type"),e.forceUpdate()},children:[Object(x.jsx)(d.a,{value:y.EventsFunction.Action,primaryText:{id:"Action"}}),Object(x.jsx)(d.a,{value:y.EventsFunction.Condition,primaryText:{id:"Condition"}}),Object(x.jsx)(d.a,{value:y.EventsFunction.Expression,primaryText:{id:"Expression"}}),Object(x.jsx)(d.a,{value:y.EventsFunction.StringExpression,primaryText:{id:"String Expression"}})]})}),Object(x.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(x.jsx)(s.Trans,{id:"Full name displayed in editor"}),hintText:T(g),value:n.getFullName(),onChange:function(t){n.setFullName(t),o&&o(),e.forceUpdate()},fullWidth:!0})]}),Object(x.jsx)(l.c,{noMargin:!0,children:Object(x.jsx)(v.a,{floatingLabelText:Object(x.jsx)(s.Trans,{id:"Group name"}),hintText:{id:"Leave it empty to use the default group for this extension."},fullWidth:!0,value:n.getGroup(),onChange:function(t){n.setGroup(t),o&&o(),e.forceUpdate()},dataSource:p?p().map((function(e){return{text:e,value:e}})):[],openOnFocus:!0})}),Object(x.jsx)(l.c,{noMargin:!0,children:Object(x.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(x.jsx)(s.Trans,{id:"Description, displayed in editor"}),hintText:E(g),fullWidth:!0,multiline:!0,value:n.getDescription(),onChange:function(t){n.setDescription(t),o&&o(),e.forceUpdate()}})}),Object(x.jsx)(l.c,{noMargin:!0,children:g===y.EventsFunction.Action||g===y.EventsFunction.Condition?Object(x.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(x.jsx)(s.Trans,{id:"Sentence in Events Sheet"}),hintText:{id:"Note: write _PARAMx_ for parameters, e.g: Flash _PARAM1_ for 5 seconds"},fullWidth:!0,value:n.getSentence(),onChange:function(t){n.setSentence(t),o&&o(),e.forceUpdate()},errorText:C(j,c,n)}):null}),a?Object(x.jsx)(l.c,{noMargin:!0,children:Object(x.jsx)(b.a,{helpPagePath:a})}):Object(x.jsx)(l.d,{})]})}})}}]),n}(c.Component)}).call(this,n(28))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),o=n(471),a=n(594),i=n.n(a),s=n(1040),c=n(7),l={container:{padding:0,width:32,height:32},icon:{width:16,height:16}};function u(e){var t=r.useContext(s.MosaicContext).mosaicActions,n=r.useContext(s.MosaicWindowContext).mosaicWindowActions;return Object(c.jsx)(o.a,{onClick:function(){t.remove(n.getPath())},style:l.container,children:Object(c.jsx)(i.a,{htmlColor:"inherit",style:l.icon})})}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return f}));var r=n(4),o=n(3),a=n(9),i=n(8),s=n(13),c=n(14),l=n(0),u=n.n(l),d=n(1),p=n(1738),b=n(7),h={container:{display:"flex",flex:1}},j=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i)))._onBehaviorEdited=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.onLoadEventsFunctionsExtensions();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.warn("Error while loading events functions extensions - ignoring this in the context of the EventsFunctionsExtensionEditorContainer.",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e.previewWillStart=function(){e.props.isActive&&e.props.onLoadEventsFunctionsExtensions()},e}return Object(i.a)(n,[{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"componentDidUpdate",value:function(e){e.isActive&&!this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}},{key:"componentWillUnmount",value:function(){this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}},{key:"getEventsFunctionsExtension",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasEventsFunctionsExtensionNamed(n)?t.getEventsFunctionsExtension(n):null}},{key:"selectEventsFunctionByName",value:function(e,t){this.editor&&this.editor.selectEventsFunctionByName(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,o=this.getEventsFunctionsExtension();if(!o||!n)return Object(b.jsxs)("div",{children:["No extension called ",r," found!"]});var a=this.props.extraEditorProps||{},i=a.initiallyFocusedFunctionName,s=a.initiallyFocusedBehaviorName;return Object(b.jsx)("div",{style:h.container,children:Object(b.jsx)(p.a,{project:n,eventsFunctionsExtension:o,setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,initiallyFocusedFunctionName:i,initiallyFocusedBehaviorName:s,onBehaviorEdited:this._onBehaviorEdited,ref:function(t){return e.editor=t},unsavedChanges:this.props.unsavedChanges},o.ptr)})}}]),n}(d.Component),f=function(e){return Object(b.jsx)(j,Object(r.a)({},e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(18),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n.n(l),d=n(511),p=n(488),b=n(501),h=n(486),j=n(62),f=n(664),g=n(520),m=n(35),O=n(492),v=n(7),x={listContainer:{flex:1}},y=function(e){return e.group.getName()},C=function(e){return e.global},T=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).displayedObjectGroupsList=[],e.displayedGlobalObjectGroupsList=[],e.state={renamedGroupWithContext:null,selectedGroupWithContext:null,searchText:""},e.addGroup=function(){var t=e.props,n=t.globalObjectGroups,r=t.objectGroups,o=Object(h.a)("Group",(function(e){return r.has(e)||n.has(e)}));r.insertNew(o,r.count()),e._onObjectGroupModified(),e.props.onGroupAdded&&e.props.onGroupAdded()},e._onDelete=function(t){var n=t.group,r=t.global,o=e.props,a=o.globalObjectGroups,i=o.objectGroups;m.b.showConfirmDialog("Are you sure you want to remove this group? This can't be undone.")&&e.props.onDeleteGroup(t,(function(t){t&&(r?a.remove(n.getName()):i.remove(n.getName()),e._onObjectGroupModified(),e.props.onGroupRemoved&&e.props.onGroupRemoved())}))},e._onEditName=function(t){e.setState({renamedGroupWithContext:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._onDuplicate=function(t){var n=t.group,r=t.global,o=e.props,a=o.globalObjectGroups,i=o.objectGroups,s=r?a:i,c=Object(h.a)(n.getName(),(function(e){return s.has(e)}),""),l=s.insertNew(c,s.getPosition(n.getName())+1);return Object(O.c)(l,Object(O.b)(n),"unserializeFrom"),l.setName(c),e._onObjectGroupModified(),{group:l,global:r}},e._onRename=function(t,n){var r=t.group,o=e.props,a=o.globalObjectGroups,i=o.objectGroups;e.setState({renamedGroupWithContext:null}),r.getName()!==n&&(i.has(n)||a.has(n)?Object(j.c)("Another object with this name already exists",{delayToNextTick:!0}):e.props.canRenameGroup(n)&&e.props.onRenameGroup(t,n,(function(t){t&&(r.setName(n),e._onObjectGroupModified(),e.props.onGroupRenamed&&e.props.onGroupRenamed())})))},e._setAsGlobalGroup=function(t){var n=t.group,r=e.props,o=r.globalObjectGroups,a=r.objectGroups,i=n.getName();o.has(i)?Object(j.c)("A global object with this name already exists. Please change the object name before setting it as a global object",{delayToNextTick:!0}):m.b.showConfirmDialog("This group will be loaded and available in all the scenes. This is only recommended for groups that you reuse a lot and can't be undone. Make this group global?")&&(o.insert(n,o.count()),a.remove(i),e._onObjectGroupModified())},e._onObjectGroupModified=function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.forceUpdate()},e._canMoveSelectionTo=function(t){return!!e.state.selectedGroupWithContext&&(e.state.selectedGroupWithContext.global===t.global||!(e.state.selectedGroupWithContext.global||!t.global||0!==e.displayedGlobalObjectGroupsList.indexOf(t)))},e._moveSelectionTo=function(t){var n=e.state.selectedGroupWithContext;if(n){var r,o,a,i=e.props,s=i.globalObjectGroups,c=i.objectGroups,l=n.global===t.global,u=!n.global&&t.global&&0===s.getPosition(t.group.getName());if(l)o=(r=n.global?s:c).getPosition(n.group.getName()),a=r.getPosition(t.group.getName());else{if(!u)return;o=(r=c).getPosition(n.group.getName()),a=e.state.searchText?r.getPosition(e.displayedObjectGroupsList[e.displayedObjectGroupsList.length-1].group.getName())+1:r.count()}a>o&&(a-=1),r.move(o,a),e._onObjectGroupModified(),e.sortableList&&e.sortableList.forceUpdateGrid()}},e._renderGroupMenuTemplate=function(t){return function(n,r){return[{label:t._({id:"Duplicate"}),click:function(){return e._onDuplicate(n)}},{type:"separator"},{label:t._({id:"Edit group"}),click:function(){return e.props.onEditGroup(n.group)}},{type:"separator"},{label:t._({id:"Rename"}),click:function(){return e._onEditName(n)}},{label:t._({id:"Set as global group"}),enabled:!C(n),click:function(){return e._setAsGlobalGroup(n)},visible:!1!==e.props.canSetAsGlobalGroup},{label:t._({id:"Delete"}),click:function(){return e._onDelete(n)}},{type:"separator"},{label:t._({id:"Add a new group..."}),click:e.addGroup}]}},e}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.renamedGroupWithContext!==t.renamedGroupWithContext||this.state.selectedGroupWithContext!==t.selectedGroupWithContext||this.state.searchText!==t.searchText||(this.props.globalObjectGroups!==e.globalObjectGroups||this.props.objectGroups!==e.objectGroups)}},{key:"render",value:function(){var e=this,t=this.props,n=t.globalObjectGroups,o=t.objectGroups,a=this.state.searchText,i=Object(g.a)(o).map((function(e){return{group:e,global:!1}})),s=Object(g.a)(n).map((function(e){return{group:e,global:!0}}));this.displayedObjectGroupsList=Object(g.e)(i,{searchText:a}),this.displayedGlobalObjectGroupsList=Object(g.e)(s,{searchText:a});var l=Object(g.e)([].concat(Object(r.a)(i),Object(r.a)(s)),{searchText:a}),u=o.ptr+";"+n.ptr,h=this.state.renamedGroupWithContext?l.find(Object(g.h)(this.state.renamedGroupWithContext)):null;return Object(v.jsxs)(p.a,{children:[Object(v.jsx)("div",{style:x.listContainer,children:Object(v.jsx)(d.a,{children:function(t){var n=t.height,r=t.width;return Object(v.jsx)(c.I18n,{children:function(t){var o=t.i18n;return Object(v.jsx)(f.a,{ref:function(t){return e.sortableList=t},fullList:l,width:r,height:n,getItemName:y,getItemId:function(e,t){return"group-item-"+t},isItemBold:C,onEditItem:function(t){return e.props.onEditGroup(t.group)},onAddNewItem:e.addGroup,addNewItemLabel:Object(v.jsx)(c.Trans,{id:"Add a new group"}),addNewItemId:"add-new-group-button",selectedItems:[],onItemSelected:function(t){e.setState({selectedGroupWithContext:t})},renamedItem:h,onRename:e._onRename,buildMenuTemplate:e._renderGroupMenuTemplate(o),onMoveSelectionToItem:e._moveSelectionTo,canMoveSelectionToItem:e._canMoveSelectionTo,reactDndType:"GD_GROUP_WITH_CONTEXT"},u)}})}})}),Object(v.jsx)(b.a,{value:a,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})},aspect:"integrated-search-bar",placeholder:{id:"Search object groups"}})]})}}]),n}(u.a.Component);T.defaultProps={onDeleteGroup:function(e,t){return t(!0)},onRenameGroup:function(e,t,n){return n(!0)}}},function(e,t,n){"use strict";var r=n(12),o=(n(1),n(136)),a=n(1741),i=n(100),s=n(631),c=n(139),l=n(7);t.a=function(e){var t=e.project,n=e.group,u=e.onApply,d=e.onCancel,p=e.globalObjectsContainer,b=e.objectsContainer,h=Object(c.a)(),j=Object(s.a)({serializableObject:n,onCancel:d});return Object(l.jsx)(i.b,{actions:[Object(l.jsx)(o.a,{label:Object(l.jsx)(r.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:j},"cancel"),Object(l.jsx)(i.a,{label:Object(l.jsx)(r.Trans,{id:"Apply"}),primary:!0,onClick:u},"apply")],noMargin:!0,onRequestClose:j,onApply:u,open:!0,title:"Edit ".concat(n.getName()," group"),children:Object(l.jsx)(a.a,{project:t,group:n,globalObjectsContainer:p,objectsContainer:b,onSizeUpdated:h})},n.ptr)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(1),c=n(642),l=n(575),u=n(721),d=n(7),p=s.createContext({filters:null,authors:null,licenses:null,searchResults:null,fetchResourcesAndFilters:function(){},error:null,searchText:"",setSearchText:function(){},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),b=function(e){return e.name+"\n"+e.tags.join(", ")},h=function(e){var t=e.children,n=s.useState(null),a=Object(o.a)(n,2),h=a[0],j=a[1],f=s.useState(null),g=Object(o.a)(f,2),m=g[0],O=g[1],v=s.useState(null),x=Object(o.a)(v,2),y=x[0],C=x[1],T=s.useState(null),E=Object(o.a)(T,2),k=E[0],w=E[1],S=s.useState(null),P=Object(o.a)(S,2),I=P[0],_=P[1],A=s.useRef(!1),N=s.useState(""),R=Object(o.a)(N,2),L=R[0],M=R[1],F=Object(c.b)(),D=s.useCallback((function(){h||A.current||Object(r.a)(i.a.mark((function e(){var t,n,r,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(null),A.current=!0,e.prev=2,e.next=5,Object(l.g)();case 5:return t=e.sent,n=t.resources,r=t.filters,e.next=10,Object(l.e)();case 10:return o=e.sent,e.next=13,Object(l.f)();case 13:a=e.sent,s={},n.forEach((function(e){s[e.url]=e})),console.info("Loaded ".concat(n.length," resources from the asset store.")),j(s),O(r),C(o),w(a),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),console.error("Unable to load the assets from the asset store:",e.t0),_(e.t0);case 27:A.current=!1;case 28:case"end":return e.stop()}}),e,null,[[2,23]])})))()}),[h,A]),B=F.chosenCategory,U=F.chosenFilters,V=Object(u.b)(h,b,L,B,U),W=s.useMemo((function(){return{searchResults:V,fetchResourcesAndFilters:D,filters:m,authors:y,licenses:k,error:I,searchText:L,setSearchText:M,filtersState:F}}),[V,I,m,y,k,L,F,D]);return Object(d.jsx)(p.Provider,{value:W,children:t})}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(18),o=n(1),a=n(2182),i=n(2180),s=n(595),c=n.n(s),l=n(637),u=n.n(l),d=n(480),p=n(7),b=function(e){return e.map((function(e){return e.name})).join(";-/>")},h=function e(t){var n=t.tagsTreeNodes,o=t.onChoose,a=t.parentNodes;return n.length?n.map((function(t){var n=[].concat(Object(r.a)(a),[t]);return Object(p.jsx)(i.a,{nodeId:b(n),label:t.name,onLabelClick:function(){return o({node:t,parentNodes:a})},collapseIcon:t.children.length?Object(p.jsx)(c.a,{}):null,expandIcon:t.children.length?Object(p.jsx)(u.a,{}):null,children:Object(p.jsx)(e,{tagsTreeNodes:t.children,parentNodes:n,onChoose:o})},t.name)})):null},j=o.memo((function(e){var t=e.allItemsLabel,n=e.chosenCategory,o=e.setChosenCategory,s=e.onChoiceChange,c=e.allFilters;return Object(p.jsxs)(a.a,{selected:n?b([].concat(Object(r.a)(n.parentNodes),[n.node])):"",defaultExpanded:[],onNodeSelect:function(){},children:[Object(p.jsx)(i.a,{nodeId:"",label:t,onLabelClick:function(){o(null)}}),Object(p.jsx)(h,{tagsTreeNodes:c.tagsTree,onChoose:function(e){o(e),s&&s(e)},parentNodes:[]})]})})),f=function(e){var t=e.filtersState,n=e.onChoiceChange,r=e.allFilters,o=e.error,a=e.allItemsLabel;return r?o?null:Object(p.jsx)(j,{allItemsLabel:a,chosenCategory:t.chosenCategory,setChosenCategory:t.setChosenCategory,onChoiceChange:n,allFilters:r}):Object(p.jsx)(d.a,{})}},function(e,t,n){"use strict";var r=n(4),o=(n(1),n(890)),a=n(7);t.a=function(e){return Object(a.jsx)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 -3 24 24",children:Object(a.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(a.jsxs)("g",{id:"Create",fillRule:"nonzero",children:[Object(a.jsx)("polygon",{id:"Shape",fill:"#2B3990",points:"24 8 18 2 18 6 14 6 14 10 18 10 18 14"}),Object(a.jsxs)("g",{id:"Group-2",fill:"#27AAE1",children:[Object(a.jsx)("rect",{id:"Rectangle-path",transform:"translate(2.999518, 3.574897) rotate(-45.000000) translate(-2.999518, -3.574897) ",x:"1.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"}),Object(a.jsx)("rect",{id:"Rectangle-path",transform:"translate(10.999518, 11.574897) rotate(-45.000000) translate(-10.999518, -11.574897) ",x:"9.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),Object(a.jsx)("rect",{id:"Rectangle-path",transform:"translate(2.999518, 11.574897) rotate(-135.000000) translate(-2.999518, -11.574897) ",x:"1.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),Object(a.jsx)("rect",{id:"Rectangle-path",transform:"translate(10.999518, 3.574897) rotate(-135.000000) translate(-10.999518, -3.574897) ",x:"9.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"})]})]})})}))}},function(e,t,n){"use strict";var r=n(4),o=(n(1),n(890)),a=n(7);t.a=function(e){return Object(a.jsx)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 -6 24 24",children:Object(a.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(a.jsxs)("g",{id:"Step",children:[Object(a.jsx)("polygon",{id:"Shape",points:"0 3 0 6 3 6 3 9 7.5 4.5 3 0 3 3",fill:"#2b3990"}),Object(a.jsx)("polygon",{id:"polygon6",points:"16.5 3 16.5 6 19.5 6 19.5 9 24 4.5 19.5 0 19.5 3",fill:"#2b3990"}),Object(a.jsx)("circle",{id:"path825",cx:"12",cy:"4.5",r:"2.2509",fill:"none",stroke:"#27aae1",strokeWidth:"1.5"})]})})}))}},function(e,t,n){"use strict";var r=n(4),o=(n(1),n(890)),a=n(7);t.a=function(e){return Object(a.jsx)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 -3 24 24",children:Object(a.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(a.jsxs)("g",{id:"Destroy",transform:"translate(0.000000, -1.000000)",fillRule:"nonzero",children:[Object(a.jsxs)("g",{id:"Group",transform:"translate(0.000000, 1.000000)",children:[Object(a.jsx)("polygon",{id:"Shape",fill:"#2B3990",points:"9.92307692 7.07692308 4.38461538 1.53846154 4.38461538 5.23076923 0.692307692 5.23076923 0.692307692 8.92307692 4.38461538 8.92307692 4.38461538 12.6153846"}),Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.845138, 3.385446) rotate(-45.000000) translate(-10.845138, -3.385446) ",x:"9.53992021",y:"0.77500965",width:"2.6104365",height:"5.22087301"}),Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.229754, 10.770062) rotate(-45.000000) translate(-18.229754, -10.770062) ",x:"16.9245356",y:"8.15962503",width:"2.6104365",height:"5.22087301"}),Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.846985, 10.770246) rotate(-135.000000) translate(-10.846985, -10.770246) ",x:"9.54176636",y:"8.15980965",width:"2.6104365",height:"5.22087301"}),Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.231600, 3.385631) rotate(-135.000000) translate(-18.231600, -3.385631) ",x:"16.9263817",y:"0.775194265",width:"2.6104365",height:"5.22087301"})]}),Object(a.jsxs)("g",{id:"Group",opacity:"0.1",transform:"translate(2.538462, 0.692308)",children:[Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#000000",transform:"translate(7.616400, 11.768538) rotate(135.000000) translate(-7.616400, -11.768538) ",x:"5.98441565",y:"10.4633202",width:"3.2639687",height:"2.6104365"}),Object(a.jsx)("polygon",{id:"Shape",fill:"#FFFFFF",points:"7.38461538 7.38461538 1.83645766 1.87268753 1.83645766 3.7132995 6.46153846 8.30769231"}),Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(8.308523, 3.693323) rotate(-135.000000) translate(-8.308523, -3.693323) ",x:"5.69808657",y:"2.38810482",width:"5.22087301",height:"2.6104365"}),Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 11.077938) rotate(-135.000000) translate(-15.693138, -11.077938) ",x:"13.082702",y:"9.77272021",width:"5.22087301",height:"2.6104365"}),Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(9.460009, 9.922714) rotate(45.000000) translate(-9.460009, -9.922714) ",x:"8.15479058",y:"8.94333902",width:"2.6104365",height:"1.95875045"}),Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 3.693323) rotate(-135.000000) translate(-15.693138, -3.693323) ",x:"14.3879202",y:"1.08288657",width:"2.6104365",height:"5.22087301"})]})]})})}))}},function(e,t,n){"use strict";var r=n(4),o=(n(1),n(890)),a=n(7);t.a=function(e){return Object(a.jsx)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 23.109 23.124",children:Object(a.jsxs)("g",{id:"Action",transform:"translate(-92.011 -101.74)",fillRule:"nonzero",children:[Object(a.jsx)("path",{id:"path1010",d:"m101.01 101.74v2.3203a9.525 9.525 0 0 0-2.0743 0.85473l-1.6459-1.6536-1.9498 1.9523 0.0052 5e-3 -1.7436 1.741 1.635 1.6356a9.398 9.398 0 0 0-0.86765 2.0846h-2.3549v5.2307h2.344a9.525 9.525 0 0 0 0.85731 2.0665l-1.6511 1.6536 3.7042 3.7042 1.6567-1.6562a9.4245 9.4245 0 0 0 2.0846 0.84904v2.3363h5.2178v-2.3518a9.4562 9.4562 0 0 0 2.0557-0.8599l1.6485 1.6485 1.8226-1.8231-5e-3 -5e-3 1.8707-1.8707-1.6588-1.6588a9.5806 9.5806 0 0 0 0.83871-2.0324h2.3228v-5.2306h-2.3125a9.525 9.525 0 0 0-0.84905-2.0608l1.6428-1.6407-3.7042-3.7042-1.6376 1.6382a9.4932 9.4932 0 0 0-2.0397-0.85215v-2.3203z",fill:"#4db0e1"}),Object(a.jsx)("path",{id:"path8-6-0",d:"m92.093 110.66v5.2308h2.3125a9.525 9.525 0 0 0 0.84931 2.0611l-1.6431 1.6404 3.7042 3.7042 1.6378-1.6378a9.4932 9.4932 0 0 0 2.0399 0.85196v2.3204h5.2123v-2.3204a9.525 9.525 0 0 0 2.0743-0.8546l1.6457 1.6536 1.95-1.9526-16.404-16.264-1.8759 1.8759 1.6589 1.6589a9.5806 9.5806 0 0 0-0.83873 2.032z",fill:"#4db0e1"}),Object(a.jsx)("path",{id:"path10-3-0",d:"m93.599 106.96 1.6351 1.6351a9.398 9.398 0 0 0-0.86783 2.0849h-2.3548v5.2308h2.3442a9.525 9.525 0 0 0 0.85725 2.0664l-1.651 1.6536 3.7042 3.7042 1.6563-1.6563a9.4245 9.4245 0 0 0 2.0849 0.84931v2.3363h5.2176v-2.3521a9.4562 9.4562 0 0 0 2.0558-0.8599l1.6484 1.6484 1.823-1.823-16.404-16.264z",fill:"#283782",fillOpacity:".2"}),Object(a.jsx)("path",{id:"path871-7",d:"m106.69 107.2h-3.4025l3.7809 5.9346-3.7809 5.9346h3.4025l3.7809-5.9346z",fill:"#283983"}),Object(a.jsx)("path",{id:"path873-9",d:"m101.39 107.2h-3.4025l3.7809 5.9346-3.7809 5.9346h3.4025l3.7835-5.9346z",fill:"#283983"})]})}))}},function(e,t,n){"use strict";var r=n(4),o=(n(1),n(890)),a=n(7);t.a=function(e){return Object(a.jsx)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 23.109 23.124",children:Object(a.jsxs)("g",{id:"Action",fill:"#283983",children:[Object(a.jsx)("path",{id:"path1010",d:"m8.9958 0v2.3203a9.525 9.525 0 0 0-2.0743 0.85473l-1.6459-1.6536-1.9498 1.9523 0.0052 5e-3 -1.7436 1.741 1.635 1.6356a9.398 9.398 0 0 0-0.86765 2.0846h-2.3549v5.2307h2.344a9.525 9.525 0 0 0 0.85731 2.0665l-1.6511 1.6536 3.7042 3.7042 1.6567-1.6562a9.4245 9.4245 0 0 0 2.0846 0.84904v2.3363h5.2178v-2.3518a9.4562 9.4562 0 0 0 2.0557-0.8599l1.6485 1.6485 1.8226-1.8231-0.0052-5e-3 1.8707-1.8707-1.6588-1.6588a9.5806 9.5806 0 0 0 0.83871-2.0324h2.3229v-5.2306h-2.3125a9.525 9.525 0 0 0-0.84904-2.0608l1.6428-1.6407-3.7042-3.7042-1.6376 1.6382a9.4932 9.4932 0 0 0-2.0397-0.85215v-2.3203z",fill:"#4db0e1"}),Object(a.jsx)("path",{id:"path8-6-0",d:"m0.081856 8.9161v5.2308h2.3125a9.525 9.525 0 0 0 0.84931 2.0611l-1.6431 1.6404 3.7042 3.7042 1.6378-1.6378a9.4932 9.4932 0 0 0 2.0399 0.85196v2.3204h5.2123v-2.3204a9.525 9.525 0 0 0 2.0743-0.8546l1.6457 1.6536 1.95-1.9526-16.404-16.264-1.8759 1.8759 1.6589 1.6589a9.5806 9.5806 0 0 0-0.83873 2.032z",fill:"#4db0e1"}),Object(a.jsx)("path",{id:"path10-3-0",d:"m1.5875 5.2198 1.6351 1.6351a9.398 9.398 0 0 0-0.86783 2.0849h-2.3548v5.2308h2.3442a9.525 9.525 0 0 0 0.85725 2.0664l-1.651 1.6536 3.7042 3.7042 1.6563-1.6563a9.4245 9.4245 0 0 0 2.0849 0.84931v2.3363h5.2176v-2.3521a9.4562 9.4562 0 0 0 2.0558-0.8599l1.6484 1.6484 1.823-1.823-16.404-16.264z",fill:"#283782",fillOpacity:".2"}),Object(a.jsx)("path",{id:"path821",d:"m13.081 13.524h-2.7983v-0.37982q0-0.63562 0.2558-1.124 0.2558-0.49609 1.0775-1.2557l0.49609-0.44958q0.44183-0.40308 0.64337-0.75964 0.20929-0.35657 0.20929-0.71313 0-0.5426-0.37207-0.84491-0.37207-0.31006-1.0387-0.31006-0.62787 0-1.3565 0.26355-0.72864 0.2558-1.5193 0.7674v-2.434q0.93793-0.32556 1.7131-0.48059 0.77515-0.15503 1.496-0.15503 1.8914 0 2.8835 0.77515 0.99219 0.7674 0.99219 2.2479 0 0.75964-0.30231 1.3643-0.30231 0.59686-1.0309 1.2867l-0.49609 0.44183q-0.5271 0.48059-0.68988 0.77515-0.16278 0.2868-0.16278 0.63562zm-2.7983 1.1472h2.7983v2.7595h-2.7983z",fill:"#283983"})]})}))}},function(e,t,n){"use strict";var r=n(4),o=(n(1),n(890)),a=n(7);t.a=function(e){return Object(a.jsx)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 23.109 23.124",children:Object(a.jsxs)("g",{id:"Expression",children:[Object(a.jsx)("path",{id:"path1010",d:"m8.9958 0v2.3203a9.525 9.525 0 0 0-2.0743 0.85473l-1.6459-1.6536-1.9498 1.9523 0.0052 5e-3 -1.7436 1.741 1.635 1.6356a9.398 9.398 0 0 0-0.86765 2.0846h-2.3549v5.2307h2.344a9.525 9.525 0 0 0 0.85731 2.0665l-1.6511 1.6536 3.7042 3.7042 1.6567-1.6562a9.4245 9.4245 0 0 0 2.0846 0.84904v2.3363h5.2178v-2.3518a9.4562 9.4562 0 0 0 2.0557-0.8599l1.6485 1.6485 1.8226-1.8232-0.0052-5e-3 1.8707-1.8707-1.6588-1.6588a9.5806 9.5806 0 0 0 0.83871-2.0324h2.3229v-5.2306h-2.3125a9.525 9.525 0 0 0-0.84904-2.0608l1.6428-1.6407-3.7042-3.7042-1.6376 1.6382a9.4932 9.4932 0 0 0-2.0397-0.85215v-2.3203z",fill:"#4db0e1",strokeWidth:".26458"}),Object(a.jsx)("path",{id:"path8-6-0",d:"m0.081857 8.9161v5.2308h2.3125a9.525 9.525 0 0 0 0.84931 2.0611l-1.6431 1.6404 3.7042 3.7042 1.6378-1.6378a9.4932 9.4932 0 0 0 2.0399 0.85196v2.3204h5.2123v-2.3204a9.525 9.525 0 0 0 2.0743-0.8546l1.6457 1.6536 1.95-1.9526-16.404-16.264-1.8759 1.8759 1.6589 1.6589a9.5806 9.5806 0 0 0-0.83873 2.032z",fill:"#4db0e1",strokeWidth:".26458"}),Object(a.jsx)("path",{id:"path10-3-0",d:"m1.5875 5.2198 1.6351 1.6351a9.398 9.398 0 0 0-0.86783 2.0849h-2.3548v5.2308h2.3442a9.525 9.525 0 0 0 0.85725 2.0664l-1.651 1.6536 3.7042 3.7042 1.6563-1.6563a9.4245 9.4245 0 0 0 2.0849 0.84931v2.3363h5.2176v-2.3522a9.4562 9.4562 0 0 0 2.0558-0.85989l1.6484 1.6484 1.823-1.823-16.404-16.264z",fill:"#283782",fillOpacity:".2",strokeWidth:".26458"}),Object(a.jsxs)("g",{id:"text1262",fill:"#283983",strokeWidth:".21798","aria-label":"f(x)",children:[Object(a.jsx)("path",{id:"path936",d:"m8.4202 7.2384v1.1256h-0.94835q-0.36401 0-0.5077 0.13411-0.14369 0.12932-0.14369 0.45502v0.37359h1.4656v1.2262h-1.4656v4.1383h-1.7147v-4.1383h-0.85256v-1.2262h0.85256v-0.37359q0-0.87651 0.48854-1.2932 0.48854-0.42149 1.5135-0.42149z"}),Object(a.jsx)("path",{id:"path938",d:"m10.822 15.984h-1.4225q-0.73282-1.183-1.0825-2.2463-0.34964-1.0681-0.34964-2.117t0.34964-2.1218q0.35443-1.0777 1.0825-2.2511h1.4225q-0.61308 1.1351-0.91961 2.2224-0.30654 1.0825-0.30654 2.141 0 1.0585 0.30175 2.1458 0.30654 1.0873 0.9244 2.2272z"}),Object(a.jsx)("path",{id:"path940",d:"m12.277 11.947-1.935-2.6199h1.8153l1.0968 1.5902 1.1112-1.5902h1.8153l-1.935 2.6104 2.0308 2.754h-1.8153l-1.207-1.6955-1.1926 1.6955h-1.8153z"}),Object(a.jsx)("path",{id:"path942",d:"m15.771 15.984q0.61308-1.1399 0.91961-2.2272t0.30654-2.1458q0-1.0585-0.30654-2.141-0.30654-1.0873-0.91961-2.2224h1.4225q0.72803 1.1735 1.0777 2.2511 0.35444 1.0729 0.35444 2.1218t-0.34964 2.117q-0.34964 1.0633-1.0825 2.2463z"})]})]})}))}},function(e,t,n){"use strict";var r=n(4),o=(n(1),n(890)),a=n(7);t.a=function(e){return Object(a.jsx)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 -6 24 24",children:Object(a.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(a.jsxs)("g",{id:"Activate",fillRule:"nonzero",children:[Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"0",y:"0",width:"24",height:"10.2857143"}),Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#2B3990",x:"1.71428571",y:"1.71428571",width:"10.2857143",height:"6.85714286"}),Object(a.jsx)("polygon",{id:"Shape",fill:"#FFFFFF",points:"20.5710245 1.71428571 18.8571429 3.42897546 17.1432612 5.14285714 15.4285714 6.85673883 17.1432612 8.57142857 18.8571429 6.85673883 20.5710245 5.14285714 22.2857143 3.42897546"}),Object(a.jsx)("polygon",{id:"Shape",fill:"#FFFFFF",points:"18.8567388 3.42857143 17.1428571 5.14326117 15.4289755 3.42857143 13.7142857 5.14326117 15.4289755 6.85714286 18.8567388 6.85714286 20.5714286 5.14326117"})]})})}))}},function(e,t,n){"use strict";var r=n(4),o=(n(1),n(890)),a=n(7);t.a=function(e){return Object(a.jsx)(o.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 -6 24 24",children:Object(a.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(a.jsxs)("g",{id:"Deactivate",fillRule:"nonzero",children:[Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#2B3990",x:"0",y:"0",width:"24",height:"10.2857143"}),Object(a.jsx)("polygon",{id:"Shape",fill:"#FFFFFF",points:"6.85673883 1.71428571 5.14285714 3.42897546 3.42897546 1.71428571 1.71428571 3.42897546 3.42897546 5.14285714 1.71428571 6.85673883 3.42897546 8.57142857 5.14285714 6.85673883 6.85673883 8.57142857 8.57142857 6.85673883 6.85673883 5.14285714 8.57142857 3.42897546"}),Object(a.jsx)("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"12",y:"1.71428571",width:"10.2857143",height:"6.85714286"})]})})}))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return C}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n.n(l),d=n(812),p=n(137),b=n(609),h=n(1100),j=n(463),f=n(30),g=n(81),m=n(472),O=n(678),v=n(7),x={container:{display:"flex",flex:1}},y=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={externalPropertiesDialogOpen:!1},e.saveExternalProperties=function(t){var n=e.getExternalEvents();n&&(n.setAssociatedLayout(t.layoutName),e.setState({externalPropertiesDialogOpen:!1},(function(){return e.updateToolbar()})))},e.openExternalPropertiesDialog=function(){e.setState({externalPropertiesDialogOpen:!0})},e.onBeginCreateEventsFunction=function(){Object(g.i)({step:"begin",parentEditor:"external-events-editor"})},e.onCreateEventsFunction=function(t,n){e.props.onCreateEventsFunction(t,n,"external-events-editor")},e}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"getProject",value:function(){return this.props.project}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"getExternalEvents",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasExternalEventsNamed(n)?t.getExternalEvents(n):null}},{key:"getLayout",value:function(){var e=this.props.project;if(!e)return null;var t=this.getAssociatedLayoutName();return t?e.getLayout(t):null}},{key:"getAssociatedLayoutName",value:function(){var e=this.props.project;if(!e)return null;var t=this.getExternalEvents();if(!t)return null;var n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?n:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,o=this.getExternalEvents(),a=this.getLayout();return o&&n?Object(v.jsxs)("div",{style:x.container,children:[a&&Object(v.jsx)(d.a,{ref:function(t){return e.editor=t},setToolbar:this.props.setToolbar,onOpenLayout:this.props.onOpenLayout,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.onCreateEventsFunction,onBeginCreateEventsFunction:this.onBeginCreateEventsFunction,unsavedChanges:this.props.unsavedChanges,project:n,scope:{layout:a,externalEvents:o},globalObjectsContainer:n,objectsContainer:a,events:o.getEvents(),onOpenSettings:this.openExternalPropertiesDialog,onOpenExternalEvents:this.props.onOpenExternalEvents,isActive:this.props.isActive}),!a&&Object(v.jsxs)(b.a,{children:[Object(v.jsx)(j.a,{children:Object(v.jsx)(c.Trans,{id:"To edit the external events, choose the scene in which it will be included:"})}),Object(v.jsx)(f.c,{justifyContent:"center",children:Object(v.jsx)(p.a,{label:Object(v.jsx)(c.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openExternalPropertiesDialog})}),Object(v.jsx)(f.c,{justifyContent:"flex-start",noMargin:!0,children:Object(v.jsx)(O.a,{tutorialId:"Intermediate-externals",label:"Watch the tutorial",renderIfNotFound:Object(v.jsx)(m.a,{helpPagePath:"/interface/events-editor/external-events"})})})]}),Object(v.jsx)(h.a,{title:Object(v.jsx)(c.Trans,{id:"Configure the external events"}),helpTexts:[Object(v.jsx)(c.Trans,{id:'In order to use these external events, you still need to add a "Link" event in the events sheet of the corresponding scene'})],open:this.state.externalPropertiesDialogOpen,project:n,onChoose:this.saveExternalProperties,layoutName:this.getAssociatedLayoutName(),onClose:function(){return e.setState({externalPropertiesDialogOpen:!1})}})]}):Object(v.jsxs)("div",{children:["No external events called ",r," found!"]})}}]),n}(u.a.Component),C=function(e){return Object(v.jsx)(y,Object(r.a)({},e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(26),o=n(12),a=n(1),i=n(136),s=n(2172),c=n(2278),l=n(2205),u=n(100),d=n(465),p=n(463),b=n(506),h=n(30),j=n(7);function f(e){var t=e.open,n=e.onChoose,f=e.layoutName,g=e.onClose,m=e.project,O=e.title,v=e.helpTexts,x=f||"",y=a.useState(x),C=Object(r.a)(y,2),T=C[0],E=C[1],k=a.useCallback((function(){T&&n({layoutName:T})}),[n,T]),w=[Object(j.jsx)(i.a,{label:Object(j.jsx)(o.Trans,{id:"Cancel"}),primary:!1,onClick:g},"cancel"),Object(j.jsx)(u.a,{label:Object(j.jsx)(o.Trans,{id:"Choose"}),primary:!0,onClick:k,disabled:!T},"choose")],S=Object(d.mapFor)(0,m.getLayoutsCount(),(function(e){return m.getLayoutAt(e).getName()}));return Object(j.jsx)(u.b,{actions:w,open:t,title:O,onRequestClose:g,onApply:k,maxWidth:"sm",children:Object(j.jsxs)(h.a,{children:[v&&v.map((function(e,t){return Object(j.jsx)(h.c,{children:Object(j.jsx)(b.a,{children:e})},t)})),Object(j.jsx)(h.c,{children:Object(j.jsx)(p.a,{children:Object(j.jsx)(o.Trans,{id:"Choose the associated scene:"})})}),Object(j.jsx)(l.a,{"aria-label":"Associated scene",name:"associated-layout",value:T,onChange:function(e){return E(e.target.value)},children:S.map((function(e){return Object(j.jsx)(s.a,{value:e,control:Object(j.jsx)(c.a,{color:"primary"}),label:e},e)}))})]})})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return C}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(137),d=n(1103),p=n(492),b=n(609),h=n(1100),j=n(30),f=n(463),g=n(863),m=n(678),O=n(472),v=n(7),x={container:{display:"flex",flex:1}},y=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={externalPropertiesDialogOpen:!1},e.saveExternalProperties=function(t){var n=e.getExternalLayout();n&&(n.setAssociatedLayout(t.layoutName),e.setState({externalPropertiesDialogOpen:!1},(function(){return e.updateToolbar()})))},e.openExternalPropertiesDialog=function(){e.setState({externalPropertiesDialogOpen:!0})},e.saveUiSettings=function(){var t=e.getExternalLayout(),n=e.editor;n&&t&&Object(p.c)(t.getAssociatedEditorSettings(),n.getInstancesEditorSettings())},e}return Object(a.a)(n,[{key:"getProject",value:function(){return this.props.project}},{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=this.props.projectItemName,t=this.getLayout();this.props.setPreviewedLayout(t?t.getName():null,e)}}},{key:"componentDidUpdate",value:function(e){if(!e.isActive&&this.props.isActive){var t=this.props.projectItemName,n=this.getLayout();this.props.setPreviewedLayout(n?n.getName():null,t)}}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"getExternalLayout",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasExternalLayoutNamed(n)?t.getExternalLayout(n):null}},{key:"getLayout",value:function(){var e=this.props.project;if(!e)return null;var t=this.getAssociatedLayoutName();return t?e.getLayout(t):void 0}},{key:"getAssociatedLayoutName",value:function(){var e=this.props.project;if(!e)return null;var t=this.getExternalLayout();if(!t)return null;var n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?n:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,o=t.isActive,a=this.getExternalLayout(),i=this.getLayout();return a&&n?Object(v.jsxs)("div",{style:x.container,children:[i&&Object(v.jsx)(d.a,{setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,unsavedChanges:this.props.unsavedChanges,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,ref:function(t){return e.editor=t},project:n,layout:i,initialInstances:a.getInitialInstances(),getInitialInstancesEditorSettings:function(){return Object(g.b)(Object(p.b)(a.getAssociatedEditorSettings()))},onOpenEvents:this.props.onOpenEvents,onOpenMoreSettings:this.openExternalPropertiesDialog,isActive:o}),!i&&Object(v.jsxs)(b.a,{children:[Object(v.jsx)(f.a,{children:Object(v.jsx)(c.Trans,{id:"To edit the external layout, choose the scene in which it will be included:"})}),Object(v.jsx)(j.c,{justifyContent:"center",children:Object(v.jsx)(u.a,{label:Object(v.jsx)(c.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openExternalPropertiesDialog})}),Object(v.jsx)(j.c,{justifyContent:"flex-start",noMargin:!0,children:Object(v.jsx)(m.a,{tutorialId:"Intermediate-externals",label:"Watch the tutorial",renderIfNotFound:Object(v.jsx)(O.a,{helpPagePath:"/interface/events-editor/external-events"})})})]}),Object(v.jsx)(h.a,{title:Object(v.jsx)(c.Trans,{id:"Configure the external layout"}),helpTexts:[Object(v.jsx)(c.Trans,{id:'In order to see your objects in the scene, you need to add an action "Create objects from external layout" in your events sheet.'}),Object(v.jsx)(c.Trans,{id:"You can also launch a preview from this external layout, but remember that it will still create objects from the scene, as well as trigger its events. Make sure to disable any action loading the external layout before doing so to avoid having duplicate objects!"})],open:this.state.externalPropertiesDialogOpen,project:n,layoutName:this.getAssociatedLayoutName(),onChoose:this.saveExternalProperties,onClose:function(){return e.setState({externalPropertiesDialogOpen:!1})}})]}):Object(v.jsxs)("div",{children:["No external layout called ",r," found!"]})}}]),n}(l.Component),C=function(e){return Object(v.jsx)(y,Object(r.a)({},e))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return oe}));var r=n(18),o=n(4),a=n(9),i=n(8),s=n(10),c=n(13),l=n(14),u=n(12),d=n(1),p=n(808),b=n.n(p),h=n(1104),j=n(1082),f=n(530),g=(n(1145),n(1770)),m=n(1771),O=n(2094),v=n(1775),x=n(1776),y=n(597),C=n(1777),T=n(1083),E=n(723),k=n(1799),w=n(990),S=n(2112),P=n(492),I=n(567),_=n(35),A=n(1800),N=n(614),R=n(646),L=n(662),M=n(62),F=n(1801),D=n(521),B=n(2098),U=n(763),V=n(819),W=n(520),G=n(1802),z=n(1078),H=n(596),Y=n(86),q=n(992),X=n(43),K=n(1803),J=n(576),Z=n(1110),Q=n(7),$=e.gd,ee="Instances",te={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},ne={direction:"row",first:"properties",splitPercentage:23,second:{direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:77}},re={direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:70},oe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).openObjectsList=function(){i.editorMosaic&&(i.editorMosaic.openEditor("objects-list","end",75,"column")||i.setState({showObjectsListInfoBar:!0}))},i.openProperties=function(){i.editorMosaic&&(i.editorMosaic.openEditor("properties","start",25,"column")||i.setState({showPropertiesInfoBar:!0}))},i.openObjectGroupsList=function(){i.editorMosaic&&i.editorMosaic.openEditor("object-groups-list","end",75,"column")},i.toggleInstancesList=function(){i.editorMosaic&&(i.editorMosaic.openEditor("instances-list","end",75,"row")||i.setState({showInstancesInfoBar:!0}))},i.toggleLayersList=function(){i.editorMosaic&&(i.editorMosaic.openEditor("layers-list","end",75,"row")||i.setState({showLayersInfoBar:!0}))},i.toggleWindowMask=function(){i.setState({instancesEditorSettings:Object(o.a)(Object(o.a)({},i.state.instancesEditorSettings),{},{windowMask:!i.state.instancesEditorSettings.windowMask})})},i.toggleGrid=function(){i.setState({instancesEditorSettings:Object(o.a)(Object(o.a)({},i.state.instancesEditorSettings),{},{grid:!i.state.instancesEditorSettings.grid,snap:!i.state.instancesEditorSettings.grid})})},i.openSetupGrid=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.setState({setupGridOpen:e})},i.openSceneProperties=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.setState({scenePropertiesDialogOpen:e})},i.openObjectEditor=function(){if(i.instancesSelection.hasSelectedInstances()){var e=i.instancesSelection.getSelectedInstances()[0].getObjectName();i.editObjectByName(e)}},i.editLayerEffects=function(e){i.setState({editedLayer:e,editedLayerInitialTab:"effects"})},i.editLayer=function(e){i.setState({editedLayer:e,editedLayerInitialTab:"properties"})},i.editInstanceVariables=function(e){i.setState({variablesEditedInstance:e})},i.editLayoutVariables=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.setState({layoutVariablesDialogOpen:e})},i.editObject=function(e,t){var n=i.props.project;e?i.setState({editedObjectWithContext:{object:e,global:n.hasObjectNamed(e.getName())},editedObjectInitialTab:t||"properties"}):i.setState({editedObjectWithContext:null,editedObjectInitialTab:"properties"})},i.editObjectByName=function(e,t){var n=i.props,r=n.project,o=n.layout;o.hasObjectNamed(e)?i.editObject(o.getObject(e),t):r.hasObjectNamed(e)&&i.editObject(r.getObject(e),t)},i.editGroup=function(e){i.setState({editedGroup:e})},i.setInstancesEditorSettings=function(e){i.setState({instancesEditorSettings:e})},i.undo=function(){i.instancesSelection.clearSelection(),i.setState({history:Object(U.f)(i.state.history,i.props.initialInstances)},(function(){i.editor&&i.editor.forceRemount(),i.updateToolbar()}))},i.redo=function(){i.instancesSelection.clearSelection(),i.setState({history:Object(U.d)(i.state.history,i.props.initialInstances)},(function(){i.editor&&i.editor.forceRemount(),i.updateToolbar()}))},i._onObjectSelected=function(e){e?i.setState({selectedObjectNames:[e]}):i.setState({selectedObjectNames:[]})},i._createNewObjectAndInstanceUnderCursor=function(){i.editor&&(i.setState({newObjectInstanceSceneCoordinates:i.editor.getLastCursorSceneCoordinates()}),i._objectsList&&i._objectsList.setState({newObjectDialogOpen:!0}))},i._onAddInstanceUnderCursor=function(){if(i.state.selectedObjectNames.length&&i.editor){var e=i.state.selectedObjectNames[0],t=i.editor.getLastCursorSceneCoordinates();i._addInstance(t,e),i.setState({selectedObjectNames:[e]})}},i.addInstanceAtTheCenter=function(e){var t=Object(s.a)(i).editor;t&&i._addInstance([t.grid.viewPosition.viewX,t.grid.viewPosition.viewY],e)},i._addInstance=function(e,t){if(t&&i.editor){var n=i.editor.addInstances(e,[t]);i._onInstancesAdded(n)}},i._onInstancesAdded=function(e){e.forEach((function(e){var t=Object(K.a)(e,i.props.layout,i.props.project);t&&i.setState({additionalWorkInfoBar:t,showAdditionalWorkInfoBar:!0})})),i.setState({history:Object(U.e)(i.state.history,i.props.initialInstances,"ADD")},(function(){return i.updateToolbar()}))},i._onInstancesSelected=function(e){i.setState({selectedObjectNames:b()(e.map((function(e){return e.getObjectName()})))}),i.forceUpdatePropertiesEditor(),i.updateToolbar()},i._onInstanceDoubleClicked=function(e){i.editObjectByName(e.getObjectName())},i._onInstancesMoved=function(e){i.setState({history:Object(U.e)(i.state.history,i.props.initialInstances,"EDIT")},(function(){return i.forceUpdatePropertiesEditor()}))},i._onInstancesResized=function(e){i.setState({history:Object(U.e)(i.state.history,i.props.initialInstances,"EDIT")},(function(){return i.forceUpdatePropertiesEditor()}))},i._onInstancesRotated=function(e){i.setState({history:Object(U.e)(i.state.history,i.props.initialInstances,"EDIT")},(function(){return i.forceUpdatePropertiesEditor()}))},i._onInstancesModified=function(e){i.forceUpdate()},i._onSelectInstances=function(e,t){i.instancesSelection.selectInstances(e,t),i.editor&&i.editor.centerViewOn(e),i.forceUpdateInstancesList(),i.forceUpdatePropertiesEditor(),i.updateToolbar()},i._addInstanceForNewObject=function(e){var t=i.state.newObjectInstanceSceneCoordinates;t&&(i._addInstance(t,e),i.setState({newObjectInstanceSceneCoordinates:null}))},i._onObjectCreated=function(e){var t=Object(K.b)(e,i.props.layout,i.props.project);t&&i.setState({additionalWorkInfoBar:t,showAdditionalWorkInfoBar:!0}),i._addInstanceForNewObject(e.getName())},i._onRemoveLayer=function(e,t){i.setState({layerRemoveDialogOpen:!0,layerRemoved:e,onCloseLayerRemoveDialog:function(n,r){i.setState({layerRemoveDialogOpen:!1},(function(){n&&(null===r?(i.instancesSelection.unselectInstancesOnLayer(e),i.props.initialInstances.removeAllInstancesOnLayer(e)):i.props.initialInstances.moveInstancesToLayer(e,r)),t(n),i.editor&&i.editor.forceRemount(),i.forceUpdateLayersList(),i.forceUpdatePropertiesEditor(),i.updateToolbar()}))}})},i._onRenameLayer=function(e,t,n){i.props.initialInstances.moveInstancesToLayer(e,t),n(!0)},i._onDeleteObject=function(e){return function(t,n){var r=t.object,o=t.global,a=i.props,s=a.project,c=a.layout,l=_.b.showYesNoCancelDialog(e._({id:"Do you want to remove all references to this object in groups and events (actions and conditions using the object)?"}));if("cancel"!==l){var u="yes"===l;i.instancesSelection.unselectInstancesOfObject(r.getName()),o?$.WholeProjectRefactorer.globalObjectOrGroupRemoved(s,r.getName(),!1,u):$.WholeProjectRefactorer.objectOrGroupRemovedInLayout(s,c,r.getName(),!1,u),n(!0),i.forceUpdatePropertiesEditor(),i.updateToolbar()}}},i._canObjectOrGroupUseNewName=function(e){var t=i.props,n=t.project,r=t.layout;return r.hasObjectNamed(e)||n.hasObjectNamed(e)||r.getObjectGroups().has(e)||n.getObjectGroups().has(e)?(Object(M.c)("Another object or group with this name already exists.",{delayToNextTick:!0}),!1):!!$.Project.validateName(e)||(Object(M.c)("This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character.",{delayToNextTick:!0}),!1)},i._onRenameEditedObject=function(e){var t=i.state.editedObjectWithContext;t&&i._onRenameObject(t,e,(function(){}))},i._onRenameObject=function(e,t,n){var r=e.object,o=e.global,a=i.props,s=a.project,c=a.layout;r.getName()!==t&&(o?$.WholeProjectRefactorer.globalObjectOrGroupRenamed(s,r.getName(),t,!1):$.WholeProjectRefactorer.objectOrGroupRenamedInLayout(s,c,r.getName(),t,!1)),r.setName(t),n(!0)},i._onDeleteGroup=function(e,t){var n=e.group,r=e.global,o=i.props,a=o.project,s=o.layout,c=_.b.showConfirmDialog("Do you want to remove all references to this group in events (actions and conditions using the group)?");r?$.WholeProjectRefactorer.globalObjectOrGroupRemoved(a,n.getName(),!0,!!c):$.WholeProjectRefactorer.objectOrGroupRemovedInLayout(a,s,n.getName(),!0,!!c),t(!0)},i._onRenameGroup=function(e,t,n){var r=e.group,o=e.global,a=i.props,s=a.project,c=a.layout;r.getName()!==t&&(o?$.WholeProjectRefactorer.globalObjectOrGroupRenamed(s,r.getName(),t,!0):$.WholeProjectRefactorer.objectOrGroupRenamedInLayout(s,c,r.getName(),t,!0)),n(!0)},i.deleteSelection=function(){i.instancesSelection.getSelectedInstances().forEach((function(e){e.isLocked()||i.props.initialInstances.removeInstance(e)})),i.instancesSelection.clearSelection(),i.editor&&i.editor.clearHighlightedInstance(),i.setState({selectedObjectNames:[],history:Object(U.e)(i.state.history,i.props.initialInstances,"DELETE")},(function(){i.updateToolbar(),i.forceUpdatePropertiesEditor()}))},i.centerView=function(){i.editor&&i.editor.centerView()},i.setZoomFactor=function(e){i.editor&&i.editor.setZoomFactor(e)},i.zoomIn=function(){i.editor&&i.editor.zoomBy(.1)},i.zoomOut=function(){i.editor&&i.editor.zoomBy(-.1)},i._onContextMenu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.contextMenu&&i.contextMenu.open(e,t,{ignoreSelectedObjectNamesForContextMenu:!!n})},i.buildContextMenu=function(e,t,n){var o=[];return o=n.ignoreSelectedObjectNamesForContextMenu||0===i.state.selectedObjectNames.length?[].concat(Object(r.a)(o),[{label:e._({id:"Paste"}),click:function(){return i.paste()},enabled:I.b.has(ee),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:e._({id:"Insert new..."}),click:function(){return i._createNewObjectAndInstanceUnderCursor()}}]):[].concat(Object(r.a)(o),[{label:e._({id:"Copy"}),click:function(){return i.copySelection()},enabled:i.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+C"},{label:e._({id:"Cut"}),click:function(){return i.cutSelection()},enabled:i.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+X"},{label:e._({id:"Paste"}),click:function(){return i.paste()},enabled:I.b.has(ee),accelerator:"CmdOrCtrl+V"},{label:e._({id:"Duplicate"}),click:function(){i.duplicateSelection()}},{type:"separator"},{label:e._({id:"Delete"}),click:function(){return i.deleteSelection()},enabled:i.instancesSelection.hasSelectedInstances(),accelerator:"Delete"},{type:"separator"},{label:e._({id:"Edit object {0}",values:{0:Object(F.a)(i.state.selectedObjectNames[0],14)}}),click:function(){return i.editObjectByName(i.state.selectedObjectNames[0],"properties")}},{label:e._({id:"Edit object variables"}),click:function(){return i.editObjectByName(i.state.selectedObjectNames[0],"variables")}},{label:e._({id:"Edit behaviors"}),click:function(){return i.editObjectByName(i.state.selectedObjectNames[0],"behaviors")}},{label:e._({id:"Edit effects"}),click:function(){return i.editObjectByName(i.state.selectedObjectNames[0],"effects")}}]),o=[].concat(Object(r.a)(o),[{type:"separator"},{label:e._({id:"Open scene events"}),click:function(){return i.props.onOpenEvents(t.getName())}},{label:e._({id:"Open scene properties"}),click:function(){return i.openSceneProperties(!0)}}])},i.copySelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useLastCursorPosition,n=i.instancesSelection.getSelectedInstances().map((function(e){return Object(P.b)(e)}));if(i.editor){var r=t?i.editor.getLastCursorSceneCoordinates():i.editor.getLastContextMenuSceneCoordinates();I.b.set(ee,{x:r[0],y:r[1],instances:n})}},i.cutSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.copySelection(e),i.deleteSelection()},i.duplicateSelection=function(){var e=i.instancesSelection.getSelectedInstances().map((function(e){return Object(P.b)(e)}));if(i.editor){var t=e.map((function(e){var t=new $.InitialInstance;Object(P.c)(t,e),t.setX(t.getX()+2*Z.a),t.setY(t.getY()+2*Z.a);var n=i.props.initialInstances.insertInitialInstance(t).resetPersistentUuid();return t.delete(),n}));i._onInstancesAdded(t),i.instancesSelection.clearSelection(),i.instancesSelection.selectInstances(t,!0)}},i.paste=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useLastCursorPosition;if(i.editor){var n=t?i.editor.getLastCursorSceneCoordinates():i.editor.getLastContextMenuSceneCoordinates(),r=I.b.get(ee),o=I.a.extractArrayProperty(r,"instances"),a=I.a.extractNumberProperty(r,"x"),s=I.a.extractNumberProperty(r,"y");if(null!==a&&null!==s&&null!==o){var c=o.map((function(e){var t=new $.InitialInstance;Object(P.c)(t,e),t.setX(t.getX()-a+n[0]),t.setY(t.getY()-s+n[1]);var r=i.props.initialInstances.insertInitialInstance(t).resetPersistentUuid();return t.delete(),r}));i._onInstancesAdded(c),i.instancesSelection.clearSelection(),i.instancesSelection.selectInstances(c,!0)}}},i.updateBehaviorsSharedData=function(){var e=i.props,t=e.layout,n=e.project;t.updateBehaviorsSharedData(n)},i.forceUpdateObjectsList=function(){i._objectsList&&i._objectsList.forceUpdateList()},i.forceUpdateLayersList=function(){i._layersList&&i._layersList.forceUpdate()},i.forceUpdateInstancesList=function(){i._instancesList&&i._instancesList.forceUpdate()},i.forceUpdatePropertiesEditor=function(){i._propertiesEditor&&i._propertiesEditor.forceUpdate()},i.reloadResourcesFor=function(e){var t=i.props.project,n=new $.ResourcesInUseHelper;e.exposeResources(n);var r=n.getAllImages().toNewVectorString().toJSArray();n.delete(),V.a.loadTextures(t,r,(function(){}),(function(){i.editor&&i.editor.resetInstanceRenderersFor(e.getName())}))},i._getAllObjectTags=function(){var e=i.props,t=e.project,n=e.layout,r=new Set;return Object(W.c)(t,n).allObjectsList.forEach((function(e){var t=e.object;Object(H.c)(t.getTags()).forEach((function(e){return r.add(e)}))})),Array.from(r)},i._buildObjectTagsMenuTemplate=function(e){var t=i.state.selectedObjectTags;return Object(H.a)({noTagLabel:e._({id:"No tags - add a tag to an object first"}),getAllTags:i._getAllObjectTags,selectedTags:t,onChange:function(e){i.setState({selectedObjectTags:e})}})},i.instancesSelection=new E.a,i.state={setupGridOpen:!1,scenePropertiesDialogOpen:!1,layersListOpen:!1,layerRemoveDialogOpen:!1,onCloseLayerRemoveDialog:null,layerRemoved:null,editedLayer:null,editedLayerInitialTab:"properties",editedObjectWithContext:null,editedObjectInitialTab:"properties",variablesEditedInstance:null,selectedObjectNames:[],newObjectInstanceSceneCoordinates:null,editedGroup:null,instancesEditorSettings:e.getInitialInstancesEditorSettings(),history:Object(U.c)(e.initialInstances,{historyMaxSize:50}),showObjectsListInfoBar:!1,layoutVariablesDialogOpen:!1,showPropertiesInfoBar:!1,showLayersInfoBar:!1,showInstancesInfoBar:!1,showAdditionalWorkInfoBar:!1,additionalWorkInfoBar:{identifier:"default-additional-work",message:"",touchScreenMessage:""},selectedObjectTags:[]},i}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e,t){this.state.history!==t.history&&this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}},{key:"getInstancesEditorSettings",value:function(){return this.state.instancesEditorSettings}},{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar(Object(Q.jsx)(S.a,{instancesSelection:this.instancesSelection,openObjectsList:this.openObjectsList,openObjectGroupsList:this.openObjectGroupsList,openProperties:this.openProperties,deleteSelection:this.deleteSelection,toggleInstancesList:this.toggleInstancesList,toggleLayersList:this.toggleLayersList,toggleWindowMask:this.toggleWindowMask,toggleGrid:this.toggleGrid,isGridShown:function(){return!!e.state.instancesEditorSettings.grid},isWindowMaskShown:function(){return!!e.state.instancesEditorSettings.windowMask},openSetupGrid:this.openSetupGrid,setZoomFactor:this.setZoomFactor,centerView:this.centerView,canUndo:Object(U.b)(this.state.history),canRedo:Object(U.a)(this.state.history),undo:this.undo,redo:this.redo,zoomIn:this.zoomIn,zoomOut:this.zoomOut,onOpenSettings:this.openSceneProperties}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||(this.instancesSelection.clearSelection(),this.openSetupGrid(!1),this.editInstanceVariables(null),this.openSceneProperties(!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.layout,o=t.initialInstances,a=t.resourceSources,i=t.onChooseResource,s=t.resourceExternalEditors,c=t.isActive,l=this.instancesSelection.getSelectedInstances(),p=this.state.variablesEditedInstance?this.state.variablesEditedInstance.getObjectName():null,b=p?Object(D.a)(n,r,p):null,E={properties:{type:"secondary",title:{id:"Properties"},renderEditor:function(){return Object(Q.jsx)(u.I18n,{children:function(t){var o=t.i18n;return Object(Q.jsx)(g.a,{i18n:o,project:n,layout:r,instances:l,editInstanceVariables:e.editInstanceVariables,onEditObjectByName:e.editObjectByName,onInstancesModified:function(t){return e.forceUpdateInstancesList()},ref:function(t){return e._propertiesEditor=t},unsavedChanges:e.props.unsavedChanges,historyHandler:{undo:e.undo,redo:e.redo,canUndo:function(){return Object(U.b)(e.state.history)},canRedo:function(){return Object(U.a)(e.state.history)},saveToHistory:function(){return e.setState({history:Object(U.e)(e.state.history,e.props.initialInstances)})}}})}})}},"layers-list":{type:"secondary",title:{id:"Layers"},renderEditor:function(){return Object(Q.jsx)(O.a,{project:n,resourceSources:a,resourceExternalEditors:s,onChooseResource:i,onEditLayerEffects:e.editLayerEffects,onEditLayer:e.editLayer,onRemoveLayer:e._onRemoveLayer,onRenameLayer:e._onRenameLayer,layersContainer:r,unsavedChanges:e.props.unsavedChanges,ref:function(t){return e._layersList=t},hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps})}},"instances-list":{type:"secondary",title:{id:"Instances list"},renderEditor:function(){return Object(Q.jsx)(m.a,{instances:o,selectedInstances:l,onSelectInstances:e._onSelectInstances,ref:function(t){return e._instancesList=t}})}},"instances-editor":{type:"primary",noTitleBar:!0,renderEditor:function(){return Object(Q.jsx)(A.a,{project:n,layout:r,initialInstances:o,instancesEditorSettings:e.state.instancesEditorSettings,onChangeInstancesEditorSettings:e.setInstancesEditorSettings,instancesSelection:e.instancesSelection,onDeleteSelection:e.deleteSelection,onInstancesAdded:e._onInstancesAdded,onInstancesSelected:e._onInstancesSelected,onInstanceDoubleClicked:e._onInstanceDoubleClicked,onInstancesMoved:e._onInstancesMoved,onInstancesResized:e._onInstancesResized,onInstancesRotated:e._onInstancesRotated,selectedObjectNames:e.state.selectedObjectNames,onContextMenu:e._onContextMenu,onCopy:function(){return e.copySelection({useLastCursorPosition:!0})},onCut:function(){return e.cutSelection({useLastCursorPosition:!0})},onPaste:function(){return e.paste({useLastCursorPosition:!0})},onUndo:e.undo,onRedo:e.redo,onZoomOut:e.zoomOut,onZoomIn:e.zoomIn,wrappedEditorRef:function(t){e.editor=t},pauseRendering:!c})}},"objects-list":{type:"secondary",title:{id:"Objects"},toolbarControls:[Object(Q.jsx)(u.I18n,{children:function(t){t.i18n;return Object(Q.jsx)(G.a,{buildMenuTemplate:function(t){return e._buildObjectTagsMenuTemplate(t)}})}},"tags"),Object(Q.jsx)(z.a,{},"close")],renderEditor:function(){return Object(Q.jsx)(u.I18n,{children:function(t){var o=t.i18n;return Object(Q.jsx)(h.a,{getThumbnail:f.a.getThumbnail.bind(f.a),project:n,objectsContainer:r,layout:r,events:r.getEvents(),resourceSources:a,resourceExternalEditors:s,onChooseResource:i,selectedObjectNames:e.state.selectedObjectNames,onEditObject:e.props.onEditObject||e.editObject,onDeleteObject:e._onDeleteObject(o),canRenameObject:e._canObjectOrGroupUseNewName,onObjectCreated:e._onObjectCreated,onObjectSelected:e._onObjectSelected,onRenameObject:e._onRenameObject,onAddObjectInstance:e.addInstanceAtTheCenter,onObjectPasted:function(){return e.updateBehaviorsSharedData()},selectedObjectTags:e.state.selectedObjectTags,onChangeSelectedObjectTags:function(t){return e.setState({selectedObjectTags:t})},getAllObjectTags:e._getAllObjectTags,ref:function(t){return e._objectsList=t},unsavedChanges:e.props.unsavedChanges,hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps})}})}},"object-groups-list":{type:"secondary",title:{id:"Object Groups"},renderEditor:function(){return Object(Q.jsx)(j.a,{globalObjectGroups:n.getObjectGroups(),objectGroups:r.getObjectGroups(),onEditGroup:e.editGroup,onDeleteGroup:e._onDeleteGroup,onRenameGroup:e._onRenameGroup,canRenameGroup:e._canObjectOrGroupUseNewName,unsavedChanges:e.props.unsavedChanges})}}};return Object(Q.jsxs)("div",{style:te.container,children:[Object(Q.jsx)(B.a,{project:n,layout:r,onEditObject:this.props.onEditObject||this.editObject,onEditObjectVariables:function(t){e.editObject(t,"variables")},onOpenSceneProperties:this.openSceneProperties,onOpenSceneVariables:this.editLayoutVariables,onEditObjectGroup:this.editGroup,onEditLayerEffects:this.editLayerEffects,onEditLayer:this.editLayer}),Object(Q.jsx)(Y.a,{children:function(t){return Object(Q.jsx)(X.a.Consumer,{children:function(n){var r=n.getDefaultEditorMosaicNode,o=n.setDefaultEditorMosaicNode;return Object(Q.jsx)(N.a,{editors:E,limitToOneSecondaryEditor:"small"===t,initialNodes:"small"===t?r("scene-editor-small")||re:r("scene-editor")||ne,onPersistNodes:function(e){return o("small"===t?"scene-editor-small":"scene-editor",e)},ref:function(t){return e.editorMosaic=t}})}})}}),this.state.editedObjectWithContext&&Object(Q.jsx)(C.a,{open:!0,object:this.state.editedObjectWithContext.object,initialTab:this.state.editedObjectInitialTab,project:n,resourceSources:a,resourceExternalEditors:s,onChooseResource:i,onComputeAllVariableNames:function(){var t=e.state.editedObjectWithContext;return t?J.a.findAllObjectVariables(n.getCurrentPlatform(),n,r,t.object):[]},onCancel:function(){e.state.editedObjectWithContext&&e.reloadResourcesFor(e.state.editedObjectWithContext.object),e.editObject(null)},canRenameObject:this._canObjectOrGroupUseNewName,onRename:function(t){e._onRenameEditedObject(t)},onApply:function(){e.state.editedObjectWithContext&&e.reloadResourcesFor(e.state.editedObjectWithContext.object),e.editObject(null),e.updateBehaviorsSharedData(),e.forceUpdateObjectsList(),e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges()},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,onUpdateBehaviorsSharedData:function(){return e.updateBehaviorsSharedData()}}),!!this.state.editedGroup&&Object(Q.jsx)(T.a,{project:n,group:this.state.editedGroup,objectsContainer:r,globalObjectsContainer:n,onCancel:function(){return e.editGroup(null)},onApply:function(){return e.editGroup(null)}}),Object(Q.jsx)(R.a,{identifier:"instance-drag-n-drop-explanation",message:Object(Q.jsx)(u.Trans,{id:"Drag and Drop the object to the scene or use the right click menu to add an instance of it."}),touchScreenMessage:Object(Q.jsx)(u.Trans,{id:"Drag and Drop the object icon to the scene or long press to show options to edit the object."}),show:!!this.state.selectedObjectNames.length}),Object(Q.jsx)(R.a,{identifier:"objects-panel-explanation",message:Object(Q.jsx)(u.Trans,{id:"Objects panel is already opened: use it to add and edit objects."}),show:!!this.state.showObjectsListInfoBar}),Object(Q.jsx)(R.a,{identifier:"instance-properties-panel-explanation",message:Object(Q.jsx)(u.Trans,{id:"Properties panel is already opened. After selecting an instance on the scene, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar}),Object(Q.jsx)(R.a,{identifier:"layers-panel-explanation",message:Object(Q.jsx)(u.Trans,{id:"Layers panel is already opened. You can add new layers and apply effects on them from this panel."}),show:!!this.state.showLayersInfoBar}),Object(Q.jsx)(R.a,{identifier:"instances-panel-explanation",message:Object(Q.jsx)(u.Trans,{id:"Instances panel is already opened. You can search instances in the scene and click one to move the view to it."}),show:!!this.state.showInstancesInfoBar}),this.state.setupGridOpen&&Object(Q.jsx)(k.a,{instancesEditorSettings:this.state.instancesEditorSettings,onChangeInstancesEditorSettings:this.setInstancesEditorSettings,onCancel:function(){return e.openSetupGrid(!1)},onApply:function(){return e.openSetupGrid(!1)}}),!!this.state.variablesEditedInstance&&!!b&&Object(Q.jsx)(y.a,{open:!0,variablesContainer:this.state.variablesEditedInstance.getVariables(),inheritedVariablesContainer:b.getVariables(),onCancel:function(){return e.editInstanceVariables(null)},onApply:function(){return e.editInstanceVariables(null)},emptyPlaceholderTitle:Object(Q.jsx)(u.Trans,{id:"Add your first instance variable"}),emptyPlaceholderDescription:Object(Q.jsx)(u.Trans,{id:"Instance variables overwrite the default values of the variables of the object."}),helpPagePath:"/all-features/variables/instance-variables",title:Object(Q.jsx)(u.Trans,{id:"Instance Variables"}),onEditObjectVariables:b?function(){e.editObject(b,"variables"),e.editInstanceVariables(null)}:void 0,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,onComputeAllVariableNames:function(){var t=e.state.variablesEditedInstance;if(!t)return[];var o=Object(D.a)(n,r,t.getObjectName());return o?J.a.findAllObjectVariables(n.getCurrentPlatform(),n,r,o):[]}}),!!this.state.layerRemoveDialogOpen&&Object(Q.jsx)(v.a,{open:!0,layersContainer:r,layerRemoved:this.state.layerRemoved,onClose:this.state.onCloseLayerRemoveDialog}),!!this.state.editedLayer&&Object(Q.jsx)(x.a,{project:n,resourceSources:a,onChooseResource:i,resourceExternalEditors:s,layer:this.state.editedLayer,initialInstances:o,initialTab:this.state.editedLayerInitialTab,onClose:function(){return e.setState({editedLayer:null})},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),this.state.scenePropertiesDialogOpen&&Object(Q.jsx)(w.a,{open:!0,project:n,layout:r,onClose:function(){return e.openSceneProperties(!1)},onApply:function(){return e.openSceneProperties(!1)},onEditVariables:function(){return e.editLayoutVariables(!0)},onOpenMoreSettings:this.props.onOpenMoreSettings}),!!this.state.layoutVariablesDialogOpen&&Object(Q.jsx)(q.a,{open:!0,project:n,layout:r,onApply:function(){return e.editLayoutVariables(!1)},onClose:function(){return e.editLayoutVariables(!1)},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),Object(Q.jsx)(u.I18n,{children:function(t){var n=t.i18n;return Object(Q.jsxs)(d.Fragment,{children:[Object(Q.jsx)(R.a,{show:e.state.showAdditionalWorkInfoBar,identifier:e.state.additionalWorkInfoBar.identifier,message:n._(e.state.additionalWorkInfoBar.message),touchScreenMessage:n._(e.state.additionalWorkInfoBar.touchScreenMessage)}),Object(Q.jsx)(L.a,{ref:function(t){return e.contextMenu=t},buildMenuTemplate:function(t,n){return e.buildContextMenu(t,r,n)}})]})}})]})}}]),n}(d.Component);oe.defaultProps={setToolbar:function(){}}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return R}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n.n(c),u=n(511),d=n(664),p=n(488),b=n(501),h=n(2090),j=n(486),f=n(567),g=n(35),m=n(492),O=n(62),v=n(520),x=n(1760),y=n(630),C=n(1761),T=n(596),E=n(525),k=n(7),w=e.gd,S={listContainer:{flex:1}},P={Sprite:"NewSprite","TiledSpriteObject::TiledSprite":"NewTiledSprite","ParticleSystem::ParticleEmitter":"NewParticlesEmitter","PanelSpriteObject::PanelSprite":"NewPanelSprite","PrimitiveDrawing::Drawer":"NewShapePainter","TextObject::Text":"NewText","BBText::BBText":"NewBBText","BitmapText::BitmapTextObject":"NewBitmapText","TextEntryObject::TextEntry":"NewTextEntry","TileMap::TileMap":"NewTileMap","MyDummyExtension::DummyObject":"NewDummyObject","Lighting::LightObject":"NewLight","TextInput::TextInputObject":"NewTextInput","Video::VideoObject":"NewVideo"},I="GD_OBJECT_WITH_CONTEXT",_=function(e){return e.object.getName()},A=function(e){return e.global},N=function(e){var t="";if(f.b.has(x.a)){var n=f.b.get(x.a);t=f.a.extractStringProperty(n,"name")||""}return e?"Paste "+t+" as a Global Object":"Paste "+t},R=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._displayedObjectWithContextsList=[],e.state={newObjectDialogOpen:!1,renamedObjectWithContext:null,searchText:"",tagEditedObject:null},e.addObject=function(t){var n=e.props,r=n.project,o=n.objectsContainer,a=n.onEditObject,i=n.onObjectCreated,s=n.onObjectSelected,c=Object(j.a)(P[t]||"NewObject",(function(e){return o.hasObjectNamed(e)||r.hasObjectNamed(e)})),l=o.insertNewObject(r,t,c,o.getObjectsCount());l.setTags(Object(T.b)(e.props.selectedObjectTags)),e.setState({newObjectDialogOpen:!1},(function(){a&&(a(l),i(l),s(c))}))},e._onObjectAddedFromAsset=function(t){var n=e.props.onObjectCreated;t.setTags(Object(T.b)(e.props.selectedObjectTags)),n(t),e.forceUpdateList()},e.onAddNewObject=function(){e.setState({newObjectDialogOpen:!0})},e._deleteObject=function(t,n){var r=n.object,o=n.global,a=e.props,i=a.project,s=a.objectsContainer;g.b.showConfirmDialog(t._({id:"Are you sure you want to remove this object? This can't be undone."}))&&e.props.onDeleteObject(n,(function(t){t&&(o?i.removeObject(r.getName()):s.removeObject(r.getName()),e._onObjectModified(!1))}))},e._copyObject=function(e){var t=e.object;f.b.set(x.a,{type:t.getType(),name:t.getName(),object:Object(m.b)(t)})},e._cutObject=function(t,n){e._copyObject(n),e._deleteObject(t,n)},e._duplicateObject=function(t){e._copyObject(t),e._pasteAndRename(t)},e._pasteAndRename=function(t){e._editName(e._paste(t))},e._paste=function(t){if(!f.b.has(x.a))return null;var n=t.object,r=t.global,o=f.b.get(x.a),a=f.a.extractObjectProperty(o,"object"),i=f.a.extractStringProperty(o,"name"),s=f.a.extractStringProperty(o,"type");if(i&&s&&a){var c=e.props,l=c.project,u=c.objectsContainer,d=c.onObjectPasted,p=Object(j.a)(i,(function(e){return u.hasObjectNamed(e)||l.hasObjectNamed(e)}),""),b=r?l.insertNewObject(l,s,p,l.getObjectPosition(n.getName())+1):u.insertNewObject(l,s,p,u.getObjectPosition(n.getName())+1);return Object(m.c)(b,a,"unserializeFrom",l),b.setName(p),e._onObjectModified(!1),d&&d(b),{object:b,global:r}}},e._editName=function(t){e.setState({renamedObjectWithContext:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._rename=function(t,n){var r=t.object;e.setState({renamedObjectWithContext:null}),_(t)!==n&&e.props.canRenameObject(n)&&e.props.onRenameObject(t,n,(function(t){t&&(r.setName(n),e._onObjectModified(!1))}))},e._canMoveSelectionTo=function(t){var n=e._displayedObjectWithContextsList.filter((function(t){return-1!==e.props.selectedObjectNames.indexOf(t.object.getName())}));if(n.every((function(e){return e.global===t.global})))return!0;var r=e._displayedObjectWithContextsList.filter((function(e){return e.global}));return!(!n.every((function(e){return!e.global}))||!t.global||0!==r.indexOf(t))},e._moveSelectionTo=function(t){var n=e.props,r=n.project,o=n.objectsContainer,a=e._displayedObjectWithContextsList.filter((function(e){return e.global})),i=e._displayedObjectWithContextsList.filter((function(e){return!e.global})),s=t.global&&0===a.indexOf(t);e._displayedObjectWithContextsList.filter((function(t){return-1!==e.props.selectedObjectNames.indexOf(t.object.getName())})).forEach((function(n){var a,c,l;if(n.global===t.global)c=(a=t.global?r:o).getObjectPosition(n.object.getName()),l=a.getObjectPosition(t.object.getName());else{if(n.global||!s)return;c=(a=o).getObjectPosition(n.object.getName()),l=e.state.searchText?a.getObjectPosition(i[i.length-1].object.getName())+1:a.getObjectsCount()}l>c&&(l-=1),a.moveObject(c,l)})),e._onObjectModified(!0)},e._setAsGlobalObject=function(t){var n=t.object,r=e.props,o=r.project,a=r.objectsContainer,i=n.getName();a.hasObjectNamed(i)&&(o.hasObjectNamed(i)?Object(O.c)("A global object with this name already exists. Please change the object name before setting it as a global object",{delayToNextTick:!0}):g.b.showConfirmDialog("This object will be loaded and available in all the scenes. This is only recommended for objects that you reuse a lot and can't be undone. Make this object global?")&&(a.moveObjectToAnotherContainer(i,o,o.getObjectsCount()),e._onObjectModified(!0)))},e.forceUpdateList=function(){e.forceUpdate(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._openEditTagDialog=function(t){e.setState({tagEditedObject:t})},e._changeObjectTags=function(t,n){t.setTags(Object(T.b)(n)),e._onObjectModified(!0)},e._selectObject=function(t){e.props.onObjectSelected(t?t.object.getName():"")},e._getObjectThumbnail=function(t){return e.props.getThumbnail(e.props.project,t.object)},e._renderObjectMenuTemplate=function(t){return function(n,r){var o=n.object,a=w.MetadataProvider.getObjectMetadata(e.props.project.getCurrentPlatform(),o.getType());return[{label:t._({id:"Copy"}),click:function(){return e._copyObject(n)}},{label:t._({id:"Cut"}),click:function(){return e._cutObject(t,n)}},{label:N(n.global),enabled:f.b.has(x.a),click:function(){return e._paste(n)}},{label:t._({id:"Duplicate"}),click:function(){return e._duplicateObject(n)}},{type:"separator"},{label:t._({id:"Edit object"}),click:function(){return e.props.onEditObject(o)}},{label:t._({id:"Edit object variables"}),click:function(){return e.props.onEditObject(o,"variables")}},{label:t._({id:"Edit behaviors"}),click:function(){return e.props.onEditObject(o,"behaviors")}},{label:t._({id:"Edit effects"}),click:function(){return e.props.onEditObject(o,"effects")},enabled:!a.isUnsupportedBaseObjectCapability("effect")},{type:"separator"},{label:t._({id:"Rename"}),click:function(){return e._editName(n)}},{label:t._({id:"Set as global object"}),enabled:!A(n),click:function(){return e._setAsGlobalObject(n)}},{label:t._({id:"Tags"}),submenu:Object(T.a)({noTagLabel:"No tags",getAllTags:e.props.getAllObjectTags,selectedTags:Object(T.c)(o.getTags()),onChange:function(t){e._changeObjectTags(o,t)},editTagsLabel:"Add/edit tags...",onEditTags:function(){return e._openEditTagDialog(o)}})},{label:t._({id:"Delete"}),click:function(){return e._deleteObject(t,n)}},{type:"separator"},{label:t._({id:"Add instance to the scene"}),click:function(){return e.props.onAddObjectInstance(o.getName())}},{type:"separator"},{label:t._({id:"Add a new object..."}),click:function(){return e.onAddNewObject()}}]}},e._onObjectModified=function(t){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),t?e.forceUpdateList():e.forceUpdate()},e}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.newObjectDialogOpen!==t.newObjectDialogOpen||this.state.renamedObjectWithContext!==t.renamedObjectWithContext||this.state.searchText!==t.searchText||this.state.tagEditedObject!==t.tagEditedObject||(this.props.selectedObjectNames!==e.selectedObjectNames||this.props.selectedObjectTags!==e.selectedObjectTags||(this.props.project!==e.project||this.props.objectsContainer!==e.objectsContainer))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.layout,o=t.objectsContainer,a=t.resourceSources,i=t.onChooseResource,c=t.resourceExternalEditors,l=t.selectedObjectTags,j=t.events,f=this.state,g=f.searchText,m=f.tagEditedObject,O=Object(v.c)(n,o);this._displayedObjectWithContextsList=Object(v.g)(O.allObjectsList,{searchText:g,selectedTags:l});var x=this._displayedObjectWithContextsList.filter((function(t){return-1!==e.props.selectedObjectNames.indexOf(t.object.getName())})),T=this._displayedObjectWithContextsList.find(Object(v.i)(this.state.renamedObjectWithContext)),w=n.ptr+";"+o.ptr;return Object(k.jsxs)(p.a,{maxWidth:!0,children:[Object(k.jsx)(y.a,{tags:this.props.selectedObjectTags,onChange:this.props.onChangeSelectedObjectTags}),Object(k.jsx)("div",{style:S.listContainer,children:Object(k.jsx)(u.a,{children:function(t){var n=t.height,r=t.width;return Object(k.jsx)(s.I18n,{children:function(t){var o=t.i18n;return Object(k.jsx)(d.a,{ref:function(t){return e.sortableList=t},fullList:e._displayedObjectWithContextsList,width:r,height:n,getItemName:_,getItemThumbnail:e._getObjectThumbnail,getItemId:function(e,t){return"object-item-"+t},isItemBold:A,onEditItem:function(t){return e.props.onEditObject(t.object)},onAddNewItem:e.onAddNewObject,addNewItemLabel:Object(k.jsx)(s.Trans,{id:"Add a new object"}),addNewItemId:"add-new-object-button",selectedItems:x,onItemSelected:e._selectObject,renamedItem:T,onRename:e._rename,buildMenuTemplate:e._renderObjectMenuTemplate(o),onMoveSelectionToItem:e._moveSelectionTo,canMoveSelectionToItem:e._canMoveSelectionTo,scaleUpItemIconWhenSelected:"touch"===Object(E.b)(),reactDndType:I},w)}})}})}),Object(k.jsx)(b.a,{value:g,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})},aspect:"integrated-search-bar",placeholder:{id:"Search objects"}}),this.state.newObjectDialogOpen&&Object(k.jsx)(h.a,{onClose:function(){return e.setState({newObjectDialogOpen:!1})},onCreateNewObject:this.addObject,onObjectAddedFromAsset:this._onObjectAddedFromAsset,project:n,layout:r,objectsContainer:o,events:j,resourceSources:a,onChooseResource:i,resourceExternalEditors:c}),m&&Object(k.jsx)(C.a,{tagsString:m.getTags(),onEdit:function(t){e._changeObjectTags(m,t),e._openEditTagDialog(null)},onCancel:function(){return e._openEditTagDialog(null)}})]})}}]),n}(l.a.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=null,o=function(){return r||(r=e.CSS.supports("image-rendering: crisp-edges")?"crisp-edges":"pixelated")}}).call(this,n(28))},function(e,t,n){"use strict";var r=n(26),o=n(12),a=n(1),i=n.n(a),s=n(30),c=n(80),l=n(616),u=n(920),d=n.n(u),p=n(860),b=n.n(p),h=n(1759),j=n.n(h),f=n(857),g=n.n(f),m=n(469),O=n(136),v=n(463),x=n(139),y=n(7),C={timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:8}};t.a=function(e){var t=e.resourceNames,n=e.getImageResourceSource,a=e.isImageResourceSmooth,u=e.project,p=e.timeBetweenFrames,h=e.onChangeTimeBetweenFrames,f=e.isLooping,T=e.hideCheckeredBackground,E=e.hideControls,k=e.initialZoom,w=e.fixedHeight,S=e.fixedWidth,P=Object(x.a)(),I=i.a.useState(Math.round(1/p)),_=Object(r.a)(I,2),A=_[0],N=_[1],R=i.a.useRef(),L=i.a.useRef(),M=i.a.useRef(0),F=i.a.useRef(p),D=i.a.useRef(!1),B=i.a.useRef(0),U=i.a.useRef(f);i.a.useEffect((function(){p!==F.current&&(F.current=p,N(Math.round(1/p))),f!==U.current&&(U.current=f)}),[p,f]);var V=function(){B.current=0,M.current=0,D.current=!1,P()},W=i.a.useCallback((function(e){var n=L.current,r=B.current,o=M.current,a=F.current,i=D.current,s=U.current,c=t.length;if(n){var l=r,u=o+(i?0:(e-n)/1e3);if(u>a){var d=Math.floor(u/a);l+=d,(u-=d*a)<0&&(u=0)}l>=c&&(l=s?l%c:c-1),l<0&&(l=0),B.current=l,M.current=u,r!==l&&P()}R.current=requestAnimationFrame(W),L.current=e}),[P,t]);i.a.useEffect((function(){return R.current=requestAnimationFrame(W),function(){R.current&&cancelAnimationFrame(R.current)}}),[W]),B.current>=t.length&&(B.current=0);var G=t[B.current];return Object(y.jsxs)(s.a,{expand:!0,noOverflowParent:!0,noMargin:!0,children:[Object(y.jsx)(l.a,{resourceName:G,imageResourceSource:n(G),isImageResourceSmooth:a(G),initialZoom:k,project:u,hideCheckeredBackground:T,hideControls:E,fixedHeight:w,fixedWidth:S}),!E&&Object(y.jsxs)(c.b,{noMargin:!0,alignItems:"center",children:[Object(y.jsx)(v.a,{children:Object(y.jsx)(o.Trans,{id:"FPS:"})}),Object(y.jsx)(m.b,{margin:"none",value:A,onChange:function(e,t){var n=parseFloat(t);if(n>0){N(n);var r=parseFloat((1/n).toFixed(4));F.current=r,h&&h(r),V()}},id:"direction-time-between-frames",type:"number",step:1,min:1,max:100,style:C.timeField,autoFocus:!0}),Object(y.jsx)(g.a,{style:C.timeIcon}),Object(y.jsx)(m.b,{margin:"none",value:F.current,onChange:function(e,t){var n=parseFloat(t);n>0&&(N(Math.round(1/n)),F.current=n,h&&h(n),V())},id:"direction-time-between-frames",type:"number",step:.005,precision:2,min:.01,max:5,style:C.timeField}),Object(y.jsx)(O.a,{icon:Object(y.jsx)(d.a,{}),label:Object(y.jsx)(o.Trans,{id:"Replay"}),onClick:V}),Object(y.jsx)(O.a,{icon:D.current?Object(y.jsx)(b.a,{}):Object(y.jsx)(j.a,{}),label:D.current?"Play":"Pause",onClick:function(){D.current=!D.current,P()}})]})]})}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(9),o=n(8),a=n(88),i=5,s=function(){function e(t){var n=this,o=t.onDelete,s=t.onMove,c=t.onCopy,l=t.onCut,u=t.onPaste,d=t.onUndo,p=t.onRedo,b=t.onSearch,h=t.onZoomOut,j=t.onZoomIn;Object(r.a)(this,e),this._isControlPressed=function(){return n.metaPressed||n.rawCtrlPressed},this._onKeyDown=function(e){if(n.isFocused){var t=!1;e.metaKey&&(n.metaPressed=!0),e.altKey&&(n.altPressed=!0),17===e.which&&(n.rawCtrlPressed=!0),16===e.which&&(n.shiftPressed=!0),32===e.which&&(n.spacePressed=!0);if(!e.target||!e.target.closest('textarea, input, [contenteditable="true"]'))return n.onMove&&(38===e.which?n.shiftPressed?n.onMove(0,-i):n.onMove(0,-1):40===e.which?n.shiftPressed?n.onMove(0,i):n.onMove(0,1):37===e.which?n.shiftPressed?n.onMove(-i,0):n.onMove(-1,0):39===e.which&&(n.shiftPressed?n.onMove(i,0):n.onMove(1,0))),8!==e.which&&46!==e.which||(n.onDelete(),t=!0),n._isControlPressed()&&67===e.which&&n.onCopy(),n._isControlPressed()&&88===e.which&&n.onCut(),n._isControlPressed()&&86===e.which&&n.onPaste(),n._isControlPressed()&&90===e.which&&(n.shiftPressed?n.onRedo():n.onUndo()),n._isControlPressed()&&89===e.which&&n.onRedo(),n._isControlPressed()&&70===e.which&&n.onSearch(),n._isControlPressed()&&189===e.which&&n.onZoomOut(),109===e.which&&n.onZoomOut(),n._isControlPressed()&&187===e.which&&n.onZoomIn(),107===e.which&&n.onZoomIn(),t?(e.preventDefault&&e.preventDefault(),!1):void 0}},this._onKeyUp=function(e){e.metaKey||(n.metaPressed=!1),e.altKey||(n.altPressed=!1),17===e.which&&(n.rawCtrlPressed=!1),16===e.which&&(n.shiftPressed=!1),32===e.which&&(n.spacePressed=!1);var t=!1;if(8!==e.which&&46!==e.which||(t=!0),t)return e.preventDefault&&e.preventDefault(),!1},this._onMouseDown=function(e){n.isFocused&&(Object(a.e)()||(1===e.button?n.mouseMidButtonPressed=!0:n.mouseMidButtonPressed=!1))},this._onMouseUp=function(e){n.isFocused&&(Object(a.e)()||1!==e.button||(n.mouseMidButtonPressed=!1))},this._onKeyPress=function(e){},this._noop=function(){},this.onDelete=o||this._noop,this.onMove=s||this._noop,this.onCopy=c||this._noop,this.onCut=l||this._noop,this.onPaste=u||this._noop,this.onUndo=d||this._noop,this.onRedo=p||this._noop,this.onZoomOut=h||this._noop,this.onZoomIn=j||this._noop,this.onSearch=b||this._noop,this.isFocused=!1,this.shiftPressed=!1,this.rawCtrlPressed=!1,this.metaPressed=!1,this.spacePressed=!1,this.mouseMidButtonPressed=!1,this.mount()}return Object(o.a)(e,[{key:"shouldCloneInstances",value:function(){return this._isControlPressed()}},{key:"shouldMultiSelect",value:function(){return this.shiftPressed}},{key:"shouldFollowAxis",value:function(){return this.shiftPressed}},{key:"shouldNotSnapToGrid",value:function(){return this.altPressed}},{key:"shouldResizeProportionally",value:function(){return this.shiftPressed}},{key:"shouldScrollHorizontally",value:function(){return this.altPressed}},{key:"shouldZoom",value:function(){return Object(a.e)()?this._isControlPressed():!(this._isControlPressed()||this.altPressed||this.shiftPressed)}},{key:"shouldMoveView",value:function(){return this.spacePressed||this.mouseMidButtonPressed}},{key:"focus",value:function(){this.isFocused=!0}},{key:"blur",value:function(){this.isFocused=!1,this.metaPressed=!1,this.altPressed=!1}},{key:"mount",value:function(){"undefined"!==typeof document&&(document.addEventListener("keydown",this._onKeyDown,!0),document.addEventListener("keyup",this._onKeyUp,!0),document.addEventListener("keypress",this._onKeyPress,!0),document.addEventListener("mousedown",this._onMouseDown,!0),document.addEventListener("mouseup",this._onMouseUp,!0))}},{key:"unmount",value:function(){"undefined"!==typeof document&&(document.removeEventListener("keydown",this._onKeyDown,!0),document.removeEventListener("keyup",this._onKeyUp,!0),document.removeEventListener("keypress",this._onKeyPress,!0),document.removeEventListener("mousedown",this._onMouseDown,!0),document.removeEventListener("mouseup",this._onMouseUp,!0))}}]),e}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(8),o=n(9),a=(n(585),function(e){if(!e)return!1;var t=e.targetTouches;return t&&t.length>=2}),i=Object(r.a)((function e(t){var n=this,r=t.canvas,i=t.setZoomFactor,s=t.getZoomFactor,c=t.viewPosition;Object(o.a)(this,e),this._lastPinchCenterX=null,this._lastPinchCenterY=null,this._startPinch=function(){},this._onPinchMove=function(e,t,r){if(null===n._lastPinchCenterX||null===n._lastPinchCenterY)return n._lastPinchCenterX=e,void(n._lastPinchCenterY=t);var o=e-n._lastPinchCenterX,a=t-n._lastPinchCenterY,i=o/n._getZoomFactor(),s=a/n._getZoomFactor();n._viewPosition.scrollBy(-i,-s),n._lastPinchCenterX=e,n._lastPinchCenterY=t,n._setZoomFactor(n._getZoomFactor()*r)},this._endPinch=function(){n._lastPinchCenterX=null,n._lastPinchCenterY=null},this.unmount=function(){n._unregisterCanvasPinchDetector()},this._setZoomFactor=i,this._getZoomFactor=s,this._viewPosition=c,this._unregisterCanvasPinchDetector=function(e){var t=e.canvas,n=e.onPinchStart,r=e.onPinchMove,o=e.onPinchEnd,i=null;function s(){t.addEventListener("touchmove",c)}function c(e){if(a(e)){var t=e.targetTouches,o=t[0].clientX-t[1].clientX,s=t[0].clientY-t[1].clientY,c=Math.sqrt(o*o+s*s);if(!i)return i={p:{distance:c,date:new Date}},void n();var l=new Date;if(!(l-i.p.date<12)){var u={x:(t[0].clientX+t[1].clientX)/2,y:(t[0].clientY+t[1].clientY)/2},d=c/i.p.distance;r(u.x,u.y,d),i.p={distance:c,date:l}}}}function l(e){t.removeEventListener("touchmove",c),i&&(o(),i=null)}return t.addEventListener("touchstart",s),t.addEventListener("touchend",l),function(){t.removeEventListener("touchstart",s),t.removeEventListener("touchmove",c),t.removeEventListener("touchend",l)}}({canvas:r,onPinchStart:this._startPinch,onPinchMove:this._onPinchMove,onPinchEnd:this._endPinch})}))},function(e,t,n){"use strict";var r=n(465);t.a=function(e){return Object(r.mapFor)(0,e.getLayersCount(),(function(t){return{value:e.getLayerAt(t).getName(),label:e.getLayerAt(t).getName()||"Base layer"}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(1);var r=n(672),o=n(7),a={flexContainer:{display:"flex",flex:1,position:"relative"}},i=function(e){var t=e.children;return Object(o.jsx)(r.a,{bounds:!0,children:function(e){var n=e.contentRect,r=e.measureRef;return Object(o.jsx)("div",{style:a.flexContainer,ref:r,children:!!n&&!!n.bounds&&t({width:n.bounds.width,height:n.bounds.height})})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n(2),o=n(4),a=n(26),i=n(1),s=n(12),c=n(629),l=n.n(c),u=n(489),d=n.n(u),p=n(30),b=n(474),h=n(475),j=n(465),f=n(137),g=n(471),m=n(505),O=n(476),v=n(486),x=n(570),y=n(512),C=n(506),T=n(142),E=n(139),k=n(43),w=n(824),S=n(484),P=n(566),I=n(544),_=n(490),A=n(563),N=n(600),R=n(761),L=n(80),M=n(463),F=n(138),D=n(7),B={rowContainer:{display:"flex",flexDirection:"column"},rowContent:{display:"flex",flex:1,alignItems:"center"}},U=function(e,t){return e.find((function(e){return e.type===t}))};function V(e){var t=e.effectsContainer,n=e.onEffectsUpdated,c=i.useRef(null),u=i.useContext(F.a),V=i.useContext(k.a),W=i.useContext(_.a),G=V.values.showEffectParameterNames,z=V.setShowEffectParameterNames,H=i.useState({}),Y=Object(a.a)(H,2),q=Y[0],X=Y[1],K=i.useMemo((function(){return Object(A.a)("effects-list")}),[]),J=i.useMemo((function(){return Object(w.b)(e.project)}),[e.project]),Z=Object(E.a)(),Q=Object(I.h)(W,I.c,(function(){var e=Object(v.a)("Effect",(function(e){return t.hasEffectNamed(e)}));t.insertNewEffect(e,t.getEffectsCount()),Z(),n()}));return Object(D.jsx)(s.I18n,{children:function(a){var v=a.i18n;return Object(D.jsx)(p.a,{noMargin:!0,expand:!0,useFullHeight:!0,children:0!==t.getEffectsCount()?Object(D.jsxs)(i.Fragment,{children:[Object(D.jsxs)(S.a,{children:[t.getEffectsCount()>3&&Object(D.jsx)(p.c,{children:Object(D.jsx)(p.a,{children:Object(D.jsx)(y.a,{identifier:"too-much-effects",kind:"warning",children:Object(D.jsx)(s.Trans,{id:"Using a lot of effects can have a severe negative impact on the rendering performance, especially on low-end or mobile devices. Consider using less effects if possible. You can also disable and re-enable effects as needed using events."})})})}),Object(D.jsx)(p.a,{noMargin:!0,children:Object(j.mapFor)(0,t.getEffectsCount(),(function(a){var d=t.getEffectAt(a),j=d.getEffectType(),f=U(J,j);return Object(D.jsx)(K,{beginDrag:function(){return c.current=d,{}},canDrag:function(){return!0},canDrop:function(){return!0},drop:function(){!function(e){var r=c.current;if(r){var o=t.getEffectPosition(r.getName()),a=t.getEffectPosition(e.getName());t.moveEffect(o,a>o?a-1:a),Z(),n()}}(d)},children:function(a){var c=a.connectDragSource,y=a.connectDropTarget,E=a.isOver,k=a.canDrop;return y(Object(D.jsxs)("div",{style:B.rowContainer,children:[E&&Object(D.jsx)(R.a,{canDrop:k}),Object(D.jsxs)("div",{style:Object(o.a)(Object(o.a)({},B.rowContent),{},{backgroundColor:u.list.itemsBackgroundColor}),children:[c(Object(D.jsxs)("span",{children:[Object(D.jsx)(p.d,{}),Object(D.jsx)(N.a,{}),Object(D.jsx)(p.d,{})]})),Object(D.jsxs)(L.c,{expand:!0,children:[Object(D.jsxs)(p.c,{noMargin:!0,expand:!0,alignItems:"center",children:[Object(D.jsx)(M.a,{noMargin:!0,noShrink:!0,children:Object(D.jsx)(s.Trans,{id:"Effect name:"})}),Object(D.jsx)(p.d,{}),Object(D.jsx)(O.a,{margin:"none",commitOnBlur:!0,errorText:q[d.ptr],hintText:{id:"Enter the effect name"},value:d.getName(),onChange:function(e){!function(e,a){if(a!==e.getName()){if(q[e.ptr]){var i=Object(o.a)({},q);delete i[e.ptr],X(i)}a?t.hasEffectNamed(a)?X(Object(o.a)(Object(o.a)({},q),{},Object(r.a)({},e.ptr,Object(D.jsx)(s.Trans,{id:"The effect name {newName} is already taken",values:{newName:a}})))):(e.setName(a),Z(),n()):X(Object(o.a)(Object(o.a)({},q),{},Object(r.a)({},e.ptr,Object(D.jsx)(s.Trans,{id:"Effects cannot have empty names"}))))}}(d,e)},fullWidth:!0})]}),Object(D.jsxs)(p.c,{noMargin:!0,expand:!0,alignItems:"center",children:[Object(D.jsx)(M.a,{noMargin:!0,noShrink:!0,children:Object(D.jsx)(s.Trans,{id:"Type:"})}),Object(D.jsx)(p.d,{}),Object(D.jsx)(b.a,{margin:"none",value:j,onChange:function(e,t,r){return function(e,t){e.setEffectType(t);var r=U(J,t);r&&Object(w.c)(e,r.effectMetadata),Z(),n()}(d,r)},fullWidth:!0,hintText:{id:"Choose the effect to apply"},children:J.map((function(t){return Object(D.jsx)(h.a,{value:t.type,primaryText:t.fullName,disabled:"object"===e.target&&t.isMarkedAsNotWorkingForObjects},t.type)}))})]})]}),Object(D.jsx)(m.a,{element:Object(D.jsx)(g.a,{size:"small",children:Object(D.jsx)(l.a,{})}),buildMenuTemplate:function(e){return[{label:e._({id:"Delete"}),click:function(){return e=d.getName(),t.removeEffect(e),Z(),void n();var e}},{type:"separator"},{type:"checkbox",label:e._({id:"Show Parameter Names"}),checked:G,click:function(){return z(!G)}}]}}),Object(D.jsx)(p.d,{})]}),j&&Object(D.jsx)(p.c,{expand:!0,noMargin:!0,children:Object(D.jsxs)(p.a,{expand:!0,children:[f?Object(D.jsxs)(i.Fragment,{children:[Object(D.jsx)(p.c,{children:Object(D.jsx)(C.a,{children:Object(D.jsx)(T.a,{source:f.description})})}),Object(D.jsx)(x.a,{instances:[d],schema:f.parametersSchema,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,renderExtraDescriptionText:G?function(e){return v._({id:"Parameter name in events: `{parameterName}`",values:{parameterName:e}})}:void 0})]}):null,Object(D.jsx)(p.d,{})]})})]},d.ptr))}},d.ptr)}))})]}),Object(D.jsx)(p.a,{children:Object(D.jsx)(p.c,{justifyContent:"flex-end",expand:!0,children:Object(D.jsx)(f.a,{primary:!0,label:Object(D.jsx)(s.Trans,{id:"Add an effect"}),onClick:Q,icon:Object(D.jsx)(d.a,{})})})})]}):Object(D.jsx)(p.a,{noMargin:!0,expand:!0,justifyContent:"center",children:Object(D.jsx)(P.a,{title:Object(D.jsx)(s.Trans,{id:"Add your first effect"}),description:Object(D.jsx)(s.Trans,{id:"Effects create visual changes to the object."}),actionLabel:Object(D.jsx)(s.Trans,{id:"Add an effect"}),helpPagePath:"object"===e.target?"/objects/effects":"/interface/scene-editor/layer-effects",onAction:Q})})})}})}},function(e,t,n){"use strict";t.a={nameColumn:{width:"40%"},coordinateColumn:{width:60},toolColumn:{width:36,height:32}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(474),u=n(475),d=n(751),p=n(465),b=n(579),h=n(80),j=n(7),f=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.spriteObject,n=e.animationIndex,r=e.directionIndex,o=e.spriteIndex,a=e.sameForAllAnimations,i=e.sameForAllSprites,f=e.chooseAnimation,g=e.chooseDirection,m=e.chooseSprite,O=e.setSameForAllAnimations,v=e.setSameForAllSprites,x=e.setSameForAllAnimationsLabel,y=e.setSameForAllSpritesLabel,C=Object(b.l)(t,n,r,o),T=C.hasValidAnimation,E=C.animation,k=C.hasValidDirection,w=C.direction;return Object(j.jsxs)(c.Fragment,{children:[Object(j.jsxs)(h.c,{children:[Object(j.jsx)(l.a,{fullWidth:!0,floatingLabelText:Object(j.jsx)(s.Trans,{id:"Animation"}),value:this.props.animationIndex,onChange:function(e,t,n){return f(parseInt(n,10)||0)},children:Object(p.mapFor)(0,t.getAnimationsCount(),(function(e){var n=t.getAnimation(e);return Object(j.jsx)(u.a,{value:e,primaryText:{id:"Animation #{i} {0}",values:{0:n.getName(),i:e}}},e)}))}),T&&E.getDirectionsCount()>1&&Object(j.jsx)(l.a,{fullWidth:!0,floatingLabelText:Object(j.jsx)(s.Trans,{id:"Direction"}),value:this.props.directionIndex,onChange:function(e,t,n){return g(parseInt(n,10)||0)},children:Object(p.mapFor)(0,E.getDirectionsCount(),(function(e){return Object(j.jsx)(u.a,{value:e,primaryText:{id:"Direction #{i}",values:{i:e}}},e)}))}),k&&Object(j.jsx)(l.a,{fullWidth:!0,floatingLabelText:Object(j.jsx)(s.Trans,{id:"Frame"}),value:this.props.spriteIndex,onChange:function(e,t,n){return m(parseInt(n,10)||0)},children:Object(p.mapFor)(0,w.getSpritesCount(),(function(e){return Object(j.jsx)(u.a,{value:e,primaryText:{id:"Frame #{i}",values:{i:e}}},e)}))})]}),Object(j.jsx)(d.a,{label:x,labelPosition:"right",toggled:a,onToggle:function(e,t){return O(t)}}),Object(j.jsx)(d.a,{label:y,labelPosition:"right",toggled:i,onToggle:function(e,t){return v(t)}})]})}}]),n}(c.Component)},function(e,t,n){"use strict";t.a={coordinateColumn:{width:96},toolColumn:{width:48}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n.n(c),u=n(1804),d=n(7),p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"componentDidUpdate",value:function(e){this.editor&&this.props.isActive&&e.isActive!==this.props.isActive&&this.editor.refreshResourcesList()}},{key:"render",value:function(){var e=this,t=this.props.project;return t?Object(d.jsx)(u.a,{setToolbar:this.props.setToolbar,onDeleteResource:this.props.onDeleteResource,onRenameResource:this.props.onRenameResource,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,ref:function(t){return e.editor=t},project:t}):null}}]),n}(l.a.Component),b=function(e){return Object(d.jsx)(p,Object(r.a)({},e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(863),u=n(1103),d=n(492),p=n(7),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).saveUiSettings=function(){var t=e.getLayout(),n=e.editor;n&&t&&Object(d.c)(t.getAssociatedEditorSettings(),n.getInstancesEditorSettings())},e}return Object(a.a)(n,[{key:"getProject",value:function(){return this.props.project}},{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=this.props.projectItemName;this.props.setPreviewedLayout(e)}}},{key:"componentDidUpdate",value:function(e){if(!e.isActive&&this.props.isActive){var t=this.props.projectItemName;this.props.setPreviewedLayout(t)}}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){this.editor&&this.editor.forceUpdateObjectsList()}},{key:"getLayout",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasLayoutNamed(n)?t.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,o=t.isActive,a=this.getLayout();return a&&n?Object(p.jsx)(u.a,{setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,unsavedChanges:this.props.unsavedChanges,ref:function(t){return e.editor=t},project:n,layout:a,initialInstances:a.getInitialInstances(),getInitialInstancesEditorSettings:function(){return Object(l.b)(Object(d.b)(a.getAssociatedEditorSettings()))},onOpenEvents:this.props.onOpenEvents,isActive:o,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}):Object(p.jsxs)("div",{children:["No layout called ",r," found!"]})}}]),n}(c.Component),h=function(e){return Object(p.jsx)(b,Object(r.a)({},e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(e,t){var n=performance.now();e(),t(performance.now()-n)},o=function(e,t){var n=performance.now();return e().then((function(e){var r=performance.now();return t(r-n),e}))}},,,,function(e,t,n){"use strict";var r=n(4),o=n(1),a=n.n(o),i=n(890),s=n(7);t.a=a.a.memo((function(e){return Object(s.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("path",{d:"M5.06 3C4.63 3 4.22 3.14 3.84 3.42C3.46 3.7 3.24 4.06 3.14 4.5L2.11 8.91C1.86 10 2.06 10.92 2.69 11.73C2.81 11.85 2.93 11.97 3.04 12.07C3.63 12.64 4.28 13 5.22 13C6.16 13 6.91 12.59 7.47 12.05C8.1 12.67 8.86 13 9.8 13C10.64 13 11.44 12.63 12 12.07C12.68 12.7 13.45 13 14.3 13C15.17 13 15.91 12.67 16.54 12.05C17.11 12.62 17.86 13 18.81 13C19.76 13 20.43 12.65 21 12.06C21.09 11.97 21.18 11.87 21.28 11.77C21.94 10.95 22.14 10 21.89 8.91L20.86 4.5C20.73 4.06 20.5 3.7 20.13 3.42C19.77 3.14 19.38 3 18.94 3M18.89 4.97L19.97 9.38C20.06 9.81 19.97 10.2 19.69 10.55C19.44 10.86 19.13 11 18.75 11C18.44 11 18.17 10.9 17.95 10.66C17.73 10.43 17.61 10.16 17.58 9.84L16.97 5M5.06 5H7.03L6.42 9.84C6.3 10.63 5.91 11 5.25 11C4.84 11 4.53 10.86 4.31 10.55C4.03 10.2 3.94 9.81 4.03 9.38M9.05 5H11V9.7C11 10.05 10.89 10.35 10.64 10.62C10.39 10.88 10.08 11 9.7 11C9.36 11 9.07 10.88 8.84 10.59C8.61 10.3 8.5 10 8.5 9.66V9.5M13 5H14.95L15.5 9.5C15.58 9.92 15.5 10.27 15.21 10.57C14.95 10.87 14.61 11 14.2 11C13.89 11 13.61 10.88 13.36 10.62C13.11 10.35 13 10.05 13 9.7M3 14.03V19C3 20.11 3.89 21 5 21C9.67 21 14.33 21 19 21C20.1 21 21 20.11 21 19V14.05C20.45 14.63 19.75 14.96 19 15C18 15.03 17.25 14.74 16.54 14.05C15.94 14.65 15.14 15 14.3 15C13.4 15 12.6 14.64 12 14.07C11.43 14.64 10.65 15 9.78 15C8.87 15 8.07 14.65 7.47 14.05C6.89 14.64 6.1 15 5.23 15C4.33 15 3.66 14.65 3 14.03Z"})}))}))},function(e,t,n){"use strict";var r=n(12),o=(n(1),n(463)),a=n(80),i=n(7);t.a=function(e){var t=e.showcasedGame,n=e.forceColumn,s=void 0!==n&&n,c=t.title,l=t.author,u=s?a.a:a.c;return Object(i.jsxs)(u,{noMargin:!0,alignItems:"baseline",expand:!0,children:[Object(i.jsx)(o.a,{noMargin:!0,displayInlineAsSpan:!0,children:c}),Object(i.jsx)(o.a,{noMargin:!0,size:"body2",displayInlineAsSpan:!0,children:Object(i.jsx)(r.Trans,{id:"by {author}",values:{author:l}})})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),o=(n(1),n(508)),a=n(7),i={iconBackground:{flex:0,display:"flex",justifyContent:"center"},icon:{background:"linear-gradient(45deg, #FFFFFF33, #FFFFFF)",padding:4,borderRadius:4}},s=function(e){var t=e.exampleShortHeader,n=e.size;return Object(a.jsx)("div",{style:i.iconBackground,children:Object(a.jsx)(o.a,{style:Object(r.a)(Object(r.a)({},i.icon),{},{height:n}),src:t.previewImageUrls.find((function(e){return e.endsWith("thumbnail.png")}))||t.previewImageUrls[0],alt:t.name})})}},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=function(e){var t=e;return t?function(e){return t._(e)}:null},o=function(e){var t=e;return t?function(e){return t._(e)}:function(e){return e}}},,function(e,t,n){var r=n(991),o=function(e,t,n){if(!n.runExtensionSanityTests)return{error:!0,message:"Missing runExtensionSanityTests in the extension module exports"};var o=n.runExtensionSanityTests(e,t);return r(o)?{error:!0,message:"One or more tests are failing for the extension (see rawError)",rawError:o}:{error:!1,message:"Tests passed successfully"}};e.exports={runExtensionSanityTests:o,loadExtension:function(e,t,n,r){if(!r.createExtension)return{message:"Extension module found, but no createExtension method is exported",error:!0};var a=null;try{if(!(a=r.createExtension(e,t)))return{message:"createExtension did not return any extension. Did you forget to return the extension created?",error:!0}}catch(s){return{message:"\ud83d\udea8 Exception caught while running createExtension. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:s}}try{var i=o(t,a,r);if(i.error)return a.delete(),i}catch(s){return{message:"\ud83d\udea8 Exception caught while running runExtensionSanityTests. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:s}}return n.addNewExtension(a),a.delete(),{message:"\u2705 Successfully loaded the extension.",error:!1}}}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(7),u={internalName:"Empty",name:"No storage",createOperations:function(){return{onOpenWithPicker:function(){return Promise.reject("No storage provider set up")},onOpen:function(){return Promise.reject("No storage provider set up")},hasAutoSave:function(){return Promise.resolve(!1)},onSaveProject:function(e){return Promise.reject("No storage provider set up")},onSaveProjectAs:function(e){return Promise.reject("No storage provider set up")},onAutoSaveProject:function(e){return Promise.resolve()}}}},d=function(e,t,n){var r=t.map((function(e){return{currentStorageProvider:e,initialFileMetadataToOpen:e.getFileMetadataFromAppArguments?e.getFileMetadataFromAppArguments(n):null}})).filter((function(e){return!!e.initialFileMetadataToOpen}));return 0===r.length?{currentStorageProvider:e,initialFileMetadataToOpen:null}:(r.length>1&&console.warn("More than one storage provider can understand the app arguments. Selecting the first one."),r[0])},p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state=Object(r.a)(Object(r.a)({},d(e.props.defaultStorageProvider,e.props.storageProviders,e.props.appArguments)),{},{storageProviderOperations:null,renderDialog:null}),e._setDialog=function(t){e.setState({renderDialog:t})},e._closeDialog=function(){e.setState({renderDialog:null})},e._getStorageProviderOperations=function(t){if((!t||t===e.state.currentStorageProvider)&&e.state.storageProviderOperations)return Promise.resolve(e.state.storageProviderOperations);var n=t||e.state.currentStorageProvider||u,r=n.createOperations({setDialog:e._setDialog,closeDialog:e._closeDialog});return new Promise((function(t){e.setState({currentStorageProvider:n,storageProviderOperations:r},(function(){t(r)}))}))},e._getStorageProvider=function(){return e.state.currentStorageProvider||u},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.storageProviders,r=this.state,o=r.renderDialog,a=r.initialFileMetadataToOpen;return Object(l.jsxs)(c.Fragment,{children:[t({storageProviders:n,getStorageProviderOperations:this._getStorageProviderOperations,initialFileMetadataToOpen:a,getStorageProvider:this._getStorageProvider}),o&&o()]})}}]),n}(c.Component)},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(861),u=n.n(l),d=n(1110),p=n(1765),b=n(585),h=n(479),j=n(617),f=function(){function e(t){var n=this,r=t.project,a=t.layout,i=t.instances,s=t.viewPosition,c=t.onInstanceClicked,l=t.onInstanceRightClicked,u=t.onInstanceDoubleClicked,d=t.onOverInstance,p=t.onOutInstance,b=t.onMoveInstance,f=t.onMoveInstanceEnd,g=t.onDownInstance;Object(o.a)(this,e),this.project=r,this.instances=i,this.layout=a,this.viewPosition=s,this.onInstanceClicked=c,this.onInstanceRightClicked=l,this.onInstanceDoubleClicked=u,this.onOverInstance=d,this.onOutInstance=p,this.onMoveInstance=b,this.onMoveInstanceEnd=f,this.onDownInstance=g,this.layersRenderers={},this.pixiContainer=new h.Container,this.temporaryRectangle=new j.a,this.instanceMeasurer={getInstanceAABB:function(e,t){var r=e.getLayer(),o=n.layersRenderers[r];return o?o.getInstanceAABB(e,t):(t.left=e.getX(),t.top=e.getY(),t.right=e.getX(),t.bottom=e.getY(),t)},getUnrotatedInstanceAABB:function(e,t){var r=e.getLayer(),o=n.layersRenderers[r];return o?o.getUnrotatedInstanceAABB(e,t):(t.left=e.getX(),t.top=e.getY(),t.right=e.getX(),t.bottom=e.getY(),t)},getInstanceRect:function(e){var t=n.instanceMeasurer.getInstanceAABB(e,n.temporaryRectangle);return{x:t.left,y:t.top,width:t.width(),height:t.height()}}}}return Object(a.a)(e,[{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"getInstanceMeasurer",value:function(){return this.instanceMeasurer}},{key:"render",value:function(){for(var e=0;e<this.layout.getLayersCount();e++){var t=this.layout.getLayerAt(e),n=t.getName(),r=this.layersRenderers[n];r||(this.layersRenderers[n]=r=new p.a({project:this.project,layout:this.layout,instances:this.instances,viewPosition:this.viewPosition,layer:t,onInstanceClicked:this.onInstanceClicked,onInstanceRightClicked:this.onInstanceRightClicked,onInstanceDoubleClicked:this.onInstanceDoubleClicked,onOverInstance:this.onOverInstance,onOutInstance:this.onOutInstance,onMoveInstance:this.onMoveInstance,onMoveInstanceEnd:this.onMoveInstanceEnd,onDownInstance:this.onDownInstance}),this.pixiContainer.addChild(r.getPixiContainer())),r.layer=t,r.wasUsed=!0,r.getPixiContainer().zOrder=e,r.render()}this._updatePixiObjectsZOrder(),this._cleanUnusedLayerRenderers()}},{key:"_updatePixiObjectsZOrder",value:function(){this.pixiContainer.children.sort((function(e,t){return e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder}))}},{key:"resetInstanceRenderersFor",value:function(e){for(var t in this.layersRenderers){if(this.layersRenderers.hasOwnProperty(t))this.layersRenderers[t].resetInstanceRenderersFor(e)}}},{key:"_cleanUnusedLayerRenderers",value:function(){for(var e in this.layersRenderers)if(this.layersRenderers.hasOwnProperty(e)){var t=this.layersRenderers[e];t.wasUsed?t.wasUsed=!1:(this.pixiContainer.removeChild(t.getPixiContainer()),t.delete(),delete this.layersRenderers[e])}}},{key:"delete",value:function(){for(var e in this.layersRenderers)this.layersRenderers.hasOwnProperty(e)&&this.layersRenderers[e].delete();this.pixiContainer.destroy()}}]),e}(),g=n(45);function m(e,t){var n=t.x,r=t.y,o=t.width,a=t.height,i=e(n,r),s=e(n+o,r+a);return{x:i[0],y:i[1],width:s[0]-i[0],height:s[1]-i[1]}}n(723);var O=n(862),v=["TopLeft","BottomLeft","BottomRight","TopRight","Top","Left","Bottom","Right"],x={TopLeft:[0,0],BottomLeft:[0,1],BottomRight:[1,1],TopRight:[1,0],Top:[.5,0],Left:[0,.5],Bottom:[.5,1],Right:[1,.5]},y=function(e){return"Top"!==e&&"Bottom"!==e},C=function(e){return"Left"!==e&&"Right"!==e},T=function(){function e(t){var n=t.instanceMeasurer,r=t.instancesEditorSettings;Object(o.a)(this,e),this._initialSelectionAABB=null,this._unrotatedInstanceAABBs={},this._instanceAABBs={},this._instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0,this._temporaryGrabbingPosition=[0,0],this.instanceMeasurer=n,this.instancesEditorSettings=r}return Object(a.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"_getOrCreateInstanceAABB",value:function(e){var t=this._instanceAABBs[e.ptr];return t||(this._instanceAABBs[e.ptr]=this.instanceMeasurer.getInstanceAABB(e,new j.a))}},{key:"_getOrCreateUnrotatedInstanceAABB",value:function(e){var t=this._unrotatedInstanceAABBs[e.ptr];return t||(this._unrotatedInstanceAABBs[e.ptr]=this.instanceMeasurer.getUnrotatedInstanceAABB(e,new j.a))}},{key:"_getOrCreateInstanceOriginPosition",value:function(e){var t=this._instancePositions[e.ptr];return t||(this._instancePositions[e.ptr]={x:e.getX(),y:e.getY()})}},{key:"_getOrCreateSelectionAABB",value:function(e){var t=this._initialSelectionAABB;if(t)return t;if(!e.length)return null;(t=new j.a).setRectangle(this._getOrCreateInstanceAABB(e[0]));for(var n=1;n<e.length;n++)t.union(this._getOrCreateInstanceAABB(e[n]));return this._initialSelectionAABB=t,t}},{key:"resizeBy",value:function(e,t,n,r,o){this.totalDeltaX+=t,this.totalDeltaY+=n;var a=e.filter((function(e){return!e.isLocked()})),i=this._getOrCreateSelectionAABB(a);if(i){var s=x[r],c=i.left+i.width()*s[0],l=i.top+i.height()*s[1],u=this._temporaryGrabbingPosition;u[0]=c+this.totalDeltaX,u[1]=l+this.totalDeltaY,this.instancesEditorSettings.snap&&this.instancesEditorSettings.grid?Object(O.b)(u,this.instancesEditorSettings.gridWidth,this.instancesEditorSettings.gridHeight,this.instancesEditorSettings.gridOffsetX,this.instancesEditorSettings.gridOffsetY,this.instancesEditorSettings.gridType):(u[0]=Math.round(u[0]),u[1]=Math.round(u[1]));var d=u[0]-c,p=u[1]-l;y(r)||(d=0),C(r)||(p=0);var b="TopLeft"===r||"BottomLeft"===r||"Left"===r?-d:d,h="TopLeft"===r||"TopRight"===r||"Top"===r?-p:p,j=0!==i.width()?(i.width()+b)/i.width():b,f=0!==i.height()?(i.height()+h)/i.height():h,g=function(e){for(var t=0;t<e.length;t++)if(e[t].getAngle()%90!==0)return!0;return!1}(a);(o||g)&&(!C(r)||y(r)&&b*i.height()>h*i.width()?f=j:j=f),j=Math.max(0!==i.width()?1/i.width():1e-5,j),f=Math.max(0!==i.height()?1/i.height():1e-5,f);for(var m=i.right-x[r][0]*i.width(),v=i.bottom-x[r][1]*i.height(),T=0;T<a.length;T++){var E=a[T],k=this._getOrCreateUnrotatedInstanceAABB(E),w=this._getOrCreateInstanceOriginPosition(E),S=0!==k.width()?k.width():1,P=0!==k.height()?k.height():1,I=(E.getAngle()%360+360)%360;if(o||g||90!==I&&270!==I)E.setCustomWidth(j*S),E.setCustomHeight(f*P),E.setHasCustomSize(!0),E.setX((w.x-m)*j+m),E.setY((w.y-v)*f+v);else{E.setCustomWidth(f*S),E.setCustomHeight(j*P),E.setHasCustomSize(!0);var _=(k.centerX()-m)*j+m,A=(k.centerY()-v)*f+v,N=f*(w.x-k.centerX()),R=j*(w.y-k.centerY());E.setX(_+N),E.setY(A+R)}}}}},{key:"endResize",value:function(){this._initialSelectionAABB=null,this._unrotatedInstanceAABBs={},this._instanceAABBs={},this._instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}}]),e}(),E={TopLeft:"nwse-resize",BottomLeft:"nesw-resize",BottomRight:"nwse-resize",TopRight:"nesw-resize",Top:"ns-resize",Left:"ew-resize",Bottom:"ns-resize",Right:"ew-resize"},k=function(){function e(t){var n=this,r=t.instancesSelection,a=t.instanceMeasurer,i=t.onResize,s=t.onResizeEnd,c=t.onRotate,l=t.onRotateEnd,u=t.toCanvasCoordinates,d=t.screenType;Object(o.a)(this,e),this.pixiContainer=new h.Container,this.rectanglesContainer=new h.Container,this.selectedRectangles=[],this.resizeButtons={},this.rotateButton=new h.Graphics,this.instanceMeasurer=a,this.onResize=i,this.onResizeEnd=s,this.onRotate=c,this.onRotateEnd=l,this.toCanvasCoordinates=u,this.instancesSelection=r,this._screenType=d,this.pixiContainer.addChild(this.rectanglesContainer);var p,b=Object(g.a)(v);try{var j=function(){var e=p.value,t=new h.Graphics;n.resizeButtons[e]=t,n._makeButton(t,(function(t){n.onResize(t.deltaX,t.deltaY,e)}),(function(){n.onResizeEnd()}),E[e])};for(b.s();!(p=b.n()).done;)j()}catch(f){b.e(f)}finally{b.f()}this._makeButton(this.rotateButton,(function(e){n.onRotate(e.deltaX,e.deltaY)}),(function(){n.onRotateEnd()}),'url("res/actions/rotate24.png"),auto')}return Object(a.a)(e,[{key:"setScreenType",value:function(e){this._screenType=e}},{key:"_makeButton",value:function(e,t,n,r){e.interactive=!0,e.buttonMode=!0,e.cursor=r,u.a.panable(e),e.on("panmove",t),e.on("panend",n),this.pixiContainer.addChild(e)}},{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"_renderButton",value:function(e,t,n,r,o,a){t.clear(),e?(t.beginFill(16777215),t.lineStyle(1,6842600,1),t.fill.alpha=.9,0===o?t.drawRect(n[0],n[1],r,r):1===o&&t.drawCircle(n[0]+r/2,n[1]+r/2,r/2),t.endFill(),t.hitArea=new h.Rectangle(n[0]-a,n[1]-a,r+2*a,r+2*a)):t.hitArea=new h.Rectangle(0,0,0,0)}},{key:"render",value:function(){for(var e="touch"===this._screenType?{bigButtonSize:14,smallButtonSize:12,buttonPadding:5,hitAreaPadding:12}:{bigButtonSize:10,smallButtonSize:8,buttonPadding:5,hitAreaPadding:5},t=e.bigButtonSize,n=e.smallButtonSize,r=e.buttonPadding,o=e.hitAreaPadding,a=this.instancesSelection.getSelectedInstances(),i=0,s=0,c=0,l=0,u=!1,d=0;d<a.length;d++){if(this.selectedRectangles.length===d){var p=new h.Graphics;p.hitArea=new h.Rectangle(0,0,0,0),this.selectedRectangles.push(p),this.rectanglesContainer.addChild(p)}var b=a[d],j=this.instanceMeasurer.getInstanceRect(b),f=m(this.toCanvasCoordinates,j);this.selectedRectangles[d].clear();var O=b.isLocked()?12343123:6842600;this.selectedRectangles[d].beginFill(O),this.selectedRectangles[d].lineStyle(1,O,1),this.selectedRectangles[d].fill.alpha=.3,this.selectedRectangles[d].alpha=.8,this.selectedRectangles[d].drawRect(f.x,f.y,f.width,f.height),this.selectedRectangles[d].endFill(),b.isLocked()||(u?(j.x<i&&(i=j.x),j.y<s&&(s=j.y),j.x+j.width>c&&(c=j.x+j.width),j.y+j.height>l&&(l=j.y+j.height)):(i=j.x,s=j.y,c=j.x+j.width,l=j.y+j.height,u=!0))}for(;this.selectedRectangles.length>a.length;)this.rectanglesContainer.removeChild(this.selectedRectangles.pop());var T,E=0!==a.filter((function(e){return!e.isLocked()})).length,k=Object(g.a)(v);try{for(k.s();!(T=k.n()).done;){var w=T.value,S=this.resizeButtons[w],P=x[w],I=y(w)&&C(w)?t:n,_=r+I/2,A=this.toCanvasCoordinates(i-_+P[0]*(c-i+2*_),s-_+P[1]*(l-s+2*_));A[0]-=I/2,A[1]-=I/2,this._renderButton(E,S,A,I,0,o)}}catch(R){k.e(R)}finally{k.f()}var N=this.toCanvasCoordinates(i+(c-i)/2,s);N[0]-=n/2,N[1]-=8*r,this._renderButton(E,this.rotateButton,N,n,1,o)}}]),e}(),w=function(){function e(t){var n=t.instanceMeasurer,r=t.toCanvasCoordinates;Object(o.a)(this,e),this.instanceMeasurer=n,this.toCanvasCoordinates=r,this.highlightedInstance=null,this.highlightRectangle=new h.Graphics,this.highlightRectangle.hitArea=new h.Rectangle(0,0,0,0),this.tooltipBackground=new h.Graphics,this.tooltipText=new h.Text("",{fontSize:15,fill:16777215,align:"center"}),this.highlightRectangle.addChild(this.tooltipBackground),this.highlightRectangle.addChild(this.tooltipText)}return Object(a.a)(e,[{key:"setInstance",value:function(e){this.highlightedInstance=e}},{key:"getInstance",value:function(){return this.highlightedInstance}},{key:"getPixiObject",value:function(e){return this.highlightRectangle}},{key:"render",value:function(){if(null!==this.highlightedInstance){var e=m(this.toCanvasCoordinates,this.instanceMeasurer.getInstanceRect(this.highlightedInstance));this.highlightRectangle.visible=!0,this.highlightRectangle.clear(),this.highlightRectangle.beginFill(15658751),this.highlightRectangle.fill.alpha=.1,this.highlightRectangle.alpha=.8,this.highlightRectangle.lineStyle(1,0,1),this.highlightRectangle.drawRect(e.x,e.y,e.width,e.height),this.highlightRectangle.endFill();var t=this.highlightedInstance.getObjectName()+"\nX: "+parseInt(this.highlightedInstance.getX())+"  Y: "+parseInt(this.highlightedInstance.getY())+"\nLayer: "+this.highlightedInstance.getLayer()+"  Z: "+this.highlightedInstance.getZOrder()+"\n";this.tooltipText.text=t,this.tooltipText.x=Math.round(e.x-this.tooltipText.width/2+e.width/2),this.tooltipText.y=Math.round(e.y-this.tooltipText.height);this.tooltipBackground.clear(),this.tooltipBackground.beginFill(0,.8),this.tooltipBackground.drawRoundedRect(this.tooltipText.x-5,this.tooltipText.y-5,this.tooltipText.width+10,this.tooltipText.height-5,4),this.tooltipBackground.endFill()}else this.highlightRectangle.visible=!1}}]),e}(),S=n(1768),P=function(){function e(t){Object(o.a)(this,e),this._instanceAngles={},this._instancePositions={},this._instanceAABBs={},this.totalDeltaX=0,this.totalDeltaY=0,this._fixedPointIsUpToDate=!1,this._fixedPoint=[0,0],this._instanceMeasurer=t}return Object(a.a)(e,[{key:"_getNewAngle",value:function(e,t){var n=180*Math.atan2(this.totalDeltaY,this.totalDeltaX)/Math.PI+90+t;return e?15*Math.round(n/15):n}},{key:"_getOrCreateInstanceAABB",value:function(e){var t=this._instanceAABBs[e.ptr];return t||(this._instanceAABBs[e.ptr]=this._instanceMeasurer.getInstanceAABB(e,new j.a))}},{key:"_getOrCreateInstanceOriginPosition",value:function(e){var t=this._instancePositions[e.ptr];return t||(this._instancePositions[e.ptr]={x:e.getX(),y:e.getY()})}},{key:"_getOrCreateInstanceAngle",value:function(e){var t=this._instanceAngles[e.ptr];return void 0!==t?t:this._instanceAngles[e.ptr]=e.getAngle()}},{key:"rotateBy",value:function(e,t,n,r){var o=e.filter((function(e){return!e.isLocked()}));if(!this._fixedPointIsUpToDate){this._fixedPointIsUpToDate=!0;var a=new j.a;a.setRectangle(this._getOrCreateInstanceAABB(o[0]));for(var i=1;i<o.length;i++)a.union(this._getOrCreateInstanceAABB(o[i]));this._fixedPoint[0]=a.centerX(),this._fixedPoint[1]=a.centerY(),this.totalDeltaY-=a.height()/2}this.totalDeltaX+=t,this.totalDeltaY+=n;for(var s=0;s<o.length;s++){var c=o[s],l=this._getOrCreateInstanceAABB(c),u=this._getOrCreateInstanceAngle(c),d=this._getOrCreateInstanceOriginPosition(c),p=this._getNewAngle(r,u);c.setAngle((p%360+360)%360);var b=(p-u)*Math.PI/180,h=Math.cos(-b),f=Math.sin(-b),g=l.centerX()-this._fixedPoint[0],m=l.centerY()-this._fixedPoint[1];c.setX(this._fixedPoint[0]+(d.x-l.centerX())+h*g+f*m),c.setY(this._fixedPoint[1]+(d.y-l.centerY())-f*g+h*m)}}},{key:"endRotate",value:function(){this._instanceAngles={},this._instancePositions={},this._instanceAABBs={},this.totalDeltaX=0,this.totalDeltaY=0,this._fixedPointIsUpToDate=!1}}]),e}(),I=function(){function e(t){var n=t.instanceMeasurer,r=t.instancesEditorSettings;Object(o.a)(this,e),this._initialSelectionAABB=null,this._startX=0,this._startY=0,this.instanceMeasurer=n,this.instancesEditorSettings=r,this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0,this._temporaryPoint=[0,0]}return Object(a.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"_getMoveDeltaX",value:function(e,t,n){return n&&Math.abs(e)<Math.abs(t)?0:e}},{key:"_getMoveDeltaY",value:function(e,t,n){return n&&Math.abs(t)<Math.abs(e)?0:t}},{key:"_getOrCreateSelectionAABB",value:function(e){if(this._initialSelectionAABB)return this._initialSelectionAABB;if(!e.length)return null;var t=new j.a;this.instanceMeasurer.getInstanceAABB(e[0],t);for(var n=new j.a,r=1;r<e.length;r++)this.instanceMeasurer.getInstanceAABB(e[r],n),t.union(n);return this._initialSelectionAABB=t,t}},{key:"startMove",value:function(e,t){this._startX=e,this._startY=t}},{key:"moveBy",value:function(e,t,n,r,o){this.totalDeltaX+=t,this.totalDeltaY+=n;var a=e.filter((function(e){return!e.isLocked()})),i=this._getOrCreateSelectionAABB(a);if(i){var s=this._startX<i.centerX(),c=this._startY<i.centerY(),l=s?i.left:i.right,u=c?i.top:i.bottom,d=this._temporaryPoint;d[0]=l+this.totalDeltaX,d[1]=u+this.totalDeltaY,this.instancesEditorSettings.snap&&this.instancesEditorSettings.grid&&!o?Object(O.a)(d,this.instancesEditorSettings.gridWidth,this.instancesEditorSettings.gridHeight,this.instancesEditorSettings.gridOffsetX,this.instancesEditorSettings.gridOffsetY,this.instancesEditorSettings.gridType):(d[0]=Math.round(d[0]),d[1]=Math.round(d[1]));for(var p=d[0]-l,b=d[1]-u,h=0;h<a.length;h++){var j=a[h],f=this.instancePositions[j.ptr];f||(f=this.instancePositions[j.ptr]={x:j.getX(),y:j.getY()}),j.setX(f.x+this._getMoveDeltaX(p,b,r)),j.setY(f.y+this._getMoveDeltaY(p,b,r))}}}},{key:"endMove",value:function(){this._initialSelectionAABB=null,this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}}]),e}(),_=function(){function e(t){var n=t.viewPosition,r=t.instancesEditorSettings;Object(o.a)(this,e),this.pixiGrid=new h.Graphics,this.viewPosition=n,this.instancesEditorSettings=r,this.pixiGrid.hitArea=new h.Rectangle(0,0,0,0)}return Object(a.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"getPixiObject",value:function(){return this.pixiGrid}},{key:"render",value:function(){var e=this.instancesEditorSettings;if(e.grid){var t=e.gridColor,n=e.gridAlpha;this.pixiGrid.visible=!0,this.pixiGrid.clear(),this.pixiGrid.beginFill(t),this.pixiGrid.lineStyle(1,t,1),this.pixiGrid.alpha=n;var r=this.viewPosition.toSceneCoordinates(0,0),o=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth(),this.viewPosition.getHeight()),a=(e.gridOffsetX%e.gridWidth+e.gridWidth)%e.gridWidth,i=(e.gridOffsetY%e.gridHeight+e.gridHeight)%e.gridHeight,s=Math.floor((r[0]-a)/e.gridWidth)*e.gridWidth+a,c=Math.floor((r[1]-i)/e.gridHeight)*e.gridHeight+i,l=Math.ceil((o[0]-a)/e.gridWidth)*e.gridWidth+a,u=Math.ceil((o[1]-i)/e.gridHeight)*e.gridHeight+i;if("isometric"===e.gridType){for(var d=Math.round((l-s)/e.gridWidth),p=Math.round((u-c)/e.gridHeight),b=d+p,h=0;h<b;++h){var j=void 0,f=void 0;h<d?(j=s+e.gridWidth/2+h*e.gridWidth,f=c):(j=l,f=c+e.gridHeight/2+(h-d)*e.gridHeight);var g=void 0,m=void 0;h<p?(g=s,m=c+e.gridHeight/2+h*e.gridHeight):(g=s+e.gridWidth/2+(h-p)*e.gridWidth,m=u);var O=this.viewPosition.toCanvasCoordinates(j,f),v=this.viewPosition.toCanvasCoordinates(g,m);this.pixiGrid.moveTo(O[0],O[1]),this.pixiGrid.lineTo(v[0],v[1])}for(var x=0;x<b;++x){var y=void 0,C=void 0;x<p?(y=s,C=c+e.gridHeight/2+(p-1-x)*e.gridHeight):(y=s+e.gridWidth/2+(x-p)*e.gridWidth,C=c);var T=void 0,E=void 0;x<d?(T=s+e.gridWidth/2+x*e.gridWidth,E=u):(T=l,E=c+e.gridHeight/2+(b-1-x)*e.gridHeight);var k=this.viewPosition.toCanvasCoordinates(y,C),w=this.viewPosition.toCanvasCoordinates(T,E);this.pixiGrid.moveTo(k[0],k[1]),this.pixiGrid.lineTo(w[0],w[1])}}else{for(var S=s;S<l;S+=e.gridWidth){var P=this.viewPosition.toCanvasCoordinates(S,c),I=this.viewPosition.toCanvasCoordinates(S,u);this.pixiGrid.moveTo(P[0],P[1]),this.pixiGrid.lineTo(I[0],I[1])}for(var _=c;_<u;_+=e.gridHeight){var A=this.viewPosition.toCanvasCoordinates(s,_),N=this.viewPosition.toCanvasCoordinates(l,_);this.pixiGrid.moveTo(A[0],A[1]),this.pixiGrid.lineTo(N[0],N[1])}}this.pixiGrid.endFill()}else this.pixiGrid.visible=!1}}]),e}(),A=n(497),N=function(){function e(t){var n=t.project,r=t.layout,a=t.toCanvasCoordinates;Object(o.a)(this,e),this.pixiRectangle=new h.Graphics,this.project=n,this.layout=r,this.toCanvasCoordinates=a,this.pixiRectangle.hitArea=new h.Rectangle(0,0,0,0),this.windowRectangle={x:0,y:0,width:this.project.getGameResolutionWidth(),height:this.project.getGameResolutionHeight()}}return Object(a.a)(e,[{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){this.windowRectangle.width=this.project.getGameResolutionWidth(),this.windowRectangle.height=this.project.getGameResolutionHeight();var e=m(this.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,Object(A.k)(128+this.layout.getBackgroundColorRed()%256,128+this.layout.getBackgroundColorBlue()%256,128+this.layout.getBackgroundColorGreen()%256),1),this.pixiRectangle.alpha=1,this.pixiRectangle.fill.alpha=0,this.pixiRectangle.drawRect(e.x,e.y,e.width,e.height),this.pixiRectangle.endFill()}}]),e}(),R=function(){function e(t){var n=t.project,r=t.viewPosition,a=t.instancesEditorSettings;Object(o.a)(this,e),this.pixiRectangle=new h.Graphics,this.windowRectangle={x:0,y:0,width:0,height:0},this.project=n,this.viewPosition=r,this.instancesEditorSettings=a,this.pixiRectangle.hitArea=new h.Rectangle(0,0,0,0)}return Object(a.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){if(this.instancesEditorSettings.windowMask){var e=this.project.getGameResolutionWidth(),t=this.project.getGameResolutionHeight();this.windowRectangle.x=this.viewPosition.getViewX()-e/2,this.windowRectangle.y=this.viewPosition.getViewY()-t/2,this.windowRectangle.width=e,this.windowRectangle.height=t;var n=m(this.viewPosition.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,0,1),this.pixiRectangle.alpha=1,this.pixiRectangle.fill.alpha=0,this.pixiRectangle.drawRect(n.x,n.y,n.width,n.height),this.pixiRectangle.endFill()}else this.pixiRectangle.visible=!1}}]),e}(),L=function(){function e(t){var n=t.layout,r=t.pixiRenderer;Object(o.a)(this,e),this.layout=n,this.pixiRenderer=r}return Object(a.a)(e,[{key:"render",value:function(){this.pixiRenderer.backgroundColor=parseInt(parseInt(Object(A.j)(this.layout.getBackgroundColorRed(),this.layout.getBackgroundColorGreen(),this.layout.getBackgroundColorBlue()),16),10)}}]),e}(),M=function(){function e(t){Object(o.a)(this,e),this._lastFrameTime=Date.now(),this._interval=1e3/t,this._forceUpdate=!1}return Object(a.a)(e,[{key:"shouldUpdate",value:function(){var e=Date.now(),t=e-this._lastFrameTime;return!!(t>this._interval||this._forceUpdate)&&(this._lastFrameTime=e-t%this._interval,this._forceUpdate=!1,!0)}},{key:"forceNextUpdate",value:function(){this._forceUpdate=!0}}]),e}(),F=function(){var e=h.Ticker&&h.Ticker.shared;e&&e.stop()},D=function(){setTimeout((function(){var e=h.Ticker&&h.Ticker.shared;e&&e.start()}),50)},B=n(26),U=function(){function e(t){var n=t.getLastCursorSceneCoordinates,r=t.width,a=t.height;Object(o.a)(this,e),this._getLastCursorSceneCoordinates=n,this._statusBarContainer=new h.Container,this._statusBarContainer.alpha=.8,this._statusBarContainer.hitArea=new h.Rectangle(0,0,0,0),this._statusBarBackground=new h.Graphics,this._statusBarText=new h.Text("",{fontSize:15,fill:16777215,align:"left"}),this._statusBarContainer.addChild(this._statusBarBackground),this._statusBarContainer.addChild(this._statusBarText),this.resize(r,a)}return Object(a.a)(e,[{key:"resize",value:function(e,t){this._width=e,this._height=t}},{key:"getPixiObject",value:function(){return this._statusBarContainer}},{key:"render",value:function(){var e=this._getLastCursorSceneCoordinates(),t=Object(B.a)(e,2),n=t[0],r=t[1];this._statusBarText.text="".concat(n.toFixed(0),";").concat(r.toFixed(0)),this._statusBarText.position.x=5,this._statusBarText.position.y=Math.round(this._height-5-this._statusBarText.height),this._statusBarBackground.clear(),this._statusBarBackground.beginFill(0,.8),this._statusBarBackground.drawRoundedRect(-4,this._height-10-this._statusBarText.height,this._statusBarText.width+10+4,this._statusBarText.height+10+4,4),this._statusBarBackground.endFill()}}]),e}(),V=function(){function e(t){var n=t.canvas,r=t.shouldMoveView;Object(o.a)(this,e),this.canvas=n,this.shouldMoveView=r}return Object(a.a)(e,[{key:"render",value:function(){if(this.shouldMoveView())return this.canvas.style.cursor="grab",void("grab"!==this.canvas.style.cursor&&(this.canvas.style.cursor="-webkit-grab"));this.canvas.style.cursor="default"}}]),e}(),W=n(1769),G=n(825),z=n(1104),H=n(1111),Y=Object(a.a)((function e(t){var n=this,r=t.canvas,a=t.onLongTouch;Object(o.a)(this,e),this._lastTouchX=0,this._lastTouchY=0,this._onTouchStart=function(e){if(1===e.touches.length){var t=e.touches[0];n._lastTouchX=t.clientX,n._lastTouchY=t.clientY,n._clear(),n._longTouchTimeoutID=setTimeout((function(){n._onLongTouch&&n._onLongTouch({clientX:n._lastTouchX,clientY:n._lastTouchY})}),600)}},this._onTouchMove=function(e){if(1===e.touches.length){var t=e.touches[0];(Math.abs(t.clientX-n._lastTouchX)>10||Math.abs(t.clientY-n._lastTouchY)>10)&&n._clear()}else n._clear()},this._clear=function(){clearTimeout(n._longTouchTimeoutID)},this.unmount=function(){n._canvas.removeEventListener("touchstart",n._onTouchStart),n._canvas.removeEventListener("touchmove",n._onTouchMove),n._canvas.removeEventListener("touchend",n._clear)},this._canvas=r,this._onLongTouch=a,r.addEventListener("touchstart",this._onTouchStart),r.addEventListener("touchmove",this._onTouchMove),r.addEventListener("touchend",this._clear)})),q=n(7),X={canvasArea:{flex:1,position:"absolute",overflow:"hidden"},dropCursor:{cursor:"copy"}},K=Object(G.a)(z.b),J=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).lastContextMenuX=0,e.lastContextMenuY=0,e.lastCursorX=0,e.lastCursorY=0,e.fpsLimiter=new M(28),e._unmounted=!1,e._renderingPaused=!1,e.getZoomFactor=function(){return e.props.instancesEditorSettings.zoomFactor},e.setZoomFactor=function(t){e.props.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.props.instancesEditorSettings),{},{zoomFactor:Math.max(Math.min(t,10),.01)}))},e.addInstances=function(t,n){return e._instancesAdder.addInstances(t,n)},e._onMouseMove=function(t,n){e.lastCursorX=t,e.lastCursorY=n},e._onBackgroundClicked=function(t,n){e.lastCursorX=t,e.lastCursorY=n,e.pixiRenderer.view.focus(),e.keyboardShortcuts.shouldMoveView()||e.selectionRectangle.startSelectionRectangle(t,n),e.keyboardShortcuts.shouldMultiSelect()||e.keyboardShortcuts.shouldMoveView()||(e.props.instancesSelection.clearSelection(),e.props.onInstancesSelected([]))},e._onPanMove=function(t,n,r,o){if(e.keyboardShortcuts.shouldMoveView()){var a=t/e.getZoomFactor(),i=n/e.getZoomFactor();e.viewPosition.scrollBy(-a,-i),e.props.onViewPositionChanged&&e.props.onViewPositionChanged(e.viewPosition)}else e.selectionRectangle.updateSelectionRectangle(r,o)},e._getLayersVisibility=function(){for(var t=e.props.layout,n={},r=0;r<t.getLayersCount();r++)n[t.getLayerAt(r).getName()]=t.getLayerAt(r).getVisibility();return n},e._onPanEnd=function(){if(e.selectionRectangle.hasStartedSelectionRectangle()){var t=e.selectionRectangle.endSelectionRectangle();e.props.instancesSelection.selectInstances(t,e.keyboardShortcuts.shouldMultiSelect(),e._getLayersVisibility()),t=e.props.instancesSelection.getSelectedInstances(),e.props.onInstancesSelected(t)}},e._onInstanceClicked=function(t){e.pixiRenderer.view.focus()},e._onInstanceRightClicked=function(t){e._onRightClicked(Object(r.a)(Object(r.a)({},t),{},{ignoreSelectedObjectNamesForContextMenu:!1}))},e._onRightClicked=function(t){var n=t.offsetX,r=t.offsetY,o=t.x,a=t.y,i=t.ignoreSelectedObjectNamesForContextMenu;e.lastContextMenuX=n,e.lastContextMenuY=r,e.props.onContextMenu&&e.props.onContextMenu(o,a,!!i)},e._onInstanceDoubleClicked=function(t){e.props.onInstanceDoubleClicked(t)},e._onOverInstance=function(t){e.highlightedInstance.setInstance(t)},e._onDownInstance=function(t,n,r){if(!e.keyboardShortcuts.shouldMoveView()){if(e.keyboardShortcuts.shouldCloneInstances())for(var o=e.props.instancesSelection.getSelectedInstances(),a=0;a<o.length;a++){var i=o[a];e.props.initialInstances.insertInitialInstance(i).resetPersistentUuid()}else e.props.instancesSelection.selectInstance(t,e.keyboardShortcuts.shouldMultiSelect(),e._getLayersVisibility()),e.props.onInstancesSelected&&e.props.onInstancesSelected(e.props.instancesSelection.getSelectedInstances());e.instancesMover.startMove(n,r)}},e._onOutInstance=function(t){t===e.highlightedInstance.getInstance()&&e.highlightedInstance.setInstance(null)},e._onMoveInstance=function(t,n,r){var o=n/e.getZoomFactor(),a=r/e.getZoomFactor();if(e.keyboardShortcuts.shouldMoveView())return e.viewPosition.scrollBy(-o,-a),void(e.props.onViewPositionChanged&&e.props.onViewPositionChanged(e.viewPosition));e.props.instancesSelection.isInstanceSelected(t)||e._onInstanceClicked(t);var i=e.props.instancesSelection.getSelectedInstances();e.instancesMover.moveBy(i,o,a,e.keyboardShortcuts.shouldFollowAxis(),e.keyboardShortcuts.shouldNotSnapToGrid())},e._onMoveInstanceEnd=function(){e.instancesMover.endMove();var t=e.props.instancesSelection.getSelectedInstances();e.props.onInstancesMoved(t)},e._onResize=function(t,n,r){var o=t/e.getZoomFactor(),a=n/e.getZoomFactor(),i=e.props.instancesSelection.getSelectedInstances(),s="touch"===e.props.screenType&&y(r)&&C(r)||e.keyboardShortcuts.shouldResizeProportionally();e.instancesResizer.resizeBy(i,o,a,r,s)},e._onResizeEnd=function(){e.instancesResizer.endResize();var t=e.props.instancesSelection.getSelectedInstances();e.props.onInstancesResized(t)},e._onRotate=function(t,n){var r=t/e.getZoomFactor(),o=n/e.getZoomFactor(),a=e.props.instancesSelection.getSelectedInstances();e.instancesRotator.rotateBy(a,r,o,e.keyboardShortcuts.shouldResizeProportionally())},e._onRotateEnd=function(){e.instancesRotator.endRotate();var t=e.props.instancesSelection.getSelectedInstances();e.props.onInstancesRotated(t)},e.clearHighlightedInstance=function(){e.highlightedInstance.setInstance(null)},e.moveSelection=function(t,n){var r=e.props.instancesSelection.getSelectedInstances().filter((function(e){return!e.isLocked()}));r.forEach((function(e){e.setX(e.getX()+t),e.setY(e.getY()+n)})),e.props.onInstancesMoved(r)},e.getLastContextMenuSceneCoordinates=function(){return e.viewPosition.toSceneCoordinates(e.lastContextMenuX,e.lastContextMenuY)},e.getLastCursorSceneCoordinates=function(){return e.viewPosition.toSceneCoordinates(e.lastCursorX,e.lastCursorY)},e.getViewPosition=function(){return e.viewPosition},e._renderScene=function(){e._unmounted||e._renderingPaused||(e.fpsLimiter.shouldUpdate()&&(e.backgroundColor.render(),e.viewPosition.render(),e.canvasCursor.render(),e.grid.render(),e.instancesRenderer.render(),e.highlightedInstance.render(),e.selectedInstances.render(),e.selectionRectangle.render(),e.windowBorder.render(),e.windowMask.render(),e.statusBar.render(),e.pixiRenderer.render(e.pixiContainer)),e.nextFrame=requestAnimationFrame(e._renderScene))},e.pauseSceneRendering=function(){e.nextFrame&&cancelAnimationFrame(e.nextFrame),e._renderingPaused=!0,F()},e.restartSceneRendering=function(){e._renderingPaused=!1,e._renderScene(),D()},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}},{key:"componentDidUpdate",value:function(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}},{key:"_initializeCanvasAndRenderer",value:function(){var e=this,t=this.canvasArea;if(t){var n=this.props.project;this.pixiRenderer=h.autoDetectRenderer({width:this.props.width,height:this.props.height,preserveDrawingBuffer:!0,antialias:!1}),t.appendChild(this.pixiRenderer.view),this.longTouchHandler=new Y({canvas:this.pixiRenderer.view,onLongTouch:function(t){return e.props.onContextMenu(t.clientX,t.clientY)}}),this.pixiRenderer.view.onwheel=function(t){var n=e.getZoomFactor();if(e.keyboardShortcuts.shouldZoom())e.zoomOnCursorBy(-t.deltaY/5e3);else if(e.keyboardShortcuts.shouldScrollHorizontally()){var r=t.deltaY/(5*n);e.viewPosition.scrollBy(-r,0)}else{var o=t.deltaX/(5*n),a=t.deltaY/(5*n);e.viewPosition.scrollBy(o,a)}e.props.onViewPositionChanged&&e.props.onViewPositionChanged(e.viewPosition),t.preventDefault()},this.pixiRenderer.view.setAttribute("tabIndex",-1),this.pixiRenderer.view.addEventListener("focus",(function(t){e.keyboardShortcuts.focus()})),this.pixiRenderer.view.addEventListener("blur",(function(t){e.keyboardShortcuts.blur()})),this.pixiRenderer.view.addEventListener("mouseover",(function(t){e.keyboardShortcuts.focus()})),this.pixiRenderer.view.addEventListener("mouseout",(function(t){e.keyboardShortcuts.blur()})),this.pixiContainer=new h.Container,this.backgroundArea=new h.Container,this.backgroundArea.hitArea=new h.Rectangle(0,0,this.props.width,this.props.height),u.a.panable(this.backgroundArea),this.backgroundArea.on("mousedown",(function(t){return e._onBackgroundClicked(t.data.global.x,t.data.global.y)})),this.backgroundArea.on("rightclick",(function(t){var n=t.data.originalEvent;return e._onRightClicked({offsetX:n.offsetX,offsetY:n.offsetY,x:n.clientX,y:n.clientY,ignoreSelectedObjectNamesForContextMenu:!0}),!1})),this.backgroundArea.on("touchstart",(function(t){Object(H.b)(t.data&&t.data.originalEvent)||e._onBackgroundClicked(t.data.global.x,t.data.global.y)})),this.backgroundArea.on("mousemove",(function(t){var n=t.data.global.x||0,r=t.data.global.y||0;e._onMouseMove(n,r)})),this.backgroundArea.on("panmove",(function(t){return e._onPanMove(t.deltaX,t.deltaY,t.data.global.x,t.data.global.y)})),this.backgroundArea.on("panend",(function(t){return e._onPanEnd()})),this.pixiContainer.addChild(this.backgroundArea),this.viewPosition=new b.a({initialViewX:n?n.getGameResolutionWidth()/2:0,initialViewY:n?n.getGameResolutionHeight()/2:0,width:this.props.width,height:this.props.height,instancesEditorSettings:this.props.instancesEditorSettings}),this.pixiContainer.addChild(this.viewPosition.getPixiContainer()),this.grid=new _({viewPosition:this.viewPosition,instancesEditorSettings:this.props.instancesEditorSettings}),this.pixiContainer.addChild(this.grid.getPixiObject()),this.keyboardShortcuts=new d.b({onDelete:this.props.onDeleteSelection,onMove:this.moveSelection,onCopy:this.props.onCopy,onCut:this.props.onCut,onPaste:this.props.onPaste,onUndo:this.props.onUndo,onRedo:this.props.onRedo,onZoomOut:this.props.onZoomOut,onZoomIn:this.props.onZoomIn}),this.pinchHandler=new H.a({canvas:this.pixiRenderer.view,setZoomFactor:this.setZoomFactor,getZoomFactor:this.getZoomFactor,viewPosition:this.viewPosition}),this.canvasCursor=new V({canvas:t,shouldMoveView:function(){return e.keyboardShortcuts.shouldMoveView()}}),this._instancesAdder=new W.a({instances:this.props.initialInstances,instancesEditorSettings:this.props.instancesEditorSettings}),this._mountEditorComponents(this.props),this._renderScene()}}},{key:"forceRemount",value:function(){this._mountEditorComponents(this.props)}},{key:"_mountEditorComponents",value:function(e){this.highlightedInstance&&this.pixiContainer.removeChild(this.highlightedInstance.getPixiObject()),this.selectedInstances&&this.pixiContainer.removeChild(this.selectedInstances.getPixiContainer()),this.instancesRenderer&&(this.viewPosition.getPixiContainer().removeChild(this.instancesRenderer.getPixiContainer()),this.instancesRenderer.delete()),this.selectionRectangle&&(this.pixiContainer.removeChild(this.selectionRectangle.getPixiObject()),this.selectionRectangle.delete()),this.windowBorder&&this.pixiContainer.removeChild(this.windowBorder.getPixiObject()),this.windowMask&&this.pixiContainer.removeChild(this.windowMask.getPixiObject()),this.statusBar&&this.pixiContainer.removeChild(this.statusBar.getPixiObject()),this.backgroundColor=new L({layout:e.layout,pixiRenderer:this.pixiRenderer}),this.instancesRenderer=new f({project:e.project,layout:e.layout,instances:e.initialInstances,viewPosition:this.viewPosition,onOverInstance:this._onOverInstance,onMoveInstance:this._onMoveInstance,onMoveInstanceEnd:this._onMoveInstanceEnd,onDownInstance:this._onDownInstance,onOutInstance:this._onOutInstance,onInstanceClicked:this._onInstanceClicked,onInstanceRightClicked:this._onInstanceRightClicked,onInstanceDoubleClicked:this._onInstanceDoubleClicked}),this.selectionRectangle=new S.a({instances:e.initialInstances,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toSceneCoordinates:this.viewPosition.toSceneCoordinates}),this.selectedInstances=new k({instancesSelection:this.props.instancesSelection,onResize:this._onResize,onResizeEnd:this._onResizeEnd,onRotate:this._onRotate,onRotateEnd:this._onRotateEnd,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates,screenType:this.props.screenType}),this.highlightedInstance=new w({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.instancesResizer=new T({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),instancesEditorSettings:this.props.instancesEditorSettings}),this.instancesRotator=new P(this.instancesRenderer.getInstanceMeasurer()),this.instancesMover=new I({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),instancesEditorSettings:this.props.instancesEditorSettings}),this.windowBorder=new N({project:e.project,layout:e.layout,toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.windowMask=new R({project:e.project,viewPosition:this.viewPosition,instancesEditorSettings:this.props.instancesEditorSettings}),this.statusBar=new U({width:this.props.width,height:this.props.height,getLastCursorSceneCoordinates:this.getLastCursorSceneCoordinates}),this.pixiContainer.addChild(this.selectionRectangle.getPixiObject()),this.viewPosition.getPixiContainer().addChild(this.instancesRenderer.getPixiContainer()),this.pixiContainer.addChild(this.windowBorder.getPixiObject()),this.pixiContainer.addChild(this.windowMask.getPixiObject()),this.pixiContainer.addChild(this.selectedInstances.getPixiContainer()),this.pixiContainer.addChild(this.highlightedInstance.getPixiObject()),this.pixiContainer.addChild(this.statusBar.getPixiObject())}},{key:"componentWillUnmount",value:function(){this._unmounted=!0,this.keyboardShortcuts.unmount(),this.selectionRectangle.delete(),this.instancesRenderer.delete(),this._instancesAdder.unmount(),this.pinchHandler.unmount(),this.longTouchHandler.unmount(),this.nextFrame&&cancelAnimationFrame(this.nextFrame),F(),this.pixiRenderer.destroy()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.width===this.props.width&&e.height===this.props.height||(this.pixiRenderer.resize(e.width,e.height),this.viewPosition.resize(e.width,e.height),this.statusBar.resize(e.width,e.height),this.backgroundArea.hitArea=new h.Rectangle(0,0,e.width,e.height),this.fpsLimiter.forceNextUpdate(),this._renderScene()),e.instancesEditorSettings!==this.props.instancesEditorSettings&&(this.grid.setInstancesEditorSettings(e.instancesEditorSettings),this.instancesMover.setInstancesEditorSettings(e.instancesEditorSettings),this.instancesResizer.setInstancesEditorSettings(e.instancesEditorSettings),this.windowMask.setInstancesEditorSettings(e.instancesEditorSettings),this.viewPosition.setInstancesEditorSettings(e.instancesEditorSettings),this._instancesAdder.setInstancesEditorSettings(e.instancesEditorSettings)),e.screenType!==this.props.screenType&&this.selectedInstances.setScreenType(this.props.screenType),this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||this._mountEditorComponents(e),e.pauseRendering&&!this.props.pauseRendering&&this.pauseSceneRendering(),!e.pauseRendering&&this.props.pauseRendering&&this.restartSceneRendering()}},{key:"resetInstanceRenderersFor",value:function(e){this.instancesRenderer&&this.instancesRenderer.resetInstanceRenderersFor(e)}},{key:"zoomBy",value:function(e){this.setZoomFactor(this.getZoomFactor()+e)}},{key:"zoomOnCursorBy",value:function(e){var t=this.getLastCursorSceneCoordinates();this.setZoomFactor(this.getZoomFactor()+e);var n=this.getLastCursorSceneCoordinates();this.viewPosition.scrollBy(t[0]-n[0],t[1]-n[1]),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition)}},{key:"scrollTo",value:function(e,t){this.viewPosition.scrollTo(e,t)}},{key:"centerView",value:function(){var e=this.props.project.getGameResolutionWidth()/2,t=this.props.project.getGameResolutionHeight()/2;this.viewPosition.scrollTo(e,t)}},{key:"centerViewOn",value:function(e){e.length&&(this.viewPosition.scrollToInstance(e[e.length-1]),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition))}},{key:"render",value:function(){var e=this;return this.props.project?Object(q.jsx)(K,{canDrop:function(){return!0},hover:function(t){var n=e._instancesAdder,r=e.viewPosition,o=e.canvasArea;if(n&&o&&r){var a=t.getClientOffset(),i=a.x,s=a.y,c=o.getBoundingClientRect(),l=r.toSceneCoordinates(i-c.left,s-c.top);n.createOrUpdateTemporaryInstancesFromObjectNames(l,e.props.selectedObjectNames)}},drop:function(t){var n=e._instancesAdder,r=e.viewPosition,o=e.canvasArea;if(n&&o&&r)if(t.didDrop())n.deleteTemporaryInstances();else{var a=t.getClientOffset(),i=a.x,s=a.y,c=o.getBoundingClientRect(),l=r.toSceneCoordinates(i-c.left,s-c.top),u=n.updateTemporaryInstancePositions(l);n.commitTemporaryInstances(),e.props.onInstancesAdded(u)}},children:function(t){var n=t.connectDropTarget,r=t.isOver;return e._instancesAdder&&!r&&e._instancesAdder.deleteTemporaryInstances(),n(Object(q.jsx)("div",{ref:function(t){return e.canvasArea=t},style:X.canvasArea}))}}):null}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return nt}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(2),d=n(624),p=n(588),b=n(625),h=n(7),j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onPlay,n=e.onPause,r=e.canPlay,o=e.canPause,a=e.onOpenProfiler,i=e.canOpenProfiler,s=e.onOpenConsole,c=e.canOpenConsole;return Object(h.jsxs)(d.b,{lastChild:!0,children:[Object(h.jsx)(p.a,{onClick:t,src:"res/ribbon_default/preview64.png",disabled:!r,tooltip:{id:"Play the game"}}),Object(h.jsx)(p.a,{onClick:n,src:"res/ribbon_default/pause64.png",disabled:!o,tooltip:{id:"Pause the game"}}),Object(h.jsx)(b.a,{}),Object(h.jsx)(p.a,{onClick:a,src:"res/ribbon_default/profiler32.png",disabled:!i,tooltip:{id:"Open the performance profiler"}}),Object(h.jsx)(p.a,{onClick:s,src:"res/ribbon_default/source_cpp32.png",disabled:!c,tooltip:{id:"Open the console"}})]})}}]),n}(l.PureComponent),f=j,g=n(614),m=n(488),O=n(781),v=n.n(O),x=n(137),y=n(30),C=n(485),T={container:{flex:1,display:"flex"},list:{overflowY:"scroll",flex:1}},E=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"_renderInspectorList",value:function(e,t,n){var r=this;return t(e).map((function(t){if(!t)return null;var o=n.concat(t.key),a=t.getSubInspectors;return Object(h.jsx)(C.b,{primaryText:t.label,initiallyOpen:!!t.initiallyOpen,onClick:function(){return r.props.onChooseInspector(t,o)},renderNestedItems:a?function(){return r._renderInspectorList(v()(e,t.key,null),a,o)}:void 0},o.join("."))}))}},{key:"render",value:function(){return this.props.gameData?Object(h.jsx)(C.a,{style:T.list,children:this._renderInspectorList(this.props.gameData,this.props.getInspectorDescriptions,[])}):null}}]),n}(l.Component),k=n(720),w=n.n(k),S=n(45),P=n(1079),I=n.n(P),_=function e(t){if(!t)return null;var n={type:t._type,value:null};return"string"===t._type?n.value=t._str:"number"===t._type?n.value=t._value:"boolean"===t._type?n.value=t._bool:"structure"===t._type?n.value=I()(t._children,e):"array"===t._type&&(n.value=t._childrenArray.map(e)),n},A=function(e,t){var n=t.onCall,r=(t.onEdit,t.variablesContainer);if(r){var o=function(e,t){var n,r=e.shift(),o=["_variables","items",r],a=t._variables.items[r],i=!1,s=Object(S.a)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value;if(!(i=!i))if("structure"===a._type)o.push("_children",c),a=a._children[c];else{if("array"!==a._type)return{path:null,variable:null};o.push("_childrenArray",c),a=a._childrenArray[parseInt(c,10)]}}}catch(l){s.e(l)}finally{s.f()}return{path:o,variable:a}}(e.namespace,r),a=o.path,i=o.variable;if(!a)return console.error("Invalid path passed to the debugger: ",e),!1;if(!i)return console.error("Variable doesn't exist: ",e),!1;if("type"===e.name){if(a.push("castTo"),"string"!==e.new_value&&"number"!==e.new_value&&"boolean"!==e.new_value&&"structure"!==e.new_value&&"array"!==e.new_value)return console.error("Invalid type name: "+e.new_value),!1;e.new_value!==i._type&&n(a,[e.new_value])}else if("value"===e.name){if("string"===i._type&&"string"!==typeof e.new_value)e.new_value=""+e.new_value;else if("number"===i._type&&"number"!==typeof e.new_value){if(e.new_value=parseFloat(e.new_value),isNaN(e.new_value))return console.error("Cannot set variable of type number to NaN!"),!1}else if("boolean"===i._type&&"boolean"!==typeof e.new_value)e.new_value="string"===typeof e.new_value?"false"!==e.new_value.toLowerCase()&&"0"!==e.new_value:!!e.new_value;else if("structure"===i._type||"array"===i._type)return console.error("Cannot set the value of a collection."),!1;a.push("setValue"),n(a,[e.new_value])}return!0}},N=function(e){return Object(h.jsx)(w.a,{collapsed:!1,name:!1,src:e.variablesContainer?(t=e.variablesContainer,t&&t._variables&&t._variables.items?I()(t._variables.items,_):null):null,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return A(t,e)},groupArraysAfterLength:50,theme:"monokai",validationMessage:"Invalid value"});var t},R=n(463),L=function(e){return Object(h.jsxs)(l.Fragment,{children:[Object(h.jsx)(R.a,{children:Object(h.jsx)(c.Trans,{id:"General:"})}),Object(h.jsx)(w.a,{collapsed:!1,name:!1,src:(t=e.runtimeObject,t?{"X position":t.x,"Y position":t.y,Angle:t.angle,Layer:t.layer,"Z order":t.zOrder,"Is hidden?":t.hidden}:null),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return function(e,t){var n=t.onCall;if(t.onEdit,"X position"===e.name)n(["setX"],[parseFloat(e.new_value)]);else if("Y position"===e.name)n(["setY"],[parseFloat(e.new_value)]);else if("Angle"===e.name)n(["setAngle"],[parseFloat(e.new_value)]);else if("Layer"===e.name)n(["setLayer"],[e.new_value]);else if("Z order"===e.name)n(["setZOrder"],[parseFloat(e.new_value)]);else{if("Is hidden?"!==e.name)return!1;n(["hide"],[!!e.new_value])}return!0}(t,e)},groupArraysAfterLength:50,theme:"monokai"}),Object(h.jsx)(R.a,{children:Object(h.jsx)(c.Trans,{id:"Instance variables:"})}),Object(h.jsx)(N,{variablesContainer:e.runtimeObject?e.runtimeObject._variables:null,onEdit:function(t,n){return e.onEdit(["_variables"].concat(t),n)},onCall:function(t,n){return e.onCall(["_variables"].concat(t),n)}})]});var t},M=n(80),F=n(514),D=function(e){return e?{"Camera rotation (in deg)":e._cameraRotation,"Camera zoom":e._zoomFactor,"Layer is hidden":!!e._hidden,"Camera X position":e._cameraX,"Camera Y position":e._cameraY,"Time scale":e._timeScale}:null},B=function(e){return e?{"Time scale":e._timeManager?e._timeManager._timeScale:null,Layers:e._layers&&e._layers.items?I()(e._layers.items,D):null,"Actions waiting to be finished":e._asyncTasksManager.tasksWithCallback.length}:null},U=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={newObjectName:""},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.runtimeScene,r=t.onCall;return n?Object(h.jsxs)(l.Fragment,{children:[Object(h.jsx)(R.a,{children:Object(h.jsx)(c.Trans,{id:"Layers:"})}),Object(h.jsx)(w.a,{collapsed:!1,name:!1,src:B(n),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return function(e,t){var n=t.onCall;if(t.onEdit,0===e.namespace.length&&"Time scale"===e.name)n(["_timeManager","setTimeScale"],[parseFloat(e.new_value)]);else{if(!(e.namespace.length>=2))return!1;"Layers"===e.namespace[0]&&("Camera rotation (in deg)"===e.name?n(["_layers","items",e.namespace[1],"setCameraRotation"],[parseFloat(e.new_value)]):"Camera zoom"===e.name?n(["_layers","items",e.namespace[1],"setCameraZoom"],[parseFloat(e.new_value)]):"Layer is hidden"===e.name?n(["_layers","items",e.namespace[1],"show"],[!e.new_value]):"Camera X position"===e.name?n(["_layers","items",e.namespace[1],"setCameraX"],[parseFloat(e.new_value)]):"Camera Y position"===e.name?n(["_layers","items",e.namespace[1],"setCameraY"],[parseFloat(e.new_value)]):"Time scale"===e.name&&n(["_layers","items",e.namespace[1],"setTimeScale"],[parseFloat(e.new_value)]))}return!0}(t,e.props)},groupArraysAfterLength:50,theme:"monokai"}),Object(h.jsx)(R.a,{children:Object(h.jsx)(c.Trans,{id:"Create a new instance on the scene (will be at position 0;0):"})}),n._objects&&n._objects.items&&Object(h.jsx)(M.d,{noFloatingLabelText:!0,renderTextField:function(){return Object(h.jsx)(F.a,{hintText:{id:"Enter the name of the object"},value:e.state.newObjectName,onChange:function(t){e.setState({newObjectName:t})},dataSource:Object.keys(n._objects.items).map((function(e){return{text:e,value:e}})),openOnFocus:!0,fullWidth:!0})},renderButton:function(t){return Object(h.jsx)(x.a,{style:t,label:Object(h.jsx)(c.Trans,{id:"Create"}),primary:!0,onClick:function(){r(["createObject"],[e.state.newObjectName])}})}})]}):null}}]),n}(l.Component),V=function(e){return[{label:"Global variables",key:"_variables",renderInspector:function(e,t){var n=t.onCall,r=t.onEdit;return Object(h.jsx)(N,{variablesContainer:e,onCall:n,onEdit:r})}},{label:"Scenes",key:["_sceneStack","_stack"],renderInspector:function(){return null},initiallyOpen:!0,getSubInspectors:function(e){return e?e.map((function(e,t){return{label:e._name,key:t,renderInspector:function(e,t){var n=t.onCall,r=t.onEdit;return Object(h.jsx)(U,{runtimeScene:e,onCall:n,onEdit:r})},initiallyOpen:!0,getSubInspectors:function(e){return[{label:"Scene variables",key:"_variables",renderInspector:function(e,t){var n=t.onCall,r=t.onEdit;return Object(h.jsx)(N,{variablesContainer:e,onCall:n,onEdit:r})}},{label:"Instances",key:"_instances",renderInspector:function(){return null},initiallyOpen:!0,getSubInspectors:function(e){return e&&e.items?Object.keys(e.items).map((function(t){return e.items[t]&&void 0!==typeof e.items[t].length?{label:"".concat(t," (").concat(e.items[t].length,")"),key:["items",t],renderInspector:function(){return null},getSubInspectors:function(e){return e?e.filter((function(e){return!!e})).map((function(e,t){return{label:"#".concat(e.id),key:t,renderInspector:function(e,t){var n=t.onCall,r=t.onEdit;return Object(h.jsx)(L,{runtimeObject:e,onCall:n,onEdit:r})}}})):[]}}:null})):[]}}]}}})):[]}}]},W=n(470),G=function(e){var t=e.gameData,n=e.onEdit;return Object(h.jsxs)(l.Fragment,{children:[Object(h.jsx)(W.a,{children:Object(h.jsx)(c.Trans,{id:"You are in raw mode. You can edit the fields, but be aware that this can lead to unexpected results or even crash the debugged game!"})}),Object(h.jsx)(w.a,{collapsed:1,name:!1,src:t,onEdit:function(e){return n(e.namespace.concat(e.name),e.new_value)},groupArraysAfterLength:50,theme:"monokai"})]})},z=n(493),H=n(1080),Y=n.n(H),q=n(1737),X=n.n(q),K=n(472),J=n(18),Z=n(511),Q=n(500),$=n(1022),ee=n.n($),te=n(471),ne=n(595),re=n.n(ne),oe=n(637),ae=n.n(oe),ie={indent:{display:"flex",alignItems:"center"}},se=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={collapsedPaths:{}},e._convertToDataRows=function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=e.props.profilerMeasures,s=n&&r.time&&0!==n.time?r.time/n.time*100:100,c=i&&r.time&&0!==i.time?r.time/i.time*100:100,l=e._isSectionCollapsed(a);return[{name:t,time:r.time?"".concat(r.time.toFixed(2),"ms"):"?",parentPercent:"".concat(s.toFixed(2),"%"),totalPercent:"".concat(c.toFixed(2),"%"),depth:o,hasSubsections:!!Object.keys(r.subsections).length,path:a,isCollapsed:l}].concat(Object(J.a)(l?[]:ee()(r.subsections,(function(t,n){return e._convertToDataRows(n,r,t,o+1,"".concat(a,">").concat(o,".").concat(n))}))))},e._isSectionCollapsed=function(t){return e.state.collapsedPaths[t]},e._toggleSection=function(t){e.setState((function(e){return{collapsedPaths:Object(r.a)(Object(r.a)({},e.collapsedPaths),{},Object(u.a)({},t,!e.collapsedPaths[t]))}}))},e._rowClassName=function(e){var t=e.index;return t<0?"tableHeaderRow":t%2===0?"tableEvenRow":"tableOddRow"},e._renderSectionNameCell=function(t){var n=t.rowData;return Object(h.jsxs)("div",{style:ie.indent,children:[Object(h.jsx)("div",{style:{width:8*n.depth}}),n.hasSubsections?Object(h.jsx)(te.a,{onClick:function(){return e._toggleSection(n.path)},children:n.isCollapsed?Object(h.jsx)(ae.a,{}):Object(h.jsx)(re.a,{})}):Object(h.jsx)("div",{style:{width:24}}),n.name]})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props.profilerMeasures;if(!t)return null;var n=this._convertToDataRows("All",null,t);return Object(h.jsx)(Q.a,{children:function(t){return Object(h.jsx)(Z.a,{children:function(r){var o=r.height,a=r.width;return Object(h.jsxs)(Z.h,{headerHeight:30,height:o,className:"gd-table ".concat(t.tableRootClassName),headerClassName:"tableHeaderColumn",rowCount:n.length,rowGetter:function(e){var t=e.index;return n[t]},rowHeight:35,onRowClick:function(){},rowClassName:e._rowClassName,width:a,children:[Object(h.jsx)(Z.d,{label:Object(h.jsx)(c.Trans,{id:"Section name"}),dataKey:"name",width:.4*a,className:"tableColumn",cellRenderer:e._renderSectionNameCell}),Object(h.jsx)(Z.d,{label:Object(h.jsx)(c.Trans,{id:"Time (ms)"}),dataKey:"time",width:.2*a,className:"tableColumn"}),Object(h.jsx)(Z.d,{label:Object(h.jsx)(c.Trans,{id:"% of parent"}),dataKey:"parentPercent",width:.2*a,className:"tableColumn"}),Object(h.jsx)(Z.d,{label:Object(h.jsx)(c.Trans,{id:"% of total"}),dataKey:"totalPercent",width:.2*a,className:"tableColumn"})]})}})}})}}]),n}(l.Component),ce=n(2189),le={tableContainer:{flex:1}},ue=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onStart,n=e.onStop,r=e.profilerOutput,o=e.profilingInProgress;return Object(h.jsxs)(m.a,{children:[Object(h.jsxs)(y.c,{alignItems:"center",justifyContent:"center",children:[!o&&r&&Object(h.jsx)(R.a,{children:Object(h.jsx)(c.Trans,{id:"Last run collected on {0} frames.",values:{0:r.stats.framesCount}})}),!o&&r&&Object(h.jsx)(x.a,{label:Object(h.jsx)(c.Trans,{id:"Restart"}),onClick:t}),!o&&!r&&Object(h.jsx)(x.a,{label:Object(h.jsx)(c.Trans,{id:"Start profiling"}),onClick:t}),o&&Object(h.jsx)(x.a,{label:Object(h.jsx)(c.Trans,{id:"Stop profiling"}),onClick:n})]}),o&&Object(h.jsx)(y.c,{alignItems:"center",children:Object(h.jsx)(ce.a,{style:{flex:1},variant:"indeterminate"})}),Object(h.jsxs)("div",{style:le.tableContainer,children:[r&&Object(h.jsx)(se,{profilerMeasures:r.framesAverageMeasures}),!r&&Object(h.jsx)(W.a,{children:Object(h.jsx)(c.Trans,{id:"Start profiling and then stop it after a few seconds to see the results."})})]})]})}}]),n}(l.Component),de=n(26),pe=n(139),be=n(560),he=n(100),je=n(532),fe=n(136),ge=n(891),me=n.n(ge),Oe=n(593),ve=n.n(Oe),xe=n(753),ye=n.n(xe),Ce=n(1735),Te=n.n(Ce),Ee=n(1736),ke=n.n(Ee),we=n(574),Se=n.n(we),Pe=n(551),Ie=n.n(Pe),_e=n(755),Ae=n.n(_e),Ne=n(857),Re=n.n(Ne),Le=n(1734),Me=n.n(Le),Fe=function(){function e(){Object(o.a)(this,e),this.logs=[],this.groups=new Set,this._onNewLog=new Set,this._onNewGroup=new Set,this._pendingLogs=[],this._pendingCommit=!1}return Object(a.a)(e,[{key:"_commitLogs",value:function(){var e;(e=this.logs).unshift.apply(e,Object(J.a)(this._pendingLogs)),this._pendingLogs.length=0,this._pendingCommit=!1,this._onNewLog.forEach((function(e){return e()}))}},{key:"addLog",value:function(e){this._pendingLogs.unshift(e),this.groups.has(e.group)||(this.groups.add(e.group),this._onNewGroup.forEach((function(e){return e()}))),this._pendingCommit||(setTimeout(this._commitLogs.bind(this),200),this._pendingCommit=!0)}},{key:"on",value:function(e,t){"group"===e&&this._onNewGroup.add(t),"log"===e&&this._onNewLog.add(t)}},{key:"off",value:function(e,t){"group"===e&&this._onNewGroup.delete(t),"log"===e&&this._onNewLog.delete(t)}}]),e}(),De={userSelect:"text",cursor:"text",wordBreak:"break-word"},Be={list:{overflowX:"hidden",overflowY:"scroll"},tag:{marginRight:2},consoleTextArea:Object(r.a)(Object(r.a)({},De),{},{width:"100%",backgroundColor:"#292929",borderRadius:"4px",border:"1px solid slategray",color:"white",fontFamily:"'Courier New', monospace",fontSize:11,padding:3})},Ue=function(e){var t=e.icon,n=e.label;return Object(h.jsx)(be.a,{icon:t,style:Be.tag,size:"small",label:Object(h.jsx)("span",{style:De,children:n})})},Ve={info:Object(h.jsx)(me.a,{color:"primary",fontSize:"small"}),warning:Object(h.jsx)(ve.a,{color:"secondary",fontSize:"small"}),error:Object(h.jsx)(ye.a,{color:"error",fontSize:"small"})},We=function(e){var t=e.logsManager,n=Object(pe.a)(),o=t.logs,a=t.groups;l.useEffect((function(){var e=function(){n()};return t.on("log",e),function(){t.off("log",e)}}),[n,t]);var i=l.useRef(0),s=l.useMemo((function(){return new Z.c({defaultHeight:45,minHeight:25,fixedWidth:!0,keyMapper:function(e){return o.length-e}})}),[o]),u=l.useState(!1),d=Object(de.a)(u,2),p=d[0],b=d[1],j=l.useState(!0),f=Object(de.a)(j,2),g=f[0],m=f[1],O=l.useState(!1),v=Object(de.a)(O,2),x=v[0],C=v[1],T=l.useRef(new Set).current;l.useEffect((function(){if(x){var e=function(){return n()};return t.on("group",e),function(){t.off("group",e)}}}),[x,n,t]);var E=o.filter((function(e){var t=e.internal;return!(p&&t)})).filter((function(e){var t=e.group;return!T.has(t)}));return Object(h.jsxs)(y.a,{noMargin:!0,noOverflowParent:!0,expand:!0,children:[Object(h.jsx)(y.c,{noMargin:!0,expand:!0,children:Object(h.jsx)(Z.a,{children:function(e){var t=e.width,n=e.height;return t&&n?(i.current!==t&&(s.clearAll(),i.current=t),Object(h.jsx)(Z.f,{deferredMeasurementCache:s,height:n,width:t,style:Be.list,rowCount:E.length,rowHeight:s.rowHeight,rowRenderer:function(e){var t=e.index,n=e.key,o=e.parent,a=e.style;return Object(h.jsx)(Z.b,{cache:s,columnIndex:0,parent:o,rowIndex:t,children:function(e){var o=e.registerChild;return Object(h.jsxs)("div",{style:Object(r.a)(Object(r.a)({},a),{},{padding:2,display:"flex",alignItems:"flex-start"}),ref:o,children:[Object(h.jsx)(y.a,{noMargin:!0,children:Ve[E[t].type]||Ve.info}),Object(h.jsx)(y.d,{}),Object(h.jsxs)(y.a,{noMargin:!0,expand:!0,children:[Object(h.jsx)(y.c,{noMargin:!0,children:Object(h.jsx)("div",{style:Be.consoleTextArea,children:E[t].message})}),g&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y.d,{}),Object(h.jsxs)(y.c,{noMargin:!0,children:[E[t].group?Object(h.jsx)(Ue,{icon:Object(h.jsx)(Me.a,{}),label:Object(h.jsx)(c.Trans,{id:"Group: {0}",values:{0:E[t].group}})}):null,Object(h.jsx)(Ue,{icon:Object(h.jsx)(Re.a,{}),label:Object(h.jsx)(c.Trans,{id:"Timestamp: {0}",values:{0:Math.round(1e3*E[t].timestamp)/1e6+"s"}})})]})]})]})]},n)}},n)}})):null}})}),Object(h.jsx)(je.b,{children:Object(h.jsxs)(y.c,{justifyContent:"space-between",alignItems:"center",noMargin:!0,children:[Object(h.jsx)(z.a,{label:g?Object(h.jsx)(c.Trans,{id:"Hide details"}):Object(h.jsx)(c.Trans,{id:"Show details"}),checkedIcon:Object(h.jsx)(Te.a,{}),uncheckedIcon:Object(h.jsx)(ke.a,{}),checked:g,onCheck:function(e,t){return m(t),void s.clearAll()}}),Object(h.jsx)(z.a,{label:Object(h.jsx)(c.Trans,{id:"Show internal"}),checkedIcon:Object(h.jsx)(Se.a,{}),uncheckedIcon:Object(h.jsx)(Ie.a,{}),checked:!p,onCheck:function(e,t){return b(!t)}}),Object(h.jsx)(te.a,{tooltip:{id:"Filter the logs by group"},onClick:function(){return C(!0)},edge:"start",size:"small",children:Object(h.jsx)(Ae.a,{})})]})}),x&&Object(h.jsx)(he.b,{open:!0,title:Object(h.jsx)(c.Trans,{id:"Select log groups to display"}),actions:[Object(h.jsx)(fe.a,{label:Object(h.jsx)(c.Trans,{id:"Close"}),primary:!1,onClick:function(){return C(!1)}},"close")],onRequestClose:function(){return C(!1)},onApply:function(){return C(!1)},children:Object(h.jsx)(y.a,{children:function(){var e,t=[],r=Object(S.a)(a.values());try{var o=function(){var r=e.value;t.push(Object(h.jsx)(y.c,{children:Object(h.jsx)(z.a,{label:r,checked:!T.has(r),onCheck:function(e,t){t?T.delete(r):T.add(r),n()}})},r))};for(r.s();!(e=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return t}()})})]})},Ge=n(43),ze=n(484),He={direction:"column",first:{direction:"row",first:"inspectors",second:"selected-inspector",splitPercentage:25},second:{direction:"row",first:"profiler",second:"console",splitPercentage:25},splitPercentage:65},Ye=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={selectedInspector:null,selectedInspectorFullPath:[],rawMode:!1},e._editors=null,e.openProfiler=function(){e._editors&&e._editors.openEditor("profiler","end",75,"row")},e.openConsole=function(){e._editors&&e._editors.openEditor("console","start",40,"row")},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.gameData,r=t.onRefresh,o=t.onCall,a=t.onEdit,i=t.onStartProfiler,s=t.onStopProfiler,l=t.profilerOutput,u=t.profilingInProgress,d=t.logsManager,p=this.state,b=p.selectedInspector,j=p.selectedInspectorFullPath,f=p.rawMode,O={inspectors:{type:"primary",title:{id:"Inspectors"},toolbarControls:[],renderEditor:function(){return Object(h.jsx)(m.a,{children:Object(h.jsxs)(y.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(h.jsx)(y.c,{justifyContent:"center",children:Object(h.jsx)(x.a,{label:Object(h.jsx)(c.Trans,{id:"Refresh"}),onClick:r,primary:!0})}),Object(h.jsx)(E,{gameData:n,getInspectorDescriptions:V,onChooseInspector:function(t,n){return e.setState({selectedInspector:t,selectedInspectorFullPath:n})}})]})})}},"selected-inspector":{type:"primary",noTitleBar:!0,renderEditor:function(){return Object(h.jsxs)(m.a,{children:[Object(h.jsx)(ze.a,{children:Object(h.jsx)(y.a,{children:b?f?Object(h.jsx)(G,{gameData:v()(n,j,null),onEdit:function(e,t){return a(j.concat(e),t)}}):b.renderInspector(v()(n,j,null),{onCall:function(e,t){return o(j.concat(e),t)},onEdit:function(e,t){return a(j.concat(e),t)}})||Object(h.jsx)(W.a,{children:Object(h.jsx)(c.Trans,{id:"No inspector, choose another element in the list or toggle the raw data view."})}):Object(h.jsx)(W.a,{children:n?Object(h.jsx)(c.Trans,{id:"Choose an element to inspect in the list"}):Object(h.jsx)(c.Trans,{id:"Pause the game (from the toolbar) or hit refresh (on the left) to inspect the game"})})})}),Object(h.jsx)(je.b,{children:Object(h.jsxs)(y.c,{justifyContent:"space-between",alignItems:"center",noMargin:!0,children:[Object(h.jsx)(K.a,{helpPagePath:"/interface/debugger"}),Object(h.jsx)("div",{children:Object(h.jsx)(z.a,{checkedIcon:Object(h.jsx)(Y.a,{}),uncheckedIcon:Object(h.jsx)(X.a,{}),checked:f,onCheck:function(t,n){return e.setState({rawMode:n})}})})]})})]})}},profiler:{type:"secondary",title:{id:"Profiler"},renderEditor:function(){return Object(h.jsx)(ue,{onStart:i,onStop:s,profilerOutput:l,profilingInProgress:u})}},console:{type:"secondary",title:{id:"Console"},renderEditor:function(){return Object(h.jsx)(m.a,{children:Object(h.jsx)(We,{logsManager:d||[]})})}}};return Object(h.jsx)(Ge.a.Consumer,{children:function(t){var n=t.getDefaultEditorMosaicNode,r=t.setDefaultEditorMosaicNode;return Object(h.jsx)(g.a,{ref:function(t){return e._editors=t},editors:O,initialNodes:n("debugger")||He,onPersistNodes:function(e){return r("debugger",e)}})}})}}]),n}(l.Component),qe=n(474),Xe=n(475),Ke=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=!!this.props.debuggerIds.length;return Object(h.jsxs)(qe.a,{fullWidth:!0,value:t?this.props.selectedId:0,onChange:function(t,n,r){return e.props.onChooseDebugger(parseInt(r,10)||0)},disabled:!t,children:[this.props.debuggerIds.map((function(e){return Object(h.jsx)(Xe.a,{value:e,primaryText:{id:"Game preview #{id}",values:{id:e}}},e)})),!t&&Object(h.jsx)(Xe.a,{value:0,primaryText:{id:"No preview running. Run a preview and you will be able to inspect it with the debugger"}})]})}}]),n}(l.Component),Je=n(480),Ze=n(609),Qe=function(e){var t=e.group,n=e.message;return"JavaScript"===t&&(n.includes("Electron Security Warning")||n.includes("Warning: This is a browser-targeted Firebase bundle"))},$e=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={debuggerServerState:e.props.previewDebuggerServer.getServerState(),debuggerServerError:null,debuggerIds:e.props.previewDebuggerServer.getExistingDebuggerIds(),unregisterDebuggerServerCallbacks:null,debuggerGameData:{},profilerOutputs:{},profilingInProgress:{},selectedId:0,logs:{}},e._debuggerContents={},e._debuggerLogs=new Map,e._registerServerCallbacks=function(){var t=e.props.previewDebuggerServer,n=e.state.unregisterDebuggerServerCallbacks;if(!n||"started"!==t.getServerState()){n&&n();var r=t.registerCallbacks({onErrorReceived:function(t){e.setState({debuggerServerError:t},(function(){return e.updateToolbar()}))},onConnectionClosed:function(t){var n=t.id,r=t.debuggerIds;e._debuggerLogs.delete(n),e.setState((function(e){var t=e.selectedId,o=e.debuggerGameData,a=e.profilerOutputs,i=e.profilingInProgress;return o[n]&&delete o[n],a[n]&&delete a[n],i[n]&&delete i[n],{debuggerIds:r,selectedId:t!==n?t:r.length?r[r.length-1]:t,debuggerGameData:o,profilerOutputs:a,profilingInProgress:i}}),(function(){return e.updateToolbar()}))},onConnectionOpened:function(t){var n=t.id,r=t.debuggerIds;e.setState({debuggerIds:r,selectedId:n},(function(){return e.updateToolbar()}))},onServerStateChanged:function(){e.setState({debuggerServerState:t.getServerState()},(function(){return e.updateToolbar()}))},onHandleParsedMessage:function(t){var n=t.id,r=t.parsedMessage;e._handleMessage(n,r)}});e.setState({unregisterDebuggerServerCallbacks:r})}},e._handleMessage=function(t,n){if("dump"===n.command)e.setState({debuggerGameData:Object(r.a)(Object(r.a)({},e.state.debuggerGameData),{},Object(u.a)({},t,n.payload))});else if("profiler.output"===n.command)e.setState({profilerOutputs:Object(r.a)(Object(r.a)({},e.state.profilerOutputs),{},Object(u.a)({},t,n.payload))});else if("profiler.started"===n.command)e.setState((function(e){return{profilingInProgress:Object(r.a)(Object(r.a)({},e.profilingInProgress),{},Object(u.a)({},t,!0))}}));else if("profiler.stopped"===n.command)e.setState((function(e){return{profilingInProgress:Object(r.a)(Object(r.a)({},e.profilingInProgress),{},Object(u.a)({},t,!1))}}));else if("hotReloader.logs"===n.command);else if("console.log"===n.command){if(Qe(n.payload))return;e._getLogsManager(t).addLog(n.payload)}else console.warn("Unknown command received from debugger client:",n.command)},e._play=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"play"})},e._pause=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"pause"})},e._refresh=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"refresh"})},e._edit=function(t,n,r){return e.props.previewDebuggerServer.sendMessage(t,{command:"set",path:n,newValue:r}),setTimeout((function(){return e._refresh(t)}),100),!0},e._call=function(t,n,r){return e.props.previewDebuggerServer.sendMessage(t,{command:"call",path:n,args:r}),setTimeout((function(){return e._refresh(t)}),100),!0},e._startProfiler=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"profiler.start"})},e._stopProfiler=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"profiler.stop"})},e._hasSelectedDebugger=function(){var t=e.state,n=t.selectedId;return-1!==t.debuggerIds.indexOf(n)},e}return Object(a.a)(n,[{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar(Object(h.jsx)(f,{onPlay:function(){return e._play(e.state.selectedId)},onPause:function(){return e._pause(e.state.selectedId)},canPlay:this._hasSelectedDebugger(),canPause:this._hasSelectedDebugger(),canOpenProfiler:this._hasSelectedDebugger(),onOpenProfiler:function(){e._debuggerContents[e.state.selectedId]&&e._debuggerContents[e.state.selectedId].openProfiler()},canOpenConsole:this._hasSelectedDebugger(),onOpenConsole:function(){e._debuggerContents[e.state.selectedId]&&e._debuggerContents[e.state.selectedId].openConsole()}}))}},{key:"componentDidMount",value:function(){this._registerServerCallbacks()}},{key:"componentWillUnmount",value:function(){this.state.unregisterDebuggerServerCallbacks&&this.state.unregisterDebuggerServerCallbacks()}},{key:"_getLogsManager",value:function(e){var t=this._debuggerLogs.get(e);return t||(t=new Fe,this._debuggerLogs.set(e,t)),t}},{key:"render",value:function(){var e=this,t=this.state,n=t.debuggerServerError,r=t.debuggerServerState,o=t.selectedId,a=t.debuggerIds,i=t.debuggerGameData,s=t.profilerOutputs,l=t.profilingInProgress;return Object(h.jsxs)(m.a,{children:["stopped"===r&&!n&&Object(h.jsxs)(Ze.a,{children:[Object(h.jsx)(Je.a,{}),Object(h.jsx)(R.a,{children:Object(h.jsx)(c.Trans,{id:"Debugger is starting..."})})]}),"stopped"===r&&n&&Object(h.jsx)(Ze.a,{children:Object(h.jsx)(R.a,{children:Object(h.jsx)(c.Trans,{id:"Unable to start the debugger server! Make sure that you are authorized to run servers on this computer."})})}),"started"===r&&Object(h.jsxs)(y.a,{expand:!0,noMargin:!0,children:[Object(h.jsx)(Ke,{selectedId:o,debuggerIds:a,onChooseDebugger:function(t){return e.setState({selectedId:t},(function(){return e.updateToolbar()}))}}),this._hasSelectedDebugger()&&Object(h.jsx)(Ye,{ref:function(t){return e._debuggerContents[o]=t},gameData:i[o],onPlay:function(){return e._play(o)},onPause:function(){return e._pause(o)},onRefresh:function(){return e._refresh(o)},onEdit:function(t,n){return e._edit(o,t,n)},onCall:function(t,n){return e._call(o,t,n)},onStartProfiler:function(){return e._startProfiler(o)},onStopProfiler:function(){return e._stopProfiler(o)},profilerOutput:s[o],profilingInProgress:l[o],logsManager:this._getLogsManager(o)}),!this._hasSelectedDebugger()&&Object(h.jsx)(W.a,{children:Object(h.jsx)(c.Trans,{id:"Run a preview and you will be able to inspect it with the debugger."})})]})]})}}]),n}(l.Component),et=n(800),tt=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={subscriptionChecked:!1},e}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this._checkHasSubscription()}},{key:"componentDidMount",value:function(){this._checkHasSubscription()}},{key:"_checkHasSubscription",value:function(){this._subscriptionChecker&&this.props.isActive&&!this.state.subscriptionChecked&&(this._subscriptionChecker.checkHasSubscription(),this.setState({subscriptionChecked:!0}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.previewDebuggerServer;return n&&r?Object(h.jsxs)(l.Fragment,{children:[Object(h.jsx)($e,{project:n,setToolbar:this.props.setToolbar,previewDebuggerServer:r,ref:function(t){return e.editor=t}}),Object(h.jsx)(et.a,{ref:function(t){return e._subscriptionChecker=t},onChangeSubscription:function(){e.props.onChangeSubscription&&e.props.onChangeSubscription()},id:"Debugger",title:Object(h.jsx)(c.Trans,{id:"Debugger"}),mode:"try"})]}):null}}]),n}(l.Component),nt=function(e){return Object(h.jsx)(tt,Object(r.a)({},e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Le}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(18),c=n(1),l=n.n(c),u=n(1061),d=n.n(u),p=n(1063),b=n.n(p),h=n(527),j=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(c.Component),f=Object(h.DragDropContext)(d()(b.a))(j),g=n(2224),m=n(459),O=n(460),v=n(160),x=n(4),y=n(3),C=n(0),T=n.n(C),E=n(694),k=n(795),w=(n(104),n(37),n(12)),S=n(136),P=n(100),I=n(30),_=n(469),A=n(2178),N=n(7),R={progress:{marginLeft:8,verticalAlign:"middle"}},L=function(e){var t=e.children,n=e.isLoading;return Object(N.jsxs)("span",{children:[t,n&&Object(N.jsx)(A.a,{size:20,style:R.progress})]})},M=n(542),F=n(463),D=n(506),B=n(80),U=n(142),V=function(e,t){return!(!t||""!==e)||!!e&&/^[\w|-]+$/.test(e)&&e.length<31},W="Please pick a short username with only alphanumeric characters as well as _ and -",G=function(e){var t=e.value,n=e.onChange,r=e.errorText,o=e.allowEmpty;return Object(N.jsx)(_.b,{autoFocus:!0,value:t,floatingLabelText:Object(N.jsx)(w.Trans,{id:"Username"}),fullWidth:!0,onChange:n,errorText:(V(t,o)?void 0:W)||r})},z=function(e){if(e)return"auth/invalid-email"===e.code?Object(N.jsx)(w.Trans,{id:"This email is invalid."}):"auth/user-disabled"===e.code?Object(N.jsx)(w.Trans,{id:"The user was disabled."}):"auth/user-not-found"===e.code?Object(N.jsx)(w.Trans,{id:"This user was not found: have you created your account?"}):"auth/email-already-in-use"===e.code?Object(N.jsx)(w.Trans,{id:"This email was already used for another account."}):"auth/operation-not-allowed"===e.code?Object(N.jsx)(w.Trans,{id:"Service seems to be unavailable, please try again later."}):"auth/requires-recent-login"===e.code?Object(N.jsx)(w.Trans,{id:"Please log out and log in again to verify your identify, then change your email."}):void 0},H=function(e){if(e)return"auth/too-many-requests"===e.code?Object(N.jsx)(w.Trans,{id:"That's a lot of unsuccessful login attempts! Wait a bit before trying again or reset your password."}):"auth/wrong-password"===e.code?Object(N.jsx)(w.Trans,{id:"The password is invalid."}):"auth/weak-password"===e.code?Object(N.jsx)(w.Trans,{id:"This password is too weak: please use more letters and digits."}):void 0},Y=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={form:{email:"",password:"",username:""}},e._canCreateAccount=function(){return!e.props.createAccountInProgress&&V(e.state.form.username,!0)},e._onCreateAccount=function(){if(e._canCreateAccount()){var t=e.state.form;e.props.onCreateAccount(t)}},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.createAccountInProgress,o=t.onGoToLogin,a=t.error;return Object(N.jsx)(P.b,{title:Object(N.jsx)(w.Trans,{id:"Create a new GDevelop account"}),actions:[Object(N.jsx)(S.a,{label:Object(N.jsx)(w.Trans,{id:"Back"}),disabled:r,primary:!1,onClick:n},"close"),Object(N.jsx)(M.a,{isLoading:r,children:Object(N.jsx)(P.a,{label:Object(N.jsx)(w.Trans,{id:"Create my account"}),primary:!0,disabled:!this._canCreateAccount(),onClick:this._onCreateAccount})},"create-account")],secondaryActions:[Object(N.jsx)(S.a,{label:Object(N.jsx)(w.Trans,{id:"Already have an account?"}),primary:!1,onClick:o},"already-have-account")],cannotBeDismissed:r,onApply:this._onCreateAccount,onRequestClose:function(){r||n()},maxWidth:"sm",open:!0,children:Object(N.jsxs)(B.a,{noMargin:!0,children:[Object(N.jsx)(D.a,{children:Object(N.jsx)(U.a,{translatableSource:{id:"By creating an account and using GDevelop, you agree to the [Terms and Conditions](https://gdevelop.io/page/terms-and-conditions). Having an account allows you to export your game on Android or as a Desktop app and it unlocks other services for your project!"}})}),Object(N.jsx)(G,{value:this.state.form.username,onChange:function(t,n){e.setState({form:Object(x.a)(Object(x.a)({},e.state.form),{},{username:n})})},allowEmpty:!0}),Object(N.jsx)(_.b,{value:this.state.form.email,floatingLabelText:Object(N.jsx)(w.Trans,{id:"Email"}),errorText:z(a),fullWidth:!0,required:!0,onChange:function(t,n){e.setState({form:Object(x.a)(Object(x.a)({},e.state.form),{},{email:n})})}}),Object(N.jsx)(_.b,{value:this.state.form.password,floatingLabelText:Object(N.jsx)(w.Trans,{id:"Password"}),errorText:H(a),type:"password",fullWidth:!0,required:!0,onChange:function(t,n){e.setState({form:Object(x.a)(Object(x.a)({},e.state.form),{},{password:n})})}})]})})}}]),n}(c.Component),q=n(478),X=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={form:{email:"",password:""}},e._canLogin=function(){return!(e.props.loginInProgress||e.props.forgotPasswordInProgress)},e._onLogin=function(){if(e._canLogin()){var t=e.state.form;e.props.onLogin(t)}},e._onForgotPassword=function(){var t=e.state.form;e.props.onForgotPassword(t)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.onGoToCreateAccount,o=t.loginInProgress,a=t.error,i=t.resetPasswordDialogOpen,s=t.onCloseResetPasswordDialog,c=t.forgotPasswordInProgress,l=[Object(N.jsx)(S.a,{label:Object(N.jsx)(w.Trans,{id:"Back"}),disabled:!this._canLogin(),primary:!1,onClick:n},"back"),Object(N.jsx)(M.a,{isLoading:o,children:Object(N.jsx)(P.a,{label:Object(N.jsx)(w.Trans,{id:"Login"}),primary:!0,onClick:this._onLogin,disabled:!this._canLogin()})},"login")];return Object(N.jsxs)(P.b,{title:Object(N.jsx)(w.Trans,{id:"Login to your GDevelop account"}),actions:l,secondaryActions:[Object(N.jsx)(L,{isLoading:c,children:Object(N.jsx)(S.a,{label:Object(N.jsx)(w.Trans,{id:"I forgot my password"}),primary:!1,disabled:o||c,onClick:this._onForgotPassword})},"forgot-password")],cannotBeDismissed:o||c,onRequestClose:n,onApply:this._onLogin,maxWidth:"sm",open:!0,children:[Object(N.jsxs)(B.a,{noMargin:!0,children:[Object(N.jsx)(q.a,{kind:"info",renderRightButton:function(){return Object(N.jsx)(S.a,{label:Object(N.jsx)(w.Trans,{id:"Create my account"}),disabled:o||c,primary:!0,onClick:r})},children:Object(N.jsx)(w.Trans,{id:"Don't have an account yet?"})}),Object(N.jsx)(_.b,{autoFocus:!0,value:this.state.form.email,floatingLabelText:Object(N.jsx)(w.Trans,{id:"Email"}),errorText:z(a),fullWidth:!0,onChange:function(t,n){e.setState({form:Object(x.a)(Object(x.a)({},e.state.form),{},{email:n})})}}),Object(N.jsx)(_.b,{value:this.state.form.password,floatingLabelText:Object(N.jsx)(w.Trans,{id:"Password"}),errorText:H(a),type:"password",fullWidth:!0,onChange:function(t,n){e.setState({form:Object(x.a)(Object(x.a)({},e.state.form),{},{password:n})})}})]}),Object(N.jsx)(P.b,{open:i,title:Object(N.jsx)(w.Trans,{id:"Reset your password"}),actions:[Object(N.jsx)(S.a,{label:Object(N.jsx)(w.Trans,{id:"Close"}),onClick:s},"close")],cannotBeDismissed:c,onRequestClose:s,children:Object(N.jsx)(I.a,{noMargin:!0,children:Object(N.jsx)(F.a,{children:Object(N.jsx)(w.Trans,{id:"You should have received an email containing instructions to reset and set a new password. Once it's done, you can use your new password in GDevelop."})})})})]})}}]),n}(c.Component),K=n(62),J=n(81),Z=n(490),Q=n(493),$=function(e){if(e)return"auth/username-used"===e.code?"This username is already used, please pick another one.":"auth/malformed-username"===e.code?W:void 0},ee=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={form:{username:e.props.profile.username||"",description:e.props.profile.description||"",getGameStatsEmail:!!e.props.profile.getGameStatsEmail}},e._onEdit=function(){if(e._canEdit()){var t=e.state.form;e.props.onEdit(t)}},e._canEdit=function(){return!e.props.editInProgress&&V(e.state.form.username)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.editInProgress,o=t.error,a=[Object(N.jsx)(S.a,{label:Object(N.jsx)(w.Trans,{id:"Back"}),disabled:r,primary:!1,onClick:n},"back"),Object(N.jsx)(M.a,{isLoading:r,children:Object(N.jsx)(P.a,{label:Object(N.jsx)(w.Trans,{id:"Save"}),primary:!0,onClick:this._onEdit,disabled:!this._canEdit()})},"edit")];return Object(N.jsx)(P.b,{title:Object(N.jsx)(w.Trans,{id:"Edit your GDevelop profile"}),actions:a,maxWidth:"sm",cannotBeDismissed:r,onRequestClose:n,onApply:this._onEdit,open:!0,children:Object(N.jsxs)(B.a,{noMargin:!0,children:[Object(N.jsx)(G,{value:this.state.form.username,onChange:function(t,n){e.setState({form:Object(x.a)(Object(x.a)({},e.state.form),{},{username:n})})},errorText:$(o)}),Object(N.jsx)(_.b,{value:this.state.form.description,floatingLabelText:Object(N.jsx)(w.Trans,{id:"Bio"}),fullWidth:!0,multiline:!0,rows:3,rowsMax:5,hintText:{id:"What are you using GDevelop for?"},onChange:function(t,n){e.setState({form:Object(x.a)(Object(x.a)({},e.state.form),{},{description:n})})}}),Object(N.jsx)(Q.a,{label:Object(N.jsx)(w.Trans,{id:"I want to receive weekly stats about my games"}),checked:this.state.form.getGameStatsEmail,onCheck:function(t,n){e.setState({form:Object(x.a)(Object(x.a)({},e.state.form),{},{getGameStatsEmail:n})})}})]})})}}]),n}(c.Component),te=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={form:{email:e.props.firebaseUser.email}},e._onChangeEmail=function(){if(!e.props.changeEmailInProgress){var t=e.state.form;e.props.onChangeEmail(t)}},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.changeEmailInProgress,o=t.error,a=[Object(N.jsx)(S.a,{label:Object(N.jsx)(w.Trans,{id:"Back"}),disabled:r,primary:!1,onClick:n},"back"),Object(N.jsx)(M.a,{isLoading:r,children:Object(N.jsx)(P.a,{label:Object(N.jsx)(w.Trans,{id:"Save"}),primary:!0,onClick:this._onChangeEmail,disabled:r})},"change-email")];return Object(N.jsx)(P.b,{title:Object(N.jsx)(w.Trans,{id:"Change your email"}),actions:a,maxWidth:"sm",cannotBeDismissed:r,onRequestClose:n,onApply:this._onChangeEmail,open:!0,children:Object(N.jsx)(B.a,{noMargin:!0,children:Object(N.jsx)(_.b,{value:this.state.form.email,floatingLabelText:Object(N.jsx)(w.Trans,{id:"Email"}),errorText:z(o),fullWidth:!0,required:!0,onChange:function(t,n){e.setState({form:Object(x.a)(Object(x.a)({},e.state.form),{},{email:n})})}})})})}}]),n}(c.Component),ne=n(1129),re=n.n(ne),oe=n(798);function ae(e){var t=e.onClose,n=e.authenticatedUser,r=!!n&&!!n.firebaseUser&&!!n.firebaseUser.emailVerified;return Object(oe.a)((function(){n.onRefreshFirebaseProfile().catch((function(){}))}),r?null:3900),Object(N.jsx)(P.b,{actions:[r?Object(N.jsx)(P.a,{label:Object(N.jsx)(w.Trans,{id:"Done!"}),primary:!0,onClick:t},"close"):Object(N.jsx)(S.a,{label:Object(N.jsx)(w.Trans,{id:"Cancel and close"}),primary:!1,onClick:t},"close")],maxWidth:"sm",open:!0,noMargin:!0,onRequestClose:t,onApply:t,children:r?Object(N.jsx)(I.a,{children:Object(N.jsxs)(I.c,{justifyContent:"center",alignItems:"center",children:[Object(N.jsx)(re.a,{}),Object(N.jsx)(I.d,{}),Object(N.jsx)(F.a,{children:Object(N.jsx)(w.Trans,{id:"Your email is now verified!"})})]})}):Object(N.jsxs)(I.a,{children:[Object(N.jsxs)(I.c,{justifyContent:"center",alignItems:"center",children:[Object(N.jsx)(A.a,{size:20}),Object(N.jsx)(I.d,{}),Object(N.jsx)(F.a,{children:"Waiting for the email verification..."})]}),Object(N.jsx)(I.d,{}),Object(N.jsx)(I.c,{justifyContent:"center",children:Object(N.jsx)(D.a,{children:Object(N.jsx)(w.Trans,{id:"Check your inbox and click the link to verify your email address - and come back here when it's done."})})})]})})}var ie=n(43),se=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={authenticatedUser:Z.b,loginDialogOpen:!1,createAccountDialogOpen:!1,loginInProgress:!1,createAccountInProgress:!1,editProfileDialogOpen:!1,editInProgress:!1,authError:null,resetPasswordDialogOpen:!1,emailVerificationPendingDialogOpen:!1,forgotPasswordInProgress:!1,changeEmailDialogOpen:!1,changeEmailInProgress:!1},e._automaticallyUpdateUserProfile=!0,e._reloadFirebaseProfile=Object(y.a)(T.a.mark((function t(){var n,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.authentication,t.prev=1,t.next=4,n.getFirebaseUser();case 4:if(r=t.sent){t.next=8;break}return e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(x.a)(Object(x.a)({},t),{},{authenticated:!1,profile:null,usages:null,limits:null,subscription:null})}})),t.abrupt("return",null);case 8:return e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(x.a)(Object(x.a)({},t),{},{authenticated:!0,firebaseUser:r})}})),t.abrupt("return",r);case 12:throw t.prev=12,t.t0=t.catch(1),console.error("Unable to fetch the authenticated Firebase user:",t.t0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),e._fetchUserProfileWithoutThrowingErrors=Object(y.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._fetchUserProfile();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Error while fetching the user profile - but ignoring it.",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e._fetchUserProfile=Object(y.a)(T.a.mark((function t(){var n,r,o;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.authentication,t.next=3,e._reloadFirebaseProfile();case 3:if(r=t.sent){t.next=6;break}return t.abrupt("return");case 6:return Object(E.g)(n.getAuthorizationHeader,r.uid).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(x.a)(Object(x.a)({},n),{},{usages:t})}}))}),(function(e){console.error("Error while loading user usages:",e)})),Object(E.f)(n.getAuthorizationHeader,r.uid).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(x.a)(Object(x.a)({},n),{},{subscription:t})}}))}),(function(e){console.error("Error while loading user subscriptions:",e)})),Object(E.e)(n.getAuthorizationHeader,r.uid).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(x.a)(Object(x.a)({},n),{},{limits:t})}}))}),(function(e){console.error("Error while loading user limits:",e)})),e._fetchUserBadges(),t.next=12,n.getUserProfile(n.getAuthorizationHeader);case 12:o=t.sent,e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(x.a)(Object(x.a)({},t),{},{profile:o})}}));case 14:case"end":return t.stop()}}),t)}))),e._fetchUserBadges=Object(y.a)(T.a.mark((function t(){var n,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.authenticatedUser.firebaseUser){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,Object(k.a)(n.uid);case 6:r=t.sent,e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(x.a)(Object(x.a)({},t),{},{badges:r})}})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.error("Error while loading user badges:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])}))),e._doLogout=function(){e.props.authentication&&e.props.authentication.logout(),e._resetAuthenticatedUser()},e._doLogin=function(){var t=Object(y.a)(T.a.mark((function t(n){var r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({loginInProgress:!0}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,r.login(n);case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:e.openLoginDialog(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e.setState({authError:t.t0});case 16:e.setState({loginInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 18:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),e._doEdit=function(){var t=Object(y.a)(T.a.mark((function t(n,r){var o;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({editInProgress:!0}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,o.editUserProfile(o.getAuthorizationHeader,n,r.language);case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:e.openEditProfileDialog(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e.setState({authError:t.t0});case 16:e.setState({editInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 18:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}(),e._doCreateAccount=function(){var t=Object(y.a)(T.a.mark((function t(n,r){var o;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({createAccountInProgress:!0}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,o.createFirebaseAccount(n);case 8:return t.prev=8,t.next=11,o.createUser(o.getAuthorizationHeader,n,r.language);case 11:t.next=15;break;case 13:t.prev=13,t.t0=t.catch(8);case 15:return t.next=17,e._fetchUserProfileWithoutThrowingErrors();case 17:e.openLoginDialog(!1),Object(J.u)(n.email),t.next=24;break;case 21:t.prev=21,t.t1=t.catch(5),e.setState({authError:t.t1});case 24:e.setState({createAccountInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 26:case"end":return t.stop()}}),t,null,[[5,21],[8,13]])})));return function(e,n){return t.apply(this,arguments)}}(),e._doForgotPassword=function(){var t=Object(y.a)(T.a.mark((function t(n){var r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({forgotPasswordInProgress:!0}),t.prev=4,t.next=7,r.forgotPassword(n);case 7:e.openResetPassword(!0),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),e.setState({authError:t.t0}),Object(K.c)("Unable to send you an email to reset your password. Please double-check that the email address that you've entered is valid.");case 14:e.setState({forgotPasswordInProgress:!1});case 15:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),e._doSendEmailVerification=Object(y.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,n.sendFirebaseEmailVerification();case 5:e.openEmailVerificationPendingDialog(!0);case 6:case"end":return t.stop()}}),t)}))),e._doAcceptGameStatsEmail=Object(y.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({editInProgress:!0}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,n.acceptGameStatsEmail(n.getAuthorizationHeader);case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e.setState({authError:t.t0});case 15:e.setState({editInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 17:case"end":return t.stop()}}),t,null,[[5,12]])}))),e._doChangeEmail=function(){var t=Object(y.a)(T.a.mark((function t(n){var r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({changeEmailInProgress:!0}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,r.changeEmail(r.getAuthorizationHeader,n);case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:e.openChangeEmailDialog(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e.setState({authError:t.t0});case 16:e.setState({changeEmailInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 18:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),e.openEmailVerificationPendingDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({emailVerificationPendingDialogOpen:t})},e.openResetPassword=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({resetPasswordDialogOpen:t,authError:null})},e.openLoginDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({loginDialogOpen:t,createAccountDialogOpen:!1,authError:null})},e.openEditProfileDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({editProfileDialogOpen:t,authError:null})},e.openCreateAccountDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({loginDialogOpen:!1,createAccountDialogOpen:t,authError:null})},e.openChangeEmailDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({changeEmailDialogOpen:t,authError:null})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._resetAuthenticatedUser(),this.props.authentication.addUserLogoutListener(this._fetchUserProfileWithoutThrowingErrors),this.props.authentication.addUserUpdateListener((function(){e._automaticallyUpdateUserProfile?(console.info("Fetching user profile as the authenticated user changed..."),e._fetchUserProfileWithoutThrowingErrors()):console.info("The authenticated user changed, but not fetching the user profile again (deactivated).")})),this.props.authentication.getFirebaseUserSync()&&(console.info("Fetching user profile as authenticated user found at startup..."),this._automaticallyUpdateUserProfile=!1,this._fetchUserProfileWithoutThrowingErrors(),this._automaticallyUpdateUserProfile=!0)}},{key:"_resetAuthenticatedUser",value:function(){var e=this;this.setState((function(t){t.authenticatedUser;return{authenticatedUser:Object(x.a)(Object(x.a)({},Z.b),{},{onLogout:e._doLogout,onBadgesChanged:e._fetchUserBadges,onLogin:function(){return e.openLoginDialog(!0)},onEdit:function(){return e.openEditProfileDialog(!0)},onChangeEmail:function(){return e.openChangeEmailDialog(!0)},onCreateAccount:function(){return e.openCreateAccountDialog(!0)},onRefreshUserProfile:e._fetchUserProfile,onRefreshFirebaseProfile:function(){var t=Object(y.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._reloadFirebaseProfile();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),onSendEmailVerification:e._doSendEmailVerification,onAcceptGameStatsEmail:e._doAcceptGameStatsEmail,getAuthorizationHeader:function(){return e.props.authentication.getAuthorizationHeader()}})}}))}},{key:"render",value:function(){var e=this;return Object(N.jsx)(ie.a.Consumer,{children:function(t){var n=t.values;return Object(N.jsxs)(c.Fragment,{children:[Object(N.jsx)(Z.a.Provider,{value:e.state.authenticatedUser,children:e.props.children}),e.state.loginDialogOpen&&Object(N.jsx)(X,{onClose:function(){return e.openLoginDialog(!1)},onGoToCreateAccount:function(){return e.openCreateAccountDialog(!0)},onLogin:e._doLogin,loginInProgress:e.state.loginInProgress,error:e.state.authError,onForgotPassword:e._doForgotPassword,resetPasswordDialogOpen:e.state.resetPasswordDialogOpen,onCloseResetPasswordDialog:function(){return e.openResetPassword(!1)},forgotPasswordInProgress:e.state.forgotPasswordInProgress}),e.state.authenticatedUser.profile&&e.state.editProfileDialogOpen&&Object(N.jsx)(ee,{profile:e.state.authenticatedUser.profile,onClose:function(){return e.openEditProfileDialog(!1)},onEdit:function(t){return e._doEdit(t,n)},editInProgress:e.state.editInProgress,error:e.state.authError}),e.state.authenticatedUser.firebaseUser&&e.state.changeEmailDialogOpen&&Object(N.jsx)(te,{firebaseUser:e.state.authenticatedUser.firebaseUser,onClose:function(){return e.openChangeEmailDialog(!1)},onChangeEmail:e._doChangeEmail,changeEmailInProgress:e.state.changeEmailInProgress,error:e.state.authError}),e.state.createAccountDialogOpen&&Object(N.jsx)(Y,{onClose:function(){return e.openCreateAccountDialog(!1)},onGoToLogin:function(){return e.openLoginDialog(!0)},onCreateAccount:function(t){return e._doCreateAccount(t,n)},createAccountInProgress:e.state.createAccountInProgress,error:e.state.authError}),e.state.emailVerificationPendingDialogOpen&&Object(N.jsx)(ae,{authenticatedUser:e.state.authenticatedUser,onClose:function(){e.openEmailVerificationPendingDialog(!1),e.state.authenticatedUser.onRefreshFirebaseProfile().catch((function(){}))}})]})}})}}]),n}(c.Component),ce=n(26),le=n(1153),ue=function(e){var t=e.userId,n=e.onClose,r=l.a.useState(null),o=Object(ce.a)(r,2),a=o[0],i=o[1],s=l.a.useState(null),c=Object(ce.a)(s,2),u=c[0],d=c[1],p=l.a.useState(null),b=Object(ce.a)(p,2),h=b[0],j=b[1],f=l.a.useCallback(Object(y.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return i(null),e.prev=3,e.next=6,Object(k.b)(t);case 6:n=e.sent,i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),j(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),[t]),g=l.a.useCallback(Object(y.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return d(null),e.prev=3,e.next=6,Object(k.a)(t);case 6:n=e.sent,d(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),j(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),[t]);l.a.useEffect((function(){f(),g()}),[t,f,g]);return Object(N.jsx)(P.b,{open:!0,maxWidth:"sm",actions:[Object(N.jsx)(S.a,{label:Object(N.jsx)(w.Trans,{id:"Close"}),primary:!1,onClick:n},"close")],onRequestClose:n,children:Object(N.jsx)(le.a,{profile:a,error:h,onRetry:function(){j(null),f(),g()},badges:u})})},de=n(984),pe=function(e){var t=e.children,n=c.useState(null),r=Object(ce.a)(n,2),o=r[0],a=r[1],i=c.useCallback((function(e){a(e)}),[a]),s=c.useCallback((function(){a(null)}),[a]),l=c.useMemo((function(){return{openUserPublicProfile:i}}),[i]);return Object(N.jsxs)(c.Fragment,{children:[Object(N.jsx)(de.a.Provider,{value:l,children:t}),o&&Object(N.jsx)(ue,{userId:o,onClose:s})]})},be=n(58),he=n(1890),je=n(10),fe=n(552),ge=n(580),me=n(1892),Oe=n.n(me),ve=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._eventsFunctionCodeWriter=e.props.makeEventsFunctionCodeWriter({onWriteFile:e._onWriteFile.bind(Object(je.a)(e))}),e._includeFileHashs={},e._lastLoadPromise=null,e.state={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:e._loadProjectEventsFunctionsExtensions.bind(Object(je.a)(e)),unloadProjectEventsFunctionsExtensions:e._unloadProjectEventsFunctionsExtensions.bind(Object(je.a)(e)),unloadProjectEventsFunctionsExtension:e._unloadProjectEventsFunctionsExtension.bind(Object(je.a)(e)),reloadProjectEventsFunctionsExtensions:e._reloadProjectEventsFunctionsExtensions.bind(Object(je.a)(e)),ensureLoadFinished:e._ensureLoadFinished.bind(Object(je.a)(e)),getEventsFunctionsExtensionWriter:function(){return e.props.eventsFunctionsExtensionWriter},getEventsFunctionsExtensionOpener:function(){return e.props.eventsFunctionsExtensionOpener},getIncludeFileHashs:function(){return e._includeFileHashs}},e}return Object(o.a)(n,[{key:"_onWriteFile",value:function(e){var t=e.includeFile,n=e.content;this._includeFileHashs[t]=Oe.a.h32(n,43981).toNumber()}},{key:"_ensureLoadFinished",value:function(){return this._lastLoadPromise?console.info("Waiting on the events functions extensions to finish loading..."):console.info("Events functions extensions are ready."),this._lastLoadPromise?this._lastLoadPromise.then((function(){console.info("Events functions extensions finished loading.")})):Promise.resolve()}},{key:"_loadProjectEventsFunctionsExtensions",value:function(e){var t=this,n=this.props.i18n,r=this._eventsFunctionCodeWriter;if(!e||!r)return Promise.resolve();var o=this._lastLoadPromise||Promise.resolve();return this._lastLoadPromise=o.then((function(){return Object(ge.e)(e,r,n)})).then((function(){return t.setState({eventsFunctionsExtensionsError:null})})).catch((function(e){t.setState({eventsFunctionsExtensionsError:e}),Object(K.a)({message:n._({id:"An error has occured during functions generation. If GDevelop is installed, verify that nothing is preventing GDevelop from writing on disk. If you're running GDevelop online, verify your internet connection and refresh functions from the Project Manager."}),rawError:e,errorId:"events-functions-extensions-load-error"})})).then((function(){t._lastLoadPromise=null})),this._lastLoadPromise}},{key:"_unloadProjectEventsFunctionsExtensions",value:function(e){Object(ge.g)(e)}},{key:"_unloadProjectEventsFunctionsExtension",value:function(e,t){Object(ge.f)(e,t)}},{key:"_reloadProjectEventsFunctionsExtensions",value:function(e){return e&&this._unloadProjectEventsFunctionsExtensions(e),this._loadProjectEventsFunctionsExtensions(e)}},{key:"render",value:function(){return Object(N.jsx)(fe.a.Provider,{value:this.state,children:this.props.children})}}]),n}(c.Component),xe=n(138),ye=n(670),Ce=n(702),Te=n(21),Ee=n(1900),ke=n.n(Ee),we=n(875),Se=n(1084),Pe=n(866),Ie=n(801),_e=n(722),Ae=n(865),Ne=n(599),Re=Object(Te.b)({plugins:[].concat(Object(s.a)(Object(m.a)().plugins),[ke()()])}),Le=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disableCheckForUpdates,n=e.authentication,r=e.children,o=e.makeEventsFunctionCodeWriter,a=e.eventsFunctionsExtensionWriter,i=e.eventsFunctionsExtensionOpener,s=e.resourceFetcher;return Object(N.jsx)(f,{children:Object(N.jsx)(ye.a,{children:Object(N.jsx)(be.a,{disableCheckForUpdates:t,children:Object(N.jsx)(ie.a.Consumer,{children:function(e){var t=e.values,c=Object(v.a)({themeName:t.themeName,language:t.language});return Object(N.jsx)(he.a,{language:t.language.replace("_","-"),children:Object(N.jsx)(xe.a.Provider,{value:c.gdevelopTheme,children:Object(N.jsx)(O.b,{jss:Re,children:Object(N.jsx)(g.a,{theme:c.muiTheme,children:Object(N.jsx)(se,{authentication:n,children:Object(N.jsx)(pe,{children:Object(N.jsx)(w.I18n,{update:!0,children:function(e){var t=e.i18n;return Object(N.jsx)(ve,{i18n:t,makeEventsFunctionCodeWriter:o,eventsFunctionsExtensionWriter:a,eventsFunctionsExtensionOpener:i,children:Object(N.jsx)(Ce.a,{children:Object(N.jsx)(we.b,{children:Object(N.jsx)(Se.b,{children:Object(N.jsx)(Pe.b,{children:Object(N.jsx)(Ie.b,{children:Object(N.jsx)(Ae.b,{children:Object(N.jsx)(Ne.b,{children:Object(N.jsx)(_e.a.Provider,{value:s,children:r({i18n:t})})})})})})})})})})}})})})})})})})}})})})})}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=[{name:"Visual Studio",themeName:"vs"},{name:"Visual Studio Dark",themeName:"vs-dark"},{name:"GitHub",themeName:"github",themeData:{base:"vs",inherit:!0,rules:[{foreground:"999988",fontStyle:"italic",token:"comment"},{foreground:"999999",fontStyle:"bold",token:"comment.block.preprocessor"},{foreground:"999999",fontStyle:"bold italic",token:"comment.documentation"},{foreground:"999999",fontStyle:"bold italic",token:"comment.block.documentation"},{foreground:"a61717",background:"e3d2d2",token:"invalid.illegal"},{fontStyle:"bold",token:"keyword"},{fontStyle:"bold",token:"storage"},{fontStyle:"bold",token:"keyword.operator"},{fontStyle:"bold",token:"constant.language"},{fontStyle:"bold",token:"support.constant"},{foreground:"445588",fontStyle:"bold",token:"storage.type"},{foreground:"445588",fontStyle:"bold",token:"support.type"},{foreground:"008080",token:"entity.other.attribute-name"},{foreground:"0086b3",token:"variable.other"},{foreground:"999999",token:"variable.language"},{foreground:"445588",fontStyle:"bold",token:"entity.name.type"},{foreground:"445588",fontStyle:"bold",token:"entity.other.inherited-class"},{foreground:"445588",fontStyle:"bold",token:"support.class"},{foreground:"008080",token:"variable.other.constant"},{foreground:"800080",token:"constant.character.entity"},{foreground:"990000",token:"entity.name.exception"},{foreground:"990000",token:"entity.name.function"},{foreground:"990000",token:"support.function"},{foreground:"990000",token:"keyword.other.name-of-parameter"},{foreground:"555555",token:"entity.name.section"},{foreground:"000080",token:"entity.name.tag"},{foreground:"008080",token:"variable.parameter"},{foreground:"008080",token:"support.variable"},{foreground:"009999",token:"constant.numeric"},{foreground:"009999",token:"constant.other"},{foreground:"dd1144",token:"string - string source"},{foreground:"dd1144",token:"constant.character"},{foreground:"009926",token:"string.regexp"},{foreground:"990073",token:"constant.other.symbol"},{fontStyle:"bold",token:"punctuation"},{foreground:"000000",background:"ffdddd",token:"markup.deleted"},{fontStyle:"italic",token:"markup.italic"},{foreground:"aa0000",token:"markup.error"},{foreground:"999999",token:"markup.heading.1"},{foreground:"000000",background:"ddffdd",token:"markup.inserted"},{foreground:"888888",token:"markup.output"},{foreground:"888888",token:"markup.raw"},{foreground:"555555",token:"markup.prompt"},{fontStyle:"bold",token:"markup.bold"},{foreground:"aaaaaa",token:"markup.heading"},{foreground:"aa0000",token:"markup.traceback"},{fontStyle:"underline",token:"markup.underline"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.range"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.index"},{foreground:"999999",background:"eaf2f5",token:"meta.separator"},{foreground:"999999",background:"ffdddd",token:"meta.diff.header.from-file"},{foreground:"999999",background:"ddffdd",token:"meta.diff.header.to-file"},{foreground:"4183c4",token:"meta.link"}],colors:{"editor.foreground":"#000000","editor.background":"#F8F8FF","editor.selectionBackground":"#B4D5FE","editor.lineHighlightBackground":"#FFFEEB","editorCursor.foreground":"#666666","editorWhitespace.foreground":"#BBBBBB"}}},{name:"Monokai",themeName:"monokai",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"75715e",token:"comment"},{foreground:"e6db74",token:"string"},{foreground:"ae81ff",token:"constant.numeric"},{foreground:"ae81ff",token:"constant.language"},{foreground:"ae81ff",token:"constant.character"},{foreground:"ae81ff",token:"constant.other"},{foreground:"f92672",token:"keyword"},{foreground:"f92672",token:"storage"},{foreground:"66d9ef",fontStyle:"italic",token:"storage.type"},{foreground:"a6e22e",fontStyle:"underline",token:"entity.name.class"},{foreground:"a6e22e",fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"a6e22e",token:"entity.name.function"},{foreground:"fd971f",fontStyle:"italic",token:"variable.parameter"},{foreground:"f92672",token:"entity.name.tag"},{foreground:"a6e22e",token:"entity.other.attribute-name"},{foreground:"66d9ef",token:"support.function"},{foreground:"66d9ef",token:"support.constant"},{foreground:"66d9ef",fontStyle:"italic",token:"support.type"},{foreground:"66d9ef",fontStyle:"italic",token:"support.class"},{foreground:"f8f8f0",background:"f92672",token:"invalid"},{foreground:"f8f8f0",background:"ae81ff",token:"invalid.deprecated"},{foreground:"cfcfc2",token:"meta.structure.dictionary.json string.quoted.double.json"},{foreground:"75715e",token:"meta.diff"},{foreground:"75715e",token:"meta.diff.header"},{foreground:"f92672",token:"markup.deleted"},{foreground:"a6e22e",token:"markup.inserted"},{foreground:"e6db74",token:"markup.changed"},{foreground:"ae81ff",token:"constant.numeric.line-number.find-in-files - match"},{foreground:"e6db74",token:"entity.name.filename.find-in-files"}],colors:{"editor.foreground":"#F8F8F2","editor.background":"#272822","editor.selectionBackground":"#49483E","editor.lineHighlightBackground":"#3E3D32","editorCursor.foreground":"#F8F8F0","editorWhitespace.foreground":"#3B3A32","editorIndentGuide.activeBackground":"#9D550F","editor.selectionHighlightBorder":"#222218"}}},{name:"Solarized-Dark",themeName:"solarized-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"657b83",fontStyle:"italic",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"93a1a1",fontStyle:"bold",token:"storage"},{foreground:"cb4b16",token:"entity.name.class"},{foreground:"cb4b16",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"cb4b16",token:"support.function.construct"},{foreground:"cb4b16",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"6c71c4",token:"entity.other.inherited-class"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"657b83",token:"punctuation.definition.tag"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#93A1A1","editor.background":"#002B36","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#073642","editorCursor.foreground":"#D30102","editorWhitespace.foreground":"#93A1A1"}}},{name:"Solarized-Light",themeName:"solarized-light",themeData:{base:"vs",inherit:!0,rules:[{foreground:"93a1a1",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"073642",fontStyle:"bold",token:"storage"},{foreground:"268bd2",token:"entity.name.class"},{foreground:"268bd2",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"d30102",token:"support.function.construct"},{foreground:"d30102",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"93a1a1",token:"punctuation.definition.tag.begin"},{foreground:"93a1a1",token:"punctuation.definition.tag.end"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#586E75","editor.background":"#FDF6E3","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#EEE8D5","editorCursor.foreground":"#000000","editorWhitespace.foreground":"#93A1A1"}}},{name:"Tomorrow",themeName:"tomorrow",themeData:{base:"vs",inherit:!0,rules:[{foreground:"8e908c",token:"comment"},{foreground:"666969",token:"keyword.operator.class"},{foreground:"666969",token:"constant.other"},{foreground:"666969",token:"source.php.embedded.line"},{foreground:"c82829",token:"variable"},{foreground:"c82829",token:"support.other.variable"},{foreground:"c82829",token:"string.other.link"},{foreground:"c82829",token:"string.regexp"},{foreground:"c82829",token:"entity.name.tag"},{foreground:"c82829",token:"entity.other.attribute-name"},{foreground:"c82829",token:"meta.tag"},{foreground:"c82829",token:"declaration.tag"},{foreground:"f5871f",token:"constant.numeric"},{foreground:"f5871f",token:"constant.language"},{foreground:"f5871f",token:"support.constant"},{foreground:"f5871f",token:"constant.character"},{foreground:"f5871f",token:"variable.parameter"},{foreground:"f5871f",token:"punctuation.section.embedded"},{foreground:"f5871f",token:"keyword.other.unit"},{foreground:"c99e00",token:"entity.name.class"},{foreground:"c99e00",token:"entity.name.type.class"},{foreground:"c99e00",token:"support.type"},{foreground:"c99e00",token:"support.class"},{foreground:"718c00",token:"string"},{foreground:"718c00",token:"constant.other.symbol"},{foreground:"718c00",token:"entity.other.inherited-class"},{foreground:"718c00",token:"markup.heading"},{foreground:"3e999f",token:"keyword.operator"},{foreground:"3e999f",token:"constant.other.color"},{foreground:"4271ae",token:"entity.name.function"},{foreground:"4271ae",token:"meta.function-call"},{foreground:"4271ae",token:"support.function"},{foreground:"4271ae",token:"keyword.other.special-method"},{foreground:"4271ae",token:"meta.block-level"},{foreground:"8959a8",token:"keyword"},{foreground:"8959a8",token:"storage"},{foreground:"8959a8",token:"storage.type"},{foreground:"ffffff",background:"c82829",token:"invalid"},{foreground:"ffffff",background:"4271ae",token:"meta.separator"},{foreground:"ffffff",background:"8959a8",token:"invalid.deprecated"}],colors:{"editor.foreground":"#4D4D4C","editor.background":"#FFFFFF","editor.selectionBackground":"#D6D6D6","editor.lineHighlightBackground":"#EFEFEF","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#D1D1D1"}}},{name:"Tomorrow-Night",themeName:"tomorrow-night",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"969896",token:"comment"},{foreground:"ced1cf",token:"keyword.operator.class"},{foreground:"ced1cf",token:"constant.other"},{foreground:"ced1cf",token:"source.php.embedded.line"},{foreground:"cc6666",token:"variable"},{foreground:"cc6666",token:"support.other.variable"},{foreground:"cc6666",token:"string.other.link"},{foreground:"cc6666",token:"string.regexp"},{foreground:"cc6666",token:"entity.name.tag"},{foreground:"cc6666",token:"entity.other.attribute-name"},{foreground:"cc6666",token:"meta.tag"},{foreground:"cc6666",token:"declaration.tag"},{foreground:"de935f",token:"constant.numeric"},{foreground:"de935f",token:"constant.language"},{foreground:"de935f",token:"support.constant"},{foreground:"de935f",token:"constant.character"},{foreground:"de935f",token:"variable.parameter"},{foreground:"de935f",token:"punctuation.section.embedded"},{foreground:"de935f",token:"keyword.other.unit"},{foreground:"f0c674",token:"entity.name.class"},{foreground:"f0c674",token:"entity.name.type.class"},{foreground:"f0c674",token:"support.type"},{foreground:"f0c674",token:"support.class"},{foreground:"b5bd68",token:"string"},{foreground:"b5bd68",token:"constant.other.symbol"},{foreground:"b5bd68",token:"entity.other.inherited-class"},{foreground:"b5bd68",token:"markup.heading"},{foreground:"8abeb7",token:"keyword.operator"},{foreground:"8abeb7",token:"constant.other.color"},{foreground:"81a2be",token:"entity.name.function"},{foreground:"81a2be",token:"meta.function-call"},{foreground:"81a2be",token:"support.function"},{foreground:"81a2be",token:"keyword.other.special-method"},{foreground:"81a2be",token:"meta.block-level"},{foreground:"b294bb",token:"keyword"},{foreground:"b294bb",token:"storage"},{foreground:"b294bb",token:"storage.type"},{foreground:"b294bb",token:"entity.name.tag.css"},{foreground:"ced2cf",background:"df5f5f",token:"invalid"},{foreground:"ced2cf",background:"82a3bf",token:"meta.separator"},{foreground:"ced2cf",background:"b798bf",token:"invalid.deprecated"}],colors:{"editor.foreground":"#C5C8C6","editor.background":"#1D1F21","editor.selectionBackground":"#373B41","editor.lineHighlightBackground":"#282A2E","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#4B4E55"}}},{name:"Vibrant Ink",themeName:"vibrant-ink",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"ffffff",background:"0f0f0f",token:"text"},{background:"000000",token:"source.ruby.rails.embedded.html"},{foreground:"ffffff",background:"101010",token:"text.html.ruby"},{foreground:"ccff33",background:"000000",token:"invalid"},{foreground:"ccff33",background:"000000",token:"invalid.deprecated"},{foreground:"99cc99",token:"constant.numeric"},{foreground:"ffffff",background:"000000",token:"source"},{foreground:"9933cc",token:"comment"},{foreground:"339999",token:"constant"},{foreground:"ff6600",token:"keyword"},{foreground:"edf8f9",token:"keyword.preprocessor"},{foreground:"ffffff",token:"keyword.preprocessor directive"},{foreground:"ffcc00",token:"entity.name.function"},{foreground:"ffcc00",token:"storage.type.function.js"},{fontStyle:"italic",token:"variable.parameter"},{foreground:"772cb7",background:"070707",token:"source comment.block"},{foreground:"ffffff",token:"variable.other"},{foreground:"ffcc00",token:"support.function"},{foreground:"66ff00",token:"string"},{foreground:"aaaaaa",token:"string constant.character.escape"},{foreground:"000000",background:"cccc33",token:"string.interpolated"},{foreground:"44b4cc",token:"string.regexp"},{foreground:"cccc33",token:"string.literal"},{foreground:"555555",token:"string.interpolated constant.character.escape"},{fontStyle:"underline",token:"entity.name.class"},{fontStyle:"underline",token:"support.class.js"},{fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"ff6600",token:"meta.tag.inline.any.html"},{foreground:"ff6600",token:"meta.tag.block.any.html"},{foreground:"99cc99",fontStyle:"italic",token:"entity.other.attribute-name"},{foreground:"dde93d",token:"keyword.other"},{foreground:"ff6600",token:"meta.selector.css"},{foreground:"ff6600",token:"entity.other.attribute-name.pseudo-class.css"},{foreground:"ff6600",token:"entity.name.tag.wildcard.css"},{foreground:"ff6600",token:"entity.other.attribute-name.id.css"},{foreground:"ff6600",token:"entity.other.attribute-name.class.css"},{foreground:"999966",token:"support.type.property-name.css"},{foreground:"ffffff",token:"keyword.other.unit.css"},{foreground:"ffffff",token:"constant.other.rgb-value.css"},{foreground:"ffffff",token:"constant.numeric.css"},{foreground:"ffffff",token:"support.function.event-handler.js"},{foreground:"ffffff",token:"keyword.operator.js"},{foreground:"cccc66",token:"keyword.control.js"},{foreground:"ffffff",token:"support.class.prototype.js"},{foreground:"ff6600",token:"object.property.function.prototype.js"}],colors:{"editor.foreground":"#FFFFFF","editor.background":"#0F0F0F","editor.selectionBackground":"#6699CC","editor.lineHighlightBackground":"#333333","editorCursor.foreground":"#FFFFFF","editorWhitespace.foreground":"#404040"}}},{name:"Nord-Dark",themeName:"nord-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"616e88",token:"comment"},{foreground:"616e88",fontStyle:"bold",token:"comment.block.preprocessor"},{foreground:"81a1c1",token:"comment.block.documentation"},{foreground:"d8dee9",background:"bf616a",token:"invalid.illegal"},{foreground:"81a1c1",token:"keyword"},{foreground:"81a1c1",token:"storage"},{foreground:"81a1c1",token:"keyword.operator"},{foreground:"81a1c1",token:"constant.language"},{foreground:"81a1c1",token:"support.constant"},{foreground:"8fbcbb",token:"storage.type"},{foreground:"8fBcbb",token:"entity.other.attribute-name"},{foreground:"d8dee9",token:"variable.other"},{foreground:"d8dee9",token:"variable.language"},{foreground:"8fbcbb",token:"entity.name.type"},{foreground:"8fbcbb",fontStyle:"bold",token:"entity.other.inherited-class"},{foreground:"8fbcbb",token:"support.class"},{foreground:"8fbcbb",token:"variable.other.constant"},{foreground:"88c0d0",token:"entity.name.function"},{foreground:"88c0d0",token:"support.function"},{foreground:"88c0d0",token:"entity.name.section"},{foreground:"5e81ac",token:"entity.name.tag"},{foreground:"d8dee9",token:"variable.parameter"},{foreground:"d8dee9",token:"support.variable"},{foreground:"b48ead",token:"constant.numeric"},{foreground:"b48ead",token:"constant.other"},{foreground:"a3be8c",token:"string - string source"},{foreground:"ebcb8b",token:"constant.character"},{foreground:"ebcb8b",token:"string.regexp"},{foreground:"d8dee9",fontStyle:"bold",token:"constant.other.symbol"},{fontground:"eceff4",token:"punctuation"},{foreground:"bf616a",token:"markup.deleted"},{fontStyle:"italic",token:"markup.italic"},{foreground:"88c0d0",token:"markup.heading"},{foreground:"a3be8c",token:"markup.inserted"},{fontStyle:"bold",token:"markup.bold"},{fontStyle:"underline",token:"markup.underline"},{foreground:"8fbcbb",token:"meta.diff.range"},{foreground:"8fbcbb",token:"meta.diff.header.from-file"}],colors:{"editorActiveLineNumber.foreground":"#d8dee9","editorCursor.foreground":"#d8dee9","editorHint.border":"#ebcb8b","editorHint.foreground":"#ebcb8b","editorIndentGuide.background":"#434c5e","editorIndentGuide.activeBackground":"#4c566a","editorLineNumber.foreground":"#4c566a","editorLineNumber.activeForeground":"#d8dee9","editorWhitespace.foreground":"#4c566a","editorWidget.background":"#2e3440","editorWidget.border":"#3b4252","editor.background":"#2e3440","editor.foreground":"#d8dee9","editor.hoverHighlightBackground":"#3b4252","editor.findMatchBackground":"#88c0d0","editor.findMatchHighlightBackground":"#88c0d0","editor.findRangeHighlightBackground":"#88c0d0","editor.lineHighlightBackground":"#3b4252","editor.lineHighlightBorder":"#3b4252","editor.inactiveSelectionBackground":"#434c5e","editor.selectionBackground":"#434c5e","editor.selectionHighlightBackground":"#434c5e","editor.rangeHighlightBackground":"#434c5e","editor.wordHighlightBackground":"#81a1c1","editor.wordHighlightStrongBackground":"#81a1c1","editorError.foreground":"#bf616a","editorError.border":"#bf616a","editorWarning.foreground":"#ebcb8b","editorWarning.border":"#ebcb8b","editorBracketMatch.background":"#2e3440","editorBracketMatch.border":"#88c0d0","editorCodeLens.foreground":"#4c566a","editorGroup.background":"#2e3440","editorGroup.border":"#3b4252","editorGroup.dropBackground":"#3b4252","editorGroupHeader.noTabsBackground":"#2e3440","editorGroupHeader.tabsBackground":"#2e3440","editorGroupHeader.tabsBorder":"#3b4252","editorGutter.background":"#2e3440","editorGutter.modifiedBackground":"#ebcb8b","editorGutter.addedBackground":"#a3be8c","editorGutter.deletedBackground":"#bf616a","editorHoverWidget.background":"#3b4252","editorHoverWidget.border":"#3b4252","editorLink.activeForeground":"#88c0d0","editorMarkerNavigation.background":"#5e81ac","editorMarkerNavigationError.background":"#bf616a","editorMarkerNavigationWarning.background":"#ebcb8b","editorOverviewRuler.border":"#3b4252","editorOverviewRuler.currentContentForeground":"#3b4252","editorOverviewRuler.incomingContentForeground":"#3b4252","editorOverviewRuler.findMatchForeground":"#88c0d0","editorOverviewRuler.rangeHighlightForeground":"#88c0d0","editorOverviewRuler.selectionHighlightForeground":"#88c0d0","editorOverviewRuler.wordHighlightForeground":"#88c0d0","editorOverviewRuler.wordHighlightStrongForeground":"#88c0d0","editorOverviewRuler.modifiedForeground":"#ebcb8b","editorOverviewRuler.addedForeground":"#a3be8c","editorOverviewRuler.deletedForeground":"#bf616a","editorOverviewRuler.errorForeground":"#bf616a","editorOverviewRuler.warningForeground":"#ebcb8b","editorOverviewRuler.infoForeground":"#81a1c1","editorRuler.foreground":"#434c5e","editorSuggestWidget.background":"#2e3440","editorSuggestWidget.border":"#3b4252","editorSuggestWidget.foreground":"#d8dee9","editorSuggestWidget.highlightForeground":"#88c0d0","editorSuggestWidget.selectedBackground":"#434c5e"}}},{name:"One-Dark",themeName:"one-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"abb2bf",token:"text"},{foreground:"abb2bf",token:"source"},{foreground:"adb7c9",token:"variable.parameter.function"},{foreground:"5f697a",fontStyle:" italic",token:"comment"},{foreground:"5f697a",fontStyle:" italic",token:"punctuation.definition.comment"},{foreground:"adb7c9",token:"none"},{foreground:"adb7c9",token:"keyword.operator"},{foreground:"cd74e8",token:"keyword"},{foreground:"eb6772",token:"variable"},{foreground:"5cb3fa",token:"entity.name.function"},{foreground:"5cb3fa",token:"meta.require"},{foreground:"5cb3fa",token:"support.function.any-method"},{foreground:"f0c678",token:"support.class"},{foreground:"f0c678",token:"entity.name.class"},{foreground:"f0c678",token:"entity.name.type.class"},{foreground:"adb7c9",token:"meta.class"},{foreground:"5cb3fa",token:"keyword.other.special-method"},{foreground:"cd74e8",token:"storage"},{foreground:"5ebfcc",token:"support.function"},{foreground:"9acc76",token:"string"},{foreground:"9acc76",token:"constant.other.symbol"},{foreground:"9acc76",token:"entity.other.inherited-class"},{foreground:"db9d63",token:"constant.numeric"},{foreground:"db9d63",token:"none"},{foreground:"db9d63",token:"none"},{foreground:"db9d63",token:"constant"},{foreground:"eb6772",token:"entity.name.tag"},{foreground:"db9d63",token:"entity.other.attribute-name"},{foreground:"db9d63",token:"entity.other.attribute-name.id"},{foreground:"db9d63",token:"punctuation.definition.entity"},{foreground:"cd74e8",token:"meta.selector"},{foreground:"db9d63",token:"none"},{foreground:"5cb3fa",token:"markup.heading punctuation.definition.heading"},{foreground:"5cb3fa",token:"entity.name.section"},{foreground:"db9d63",token:"keyword.other.unit"},{foreground:"f0c678",token:"markup.bold"},{foreground:"f0c678",token:"punctuation.definition.bold"},{foreground:"cd74e8",token:"markup.italic"},{foreground:"cd74e8",token:"punctuation.definition.italic"},{foreground:"9acc76",token:"markup.raw.inline"},{foreground:"eb6772",token:"string.other.link"},{foreground:"eb6772",token:"punctuation.definition.string.end.markdown"},{foreground:"db9d63",token:"meta.link"},{foreground:"eb6772",token:"markup.list"},{foreground:"db9d63",token:"markup.quote"},{foreground:"adb7c9",background:"515151",token:"meta.separator"},{foreground:"9acc76",token:"markup.inserted"},{foreground:"eb6772",token:"markup.deleted"},{foreground:"cd74e8",token:"markup.changed"},{foreground:"5ebfcc",token:"constant.other.color"},{foreground:"5ebfcc",token:"string.regexp"},{foreground:"5ebfcc",token:"constant.character.escape"},{foreground:"c94e42",token:"punctuation.section.embedded"},{foreground:"c94e42",token:"variable.interpolation"},{foreground:"ffffff",background:"e05252",token:"invalid.illegal"},{foreground:"2d2d2d",background:"f99157",token:"invalid.broken"},{foreground:"2c323d",background:"d27b53",token:"invalid.deprecated"},{foreground:"2c323d",background:"747369",token:"invalid.unimplemented"},{foreground:"eb6772",token:"source.json meta.structure.dictionary.json string.quoted.double.json"},{foreground:"9acc76",token:"source.json meta.structure.dictionary.json meta.structure.dictionary.value.json string.quoted.double.json"},{foreground:"eb6772",token:"source.json meta.structure.dictionary.json meta.structure.dictionary.value.json meta.structure.dictionary.json string.quoted.double.json"},{foreground:"9acc76",token:"source.json meta.structure.dictionary.json meta.structure.dictionary.value.json meta.structure.dictionary.json meta.structure.dictionary.value.json string.quoted.double.json"},{foreground:"cd74e8",token:"text.html.laravel-blade source.php.embedded.line.html entity.name.tag.laravel-blade"},{foreground:"cd74e8",token:"text.html.laravel-blade source.php.embedded.line.html support.constant.laravel-blade"},{foreground:"db9d63",token:"source.python meta.function.python meta.function.parameters.python variable.parameter.function.python"},{foreground:"5ebfcc",token:"source.python meta.function-call.python support.type.python"},{foreground:"cd74e8",token:"source.python keyword.operator.logical.python"},{foreground:"f0c678",token:"source.python meta.class.python punctuation.definition.inheritance.begin.python"},{foreground:"f0c678",token:"source.python meta.class.python punctuation.definition.inheritance.end.python"},{foreground:"db9d63",token:"source.python meta.function-call.python meta.function-call.arguments.python variable.parameter.function.python"},{foreground:"db9d63",token:"text.html.basic source.php.embedded.block.html support.constant.std.php"},{foreground:"f0c678",token:"text.html.basic source.php.embedded.block.html meta.namespace.php entity.name.type.namespace.php"},{foreground:"db9d63",token:"source.js meta.function.js support.constant.js"},{foreground:"cd74e8",token:"text.html.basic` source.php.embedded.block.html constant.other.php"},{foreground:"db9d63",token:"text.html.basic source.php.embedded.block.html support.other.namespace.php"},{foreground:"adb7c9",token:"text.tex.latex meta.function.environment.math.latex string.other.math.block.environment.latex meta.definition.label.latex variable.parameter.definition.label.latex"},{foreground:"cd74e8",fontStyle:" italic",token:"text.tex.latex meta.function.emph.latex markup.italic.emph.latex"},{foreground:"adb7c9",token:"source.js variable.other.readwrite.js"},{foreground:"adb7c9",token:"source.js meta.function-call.with-arguments.js variable.function.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly meta.function-call.method.without-arguments.js variable.function.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly variable.other.object.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly constant.other.object.key.js string.unquoted.label.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly constant.other.object.key.js punctuation.separator.key-value.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly meta.function-call.method.with-arguments.js variable.function.js"},{foreground:"adb7c9",token:"source.js meta.function-call.method.with-arguments.js variable.function.js"},{foreground:"adb7c9",token:"source.js meta.function-call.method.without-arguments.js variable.function.js"}],colors:{"editor.foreground":"#6c7079","editor.background":"#2B303B","editor.selectionBackground":"#bbccf51b","editor.inactiveSelectionBackground":"#bbccf51b","editor.lineHighlightBackground":"#8cc2fc0b","editorCursor.foreground":"#528bff","editorWhitespace.foreground":"#747369","editorIndentGuide.background":"#464c55","editorIndentGuide.activeBackground":"#464c55","editor.selectionHighlightBorder":"#bbccf51b"}}}],o=function(){return r}},function(e,t,n){"use strict";var r=n(4),o=n(12),a=n(1),i=n.n(a),s=n(1830),c=n.n(s),l=n(860),u=n.n(l),d=n(756),p=n.n(d),b=n(1080),h=n.n(b),j=n(81),f=n(35),g=n(80),m=n(30),O=n(137),v=n(890),x=n(7),y=i.a.memo((function(e){return Object(x.jsx)(v.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(x.jsx)("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}))})),C=i.a.memo((function(e){return Object(x.jsx)(v.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(x.jsx)("path",{d:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C7.4,22 3.55,18.92 2.36,14.73L6.19,16.31C6.45,17.6 7.6,18.58 8.97,18.58C10.53,18.58 11.8,17.31 11.8,15.75V15.62L15.2,13.19H15.28C17.36,13.19 19.05,11.5 19.05,9.42C19.05,7.34 17.36,5.65 15.28,5.65C13.2,5.65 11.5,7.34 11.5,9.42V9.47L9.13,12.93L8.97,12.92C8.38,12.92 7.83,13.1 7.38,13.41L2,11.2C2.43,6.05 6.73,2 12,2M8.28,17.17C9.08,17.5 10,17.13 10.33,16.33C10.66,15.53 10.28,14.62 9.5,14.29L8.22,13.76C8.71,13.58 9.26,13.57 9.78,13.79C10.31,14 10.72,14.41 10.93,14.94C11.15,15.46 11.15,16.04 10.93,16.56C10.5,17.64 9.23,18.16 8.15,17.71C7.65,17.5 7.27,17.12 7.06,16.67L8.28,17.17M17.8,9.42C17.8,10.81 16.67,11.94 15.28,11.94C13.9,11.94 12.77,10.81 12.77,9.42A2.5,2.5 0 0,1 15.28,6.91C16.67,6.91 17.8,8.04 17.8,9.42M13.4,9.42C13.4,10.46 14.24,11.31 15.29,11.31C16.33,11.31 17.17,10.46 17.17,9.42C17.17,8.38 16.33,7.53 15.29,7.53C14.24,7.53 13.4,8.38 13.4,9.42Z"})}))})),T=i.a.memo((function(e){return Object(x.jsx)(v.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(x.jsx)("path",{d:"M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"})}))})),E=i.a.memo((function(e){return Object(x.jsx)(v.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(x.jsx)("path",{d:"M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"})}))})),k=i.a.memo((function(e){return Object(x.jsx)(v.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(x.jsx)("path",{d:"M11.64 5.93H13.07V10.21H11.64M15.57 5.93H17V10.21H15.57M7 2L3.43 5.57V18.43H7.71V22L11.29 18.43H14.14L20.57 12V2M19.14 11.29L16.29 14.14H13.43L10.93 16.64V14.14H7.71V3.43H19.14Z"})}))})),w=n(1124),S=i.a.memo((function(e){return Object(x.jsx)(v.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(x.jsx)("path",{d:"M2,3H11V12H2V3M11,22H2V13H11V22M21,3V12H12V3H21M21,22H12V13H21V22Z"})}))})),P=i.a.memo((function(e){return Object(x.jsx)(v.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(x.jsx)("path",{d:"M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"})}))})),I=n(86),_=function(e){var t=e.link,n=e.showcasedGame,a=t.url,i=t.type;return Object(x.jsx)(O.a,Object(r.a)(Object(r.a)({primary:!0},function(e,t){switch(t){case"":return{icon:Object(x.jsx)(u.a,{}),label:Object(x.jsx)(o.Trans,{id:"Play or download"})};case"learn-more":return{icon:null,label:Object(x.jsx)(o.Trans,{id:"Learn more"})};case"download-win-mac-linux":case"download":return{icon:Object(x.jsx)(c.a,{}),label:Object(x.jsx)(o.Trans,{id:"Download"})};case"play":return{icon:Object(x.jsx)(u.a,{}),label:Object(x.jsx)(o.Trans,{id:"Play"})};case"App Store":return{icon:Object(x.jsx)(P,{}),label:"iOS"};case"Play Store":return{icon:Object(x.jsx)(y,{}),label:"Android"};case"Steam":return{icon:Object(x.jsx)(C,{}),label:"Steam"};case"Trailer":return{icon:Object(x.jsx)(p.a,{}),label:Object(x.jsx)(o.Trans,{id:"Trailer"})};case"itch.io":return{icon:Object(x.jsx)(w.a,{}),label:"itch.io"};case"Game Jolt":return{icon:Object(x.jsx)(h.a,{}),label:"Game Jolt"};case"Twitter":return{icon:Object(x.jsx)(T,{}),label:"Twitter"};case"Microsoft Store":return{icon:Object(x.jsx)(S,{}),label:"Microsoft Store"};case"Instagram":return{icon:Object(x.jsx)(E,{}),label:"Instagram"};case"Twitch":return{icon:Object(x.jsx)(k,{}),label:"Twitch"};default:return{icon:null,label:t}}}(0,i)),{},{onClick:function(){Object(j.t)(n.title,i),f.b.openExternalURL(function(e){return e.startsWith("/")?"https://gdevelop.io"+e:e}(a))}}),i+"-"+a)},A=function(e,t){return t?Object(x.jsx)(g.a,{justifyContent:"flex-end",noMargin:!0,children:e}):Object(x.jsx)(g.c,{justifyContent:"flex-end",noColumnMargin:!0,children:e})};t.a=function(e){var t=e.showcasedGame,n=e.forceColumn,r=void 0!==n&&n,o=t.links,a=Object(I.b)(),i=o.slice(0,3),s=o.slice(3);return Object(x.jsxs)(x.Fragment,{children:[A(i.map((function(e,n){return Object(x.jsx)(_,{link:e,showcasedGame:t},n)})),r),s.length>0&&Object(x.jsxs)(x.Fragment,{children:[("small"===a||r)&&Object(x.jsx)(m.d,{}),A(s.map((function(e,n){return Object(x.jsx)(_,{link:e,showcasedGame:t},n)})),r)]})]})}},function(e,t,n){"use strict";var r=n(18),o=n(3),a=n(26),i=n(0),s=n.n(i),c=n(12),l=n(1),u=n.n(l),d=n(100),p=n(472),b=n(136),h=n(1156),j=n(139),f=n(7),g=function(e){var t=e.authenticatedUser,n=e.game,r=e.open,o=e.onClose,a=e.onGameUpdated,i=Object(j.a)();return r?Object(f.jsx)(d.b,{title:Object(f.jsx)(c.Trans,{id:"Your game builds"}),actions:[Object(f.jsx)(b.a,{label:Object(f.jsx)(c.Trans,{id:"Close"}),primary:!1,onClick:o},"close")],secondaryActions:[Object(f.jsx)(p.a,{helpPagePath:"/publishing"},"help")],onRequestClose:o,open:r,noMargin:!0,children:Object(f.jsx)(h.a,{onBuildsUpdated:i,authenticatedUser:t,game:n,onGameUpdated:a})}):null},m=n(490),O=n(4),v=n(9),x=n(8),y=n(13),C=n(14),T=n(137),E=n(81),k=n(30),w=n(62),S=n(790),P=n(480),I=n(463),_=function(e){var t=e.subscription,n=e.limit,r=e.onChangeSubscription;if(!n)return Object(f.jsx)(P.a,{});var o=t&&!!t.planId,a=t&&!t.planId;return Object(f.jsxs)(k.a,{noMargin:!0,children:[Object(f.jsx)(I.a,{children:Object(f.jsx)(c.Trans,{id:"You have {0} remaining builds for today (out of {1}).",values:{0:Math.max(n.max-n.current,0),1:n.max}})}),o&&n.limitReached&&Object(f.jsx)(I.a,{children:Object(f.jsx)(c.Trans,{id:"Need more power? You can upgrade to a new plan to increase the limit!"})}),o&&n.limitReached&&Object(f.jsx)(k.c,{justifyContent:"center",alignItems:"center",children:Object(f.jsx)(T.a,{label:Object(f.jsx)(c.Trans,{id:"Upgrade my account"}),onClick:r,primary:!0})}),a&&Object(f.jsx)(I.a,{children:Object(f.jsx)(c.Trans,{id:"You don't have a subscription. Get one to increase the limits!"})}),a&&Object(f.jsx)(k.c,{justifyContent:"center",alignItems:"center",children:Object(f.jsx)(T.a,{label:Object(f.jsx)(c.Trans,{id:"Get a subscription"}),onClick:r,primary:!0})})]})},A=n(680),N=n(959),R=n(2290),L=n(2212),M=n(2281),F=n(2213),D=n(2178),B=n(2189),U=n(953),V=n(470),W=n(478),G={stepper:{flex:1},linearProgress:{flex:1}},z=function(e){var t=e.exportStep,n=e.build,r=e.stepMaxProgress,o=e.stepCurrentProgress,a=e.errored,i=e.hasBuildStep,s=e.showSeeAllMyBuildsExplanation,u=l.useCallback((function(){return"register"===t||"export"===t||"resources-download"===t?0:"compress"===t||"upload"===t?1:"waiting-for-build"===t||"build"===t?2:"done"===t?i?2:1:-1}),[t,i]);return Object(f.jsxs)(R.a,{activeStep:u(),orientation:"vertical",style:G.stepper,children:[Object(f.jsxs)(L.a,{children:[Object(f.jsx)(M.a,{children:Object(f.jsx)(c.Trans,{id:"Game export"})}),Object(f.jsx)(F.a,{children:a?Object(f.jsxs)(W.a,{kind:"error",children:[Object(f.jsx)(c.Trans,{id:"Can't properly export the game."})," ",Object(f.jsx)(c.Trans,{id:"Please check your internet connection or try again later."})]}):"resources-download"===t?Object(f.jsxs)(k.a,{expand:!0,noMargin:!0,children:[Object(f.jsx)(I.a,{children:Object(f.jsx)(c.Trans,{id:"Downloading game resources..."})}),Object(f.jsx)(k.c,{expand:!0,children:Object(f.jsx)(B.a,{style:G.linearProgress,value:r>0?o/r*100:0,variant:"determinate"})})]}):Object(f.jsxs)(k.a,{expand:!0,noMargin:!0,children:[Object(f.jsx)(I.a,{children:Object(f.jsx)(c.Trans,{id:"Export in progress..."})}),Object(f.jsx)(k.c,{expand:!0,children:Object(f.jsx)(B.a,{style:G.linearProgress})})]})})]}),i&&Object(f.jsxs)(L.a,{children:[Object(f.jsx)(M.a,{children:Object(f.jsx)(c.Trans,{id:"Upload to build service"})}),Object(f.jsx)(F.a,{children:a?Object(f.jsxs)(W.a,{kind:"error",children:[Object(f.jsx)(c.Trans,{id:"Can't upload your game to the build service."})," ",Object(f.jsx)(c.Trans,{id:"Please check your internet connection or try again later."})]}):"compress"===t?Object(f.jsxs)(k.c,{alignItems:"center",children:[Object(f.jsx)(D.a,{size:20}),Object(f.jsx)(k.d,{}),Object(f.jsx)(I.a,{children:Object(f.jsx)(c.Trans,{id:"Compressing before upload..."})})]}):Object(f.jsx)(k.c,{alignItems:"center",expand:!0,children:Object(f.jsx)(B.a,{style:G.linearProgress,value:r>0?o/r*100:0,variant:"determinate"})})})]}),i&&Object(f.jsxs)(L.a,{children:[Object(f.jsx)(M.a,{children:Object(f.jsx)(c.Trans,{id:"Build and download"})}),Object(f.jsxs)(F.a,{children:[a&&Object(f.jsx)(W.a,{kind:"error",children:Object(f.jsx)(c.Trans,{id:"Build could not start or errored. Please check your internet connection or try again later."})}),!n&&!a&&Object(f.jsx)(I.a,{children:Object(f.jsx)(c.Trans,{id:"Build is starting..."})}),n&&Object(f.jsx)(U.a,{build:n}),s&&Object(f.jsx)(V.a,{children:Object(f.jsx)(c.Trans,{id:"If you close this window while the build is being done, you can see its progress and download the game later by clicking on See All My Builds below."})})]})]}),!i&&Object(f.jsxs)(L.a,{children:[Object(f.jsx)(M.a,{children:Object(f.jsx)(c.Trans,{id:"Done"})}),Object(f.jsx)(F.a,{})]})]})},H=n(529),Y=n(692),q=n(512),X=n(544),K=function(e){Object(y.a)(n,e);var t=Object(C.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this,e)).state={exportStep:"",build:null,compressionOutput:null,stepCurrentProgress:0,stepMaxProgress:0,doneFooterOpen:!1,errored:!1,exportState:r.props.exportPipeline.getInitialExportState(r.props.project)},r.buildsWatcher=new N.a,r._setupAchievementHook=function(){r.props.exportPipeline.name.includes("web")?r.launchWholeExport=Object(X.h)(r.props.authenticatedUser,X.g,r._launchWholeExport):r.launchWholeExport=r._launchWholeExport},r._updateStepProgress=function(e,t){return r.setState({stepCurrentProgress:e,stepMaxProgress:t})},r._startBuildWatch=function(e){r.state.build&&r.buildsWatcher.start({authenticatedUser:e,builds:[r.state.build],onBuildUpdated:function(t){r.setState({build:t}),"pending"!==t.status&&e.onRefreshUserProfile()}})},r.tryUpdateAuthors=Object(o.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.props.authenticatedUser.profile)){e.next=11;break}return n=Object(H.c)(r.props.project.getAuthorIds().toJSArray()),e.prev=3,e.next=6,Object(H.m)(r.props.authenticatedUser.getAuthorizationHeader,t.id,r.props.project.getProjectUuid(),{author:n});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])}))),r.registerGameIfNot=Object(o.a)(s.a.mark((function e(){var t,n,o,a,i,c,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props.authenticatedUser.profile,n=r.props.authenticatedUser.getAuthorizationHeader,o=r.props.project.getProjectUuid(),!t){e.next=21;break}return a=t.id,e.prev=5,e.next=8,Object(H.e)(n,a,o);case 8:e.next=21;break;case 10:if(e.prev=10,e.t0=e.catch(5),404!==e.t0.response.status){e.next=21;break}return i=r.props.project.getAuthor()||"Unspecified publisher",c=r.props.project.getTemplateSlug(),l=r.props.project.getName()||"Untitled game",e.next=18,Object(H.k)(n,a,{gameId:o,authorName:i,gameName:l,templateSlug:c});case 18:u=e.sent,r.tryUpdateAuthors(),r.props.onGameUpdated(u);case 21:case"end":return e.stop()}}),e,null,[[5,10]])}))),r._launchWholeExport=Object(o.a)(s.a.mark((function e(){var t,n,o,a,i,c,l,u,d,p,b,h,j,f,g,m,O;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(e){return e},n=r.props,o=n.project,a=n.exportPipeline,i=n.authenticatedUser,Object(E.k)(a.name),Object(A.a)(t,Object(A.c)(t,o))){e.next=5;break}return e.abrupt("return");case 5:return c=function(){switch(r.state.exportStep){case"export":return t("Error while exporting the game.");case"resources-download":return t("Error while downloading the game resources. Check your internet connection and that all resources of the game are valid in the Resources editor.");case"compress":return t("Error while compressing the game.");case"upload":return t("Error while uploading the game. Check your internet connection or try again later.");case"waiting-for-build":return t("Error while building the game. Check the logs of the build for more details.");case"build":return t("Error while building of the game. Check the logs of the build for more details.");default:return t("Error while building the game. Try again later. Your internet connection may be slow or one of your resources may be corrupted.")}},l=function(e){r.state.errored||(r.setState({errored:!0}),Object(w.a)({message:c()+(e.message?"\n\n".concat(e.message):""),rawError:{exportStep:r.state.exportStep,rawError:e},errorId:"export-error"}))},u=function(e){return r.setState({exportStep:e})},e.prev=8,u("register"),e.next=12,r.registerGameIfNot();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.warn("Error while registering the game - ignoring it.");case 17:return e.prev=17,d={project:o,updateStepProgress:r._updateStepProgress,exportState:r.state.exportState},u("export"),r.setState({stepCurrentProgress:0,stepMaxProgress:0,errored:!1,build:null}),e.next=23,a.prepareExporter(d);case 23:return p=e.sent,e.next=26,a.launchExport(d,p);case 26:return b=e.sent,u("resources-download"),e.next=30,a.launchResourcesDownload(d,b);case 30:return h=e.sent,u("compress"),e.next=34,a.launchCompression(d,h);case 34:if(j=e.sent,f=a.launchUpload,g=a.launchOnlineBuild,!f||!g){e.next=47;break}return u("upload"),e.next=40,f(d,j);case 40:return m=e.sent,u("waiting-for-build"),e.next=44,g(r.state.exportState,i,m,r.props.project.getProjectUuid());case 44:O=e.sent,u("build"),r.setState({build:O},(function(){r._startBuildWatch(i)}));case 47:u("done"),r.setState({compressionOutput:j,doneFooterOpen:!0}),e.next=55;break;case 51:e.prev=51,e.t1=e.catch(17),console.error("An error happened during export:",e.t1),l(e.t1);case 55:case"end":return e.stop()}}),e,null,[[8,14],[17,51]])}))),r._closeDoneFooter=function(){return r.setState({doneFooterOpen:!1})},r._updateExportState=function(e){r.setState((function(t){return Object(O.a)(Object(O.a)({},t),{},{exportState:e(t.exportState)})}))},r._setupAchievementHook(),r}return Object(x.a)(n,[{key:"componentWillUnmount",value:function(){this.buildsWatcher.stop()}},{key:"componentDidUpdate",value:function(e,t){this._setupAchievementHook(),t.exportStep===this.state.exportStep&&t.errored===this.state.errored||this.props.setIsNavigationDisabled(this.props.exportPipeline.isNavigationDisabled(this.state.exportStep,this.state.errored))}},{key:"render",value:function(){var e=this.state,t=e.exportStep,n=e.compressionOutput,r=e.build,o=e.stepMaxProgress,a=e.stepCurrentProgress,i=e.errored,s=e.doneFooterOpen,l=e.exportState,u=this.props,d=u.project,p=u.authenticatedUser,b=u.exportPipeline,h=u.onSaveProject;if(!d)return null;var j=function(e){return e.limits&&b.onlineBuildType?e.limits[b.onlineBuildType]:null};return Object(f.jsxs)(k.a,{noMargin:!0,children:[!!b.packageNameWarningType&&-1!==d.getPackageName().indexOf("com.example")&&Object(f.jsx)(k.c,{children:Object(f.jsx)(q.a,{identifier:"project-should-have-unique-package-name",kind:"warning",children:Object(f.jsx)(c.I18n,{children:function(e){return e.i18n._("mobile"===b.packageNameWarningType?{id:"The package name begins with com.example, make sure you replace it with an unique one to be able to publish your game on app stores."}:{id:"The package name begins with com.example, make sure you replace it with an unique one, else installing your game might overwrite other games."})}})})}),Object(f.jsx)(k.c,{children:b.renderHeader({project:d,exportState:l,updateExportState:this._updateExportState})}),(!b.onlineBuildType||p.authenticated)&&Object(f.jsx)(k.c,{justifyContent:"center",children:Object(f.jsx)(T.a,{label:b.renderLaunchButtonLabel(),primary:!0,onClick:this.launchWholeExport,disabled:!function(e){var n=j(e);return(!n||!n.limitReached)&&b.canLaunchBuild(l,i,t)}(p)})}),Object(f.jsx)(k.d,{}),!!b.onlineBuildType&&!p.authenticated&&Object(f.jsx)(S.a,{onLogin:p.onLogin,onCreateAccount:p.onCreateAccount,message:Object(f.jsx)(c.Trans,{id:"Create an account or login first to publish your game."}),justifyContent:"center"}),p.authenticated&&(b.renderCustomStepsProgress?b.renderCustomStepsProgress({build:r,project:d,onSaveProject:h,errored:i,exportStep:t}):Object(f.jsx)(k.c,{expand:!0,children:Object(f.jsx)(z,{exportStep:t,hasBuildStep:!!b.onlineBuildType,build:r,stepMaxProgress:o,stepCurrentProgress:a,errored:i})})),!!b.limitedBuilds&&p.authenticated&&Object(f.jsx)(_,{subscription:p.subscription,limit:j(p),onChangeSubscription:this.props.onChangeSubscription}),s&&b.renderDoneFooter&&b.renderDoneFooter({compressionOutput:n,exportState:l,onClose:this._closeDoneFooter}),s&&Object(f.jsx)(k.c,{justifyContent:"center",children:Object(f.jsx)(Y.a,{project:d,hideIfSubscribed:!0,hideLoader:!0})})]})}}]),n}(l.Component),J=n(796),Z=n(495),Q=n(80),$=n(86),ee=n(138),te=function(){var e=Object($.b)(),t=u.a.useContext(ee.a);return"small"!==e&&Object(f.jsx)(k.a,{justifyContent:"center",noMargin:!0,children:Object(f.jsx)("span",{style:{height:"calc(100% - 30px)",borderLeftStyle:"solid",borderLeftWidth:1,borderColor:t.toolbar.separatorColor}})})},ne=n(956),re=n.n(ne),oe=n(954),ae=n(955),ie=n.n(ae),se=n(1858),ce=n.n(se),le={titleContainer:{display:"flex",flex:2,alignItems:"center",minHeight:"100px"},iconsContainer:{marginTop:10,marginBottom:10},icon:{height:48,width:48},contentContainer:{flex:5}},ue=function(e){var t=e.onlineWebExporter,n=e.setChosenExporterKey,r=e.setChosenExporterSection,o=(e.cantExportBecauseOffline,e.project),a=e.onSaveProject,i=e.onChangeSubscription,s=e.authenticatedUser,l=e.isNavigationDisabled,u=e.setIsNavigationDisabled,d=e.onGameUpdated;return Object(f.jsxs)(Q.c,{children:[Object(f.jsxs)(Q.a,{alignItems:"center",expand:!0,children:[Object(f.jsx)("div",{style:le.titleContainer,children:Object(f.jsx)(k.c,{children:Object(f.jsx)(I.a,{size:"title",children:Object(f.jsx)(c.Trans,{id:"Publish and share with friends on Liluo.io"})})})}),Object(f.jsx)(k.c,{expand:!0,children:Object(f.jsx)(ce.a,{style:le.icon})}),Object(f.jsx)("div",{style:le.contentContainer,children:Object(f.jsx)(K,{exportPipeline:t.exportPipeline,project:o,onSaveProject:a,onChangeSubscription:i,authenticatedUser:s,setIsNavigationDisabled:u,onGameUpdated:d})})]}),Object(f.jsx)(te,{}),Object(f.jsxs)(Q.a,{alignItems:"center",expand:!0,children:[Object(f.jsx)("div",{style:le.titleContainer,children:Object(f.jsx)(k.c,{children:Object(f.jsx)(I.a,{size:"title",children:Object(f.jsx)(c.Trans,{id:"Export and publish on other platforms"})})})}),Object(f.jsx)(k.c,{expand:!0,children:Object(f.jsxs)("div",{style:le.iconsContainer,children:[Object(f.jsx)(oe.a,{style:le.icon}),Object(f.jsx)(ie.a,{style:le.icon}),Object(f.jsx)(re.a,{style:le.icon})]})}),Object(f.jsx)("div",{style:le.contentContainer,children:Object(f.jsxs)(k.a,{alignItems:"center",children:[Object(f.jsx)(k.c,{children:Object(f.jsx)(I.a,{align:"center",children:Object(f.jsx)(c.Trans,{id:"Export your game to mobile, desktop and web platforms."})})}),Object(f.jsx)(T.a,{label:Object(f.jsx)(c.Trans,{id:"Export to other platforms"}),onClick:function(){r("automated"),n("webexport")},primary:!0,disabled:l}),Object(f.jsx)(k.d,{}),Object(f.jsx)(b.a,{label:Object(f.jsx)(c.Trans,{id:"Build manually"}),primary:!0,onClick:function(){r("manual"),n("webexport")},disabled:l})]})})]})]})},de=n(678),pe={icon:{width:40,height:40},disabledItem:{opacity:.6},content:{padding:8}};t.a=function(e){var t=e.project,n=e.onSaveProject,i=e.onClose,u=e.allExportersRequireOnline,h=e.onChangeSubscription,j=e.automatedExporters,O=e.manualExporters,v=e.onlineWebExporter,x=l.useState("home"),y=Object(a.a)(x,2),C=y[0],T=y[1],E=l.useState(!1),k=Object(a.a)(E,2),S=k[0],P=k[1],I=l.useState(!1),_=Object(a.a)(I,2),A=_[0],N=_[1],R=l.useState("onlinewebexport"),L=Object(a.a)(R,2),M=L[0],F=L[1],D=l.useState(null),B=Object(a.a)(D,2),U=B[0],V=B[1],G=l.useContext(m.a),z=l.useContext(m.a),Y=z.getAuthorizationHeader,q=z.profile,X=Object(J.a)(),Q=!!u&&!X,$=l.useCallback(Object(o.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q&&t){e.next=2;break}return e.abrupt("return");case 2:return n=q.id,e.prev=3,e.next=6,Object(H.e)(Y,n,t.getProjectUuid());case 6:r=e.sent,V(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Unable to load the game",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),[t,Y,q]);if(l.useEffect((function(){U||$()}),[$,U]),!t)return null;var ee=[].concat(Object(r.a)(j),Object(r.a)(O),[v]).find((function(e){return e.key===M}));return ee&&ee.exportPipeline?Object(f.jsxs)(d.b,{title:"automated"===C?Object(f.jsx)(c.Trans,{id:"Publish your game"}):"manual"===C?Object(f.jsx)(c.Trans,{id:"Build manually"}):null,actions:["home"!==C&&Object(f.jsx)(b.a,{label:Object(f.jsx)(c.Trans,{id:"Back"}),primary:!1,onClick:function(){T("home"),F("onlinewebexport")},disabled:A},"back"),Object(f.jsx)(b.a,{label:Object(f.jsx)(c.Trans,{id:"Close"}),primary:!1,onClick:i,disabled:A},"close")],secondaryActions:[Object(f.jsx)(p.a,{helpPagePath:ee.helpPage},"help"),"local-html5"===ee.exportPipeline.name||"browser-html5"===ee.exportPipeline.name?Object(f.jsx)(de.a,{tutorialId:"export-to-itch",label:"How to export to Itch.io"},"tutorial"):null,Object(f.jsx)(b.a,{label:Object(f.jsx)(c.Trans,{id:"See this game builds"}),onClick:function(){U?P(!0):Object(w.c)("Either this game is not registered or you are not its owner, so you can't see the builds or publish a build to the game page on Liluo.io.")},disabled:A},"builds")],onRequestClose:i,open:!0,noMargin:!0,children:[Q&&Object(f.jsx)(W.a,{kind:"error",children:Object(f.jsx)(c.Trans,{id:"You must be online and have a proper internet connection to export your game."})}),"home"===C&&Object(f.jsx)(ue,{cantExportBecauseOffline:Q,onlineWebExporter:v,setChosenExporterKey:F,setChosenExporterSection:T,project:t,onSaveProject:n,onChangeSubscription:h,authenticatedUser:G,isNavigationDisabled:A,setIsNavigationDisabled:N,onGameUpdated:V}),"automated"===C&&Object(f.jsx)(Z.b,{value:M,onChange:F,children:j.map((function(e){return Object(f.jsx)(Z.a,{label:e.tabName,value:e.key,disabled:A},e.key)}))}),"manual"===C&&Object(f.jsx)(Z.b,{value:M,onChange:F,children:O.map((function(e){return Object(f.jsx)(Z.a,{label:e.tabName,value:e.key,disabled:A},e.key)}))}),"home"!==C&&Object(f.jsx)("div",{style:pe.content,children:Object(f.jsx)(K,{exportPipeline:ee.exportPipeline,project:t,onSaveProject:n,onChangeSubscription:h,authenticatedUser:G,setIsNavigationDisabled:N,onGameUpdated:V},M)}),U&&Object(f.jsx)(g,{open:S,onClose:function(){return P(!1)},authenticatedUser:G,game:U,onGameUpdated:V})]}):null}},function(e,t,n){"use strict";var r=n(4),o=n(3),a=n(26),i=n(0),s=n.n(i),c=n(12),l=n(1),u=n(1859),d=n.n(u),p=n(501),b=n(30),h=n(866),j=n(700),f=n(610),g=n(575),m=n(429),O=n(463),v=n(554),x=n(54),y=n(1126),C=n(20),T=n.n(C),E=n(62),k=n(867),w=n(701),S=n(645),P=n(7),I=T()("electron"),_={container:{display:"flex",overflow:"hidden",padding:8},button:{textAlign:"left",flex:1}},A=function(e){var t=e.exampleShortHeader,n=e.matches,r=e.isOpening,a=e.onChoose,i=e.onOpen,u=e.onHeightComputed,d=l.useRef(null);l.useLayoutEffect((function(){d.current&&u(d.current.getBoundingClientRect().height)}));var p=Object(g.b)(Object(x.b)(),t),h=l.useCallback(function(){var e=Object(o.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.a)(t);case 3:r=e.sent,Object(k.b)(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(E.a)({message:n._({id:"Unable to fetch the example."})+" "+n._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"example-load-error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[t]),j=function(e){var r=t[e];if(!n)return r;var o=n.filter((function(t){return t.key===e}));return 0===o.length?r:Object(P.jsx)(S.a,{text:r,matchesCoordinates:o[0].indices})};return Object(P.jsx)("div",{style:_.container,ref:d,children:Object(P.jsxs)(b.c,{noMargin:!0,expand:!0,children:[Object(P.jsxs)(m.a,{style:_.button,onClick:a,focusRipple:!0,children:[!!t.previewImageUrls.length&&Object(P.jsx)(y.a,{exampleShortHeader:t,size:64}),Object(P.jsxs)(b.a,{expand:!0,children:[Object(P.jsxs)(O.a,{noMargin:!0,children:[j("name")," "]}),t.authors&&Object(P.jsx)(b.c,{children:t.authors.map((function(e){return Object(P.jsx)(w.a,{user:e},e.id)}))}),Object(P.jsx)(O.a,{noMargin:!0,size:"body2",children:j("shortDescription")})]})]}),Object(P.jsx)(b.a,{justifyContent:"center",children:Object(P.jsx)(v.a,{primary:!0,label:Object(P.jsx)(c.Trans,{id:"Open"}),disabled:r||!p,onClick:function(){return i()},buildMenuTemplate:function(e){return[{label:e._({id:"Open details"}),click:a},{label:I?e._({id:"Open in the web-app"}):e._({id:"Open in a new tab"}),click:function(){h(e)}}]}})})]})})},N=n(86),R=n(81),L=function(e){return e.name},M=function(e){var t=e.isOpening,n=e.onOpen,r=e.focusOnMount,o=l.useState(null),i=Object(a.a)(o,2),s=i[0],c=i[1],u=l.useContext(h.a),d=u.filters,f=u.searchResults,g=u.error,m=u.fetchExamplesAndFilters,O=u.filtersState,v=u.searchText,x=u.setSearchText,y=Object(p.b)(),C=l.useRef(null);l.useEffect((function(){m()}),[m]),l.useEffect((function(){r&&y&&C.current&&C.current.focus()}),[y,r]);var T=l.useMemo((function(){return{add:O.addFilter,remove:O.removeFilter,chosenTags:O.chosenFilters}}),[O]),E=function(e){if(!f)return[];var t=f.find((function(t){return t.item.id===e.id}));return t?t.matches:[]};return Object(P.jsxs)(l.Fragment,{children:[Object(P.jsx)(N.a,{children:function(e){return Object(P.jsxs)(b.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(P.jsx)(b.c,{children:Object(P.jsx)(b.a,{expand:!0,children:Object(P.jsx)(p.a,{value:v,onChange:x,onRequestSearch:function(){},tagsHandler:T,tags:d&&d.defaultTags,ref:C,placeholder:{id:"Search examples"}})})}),Object(P.jsx)(b.c,{expand:!0,overflow:"hidden",noMargin:!0,children:Object(P.jsx)(j.a,{disableAutoTranslate:!0,onRetry:m,error:g,searchItems:f&&f.map((function(e){return e.item})),getSearchItemUniqueId:L,renderSearchItem:function(e,r){return Object(P.jsx)(A,{isOpening:t,onHeightComputed:r,exampleShortHeader:e,matches:E(e),onChoose:function(){Object(R.j)(e.slug),c(e)},onOpen:function(){n(e)}})}})})]})}}),!!s&&Object(P.jsx)(k.a,{isOpening:t,exampleShortHeader:s,onOpen:function(){n(s)},onClose:function(){return c(null)}})]})},F=n(100),D=n(136),B=n(495),U=n(599),V=n(2190),W=n(142),G=n(508),z=n(80),H=n(35),Y={thumbnailImageWithDescription:{objectFit:"contain",verticalAlign:"middle",backgroundColor:"black",width:200},smallScreenThumbnailImage:{objectFit:"contain",verticalAlign:"middle",backgroundColor:"black",maxHeight:150},card:{flex:1},container:{display:"flex",textAlign:"left",overflow:"hidden",padding:8}},q=function(e){var t=e.tutorial,n=e.onHeightComputed,o=l.useState(!1),i=Object(a.a)(o,2),s=i[0],c=i[1],u=l.useRef(null),d=l.useRef(!0),p=l.useCallback((function(){s||d.current||c(!0),u.current&&!d.current&&n(u.current.getBoundingClientRect().height)}),[n,s]);l.useLayoutEffect(p);var h=Object(N.b)();return Object(P.jsx)(m.a,{onClick:function(){Object(R.y)(t.id),H.b.openExternalURL(t.link)},focusRipple:!0,children:Object(P.jsx)("div",{style:Object(r.a)(Object(r.a)({},Y.container),{},{visibility:s?void 0:"hidden",animation:s?"fadein 0.5s":void 0}),ref:u,children:Object(P.jsx)(V.a,{style:Y.card,children:Object(P.jsxs)(z.c,{noMargin:!0,children:[Object(P.jsx)(G.a,{style:"small"===h?Y.smallScreenThumbnailImage:Y.thumbnailImageWithDescription,src:t.thumbnailUrl,alt:t.title,onError:function(){d.current=!1,p()},onLoad:function(){d.current=!1,p()}}),Object(P.jsx)(b.c,{expand:!0,children:Object(P.jsxs)(b.a,{expand:!0,children:[Object(P.jsx)(z.c,{noMargin:!0,alignItems:"baseline",expand:!0,children:Object(P.jsx)(O.a,{noMargin:!0,displayInlineAsSpan:!0,children:t.title})}),Object(P.jsx)(O.a,{size:"body2",displayInlineAsSpan:!0,children:Object(P.jsx)(W.a,{source:t.description,allowParagraphs:!0})}),Object(P.jsx)(b.d,{})]})})]})})})})},X=function(e){var t=l.useContext(U.a),n=t.tutorials,r=t.error,o=t.fetchTutorials;return l.useEffect((function(){o()}),[o]),Object(P.jsx)(N.a,{children:function(e){return Object(P.jsx)(b.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:Object(P.jsx)(b.c,{expand:!0,overflow:"hidden",children:Object(P.jsx)(j.a,{onRetry:o,error:r,searchItems:n,getSearchItemUniqueId:function(e){return e.id},renderSearchItem:function(e,t){return Object(P.jsx)(q,{onHeightComputed:t,tutorial:e})}})})})}})},K=n(488),J=n(484),Z=n(865),Q=n(630),$=n(1125),ee=n(1149),te={thumbnailImageWithDescription:{objectFit:"contain",verticalAlign:"middle",backgroundColor:"black",width:200},thumbnailImageWithoutDescription:{objectFit:"cover",verticalAlign:"middle",backgroundColor:"black",width:200,maxHeight:120},smallScreenThumbnailImage:{objectFit:"contain",verticalAlign:"middle",backgroundColor:"black",maxHeight:150},card:{flex:1},container:{display:"flex",textAlign:"left",overflow:"hidden",padding:8}},ne=function(e){var t=e.showcasedGame,n=e.onHeightComputed,o=l.useState(!1),i=Object(a.a)(o,2),s=i[0],c=i[1],u=l.useRef(null),d=l.useRef(!0),p=l.useCallback((function(){s||d.current||c(!0),u.current&&!d.current&&n(u.current.getBoundingClientRect().height)}),[n,s]);l.useLayoutEffect(p);var h=Object(N.b)(),j=!!t.description;return Object(P.jsx)("div",{style:Object(r.a)(Object(r.a)({},te.container),{},{visibility:s?void 0:"hidden",animation:s?"fadein 0.5s":void 0}),ref:u,children:Object(P.jsx)(V.a,{style:te.card,children:Object(P.jsxs)(z.c,{noMargin:!0,children:[Object(P.jsx)(G.a,{style:"small"===h?te.smallScreenThumbnailImage:j?te.thumbnailImageWithDescription:te.thumbnailImageWithoutDescription,src:t.thumbnailUrl,alt:t.title,onError:function(){d.current=!1,p()},onLoad:function(){d.current=!1,p()}}),Object(P.jsx)(b.c,{expand:!0,children:Object(P.jsxs)(b.a,{expand:!0,children:[Object(P.jsx)($.a,{showcasedGame:t}),t.genres.length?Object(P.jsx)(Q.a,{tags:t.genres}):null,Object(P.jsx)(O.a,{size:"body2",displayInlineAsSpan:!0,children:Object(P.jsx)(W.a,{source:t.description,allowParagraphs:!0})}),Object(P.jsx)(b.d,{}),Object(P.jsx)(ee.a,{showcasedGame:t})]})})]})})})},re=n(528),oe=n(1088),ae=function(e){return e.title},ie=function(e){var t=l.useContext(Z.a),n=t.filters,r=t.searchResults,o=t.error,a=t.fetchShowcasedGamesAndFilters,i=t.filtersState,s=t.searchText,u=t.setSearchText;return l.useEffect((function(){a()}),[a]),Object(P.jsx)(N.a,{children:function(e){return Object(P.jsxs)(b.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(P.jsx)(b.c,{children:Object(P.jsx)(b.a,{expand:!0,children:Object(P.jsx)(p.a,{value:s,onChange:u,onRequestSearch:function(){},placeholder:{id:"Search games"}})})}),Object(P.jsxs)(b.c,{expand:!0,overflow:"hidden",noMargin:!0,children:[Object(P.jsx)(K.a,{noFullHeight:!0,noExpand:!0,width:"small"===e?150:250,children:Object(P.jsxs)(J.a,{children:[Object(P.jsx)(re.a,{children:Object(P.jsx)(c.Trans,{id:"Categories"})}),Object(P.jsx)(oe.a,{allItemsLabel:Object(P.jsx)(c.Trans,{id:"All games"}),allFilters:n,filtersState:i,error:o})]})}),Object(P.jsx)(j.a,{onRetry:a,error:o,searchItems:r,getSearchItemUniqueId:ae,renderSearchItem:function(e,t){return Object(P.jsx)(ne,{onHeightComputed:t,showcasedGame:e})}})]})]})}})},se=n(1154);t.a=function(e){var t=e.open,n=e.onClose,i=e.onOpen,u=e.onCreateFromExampleShortHeader,p=e.onCreateBlank,h=e.initialTab,j=l.useState(h),f=Object(a.a)(j,2),g=f[0],m=f[1],O=l.useState(!1),v=Object(a.a)(O,2),x=v[0],y=v[1],C=l.useState(null),T=Object(a.a)(C,2),E=T[0],k=T[1],w=l.useState(!1),S=Object(a.a)(w,2),I=S[0],_=S[1],A=l.useMemo((function(){return[Object(P.jsx)(F.a,{label:Object(P.jsx)(c.Trans,{id:"Create a blank project"}),primary:!1,onClick:function(){return _(!0)}},"create-blank"),Object(P.jsx)(D.a,{label:Object(P.jsx)(c.Trans,{id:"Close"}),primary:!1,onClick:n},"close")]}),[n,_]),N=l.useMemo((function(){return"games-showcase"===g?[Object(P.jsx)(D.a,{onClick:function(){H.b.openExternalURL("https://docs.google.com/forms/d/e/1FAIpQLSfjiOnkbODuPifSGuzxYY61vB5kyMWdTZSSqkJsv3H6ePRTQA/viewform?usp=sf_link")},primary:!0,icon:Object(P.jsx)(d.a,{}),label:Object(P.jsx)(c.Trans,{id:"Submit your game to the showcase"})},"submit-game-showcase")]:"examples"===g?[Object(P.jsx)(D.a,{onClick:function(){H.b.openExternalURL("https://github.com/GDevelopApp/GDevelop-examples/issues/new/choose")},primary:!0,icon:Object(P.jsx)(d.a,{}),label:Object(P.jsx)(c.Trans,{id:"Submit your project as an example"})},"submit-example")]:void 0}),[g]);if(!t)return null;var R=function(){var e=Object(o.a)(s.a.mark((function e(t,n){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),e.prev=1,!E){e.next=8;break}return e.next=5,u({i18n:t,exampleShortHeader:E,settings:n});case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,p({i18n:t,settings:n});case 10:o=e.sent;case 11:if(o){e.next=13;break}return e.abrupt("return");case 13:_(!1),k(null),i(Object(r.a)({},o));case 16:return e.prev=16,y(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,,16,19]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(P.jsx)(c.I18n,{children:function(e){var r=e.i18n;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(F.b,{title:Object(P.jsx)(c.Trans,{id:"Create a new project"}),actions:A,secondaryActions:N,onRequestClose:n,onApply:function(){return _(!0)},open:t,noMargin:!0,fullHeight:!0,flexBody:!0,children:Object(P.jsxs)(b.a,{expand:!0,noMargin:!0,children:[Object(P.jsxs)(B.b,{value:g,onChange:function(e){m(e)},children:[Object(P.jsx)(B.a,{label:Object(P.jsx)(c.Trans,{id:"Examples"}),value:"examples"}),Object(P.jsx)(B.a,{label:Object(P.jsx)(c.Trans,{id:"Tutorials"}),value:"tutorials"}),Object(P.jsx)(B.a,{label:Object(P.jsx)(c.Trans,{id:"Games showcase"}),value:"games-showcase"})]}),"examples"===g&&Object(P.jsx)(b.a,{noMargin:!0,expand:!0,useFullHeight:!0,children:Object(P.jsx)(M,{focusOnMount:!0,isOpening:x,onOpen:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(t),_(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),"tutorials"===g&&Object(P.jsx)(X,{}),"games-showcase"===g&&Object(P.jsx)(ie,{})]})}),I&&Object(P.jsx)(se.a,{open:!0,isOpening:x,onClose:function(){return _(!1)},onCreate:function(e){return R(r,e)}})]})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return bt}));var r=n(11),o=n(3),a=n(26),i=n(4),s=n(0),c=n.n(s),l=n(1),u=n.n(l),d=n(12),p=n(2288),b=n(2178),h=n(2166),j=n(2165),f=n(2163),g=n(2193),m=n(2175),O=n(2168),v=n(423),x=n(2173),y=n(2159),C=n(489),T=n.n(C),E=n(771),k=n.n(E),w=n(1410),S=n.n(w),P=n(967),I=n.n(P),_=n(1404),A=n.n(_),N=n(636),R=n.n(N),L=n(1403),M=n.n(L),F=n(1405),D=n.n(F),B=n(1407),U=n.n(B),V=n(1406),W=n.n(V),G=n(1408),z=n.n(G),H=n(1411),Y=n.n(H),q=n(754),X=n.n(q),K=n(515),J=n.n(K),Z=n(574),Q=n.n(Z),$=n(551),ee=n.n($),te=n(1409),ne=n.n(te),re=n(765),oe=n(480),ae=n(566),ie=n(30),se=n(471),ce=n(518),le=n(478),ue=n(137),de=n(469),pe=n(474),be=n(475),he=n(796),je=n(797),fe=n(695),ge=n(966),me=n(35),Oe=n(2184),ve=n(2185),xe=n(2187),ye=n(2186),Ce=n(2188),Te=n(1399),Ee=n.n(Te),ke=n(753),we=n.n(ke),Se=n(1400),Pe=n.n(Se),Ie=n(1401),_e=n.n(Ie),Ae=n(1402),Ne=n.n(Ae),Re=n(463),Le=n(635),Me=n(799),Fe=["hour","minute","second","millisecond"],De={hour:36e5,minute:6e4,second:1e3,millisecond:1},Be={hour:":",minute:":",second:".",millisecond:""},Ue=function(e,t){return"time"===t.type?function(e,t){for(var n="",r=Math.round(1e3*e),o=Fe.indexOf(t.biggestUnit),a=Fe.indexOf(t.smallestUnit),i=o;i<=a;i++){var s=Fe[i],c=De[s],l=r%c;n+="".concat(((r-l)/c).toString().padStart("millisecond"===s?3:2,"0")).concat(i===a?"":Be[s]),r=l}return n}(e,t):function(e,t){var n=Object(Me.a)(e,t.precision);return"".concat(t.prefix).concat(n.toFixed(Math.max(0,t.precision))).concat(t.suffix)}(e,t)},Ve=n(7),We=function(e){var t=e.entries,n=e.customizationSettings,r=e.onDeleteEntry,o=e.isLoading,a=e.erroredEntry,s=e.navigation;return t?Object(Ve.jsx)(d.I18n,{children:function(e){var c=e.i18n;return Object(Ve.jsxs)(ie.a,{expand:!0,justifyContent:"space-between",children:[Object(Ve.jsxs)(Oe.a,{size:"small",children:[Object(Ve.jsx)(ye.a,{children:Object(Ve.jsxs)(Ce.a,{children:[Object(Ve.jsx)(xe.a,{style:{width:"20%"},align:"center",children:n?n.scoreTitle:Object(Ve.jsx)(d.Trans,{id:"Score"})}),Object(Ve.jsx)(xe.a,{style:{width:"50%"},children:Object(Ve.jsx)(d.Trans,{id:"Player"})}),Object(Ve.jsx)(xe.a,{style:{width:"15%"},children:Object(Ve.jsx)(d.Trans,{id:"Date"})}),Object(Ve.jsx)(xe.a,{style:{width:"15%"},children:Object(Ve.jsx)(d.Trans,{id:"Action"})})]})}),Object(Ve.jsx)(ve.a,{children:t.map((function(e){return Object(Ve.jsxs)(Ce.a,{children:[Object(Ve.jsx)(xe.a,{align:"center",children:n?Ue(e.score,n.scoreFormatting):e.score}),Object(Ve.jsx)(xe.a,{style:Object(i.a)(Object(i.a)({},Le.a),{},{maxWidth:0}),children:Object(Ve.jsx)(y.a,{title:e.playerName,children:Object(Ve.jsx)("span",{children:e.playerName})})}),Object(Ve.jsx)(xe.a,{children:Object(Ve.jsx)(y.a,{title:c.date(e.createdAt,{dateStyle:"short",timeStyle:"short"}),children:Object(Ve.jsx)("span",{children:c.date(e.createdAt)})})}),Object(Ve.jsx)(xe.a,{children:Object(Ve.jsxs)(ie.c,{children:[Object(Ve.jsx)(se.a,{size:"small",onClick:function(){return r(e.id)},disabled:o,tooltip:{id:"Remove entry"},children:Object(Ve.jsx)(Ee.a,{size:20})}),a&&a.entryId===e.id?Object(Ve.jsx)(se.a,{size:"small",onClick:function(){},tooltip:a.message,children:Object(Ve.jsx)(we.a,{size:20,color:"error"})}):null]})})]},e.id)}))})]}),0===t.length?Object(Ve.jsx)(ie.a,{expand:!0,justifyContent:"center",alignItems:"center",children:Object(Ve.jsx)(Re.a,{size:"body2",children:Object(Ve.jsx)(d.Trans,{id:"No entries"})})}):Object(Ve.jsxs)(ie.c,{noMargin:!0,justifyContent:"flex-end",children:[Object(Ve.jsx)(se.a,{tooltip:{id:"Go to first page"},disabled:!s.goToFirstPage,onClick:function(){s.goToFirstPage&&s.goToFirstPage()},children:Object(Ve.jsx)(Pe.a,{})}),Object(Ve.jsx)(se.a,{tooltip:{id:"Previous page"},disabled:!s.goToPreviousPage,onClick:function(){s.goToPreviousPage&&s.goToPreviousPage()},children:Object(Ve.jsx)(_e.a,{})}),Object(Ve.jsx)(se.a,{tooltip:{id:"Next page"},disabled:!s.goToNextPage,onClick:function(){s.goToNextPage&&s.goToNextPage()},children:Object(Ve.jsx)(Ne.a,{})})]})]})}}):Object(Ve.jsx)(oe.a,{})},Ge=n(80),ze=n(86),He=n(101),Ye=n(692),qe=n(100),Xe=n(136),Ke=n(472),Je={hour:"HH",minute:"MM",second:"SS",millisecond:"ms"},Ze=function(e){return!isNaN(e)&&Number.isInteger(e)},Qe=function(e){for(var t=Fe.indexOf(e.biggestUnit),n=Fe.indexOf(e.smallestUnit),r="",o=t;o<=n;o++){var a=Fe[o];r+="".concat(Je[a]).concat(o===n?"":Be[a])}return r},$e=Fe.reduce((function(e,t,n){for(var r=n;r<Fe.length;r++){var o={biggestUnit:Fe[n],smallestUnit:Fe[r]};e[Qe(o)]=o}return e}),{}),et=999999999;var tt=function(e){var t=e.open,n=e.onClose,r=e.onSave,s=e.leaderboardCustomizationSettings,l=u.a.useState(!1),p=Object(a.a)(l,2),b=p[0],h=p[1],j=u.a.useState(null),f=Object(a.a)(j,2),g=f[0],m=f[1],O=u.a.useState(s&&s.defaultDisplayedEntriesNumber||20),v=Object(a.a)(O,2),x=v[0],y=v[1],C=u.a.useState(null),T=Object(a.a)(C,2),E=T[0],k=T[1],w=u.a.useState(s?s.scoreTitle:"Score"),S=Object(a.a)(w,2),P=S[0],I=S[1],_=u.a.useState(s?s.scoreFormatting.type:"custom"),A=Object(a.a)(_,2),N=A[0],R=A[1],L=u.a.useState(s&&"custom"===s.scoreFormatting.type?s.scoreFormatting.prefix:""),M=Object(a.a)(L,2),F=M[0],D=M[1],B=u.a.useState(s&&"custom"===s.scoreFormatting.type?s.scoreFormatting.suffix:""),U=Object(a.a)(B,2),V=U[0],W=U[1],G=u.a.useState(s&&"custom"===s.scoreFormatting.type?s.scoreFormatting.precision:0),z=Object(a.a)(G,2),H=z[0],Y=z[1],q=u.a.useState(null),X=Object(a.a)(q,2),K=X[0],J=X[1],Z=u.a.useState(s&&"time"===s.scoreFormatting.type?Qe({smallestUnit:s.scoreFormatting.smallestUnit,biggestUnit:s.scoreFormatting.biggestUnit}):Qe({biggestUnit:"second",smallestUnit:"millisecond"})),Q=Object(a.a)(Z,2),$=Q[0],ee=Q[1],te=u.a.useState(15.2659),ne=Object(a.a)(te,2),re=ne[0],oe=ne[1],ae=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=3;break}return m(t._({id:"Title cannot be empty."})),e.abrupt("return");case 3:if(Ze(x)){e.next=6;break}return k(t._({id:"The number of displayed entries must be a whole value between {displayedEntriesMinNumber} and {displayedEntriesMaxNumber}",values:{displayedEntriesMinNumber:1,displayedEntriesMaxNumber:25}})),e.abrupt("return");case 6:if(Ze(H)){e.next=9;break}return J(t._({id:"The number of decimal places must be a whole value between {precisionMinValue} and {precisionMaxValue}",values:{precisionMinValue:-3,precisionMaxValue:3}})),e.abrupt("return");case 9:return h(!0),n={defaultDisplayedEntriesNumber:x,scoreTitle:P,scoreFormatting:"custom"===N?{type:N,prefix:F,suffix:V,precision:H}:Object(i.a)({type:N},$e[$])},e.next=13,r(n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ve.jsx)(d.I18n,{children:function(e){var r=e.i18n;return Object(Ve.jsxs)(qe.b,{open:t,maxWidth:"sm",secondaryActions:[Object(Ve.jsx)(Ke.a,{helpPagePath:"/interface/games-dashboard/leaderboard-administration",anchor:"change_the_appearance_of_a_leaderboard"},"help")],actions:[Object(Ve.jsx)(Xe.a,{label:Object(Ve.jsx)(d.Trans,{id:"Cancel"}),disabled:b,onClick:n},"cancel"),Object(Ve.jsx)(qe.a,{primary:!0,label:Object(Ve.jsx)(d.Trans,{id:"Save"}),disabled:b,onClick:function(){return ae(r)}},"save")],cannotBeDismissed:b,onRequestClose:n,onApply:function(){ae(r)},children:[Object(Ve.jsx)(Re.a,{size:"title",children:Object(Ve.jsx)(d.Trans,{id:"Table settings"})}),Object(Ve.jsx)(ie.c,{children:Object(Ve.jsx)(de.b,{fullWidth:!0,type:"number",floatingLabelText:Object(Ve.jsx)(d.Trans,{id:"Number of entries to display"}),value:isNaN(x)?"":x,errorText:E,min:1,max:25,onChange:function(e,t){E&&t&&k(null),y(Math.max(1,Math.min(25,parseFloat(t))))}})}),Object(Ve.jsx)(Re.a,{size:"title",children:Object(Ve.jsx)(d.Trans,{id:"Score column settings"})}),Object(Ve.jsx)(ie.c,{children:Object(Ve.jsx)(de.b,{fullWidth:!0,floatingLabelText:Object(Ve.jsx)(d.Trans,{id:"Column title"}),maxLength:20,errorText:g,value:P,onChange:function(e,t){g&&t&&m(null),I(t)}})}),Object(Ve.jsxs)(ie.a,{noMargin:!0,children:[Object(Ve.jsx)(ie.c,{children:Object(Ve.jsxs)(pe.a,{fullWidth:!0,value:N,floatingLabelText:Object(Ve.jsx)(d.Trans,{id:"Score display"}),onChange:function(e,t,n){return R(n)},children:[Object(Ve.jsx)(be.a,{value:"custom",primaryText:{id:"Custom display"}},"custom"),Object(Ve.jsx)(be.a,{value:"time",primaryText:{id:"Display as time"}},"time")]})}),Object(Ve.jsxs)(ie.a,{children:[Object(Ve.jsx)(ie.c,{noMargin:!0,children:Object(Ve.jsx)(Re.a,{size:"body2",children:Object(Ve.jsx)(d.Trans,{id:"Settings"})})}),"custom"===N?Object(Ve.jsxs)(Ve.Fragment,{children:[Object(Ve.jsxs)(Ge.c,{noColumnMargin:!0,children:[Object(Ve.jsx)(ie.a,{expand:!0,noMargin:!0,children:Object(Ve.jsx)(de.b,{fullWidth:!0,floatingLabelFixed:!0,floatingLabelText:Object(Ve.jsx)(d.Trans,{id:"Prefix"}),maxLength:10,value:F,hintText:{id:"Ex: $"},onChange:function(e,t){D(t)}})}),Object(Ve.jsx)(ie.a,{expand:!0,noMargin:!0,children:Object(Ve.jsx)(de.b,{fullWidth:!0,floatingLabelFixed:!0,floatingLabelText:Object(Ve.jsx)(d.Trans,{id:"Suffix"}),maxLength:10,value:V,hintText:{id:"Ex: coins"},onChange:function(e,t){W(t)}})})]}),Object(Ve.jsx)(ie.d,{}),Object(Ve.jsxs)(Ge.c,{noColumnMargin:!0,noMargin:!0,children:[Object(Ve.jsx)(ie.a,{expand:!0,noMargin:!0,children:Object(Ve.jsx)(de.b,{fullWidth:!0,type:"number",floatingLabelText:Object(Ve.jsx)(d.Trans,{id:"Round to X decimal point"}),errorText:K,value:isNaN(H)?"":H,min:-3,max:3,onChange:function(e,t){K&&t&&J(null),Y(Math.max(-3,Math.min(3,parseFloat(t))))}})}),Object(Ve.jsx)(ie.a,{expand:!0,noMargin:!0})]})]}):Object(Ve.jsxs)(Ve.Fragment,{children:[Object(Ve.jsx)(ie.c,{noMargin:!0,children:Object(Ve.jsx)(pe.a,{fullWidth:!0,value:$,floatingLabelText:Object(Ve.jsx)(d.Trans,{id:"Time format"}),onChange:function(e,t,n){return ee(n)},children:Object.keys($e).map((function(e){return Object(Ve.jsx)(be.a,{value:e,primaryText:e},e)}))})}),Object(Ve.jsx)(ie.c,{children:Object(Ve.jsx)(le.a,{kind:"info",children:Object(Ve.jsx)(d.Trans,{id:"To use this formatting, you must send a score expressed in seconds"})})})]}),Object(Ve.jsx)(ie.d,{}),Object(Ve.jsx)(ie.c,{noMargin:!0,children:Object(Ve.jsx)(Re.a,{size:"body2",children:Object(Ve.jsx)(d.Trans,{id:"Preview"})})}),Object(Ve.jsxs)(Ge.c,{noColumnMargin:!0,children:[Object(Ve.jsx)(de.b,{fullWidth:!0,floatingLabelText:"custom"===N?Object(Ve.jsx)(d.Trans,{id:"Test value"}):Object(Ve.jsx)(d.Trans,{id:"Test value (in second)"}),max:et,min:0,type:"number",value:isNaN(re)?"":re,onChange:function(e,t){return oe(Math.max(0,Math.min(et,parseFloat(t))))}}),Object(Ve.jsx)(de.b,{disabled:!0,fullWidth:!0,floatingLabelText:Object(Ve.jsx)(d.Trans,{id:"Displayed score"}),value:Ue(re||0,"time"===N?Object(i.a)({type:N},$e[$]):{type:N,prefix:F,suffix:V,precision:H||0})})]})]})]})]})}})},nt=n(493),rt=n(2169),ot=n(142),at=Number.MAX_SAFE_INTEGER,it=Number.MIN_SAFE_INTEGER;var st=function(e){var t=e.open,n=e.onClose,r=e.onSave,i=e.sort,s=e.extremeAllowedScore,l=u.a.useState(!1),p=Object(a.a)(l,2),b=p[0],h=p[1],j=u.a.useState(null),f=Object(a.a)(j,2),g=f[0],m=f[1],O=u.a.useState(void 0!==s),v=Object(a.a)(O,2),x=v[0],y=v[1],C=u.a.useState(s||0),T=Object(a.a)(C,2),E=T[0],k=T[1],w=u.a.useState(i||"ASC"),S=Object(a.a)(w,2),P=S[0],I=S[1],_=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=7;break}if(!(E>at)){e.next=4;break}return m(t._({id:"Extreme score must be lower than {extremeAllowedScoreMax}.",values:{extremeAllowedScoreMax:at}})),e.abrupt("return");case 4:if(!(E<it)){e.next=7;break}return m(t._({id:"Extreme score must be equal or higher than {extremeAllowedScoreMin}.",values:{extremeAllowedScoreMin:it}})),e.abrupt("return");case 7:if(!isNaN(E)){e.next=10;break}return m(t._({id:"Limit cannot be empty, uncheck or fill a value between {extremeAllowedScoreMin} and {extremeAllowedScoreMax}.",values:{extremeAllowedScoreMin:it,extremeAllowedScoreMax:at}})),e.abrupt("return");case 10:return h(!0),n={sort:P,extremeAllowedScore:x?E:null},e.next=14,r(n);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ve.jsx)(d.I18n,{children:function(e){var r=e.i18n;return Object(Ve.jsxs)(qe.b,{open:t,maxWidth:"sm",secondaryActions:[Object(Ve.jsx)(Ke.a,{helpPagePath:"/interface/games-dashboard/leaderboard-administration",anchor:"change_the_appearance_of_a_leaderboard"},"help")],actions:[Object(Ve.jsx)(Xe.a,{label:Object(Ve.jsx)(d.Trans,{id:"Cancel"}),disabled:b,onClick:n},"cancel"),Object(Ve.jsx)(qe.a,{primary:!0,label:Object(Ve.jsx)(d.Trans,{id:"Save"}),disabled:b,onClick:function(){return _(r)}},"save")],cannotBeDismissed:b,onRequestClose:n,onApply:function(){_(r)},children:[Object(Ve.jsx)(Re.a,{size:"title",children:Object(Ve.jsx)(d.Trans,{id:"Sort order"})}),Object(Ve.jsxs)(Ge.a,{noMargin:!0,children:[Object(Ve.jsxs)(pe.a,{fullWidth:!0,value:P,floatingLabelText:Object(Ve.jsx)(d.Trans,{id:"Scores sort order"}),onChange:function(e,t,n){I(n)},children:[Object(Ve.jsx)(be.a,{value:"ASC",primaryText:{id:"Lower is better"}},"ASC"),Object(Ve.jsx)(be.a,{value:"DESC",primaryText:{id:"Higher is better"}},"DESC")]}),Object(Ve.jsx)(nt.a,{label:Object(Ve.jsxs)(Ve.Fragment,{children:[Object(Ve.jsx)(ie.c,{noMargin:!0,children:Object(Ve.jsx)(d.Trans,{id:"Limit scores"})}),Object(Ve.jsx)(rt.a,{style:{display:"inline"},children:Object(Ve.jsx)(ot.a,{source:r._("ASC"===P?"Any submitted score that is lower than the set value will not be saved in the leaderboard.":"Any submitted score that is higher than the set value will not be saved in the leaderboard.")})})]}),checked:x,onCheck:function(){return y(!x)}})]}),x&&Object(Ve.jsx)(ie.a,{noMargin:!0,children:Object(Ve.jsxs)(ie.c,{children:[Object(Ve.jsx)(ie.b,{}),Object(Ve.jsx)(de.b,{fullWidth:!0,type:"number",floatingLabelText:"ASC"===P?Object(Ve.jsx)(d.Trans,{id:"Minimum score"}):Object(Ve.jsx)(d.Trans,{id:"Maximum score"}),value:E,errorText:g,min:it,max:at,onChange:function(e,t){g&&m(null),k(parseFloat(t))}})]})})]})}})},ct=["gameId"],lt=function(e){var t=e.children;return Object(Ve.jsx)(ie.a,{expand:!0,justifyContent:"center",alignItems:"center",children:Object(Ve.jsx)(ie.c,{children:t})})},ut={leftColumn:{display:"flex",flexDirection:"column",flex:1,padding:5},rightColumn:{display:"flex",flexDirection:"column",flex:2},leaderboardConfigurationPaper:{padding:5,margin:5},leaderboardNameText:Object(i.a)(Object(i.a)({},Le.a),{},{width:150}),leaderboardNameTextField:{width:125,fontSize:14}},dt=function(e){return{action:e.name?"leaderboardNameUpdate":e.sort?"leaderboardSortUpdate":e.visibility?"leaderboardVisibilityUpdate":e.primary?"leaderboardPrimaryUpdate":e.customizationSettings?"leaderboardAppearanceUpdate":"leaderboardPlayerUnicityDisplayChoiceUpdate",message:e.name?Object(Ve.jsx)(d.Trans,{id:"An error occurred when updating the name of the leaderboard, please close the dialog, come back and try again."}):e.sort?Object(Ve.jsx)(d.Trans,{id:"An error occurred when updating the sort direction of the leaderboard, please close the dialog, come back and try again."}):e.visibility?Object(Ve.jsx)(d.Trans,{id:"An error occurred when updating the visibility of the leaderboard, please close the dialog, come back and try again."}):e.primary?Object(Ve.jsx)(d.Trans,{id:"An error occurred when setting the leaderboard as default, please close the dialog, come back and try again."}):e.customizationSettings?Object(Ve.jsx)(d.Trans,{id:"An error occurred when updating the appearance of the leaderboard, please close the dialog, come back and try again."}):Object(Ve.jsx)(d.Trans,{id:"An error occurred when updating the display choice of the leaderboard, please close the dialog, come back and try again."})}},pt=function(e){if(void 0!==e.extremeAllowedScore){var t=e.customizationSettings?Ue(e.extremeAllowedScore,e.customizationSettings.scoreFormatting):e.extremeAllowedScore;return"ASC"===e.sort?Object(Ve.jsx)(d.Trans,{id:"Lower is better (min: {formattedScore})",values:{formattedScore:t}}):Object(Ve.jsx)(d.Trans,{id:"Higher is better (max: {formattedScore})",values:{formattedScore:t}})}return"ASC"===e.sort?Object(Ve.jsx)(d.Trans,{id:"Lower is better"}):Object(Ve.jsx)(d.Trans,{id:"Higher is better"})},bt=function(e){var t=e.onLoading,n=e.project,r=e.leaderboardIdToSelectAtOpening,s=Object(he.a)(),u=Object(ze.b)(),C=l.useState(!1),E=Object(a.a)(C,2),w=E[0],P=E[1],_=l.useState(!1),N=Object(a.a)(_,2),L=N[0],F=N[1],B=l.useState(!1),V=Object(a.a)(B,2),G=V[0],H=V[1],q=l.useState(!1),K=Object(a.a)(q,2),Z=K[0],$=K[1],te=l.useState(""),ge=Object(a.a)(te,2),Oe=ge[0],ve=ge[1],xe=l.useState(null),ye=Object(a.a)(xe,2),Ce=ye[0],Te=ye[1],Ee=l.useRef(null),ke=l.useState(null),we=Object(a.a)(ke,2),Se=we[0],Pe=we[1],Ie=l.useState(!1),_e=Object(a.a)(Ie,2),Ae=_e[0],Ne=_e[1],Le=l.useContext(fe.a),Me=Le.leaderboards,Fe=Le.listLeaderboards,De=Le.currentLeaderboard,Be=Le.createLeaderboard,Ue=Le.selectLeaderboard,qe=Le.updateLeaderboard,Ke=Le.resetLeaderboard,Je=Le.deleteLeaderboard,Ze=Le.deleteLeaderboardEntry,Qe=Le.displayOnlyBestEntry,$e=Le.setDisplayOnlyBestEntry,et=Le.fetchLeaderboardEntries,nt=Le.browsing,rt=nt.entries,ot=nt.goToNextPage,at=nt.goToPreviousPage,it=nt.goToFirstPage,ct=l.useCallback((function(e){$(e),t(e)}),[t]),bt=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Te(null),void 0===n.name||0!==n.name.length){e.next=4;break}return Te(t._({id:"Please enter a name that is at least one character long and 50 at most."})),e.abrupt("return");case 4:return ct(!0),Pe(null),e.prev=6,e.next=9,qe(n);case 9:n.name&&H(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),console.error("An error occurred when updating leaderboard",e.t0),Pe(dt(n));case 16:return e.prev=16,ct(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[6,12,16,19]])})));return function(t,n){return e.apply(this,arguments)}}(),ht=l.useCallback((function(){var e=function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ct(!0),Pe(null),e.prev=2,e.next=5,Fe();case 5:e.next=14;break;case 7:if(e.prev=7,e.t0=e.catch(2),!e.t0.response||404!==e.t0.response.status){e.next=12;break}return Ne(!0),e.abrupt("return");case 12:console.error("An error occurred when fetching leaderboards",e.t0),Pe({action:"leaderboardsFetching",message:Object(Ve.jsx)(d.Trans,{id:"An error occurred when fetching the leaderboards, please close the dialog and reopen it."})});case 14:return e.prev=14,ct(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,7,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[ct,Fe]),jt=function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ct(!0),Pe(null),e.prev=2,e.next=5,et();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("An error occurred when fetching leaderboard entries",e.t0),Pe({action:"entriesFetching",message:Object(Ve.jsx)(d.Trans,{id:"An error occurred when fetching the entries of the leaderboard, please try again."})});case 11:return e.prev=11,ct(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,7,11,14]])})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ct(!0),Pe(null),e.prev=2,e.next=5,Be({name:"New leaderboard",sort:"ASC"});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("An error occurred when creating leaderboard",e.t0),Pe({action:"leaderboardCreation",message:Object(Ve.jsx)(d.Trans,{id:"An error occurred when creating a new leaderboard, please close the dialog, come back and try again."})});case 11:return e.prev=11,ct(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,7,11,14]])})));return function(){return e.apply(this,arguments)}}(),gt=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me.b.showConfirmDialog(t._({id:"All current entries will be deleted, are you sure you want to reset this leaderboard? This can't be undone."}))){e.next=3;break}return e.abrupt("return");case 3:return ct(!0),Pe(null),e.prev=5,e.next=8,Ke();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),console.error("An error occurred when resetting leaderboard",e.t0),Pe({action:"leaderboardReset",message:e.t0.status&&409===e.t0.status?Object(Ve.jsx)(d.Trans,{id:"This leaderboard is already resetting, please wait a bit, close the dialog, come back and try again."}):Object(Ve.jsx)(d.Trans,{id:"An error occurred when resetting the leaderboard, please close the dialog, come back and try again."})});case 14:return e.prev=14,ct(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[5,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me.b.showConfirmDialog(t._({id:"Are you sure you want to delete this leaderboard and all of its entries? This can't be undone."}))){e.next=3;break}return e.abrupt("return");case 3:return ct(!0),Pe(null),e.prev=5,e.next=8,Je();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),console.error("An error occurred when deleting leaderboard",e.t0),Pe({action:"leaderboardDeletion",message:Object(Ve.jsx)(d.Trans,{id:"An error occurred when deleting the leaderboard, please close the dialog, come back and try again."})});case 14:return e.prev=14,ct(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[5,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me.b.showConfirmDialog(t._({id:"Are you sure you want to delete this entry? This can't be undone."}))){e.next=3;break}return e.abrupt("return");case 3:return ct(!0),Pe(null),e.prev=5,e.next=8,Ze(n);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),console.error("An error occurred when deleting entry",e.t0),Pe({action:"entryDeletion",message:Object(Ve.jsx)(d.Trans,{id:"An error occurred when deleting the entry, please try again."}),itemId:n});case 14:return e.prev=14,ct(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[5,10,14,17]])})));return function(t,n){return e.apply(this,arguments)}}();l.useEffect((function(){G&&Ee.current&&Ee.current.focus()}),[G]),l.useEffect((function(){null===Me&&ht()}),[Me,ht]),l.useEffect((function(){De&&jt()}),[]),l.useEffect((function(){r&&Ue(r)}),[r,Ue]);var vt=l.useCallback((function(){De&&navigator.clipboard.writeText(De.id)}),[De]);if(!s)return Object(Ve.jsx)(lt,{children:Object(Ve.jsx)(ce.a,{children:Object(Ve.jsx)(d.Trans,{id:"An internet connection is required to administrate your game's leaderboards."})})});if(Ae)return Object(Ve.jsx)(lt,{children:Object(Ve.jsx)(Ye.a,{project:n,hideIfRegistered:!0,onGameRegistered:function(){Ne(!1),ht()}})});if(Se&&"leaderboardCreation"===Se.action)return Object(Ve.jsx)(lt,{children:Object(Ve.jsx)(le.a,{kind:"error",children:Se.message})});if(Se&&"leaderboardsFetching"===Se.action)return Object(Ve.jsx)(lt,{children:Object(Ve.jsx)(ce.a,{onRetry:ht,kind:"error",children:Se.message})});if(null===Me)return Z?Object(Ve.jsx)(oe.a,{}):Object(Ve.jsx)(lt,{children:Object(Ve.jsx)(ce.a,{onRetry:ht,kind:"error",children:Object(Ve.jsx)(d.Trans,{id:"An error occurred when retrieving leaderboards, please try again later."})})});if(Me&&0===Me.length)return Object(Ve.jsx)(ie.c,{noMargin:!0,expand:!0,justifyContent:"center",alignItems:"center",children:Object(Ve.jsx)(ae.a,{title:Object(Ve.jsx)(d.Trans,{id:"Create your game's first leaderboard"}),description:Object(Ve.jsx)(d.Trans,{id:"Leaderboards help retain your players"}),actionLabel:Object(Ve.jsx)(d.Trans,{id:"Create a leaderboard"}),onAction:function(){ft()},isLoading:Z})});var xt=function(e,t){return[{key:"name",avatar:Object(Ve.jsx)(M.a,{}),text:G?Object(Ve.jsxs)(ie.c,{alignItems:"center",expand:!0,noMargin:!0,children:[Object(Ve.jsx)(de.b,{ref:Ee,margin:"none",style:ut.leaderboardNameTextField,maxLength:50,value:Oe,errorText:Ce,onChange:function(e,t){return ve(t)},onKeyPress:function(t){Object(He.g)(t)&&!Z&&bt(e,{name:Oe})},disabled:Z}),!Z&&Object(Ve.jsxs)(Ve.Fragment,{children:[Object(Ve.jsx)(ie.d,{}),Object(Ve.jsx)(se.a,{tooltip:{id:"Cancel"},style:{padding:0},onClick:function(){H(!1)},children:Object(Ve.jsx)(A.a,{})})]})]}):Object(Ve.jsx)(y.a,{title:t.name,children:Object(Ve.jsx)(Re.a,{size:"body2",style:ut.leaderboardNameText,children:t.name})}),secondaryText:Se&&"leaderboardNameUpdate"===Se.action?Object(Ve.jsx)(Re.a,{color:"error",size:"body2",children:Se.message}):null,secondaryAction:Object(Ve.jsx)(se.a,{onClick:function(){G?bt(e,{name:Oe}):(ve(t.name),H(!0))},tooltip:G?{id:"Save"}:{id:"Rename"},disabled:Z,edge:"end",children:G?Z?Object(Ve.jsx)(b.a,{size:20}):Object(Ve.jsx)(I.a,{}):Object(Ve.jsx)(R.a,{})})},{key:"id",avatar:Object(Ve.jsx)(D.a,{}),text:Object(Ve.jsx)(y.a,{title:t.id,children:Object(Ve.jsx)(Re.a,{size:"body2",children:Object(je.a)(t.id)})}),secondaryText:null,secondaryAction:Object(Ve.jsx)(se.a,{onClick:vt,tooltip:{id:"Copy"},edge:"end",children:Object(Ve.jsx)(re.a,{})})},{key:"startDatetime",avatar:Object(Ve.jsx)(W.a,{}),text:t.resetLaunchedAt?Object(Ve.jsx)(Re.a,{size:"body2",children:Object(Ve.jsx)(d.Trans,{id:"Reset requested the {0} . Please wait a few minutes...",values:{0:e.date(t.resetLaunchedAt,{dateStyle:"short",timeStyle:"short"})}})}):Object(Ve.jsx)(y.a,{title:e._({id:"Date from which entries are taken into account: {0}",values:{0:e.date(t.startDatetime,{dateStyle:"short",timeStyle:"short"})}}),children:Object(Ve.jsx)(Re.a,{size:"body2",children:e.date(t.startDatetime)})}),secondaryText:Se&&"leaderboardReset"===Se.action?Object(Ve.jsx)(Re.a,{color:"error",size:"body2",children:Se.message}):null,secondaryAction:Object(Ve.jsx)(se.a,{onClick:function(){return gt(e)},tooltip:{id:"Reset leaderboard"},edge:"end",disabled:Z||G||!!t.resetLaunchedAt,children:Object(Ve.jsx)(U.a,{})})},{key:"sort",avatar:Object(Ve.jsx)(z.a,{}),text:Object(Ve.jsx)(Re.a,{size:"body2",children:pt(t)}),secondaryText:Se&&"leaderboardSortUpdate"===Se.action?Object(Ve.jsx)(Re.a,{color:"error",size:"body2",children:Se.message}):null,secondaryAction:Object(Ve.jsx)(se.a,{onClick:function(){return F(!0)},tooltip:{id:"Edit"},edge:"end",disabled:Z||G,children:Object(Ve.jsx)(k.a,{})})},{key:"visibility",avatar:"HIDDEN"===t.visibility?Object(Ve.jsx)(ee.a,{}):Object(Ve.jsx)(Q.a,{}),text:Object(Ve.jsx)(y.a,{title:e._("HIDDEN"===t.visibility?{id:"Anyone with the link can see it, but it is not listed in your game's leaderboards."}:{id:"Anyone can access it."}),children:Object(Ve.jsx)(Re.a,{size:"body2",children:"HIDDEN"===t.visibility?Object(Ve.jsx)(d.Trans,{id:"Not visible"}):Object(Ve.jsx)(d.Trans,{id:"Public"})})}),secondaryText:Se&&"leaderboardVisibilityUpdate"===Se.action?Object(Ve.jsx)(Re.a,{color:"error",size:"body2",children:Se.message}):null,secondaryAction:Object(Ve.jsx)(se.a,{onClick:Object(o.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,bt(e,{visibility:"HIDDEN"===t.visibility?"PUBLIC":"HIDDEN"});case 2:case"end":return n.stop()}}),n)}))),tooltip:"HIDDEN"===t.visibility?{id:"Make the leaderboard public"}:{id:"Hide the leaderboard"},edge:"end",disabled:Z||G,children:Object(Ve.jsx)(ne.a,{})})},{key:"appearance",avatar:Object(Ve.jsx)(S.a,{}),text:Object(Ve.jsx)(Re.a,{size:"body2",children:Object(Ve.jsx)(d.Trans,{id:"Leaderboard appearance"})}),secondaryText:Se&&"leaderboardAppearanceUpdate"===Se.action?Object(Ve.jsx)(Re.a,{color:"error",size:"body2",children:Se.message}):null,secondaryAction:Object(Ve.jsx)(se.a,{onClick:function(){return P(!0)},tooltip:{id:"Edit"},edge:"end",disabled:Z||G,children:Object(Ve.jsx)(k.a,{})})},{key:"playerUnicityDisplayChoice",avatar:Object(Ve.jsx)(Y.a,{}),text:Object(Ve.jsxs)(pe.a,{fullWidth:!0,margin:"none",value:t.playerUnicityDisplayChoice,onChange:function(t,n,r){bt(e,{playerUnicityDisplayChoice:r})},disabled:Z||G,inputStyle:{fontSize:14},helperMarkdownText:"FREE"===t.playerUnicityDisplayChoice?e._({id:"Users can chose to see only players' best entries or not."}):"PREFER_UNIQUE"===t.playerUnicityDisplayChoice?e._({id:"Only player's best entries are displayed."}):e._({id:"All entries are displayed."}),children:[Object(Ve.jsx)(be.a,{value:"FREE",primaryText:e._({id:"Let the user select"})},"free"),Object(Ve.jsx)(be.a,{value:"PREFER_UNIQUE",primaryText:e._({id:"Only best entry"})},"prefer-unique"),Object(Ve.jsx)(be.a,{value:"PREFER_NON_UNIQUE",primaryText:e._({id:"All entries"})},"prefer-non-unique")]}),secondaryText:Se&&"leaderboardPlayerUnicityDisplayChoiceUpdate"===Se.action?Object(Ve.jsx)(Re.a,{color:"error",size:"body2",children:Se.message}):null,secondaryAction:null}]};return Object(Ve.jsx)(d.I18n,{children:function(e){var t=e.i18n;return Object(Ve.jsxs)(Ve.Fragment,{children:[Object(Ve.jsxs)(Ge.c,{noMargin:!0,expand:!0,noColumnMargin:!0,children:[Object(Ve.jsx)("div",{style:ut.leftColumn,children:Object(Ve.jsx)(v.a,{elevation:5,style:ut.leaderboardConfigurationPaper,children:Object(Ve.jsxs)(ie.a,{children:[Object(Ve.jsxs)(ie.c,{children:[De&&Me?Object(Ve.jsx)(pe.a,{fullWidth:!0,floatingLabelText:Object(Ve.jsx)(d.Trans,{id:"Leaderboard name"}),value:De.id,onChange:function(e,t,n){Ue(n)},children:Me.map((function(e){return Object(Ve.jsx)(be.a,{value:e.id,primaryText:e.primary?{id:"{0} (default)",values:{0:e.name}}:e.name},e.id)}))}):null,Object(Ve.jsx)(se.a,{onClick:ft,disabled:G||Z,children:Object(Ve.jsx)(T.a,{})})]}),De?Object(Ve.jsxs)(Ve.Fragment,{children:[Object(Ve.jsx)(j.a,{children:xt(t,De).map((function(e,t){return Object(Ve.jsxs)(l.Fragment,{children:[t>0?Object(Ve.jsx)(h.a,{component:"li"},"divider-".concat(e.key)):null,Object(Ve.jsxs)(f.a,{disableGutters:!0,children:[Object(Ve.jsx)(g.a,{children:Object(Ve.jsx)(p.a,{children:e.avatar})}),Object(Ve.jsx)(O.a,{disableTypography:!0,secondary:e.secondaryText,children:e.text}),e.secondaryAction?Object(Ve.jsx)(m.a,{children:e.secondaryAction}):null]},e.key)]},"fragment-".concat(e.key))}))}),Object(Ve.jsxs)(ie.c,{justifyContent:"space-between",children:[Object(Ve.jsx)(Xe.a,{icon:Object(Ve.jsx)(J.a,{}),label:Object(Ve.jsx)(d.Trans,{id:"Delete"}),disabled:Z||G,onClick:function(){return mt(t)}}),Object(Ve.jsx)(ue.a,{label:De.primary?Object(Ve.jsx)(d.Trans,{id:"Default"}):Object(Ve.jsx)(d.Trans,{id:"Set as default"}),disabled:Z||G||De.primary,onClick:function(){return bt(t,{primary:!0})}})]}),!Se||"leaderboardDeletion"!==Se.action&&"leaderboardPrimaryUpdate"!==Se.action?null:Object(Ve.jsx)(ce.a,{kind:"error",children:Se.message})]}):null]})})}),Object(Ve.jsxs)("div",{style:Object(i.a)(Object(i.a)({},ut.rightColumn),{},{paddingLeft:"small"===u?0:20}),children:[Object(Ve.jsxs)(ie.c,{alignItems:"center",justifyContent:"flex-end",children:[Object(Ve.jsx)(y.a,{title:t._({id:"When checked, will only display the best score of each player (only for the display below)."}),children:Object(Ve.jsx)(Re.a,{size:"body2",children:Object(Ve.jsx)(d.Trans,{id:"Player best entry"})})}),Object(Ve.jsx)(x.a,{color:"primary",size:"small",checked:Qe,onClick:function(){return $e(!Qe)}}),Object(Ve.jsx)(h.a,{orientation:"vertical"}),Object(Ve.jsx)(se.a,{onClick:jt,disabled:Z||G,tooltip:{id:"Refresh"},size:"small",children:Object(Ve.jsx)(X.a,{})}),Object(Ve.jsx)(ie.d,{})]}),Se&&"entriesFetching"===Se.action?Object(Ve.jsx)(lt,{children:Object(Ve.jsx)(ce.a,{onRetry:jt,kind:"error",children:Se.message})}):Object(Ve.jsx)(We,{entries:rt,customizationSettings:De?De.customizationSettings:null,onDeleteEntry:function(e){return Ot(t,e)},isLoading:Z||G,navigation:{goToNextPage:ot,goToPreviousPage:at,goToFirstPage:it},erroredEntry:Se&&"entryDeletion"===Se.action&&Se.itemId?{entryId:Se.itemId,message:Se.message}:void 0})]})]}),w?Object(Ve.jsx)(tt,{open:!0,leaderboardCustomizationSettings:De?De.customizationSettings:void 0,onClose:function(){return P(!1)},onSave:function(){var e=Object(o.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt(t,{customizationSettings:n});case 3:return e.prev=3,P(!1),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])})));return function(t){return e.apply(this,arguments)}}()}):null,L&&De?Object(Ve.jsx)(st,{open:!0,onClose:function(){return F(!1)},onSave:function(){var e=Object(o.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt(t,Object(i.a)({},n));case 3:return e.prev=3,F(!1),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])})));return function(t){return e.apply(this,arguments)}}(),sort:De.sort,extremeAllowedScore:De.extremeAllowedScore}):null]})}})};t.b=function(e){var t=e.gameId,n=Object(r.a)(e,ct);return Object(Ve.jsx)(ge.a,{gameId:t,children:Object(Ve.jsx)(bt,Object(i.a)({},n))})}},function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(2288),i=n(561),s=n.n(i),c=n(30),l=n(80),u=n(480),d=n(996),p=n(463),b=n(469),h=n(12),j=n(518),f=n(137),g=n(4),m=n(3),O=n(26),v=n(0),x=n.n(v),y=n(478),C=n(544),T=n(2198),E=n(998),k=n.n(E),w=n(997),S=n(484),P=n(7),I={achievementsContainer:{maxHeight:250},lockedAchievement:{opacity:.4},unlockedAchievement:{}},_=function(e){var t=e.badges,n=e.achievements,o=e.displayUnclaimedAchievements,a=e.displayNotifications,i=r.useState([]),s=Object(O.a)(i,2),l=s[0],u=s[1];return r.useEffect((function(){var e=t.reduce((function(e,t){return e[t.achievementId]=t,e}),{}),r=n.reduce((function(t,n){var r=e[n.id],a=!!r;return(a||!a&&o)&&t.push(Object(g.a)(Object(g.a)({},n),{},{seen:a?r.seen:void 0,unlockedAt:a?Object(T.a)(r.unlockedAt):null})),t}),[]);r.sort(C.i),u(r)}),[t,n,o]),Object(P.jsx)(c.a,{noMargin:!0,children:Object(P.jsx)(h.I18n,{children:function(e){var t=e.i18n;return Object(P.jsx)(S.a,{style:I.achievementsContainer,children:l.map((function(e){return Object(P.jsxs)(c.c,{justifyContent:"space-between",children:[Object(P.jsxs)(c.a,{justifyContent:"center",alignItems:"flex-start",children:[Object(P.jsx)(w.a,{invisible:!(a&&!1===e.seen),children:Object(P.jsx)(p.a,{noMargin:!0,style:e.unlockedAt?I.unlockedAchievement:I.lockedAchievement,children:e.name})}),o&&Object(P.jsx)(p.a,{noMargin:!0,style:e.unlockedAt?I.unlockedAchievement:I.lockedAchievement,size:"body2",children:e.description})]}),Object(P.jsx)(c.a,{children:e.unlockedAt?Object(P.jsx)(p.a,{children:t.date(e.unlockedAt)}):Object(P.jsx)(k.a,{style:I.lockedAchievement})})]},e.id)}))})}})})},A=n(890),N=o.a.memo((function(e){return Object(P.jsx)(A.a,Object(g.a)(Object(g.a)({},e),{},{viewBox:"0 0 528.9 511.62",children:Object(P.jsx)("g",{id:"Calque_2","data-name":"Calque 2",children:Object(P.jsxs)("g",{id:"Calque_4","data-name":"Calque 4",children:[Object(P.jsx)("path",{d:"M144 60.33S80.75-18.31 35.82 21s-17.56 93.4-17.56 93.4 32.3 82.85 35.81 109.53S77 279.4 77 279.4s16.42 21.77 52.94 13.35 66-34.41 66-34.41ZM385 60.33S448.14-18.31 493.08 21s17.55 93.39 17.55 93.39-32.29 82.85-35.81 109.53-22.9 55.47-22.9 55.47-16.42 21.78-52.92 13.36-66-34.41-66-34.41Z",style:{fill:"none",stroke:"currentColor",strokeWidth:"20px",strokeMiterlimit:10}}),Object(P.jsx)("path",{d:"M395.53 429.67H352s-46.34-34.41-44.94-61.09C455.92 297 434.85 63.14 434.85 63.14H88.1S67 297 215.89 368.58c1.41 26.68-44.89 61.09-44.89 61.09h-43.58v24.57h-23.87v56.88h315.86v-56.88h-23.88Z",style:{fill:"inherit",strokeMiterlimit:10}})]})})}))})),R=n(86),L={summary:{textAlign:"center"},leftContainer:{flex:1,margin:"20px"},rightContainer:{flex:2}},M=function(e){var t=e.badges,n=e.displayUnclaimedAchievements,o=e.displayNotifications,a=Object(r.useState)(null),i=Object(O.a)(a,2),s=i[0],d=i[1],b=Object(r.useState)(!1),j=Object(O.a)(b,2),f=j[0],v=j[1],T=Object(R.b)(),E=Object(r.useCallback)(Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!1),e.next=4,Object(C.j)();case 4:t=e.sent,d(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error when fetching achievements: ".concat(e.t0)),v(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);return Object(r.useEffect)((function(){E()}),[E]),Object(P.jsx)(l.c,{children:f?Object(P.jsx)(c.c,{children:Object(P.jsxs)(y.a,{kind:"error",children:[Object(P.jsx)(h.Trans,{id:"Unable to display your achievements for now."})," ",Object(P.jsx)(h.Trans,{id:"Please check your internet connection or try again later."})]})}):t&&s?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:L.leftContainer,children:Object(P.jsxs)("div",{style:Object(g.a)(Object(g.a)({},L.summary),{},{padding:"small"===T?"0 20":"20"}),children:[Object(P.jsx)(N,{color:"primary",fontSize:"large"}),Object(P.jsxs)(p.a,{size:"title",children:[Object(P.jsx)(h.Trans,{id:"{0}/{1} achievements",values:{0:t.length,1:s.length}}),0===t.length&&Object(P.jsxs)(P.Fragment,{children:[" ",Object(P.jsx)(h.Trans,{id:"(yet!)"})]})]})]})}),t.length>0&&Object(P.jsx)("div",{style:L.rightContainer,children:t&&s&&Object(P.jsx)(_,{badges:t,achievements:s,displayUnclaimedAchievements:n,displayNotifications:o})})]}):Object(P.jsx)(u.a,{})})},F=n(35),D=n(53);t.a=function(e){var t=e.profile,n=e.isAuthenticatedUserProfile,r=e.error,o=e.onRetry,i=e.onChangeEmail,g=e.onEditProfile,m=e.badges;return t?Object(P.jsx)(h.I18n,{children:function(e){var r=e.i18n;return Object(P.jsxs)(l.a,{noMargin:!0,children:[Object(P.jsxs)(l.c,{alignItems:"center",justifyContent:"space-between",noMargin:!0,children:[Object(P.jsxs)(c.c,{children:[Object(P.jsx)(a.a,{src:Object(d.a)(t.email||"",{size:40})}),Object(P.jsx)(c.d,{}),Object(P.jsx)(p.a,{size:"title",style:{opacity:t.username?1:.5},children:t.username||(n?r._({id:"Edit your profile to pick a username!"}):r._({id:"No username"}))})]}),t.id&&Object(P.jsx)(f.a,{label:r._({id:"Access public profile"}),onClick:function(){return F.b.openExternalURL(D.g.getUserPublicProfileUrl(t.id,t.username))},icon:Object(P.jsx)(s.a,{})})]}),n&&t.email&&Object(P.jsx)(c.c,{noMargin:!0,children:Object(P.jsx)(b.b,{value:t.email,readOnly:!0,fullWidth:!0,floatingLabelText:Object(P.jsx)(h.Trans,{id:"Email"}),floatingLabelFixed:!0})}),Object(P.jsx)(c.c,{noMargin:!0,children:Object(P.jsx)(b.b,{value:t.description||"",readOnly:!0,fullWidth:!0,multiline:!0,floatingLabelText:Object(P.jsx)(h.Trans,{id:"Bio"}),floatingLabelFixed:!0,hintText:n?{id:"No bio defined. Edit your profile to tell us what you are using GDevelop for!"}:{id:"No bio defined."},rows:3,rowsMax:5})}),n&&Object(P.jsxs)(l.c,{justifyContent:"flex-end",noMargin:!0,children:[Object(P.jsx)(f.a,{label:Object(P.jsx)(h.Trans,{id:"Change my email"}),onClick:i}),Object(P.jsx)(f.a,{label:Object(P.jsx)(h.Trans,{id:"Edit my profile"}),primary:!0,onClick:g})]}),Object(P.jsx)(M,{badges:m,displayUnclaimedAchievements:!!n,displayNotifications:!!n})]})}}):r?Object(P.jsx)(j.a,{onRetry:o,children:Object(P.jsx)(h.Trans,{id:"Unable to load the profile, please verify your internet connection or try again later."})}):Object(P.jsx)(u.a,{})}},function(e,t,n){"use strict";var r=n(26),o=n(12),a=n(754),i=n.n(a),s=n(1),c=n(100),l=n(136),u=n(30),d=n(729),p=n(469),b=n(1831),h=n.n(b),j=n(1839),f=n.n(j),g=["abandoned","abashed","aberrant","abhorrent","abiding","abject","ablaze","able","abounding","abrasive","abrupt","absent","absorbed","absorbing","abstracted","absurd","abundant","acceptable","accessible","accidental","accurate","acidic","acoustic","acrid","actionable","active","actual","adamant","adaptable","adept","adhesive","adjoining","adorable","adroit","adventurous","affable","affectionate","afraid","aggressive","agile","agonizing","agreeable","airy","alert","alive","alleged","alluring","aloof","amazing","ambiguous","ambitious","amiable","ample","amused","amusing","ancient","angry","animated","annoyed","annoying","anxious","apathetic","apt","aquatic","ardent","aromatic","arrogant","ashamed","aspiring","assorted","astonishing","astute","attractive","august","auspicious","automatic","available","average","avid","aware","awesome","awful","axiomatic","bad","balmy","barbarous","bashful","bawdy","beautiful","befitting","belligerent","beneficial","benevolent","bent","berserk","best","better","bewildered","big","billowing","billowy","bitter","bizarre","blessed","bloody","blue","blushing","boiling","bold","boorish","bored","boring","boss","bouncy","boundless","brainy","brash","brave","brawny","breakable","breezy","brief","bright","brisk","broad","broken","bumpy","burly","bustling","busy","cagey","calculating","callous","calm","can","canny","capable","capricious","cared","careful","careless","caring","casual","cautious","ceaseless","celestial","certain","changeable","charming","cheap","cheerful","chemical","chic","chief","childlike","chilly","chivalrous","choice","chosen","chubby","chummy","chunky","civic","civil","clammy","classy","clean","clear","clever","cloistered","close","closed","cloudy","clumsy","cluttered","cogent","coherent","cold","colorful","colossal","combative","comfortable","common","complete","complex","composed","concerned","condemned","confused","conscious","cooing","cool","cooperative","coordinated","cosmic","courageous","cowardly","cozy","crabby","craven","crazy","creepy","crooked","crowded","cruel","cuddly","cultured","cumbersome","curious","curly","curved","curvy","cut","cute","cynical","daffy","daily","dainty","damaged","damaging","damp","dandy","dangerous","dapper","daring","dark","dashing","dazzling","dead","deadpan","deafening","dear","debonair","decent","decisive","decorous","deep","deeply","defeated","defective","defiant","deft","delicate","delicious","delightful","delirious","deluxe","demonic","dependent","deranged","descriptive","deserted","detailed","determined","devilish","devout","didactic","different","difficult","diligent","direct","direful","dirty","disagreeable","disastrous","discreet","disgusted","disgusting","disillusioned","dispensable","distinct","disturbed","divergent","divine","dizzy","domineering","doted","doting","doubtful","drab","draconian","dramatic","dreamy","dreary","driven","dry","dull","dusty","dynamic","dysfunctional","eager","early","earsplitting","earthy","easy","eatable","economic","educated","efficacious","efficient","eight","elastic","elated","electric","elegant","elfin","elite","embarrassed","eminent","empty","enchanted","enchanting","encouraging","end","endurable","energetic","energized","enigmatic","enormous","entertaining","enthusiastic","envious","equable","equal","erect","erratic","ethereal","evanescent","evasive","even","evil","exact","excellent","excited","exciting","exclusive","exotic","expensive","expert","exuberant","exultant","fabulous","faded","faint","fair","faithful","fallacious","false","famed","familiar","famous","fanatical","fancy","fantastic","far","fascinated","fast","faulty","fearful","fearless","feigned","fertile","festive","few","fierce","fiery","filthy","fine","finicky","first","fit","fixed","flagrant","flaky","flashy","flat","flawless","fleet","flimsy","flippant","flowery","flowing","fluent","fluffy","fluttering","flying","foamy","fond","foolish","for","foregoing","forgetful","forlorn","fortunate","fragile","frail","frank","frantic","free","freezing","frequent","fresh","fretful","friendly","frightened","frightening","full","fumbling","fun","functional","funny","furry","furtive","fuscia","future","futuristic","fuzzy","gabby","gainful","gamy","gaping","garrulous","gas","gaudy","general","genial","gentle","giant","giddy","gifted","gigantic","giving","glad","glamorous","gleaming","glib","glistening","glorious","glossy","gnarly","godly","gold","golden","good","goodly","goofy","gorgeous","graceful","grand","grandiose","grateful","gratis","gray","greasy","great","greedy","green","grey","grieving","groovy","grotesque","grouchy","grubby","gruesome","grumpy","guarded","guided","guiltless","gullible","gusty","gutsy","guttural","habitual","half","hallowed","haloed","halting","handsome","handsomely","handy","hanging","hapless","happy","hard","hardy","harmonious","harsh","heady","healthy","heartbreaking","hearty","heavenly","heavy","hellish","helpful","helpless","heroic","hesitant","hideous","high","highfalutin","hilarious","hip","hissing","historical","holistic","hollow","holy","homely","honest","honorable","horrible","hospitable","hot","huge","hulking","human","humane","humble","humdrum","humorous","hungry","hunky","hurried","hurt","hushed","husky","hypnotic","hysterical","icky","icy","ideal","ignorant","ill","illegal","illustrious","imaginary","immense","imminent","immune","impartial","imperfect","impolite","important","imported","impossible","incandescent","incompetent","inconclusive","incredible","indigo","industrious","inexpensive","infamous","innate","innocent","inquisitive","insidious","instinctive","intelligent","interesting","internal","invincible","irate","irritating","itchy","jaded","jagged","jazzed","jazzy","jealous","jittery","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbled","jumpy","just","kaput","keen","khaki","kind","kindhearted","kindly","kingly","knotty","knowing","knowledgeable","known","labored","lackadaisical","lacking","lame","lamentable","languid","large","last","late","laughable","lavish","lawful","lazy","lean","legal","legit","lethal","level","lewd","light","like","likeable","likely","limber","limitless","limping","literate","little","lively","living","lonely","long","longing","loose","lopsided","loud","lousy","loutish","loved","lovely","loving","low","lowly","loyal","lucid","lucky","ludicrous","lumpy","lush","luxuriant","lying","lyrical","macabre","macho","maddening","madly","magenta","magical","magnificent","main","majestic","major","makeshift","malicious","mammoth","maniacal","many","marked","married","marvelous","massive","material","materialistic","max","maxed","mean","measly","meaty","medical","meek","mellow","melodic","melted","merciful","mere","merry","messy","mighty","military","milky","mindless","miniature","minor","mint","mirthful","miscreant","misty","mixed","moaning","modern","modest","moldy","momentous","money","moonlit","moral","motionless","mountainous","moving","mucho","muddled","mundane","murky","mushy","mute","mutual","mysterious","naive","nappy","narrow","nasty","native","natural","naughty","nauseating","near","neat","nebulous","necessary","needed","needless","needy","neighborly","nervous","new","next","nice","nifty","nimble","nippy","noble","noiseless","noisy","nonchalant","nondescript","nonstop","normal","nostalgic","nosy","noted","novel","noxious","null","numberless","numero","numerous","nutritious","nutty","oafish","obedient","obeisant","obnoxious","obscene","obsequious","observant","obsolete","obtainable","oceanic","odd","offbeat","okay","omniscient","onerous","open","opposite","optimal","orange","ordinary","organic","ossified","outgoing","outrageous","outstanding","oval","overconfident","overjoyed","overrated","overt","overwrought","pacific","painful","painstaking","pale","paltry","panicky","panoramic","parallel","parched","parsimonious","past","pastoral","pathetic","peaceful","peachy","penitent","peppy","perfect","periodic","permissible","perpetual","petite","phobic","physical","picayune","pink","piquant","pithy","placid","plain","plant","plastic","plausible","pleasant","plucky","plum","poetic","pointless","poised","polite","political","posh","possessive","possible","potent","powerful","precious","premium","present","pretty","previous","pricey","prickly","prime","primo","private","prized","pro","probable","productive","profuse","prompt","proper","protective","proud","psychedelic","psychotic","public","puffy","pumped","punchy","puny","pure","purple","purring","pushy","puzzled","puzzling","quack","quaint","quarrelsome","questionable","quick","quickest","quiet","quirky","quixotic","quizzical","rabid","rad","radioactive","ragged","rainy","rambunctious","rampant","rapid","rare","raspy","ratty","reach","ready","real","rebel","receptive","recondite","red","redundant","reflective","regal","regular","relieved","remarkable","reminiscent","repulsive","resilient","resolute","resonant","responsible","rhetorical","rich","right","righteous","rightful","rigid","ripe","ritzy","roasted","robust","romantic","roomy","rooted","rosy","rotten","rough","round","royal","ruddy","rude","rugged","rural","rustic","ruthless","sable","sad","safe","salty","same","sassy","satisfying","saucy","savory","savvy","scandalous","scarce","scared","scary","scattered","scenic","scientific","scintillating","scrawny","screeching","second","secret","secretive","sedate","seemly","selective","selfish","sensitive","separate","serene","serious","shaggy","shaky","shallow","sharp","shiny","shivering","shocking","short","showy","shrewd","shrill","shut","shy","sick","silent","silky","silly","simple","simplistic","sincere","skillful","skinny","sleek","sleepy","slick","slim","slimy","slippery","sloppy","slow","small","smart","smelly","smiley","smiling","smoggy","smooth","snappy","snazzy","sneaky","snobbish","snotty","snowy","snugly","social","soft","soggy","sole","solid","solitary","somber","sophisticated","sordid","sore","sound","sour","spacial","sparkling","special","spectacular","spicy","spiffy","spiky","spiritual","spiteful","splendid","spooky","spotless","spotted","spotty","spry","spurious","squalid","square","squealing","squeamish","stable","staking","stale","standing","star","stark","statuesque","steadfast","steady","steep","stereotyped","sticky","stiff","stimulating","stingy","stoic","stormy","straight","strange","striped","strong","stunning","stupendous","sturdy","suave","subdued","subsequent","substantial","subtle","successful","succinct","sudden","sulky","sunny","sunset","super","superb","superficial","supreme","sure","swank","swanky","sweet","swell","sweltering","swift","symptomatic","synonymous","taboo","tacit","tacky","talented","tall","tame","tan","tangible","tangy","tart","tasteful","tasteless","tasty","tawdry","teal","tearful","tedious","teeny","telling","temporary","tender","tense","tenuous","terrible","terrific","tested","testy","thankful","therapeutic","thin","thinkable","third","thoughtful","thoughtless","threatening","thriving","thundering","tidy","timely","tiny","tired","tiresome","toothsome","top","tops","torpid","tough","touted","towering","tranquil","trashy","tremendous","tricky","trim","trite","tropical","troubled","truculent","true","trusty","truthful","try","typical","ubiquitous","ultra","unable","unaccountable","unadvised","unarmed","unbecoming","unbiased","uncovered","understood","undisturbed","unequal","unequaled","uneven","unhealthy","uninterested","unique","united","unkempt","unknown","unnatural","unruly","unsightly","unsuitable","untidy","unused","unusual","unwavering","unwieldy","unwritten","upbeat","uplifting","uppity","upset","uptight","urbane","usable","used","useful","utmost","utopian","utter","uttermost","vacuous","vagabond","vague","valid","valuable","various","vast","vengeful","venomous","verdant","versed","vestal","viable","victorious","vigorous","violent","violet","vital","vivacious","vivid","vocal","vogue","voiceless","volatile","voracious","wacky","waggish","waiting","wakeful","wandering","wanted","wanting","warlike","warm","wary","wasteful","watery","weak","wealthy","weary","wet","whimsical","whispering","whole","wholesale","wicked","wide","wiggly","wild","willing","windy","winged","wired","wiry","wise","wistful","witty","woebegone","wonderful","wooden","woozy","workable","worried","worthy","wrathful","wretched","wrong","wry","yielding","young","youthful","yummy","zany","zealous","zesty","zippy","zonked"],m=["account","achiever","acoustics","act","action","activity","actor","addition","adjustment","advertisement","advice","aftermath","afternoon","afterthought","agreement","air","airplane","airport","alarm","amount","amusement","anger","angle","animal","ants","apparatus","apparel","appliance","approval","arch","argument","arithmetic","arm","army","art","attack","attraction","authority","back","badge","bag","bait","balance","ball","base","baseball","basin","basket","basketball","bat","bath","battle","bead","bear","bed","bedroom","beds","bee","beef","beginner","behavior","belief","believe","bell","bells","berry","bike","bikes","bird","birds","birth","birthday","bit","bite","blade","blood","blow","board","boat","bomb","bone","book","books","boot","border","bottle","boundary","box","brake","branch","brass","breath","brick","bridge","bubble","bucket","building","bulb","burst","bushes","business","butter","button","cabbage","cable","cactus","cake","cakes","calculator","calendar","camera","camp","can","cannon","canvas","cap","caption","car","card","care","carpenter","carriage","cars","cart","cast","cat","cats","cattle","cause","cave","celery","cellar","cemetery","cent","chalk","chance","change","channel","cheese","cherries","cherry","chess","chicken","chickens","chin","church","circle","clam","class","cloth","clover","club","coach","coal","coast","coat","cobweb","coil","collar","color","committee","company","comparison","competition","condition","connection","control","cook","copper","corn","cough","country","cover","cow","cows","crack","cracker","crate","crayon","cream","creator","creature","credit","crib","crime","crook","crow","crowd","crown","cub","cup","current","curtain","curve","cushion","day","death","debt","decision","deer","degree","design","desire","desk","destruction","detail","development","digestion","dime","dinner","dinosaurs","direction","dirt","discovery","discussion","distance","distribution","division","dock","doctor","dog","dogs","doll","dolls","donkey","door","downtown","drain","drawer","dress","drink","driving","drop","duck","ducks","dust","ear","earth","earthquake","edge","education","effect","egg","eggnog","eggs","elbow","end","engine","error","event","example","exchange","existence","expansion","experience","expert","eye","eyes","face","fact","fairies","fall","fang","farm","fear","feeling","field","finger","fire","fish","flag","flame","flavor","flesh","flight","flock","floor","flower","flowers","fly","fog","fold","food","foot","force","fork","form","fowl","frame","friction","friend","friends","frog","frogs","front","fruit","fuel","furniture","gate","geese","ghost","giants","giraffe","glass","glove","gold","government","governor","grade","grain","grape","grass","grip","ground","group","growth","guide","guitar","gun","hair","haircut","hall","hammer","hand","hands","harbor","harmony","hat","head","health","heat","hill","history","hobbies","hole","holiday","home","honey","hook","hope","horn","horse","horses","hose","hospital","hot","hour","house","houses","humor","hydrant","ice","icicle","idea","impulse","income","increase","industry","ink","insect","instrument","insurance","interest","invention","iron","island","jail","jam","jar","jeans","jelly","jellyfish","jewel","join","judge","juice","jump","kettle","key","kick","kiss","kittens","kitty","knee","knife","knot","knowledge","laborer","lace","ladybug","lake","lamp","land","language","laugh","leather","leg","legs","letter","letters","lettuce","level","library","limit","line","linen","lip","liquid","loaf","lock","locket","look","loss","love","low","lumber","lunch","lunchroom","machine","magic","maid","mailbox","marble","mark","market","mask","mass","match","meal","measure","meat","meeting","memory","metal","mice","middle","milk","mind","mine","minister","mint","minute","mist","mitten","money","month","moon","morning","mother","motion","mountain","mouth","move","muscle","name","nation","neck","need","needle","nerve","nest","night","noise","north","nose","note","notebook","number","nut","oatmeal","observation","ocean","offer","office","oil","orange","oranges","order","oven","page","pail","pan","pancake","paper","parcel","part","partner","party","passenger","payment","peace","pear","pen","pencil","person","pest","pet","pets","pickle","picture","pie","pies","pig","pigs","pin","pipe","pizzas","place","plane","planes","plant","plantation","plants","plastic","plate","play","playground","pleasure","plot","plough","pocket","point","poison","pollution","popcorn","porter","position","pot","potato","powder","power","price","produce","profit","property","prose","protest","pull","pump","punishment","purpose","push","quarter","quartz","question","quicksand","quiet","quill","quilt","quince","quiver","rabbit","rabbits","rail","railway","rain","rainstorm","rake","range","rat","rate","ray","reaction","reading","reason","receipt","recess","record","regret","relation","religion","representative","request","respect","rest","reward","rhythm","rice","riddle","rifle","ring","rings","river","road","robin","rock","rod","roll","roof","room","root","rose","route","rub","rule","run","sack","sail","salt","sand","scale","scarecrow","scarf","scene","scent","school","science","scissors","screw","sea","seashore","seat","secretary","seed","selection","self","sense","servant","shade","shake","shame","shape","sheep","sheet","shelf","ship","shirt","shock","shoe","shoes","shop","show","side","sidewalk","sign","silk","silver","sink","size","skate","skin","skirt","sky","sleep","sleet","slip","slope","smash","smell","smile","smoke","snail","snails","snake","snakes","sneeze","snow","soap","society","sock","soda","sofa","song","songs","sort","sound","soup","space","spade","spark","spiders","sponge","spoon","spot","spring","spy","square","squirrel","stage","stamp","star","start","statement","station","steam","steel","stem","step","stew","stick","sticks","stitch","stocking","stomach","stone","stop","store","story","stove","stranger","straw","stream","street","stretch","string","structure","substance","sugar","suggestion","suit","summer","sun","support","surprise","sweater","swim","swing","system","table","tail","talk","tank","taste","tax","teaching","team","teeth","temper","tendency","tent","territory","test","texture","theory","thing","things","thought","thread","thrill","throat","throne","thumb","thunder","ticket","tiger","time","tin","title","toad","toe","toes","tomatoes","tongue","tooth","toothbrush","toothpaste","top","touch","town","toy","toys","trade","trail","train","trains","tramp","transport","tray","treatment","tree","trees","trick","trip","trouble","trousers","truck","trucks","tub","turkey","turn","twig","twist","umbrella","underwear","unit","use","vacation","value","van","vase","vegetable","veil","vein","verse","vessel","vest","view","visitor","voice","volcano","volleyball","voyage","walk","wall","war","wash","waste","watch","water","wave","waves","wax","way","wealth","weather","week","weight","wheel","whip","whistle","wilderness","wind","window","wine","wing","winter","wire","wish","wood","wool","word","work","worm","wound","wren","wrench","wrist","writer","writing","yak","yam","yard","yarn","year","yoke","zebra","zephyr","zinc","zipper","zoo"],O=function(){return"".concat(h()(f()(g))," ").concat(h()(f()(m)))},v=n(20),x=n.n(v),y=n(486),C=x()("path"),T=x()("fs-extra"),E=function(e){var t="";try{t=e.getPath("documents")}catch(n){t=e.getPath("home")}return function(e){if(!C)return e;var t=Object(y.a)("My project",(function(t){try{T.accessSync(C.join(e,t))}catch(n){return!1}return!0}));return C.join(e,t)}(C.join(t,"GDevelop projects"))},k=n(7),w=x()("@electron/remote"),S=w?w.app:null;t.a=function(e){var t=e.open,n=e.isOpening,a=e.onClose,b=e.onCreate,h=s.useState(null),j=Object(r.a)(h,2),f=j[0],g=j[1],m=s.useState((function(){return O()})),v=Object(r.a)(m,2),x=v[0],y=v[1],C=s.useState((function(){return S?E(S):""})),T=Object(r.a)(C,2),w=T[0],P=T[1],I=s.useCallback((function(){n||(g(null),x?b({projectName:x,outputPath:S?w:void 0}):g(Object(k.jsx)(o.Trans,{id:"Please enter a name for your project."})))}),[b,x,w,n]),_=s.useCallback((function(e,t){f&&g(null),y(t)}),[y,f]);return Object(k.jsx)(c.b,{id:"project-pre-creation-dialog",title:Object(k.jsx)(o.Trans,{id:"New Project"}),maxWidth:"sm",open:t,actions:[Object(k.jsx)(l.a,{disabled:n,label:Object(k.jsx)(o.Trans,{id:"Cancel"}),onClick:a},"cancel"),Object(k.jsx)(c.a,{primary:!0,disabled:n,label:Object(k.jsx)(o.Trans,{id:"Create project"}),onClick:I,id:"create-project-button"},"create")],cannotBeDismissed:n,onRequestClose:a,onApply:I,children:Object(k.jsxs)(u.a,{noMargin:!0,children:[Object(k.jsx)(p.b,{type:"text",errorText:f,disabled:n,value:x,onChange:_,floatingLabelText:Object(k.jsx)(o.Trans,{id:"Project name"}),endAdornment:Object(k.jsx)(i.a,{onClick:function(){return y(O())}})}),S&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.d,{}),Object(k.jsx)(d.a,{fullWidth:!0,value:w,onChange:P,type:"create-game"})]})]})})}},function(e,t,n){"use strict";var r=n(26),o=n(1),a=n(63),i=n.n(a),s=n(53),c=n(12),l=n(470),u=n(480),d=n(142),p=n(30),b=n(35),h=n(478),j=n(136),f=n(137),g=n(7),m=function(e){var t=e.releases,n=e.error,r=e.currentReleaseName,o=function(){return b.b.openExternalURL("https://github.com/4ian/GDevelop/releases")};if(n)return Object(g.jsxs)(p.a,{children:[Object(g.jsx)(p.c,{children:Object(g.jsx)(h.a,{kind:"warning",children:Object(g.jsx)(c.Trans,{id:"Please double check online the changes to make sure that you are aware of anything new in this version that would require you to adapt your project."})})}),Object(g.jsx)(p.c,{children:Object(g.jsx)(l.a,{children:Object(g.jsx)(c.Trans,{id:"Unable to load the information about the latest GDevelop releases. Verify your internet connection or retry later."})})}),Object(g.jsx)(p.c,{justifyContent:"center",children:Object(g.jsx)(f.a,{label:Object(g.jsx)(c.Trans,{id:"See the releases notes online"}),onClick:o})})]});if(!t)return Object(g.jsx)(u.a,{});var a=function(e,t){return e.find((function(e){return e.name===t}))}(t,r),i=!!a&&-1!==(a.description||"").toLowerCase().indexOf("breaking change");return Object(g.jsxs)(p.a,{children:[i&&Object(g.jsx)(h.a,{kind:"warning",children:"This version of GDevelop has a breaking change. Please make sure to read the changes below to understand if any change or adaptation must be made to your project."}),t.map((function(e){return e.name?Object(g.jsx)(d.a,{source:"# Version "+e.name+"\n---\n"+(e.description||"Changes and new features description will be available soon."),isStandaloneText:!0},e.name):null})),Object(g.jsx)(p.c,{justifyContent:"center",children:Object(g.jsx)(j.a,{label:Object(g.jsx)(c.Trans,{id:"See all the releases notes"}),onClick:o})})]})},O=n(54);t.a=function(e){var t=e.onUpdated,n=o.useState(null),a=Object(r.a)(n,2),c=a[0],l=a[1],u=o.useState(null),d=Object(r.a)(u,2),p=d[0],b=d[1];return o.useEffect((function(){i.a.get("".concat(s.i.baseUrl,"/release"),{params:{last:4}}).then((function(e){return e.data})).then((function(e){b(null),l(e),t&&t()})).catch((function(e){b(e),t&&t()}))}),[t]),Object(g.jsx)(m,{releases:c,error:p,currentReleaseName:Object(O.b)()})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(1),c=n(26),l=n(12),u=n(30),d=n(470),p=n(480),b=n(463),h=n(80),j=n(2291),f=n(2274),g=n(2190),m=n(2191),O=n(2192),v=n(953),x=n(954),y=n(955),C=n.n(y),T=n(956),E=n.n(T),k=n(7),w={icon:{height:30,width:30,marginRight:5}},S=function(e){switch(e){case"cordova-build":return Object(k.jsx)(l.Trans,{id:"Android Build"});case"electron-build":return Object(k.jsx)(l.Trans,{id:"Windows/macOS/Linux Build"});case"web-build":return Object(k.jsx)(l.Trans,{id:"Web Build"});default:return e}},P=function(e){switch(e){case"cordova-build":return Object(k.jsx)(C.a,{style:w.icon});case"electron-build":return Object(k.jsx)(E.a,{style:w.icon});default:return Object(k.jsx)(x.a,{style:w.icon})}},I=function(e){var t=e.build,n=e.game,r=e.onGameUpdated,o=e.gameUpdating,a=e.setGameUpdating,i=t&&"web-build"!==t.type&&Object(j.a)(Date.now(),t.updatedAt)>6;return Object(k.jsxs)(g.a,{children:[Object(k.jsx)(m.a,{title:t.id,subheader:Object(k.jsxs)(u.c,{alignItems:"center",noMargin:!0,children:[P(t.type),Object(k.jsx)(l.Trans,{id:"{0} - {1}",values:{0:S(t.type),1:Object(f.a)(t.updatedAt,"yyyy-MM-dd HH:mm:ss")}})]})}),Object(k.jsx)(O.a,{children:Object(k.jsxs)(u.c,{expand:!0,noMargin:!0,justifyContent:"flex-end",children:[!i&&Object(k.jsx)(v.a,{build:t,game:n,onGameUpdated:r,gameUpdating:o,setGameUpdating:a}),i&&Object(k.jsx)(d.a,{children:Object(k.jsx)(l.Trans,{id:"This build is old and the generated games can't be downloaded anymore."})})]})})]})},_=n(518),A=function(e){var t=e.builds,n=e.authenticatedUser,r=e.error,o=e.loadBuilds,a=e.game,i=e.onGameUpdated,j=s.useState(!1),f=Object(c.a)(j,2),g=f[0],m=f[1];return Object(k.jsxs)(u.a,{noMargin:!0,expand:!0,children:[Object(k.jsx)(u.c,{children:Object(k.jsx)(u.a,{children:Object(k.jsx)(d.a,{children:Object(k.jsx)(l.Trans,{id:"This is the list of builds that you've done for this game. Note that builds for mobile and desktop are available for 7 days, after which they are removed."})})})}),Object(k.jsxs)(u.c,{children:[!n.authenticated&&Object(k.jsx)(d.a,{children:Object(k.jsx)(l.Trans,{id:"You need to login first to see your builds."})}),n.authenticated&&!t&&!r&&Object(k.jsx)(p.a,{}),n.authenticated&&r&&Object(k.jsx)(_.a,{onRetry:o,children:Object(k.jsx)(b.a,{children:r.message})}),n.authenticated&&t&&0===t.length&&Object(k.jsx)(d.a,{children:Object(k.jsx)(l.Trans,{id:"You don't have any builds for this game."})}),n.authenticated&&t&&0!==t.length&&Object(k.jsx)(h.a,{expand:!0,children:t.map((function(e){return Object(k.jsx)(I,{build:e,game:a,onGameUpdated:i,gameUpdating:g,setGameUpdating:m},e.id)}))})]})]})},N=n(519),R=n(959),L=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={builds:null,error:null},e.buildsWatcher=new R.a,e._startBuildsWatcher=function(){e.state.builds&&e.buildsWatcher.start({authenticatedUser:e.props.authenticatedUser,builds:e.state.builds,onBuildUpdated:function(t){e.state.builds&&e.setState({builds:e.state.builds.map((function(e){return t.id===e.id?t:e}))})}})},e._refreshBuilds=function(){var t=e.props.authenticatedUser,n=t.getAuthorizationHeader,r=t.firebaseUser;if(r){var o=e.props.game.id;e.setState({builds:null,error:null}),Object(N.g)(n,r.uid,o).then((function(t){e.setState({builds:t},(function(){e._startBuildsWatcher(),e.props.onBuildsUpdated&&e.props.onBuildsUpdated()}))}),(function(){e.setState({error:new Error("There was an issue getting the game builds, verify your internet connection or try again later.")})}))}},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this._refreshBuilds()}},{key:"componentWillUnmount",value:function(){this.buildsWatcher.stop()}},{key:"render",value:function(){return Object(k.jsx)(A,{builds:this.state.builds,authenticatedUser:this.props.authenticatedUser,error:this.state.error,loadBuilds:this._refreshBuilds,game:this.props.game,onGameUpdated:this.props.onGameUpdated})}}]),n}(s.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(12),c=n(1),l=n.n(c),u=n(2194),d=n(136),p=n(30),b=n(529),h=n(100),j=n(495),f=n(80),g=n(463),m=n(63),O=n.n(m),v=n(53),x=function(){var e=Object(r.a)(i.a.mark((function e(t,n,r,o){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return a=e.sent,e.next=5,O.a.get("".concat(v.a.baseUrl,"/game-metrics"),{params:{userId:n,gameId:r,dayIsoDate:o},headers:{Authorization:a},validateStatus:function(e){return e>=200&&e<300||404===e}});case 5:if(404!==(s=e.sent).status){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),y=n(490),C=n(518),T=n(474),E=n(475),k=n(2287),w=n(2178),S=n(550),P=n(1156),I=n(478),_=n(2115),A=n(137),N=n(35),R=n(472),L=n(480),M=n(961),F=n(469),D=n(1412),B=n.n(D),U=n(1413),V=n.n(U),W=n(1414),G=n.n(W),z=n(4),H=n(890),Y=n(7),q=l.a.memo((function(e){return Object(Y.jsx)(H.a,Object(z.a)(Object(z.a)({},e),{},{children:Object(Y.jsx)("path",{d:"M5 16L3 5L8.5 10L12 4L15.5 10L21 5L19 16H5M19 19C19 19.6 18.6 20 18 20H6C5.4 20 5 19.6 5 19V18H19V19Z"})}))})),X=n(62),K=n(1152),J={tableRowStatColumn:{width:100}},Z=function(e){var t=e.game,n=e.project,a=e.initialTab,l=e.onClose,m=e.onGameUpdated,O=e.onGameDeleted,v=c.useContext(y.a),D=v.getAuthorizationHeader,U=v.profile,W=c.useState(a),z=Object(o.a)(W,2),H=z[0],Z=z[1],Q=c.useState(null),$=Object(o.a)(Q,2),ee=$[0],te=$[1],ne=c.useState(!1),re=Object(o.a)(ne,2),oe=re[0],ae=re[1],ie=c.useState(null),se=Object(o.a)(ie,2),ce=se[0],le=se[1],ue=c.useState(null),de=Object(o.a)(ue,2),pe=de[0],be=de[1],he=c.useState(!1),je=Object(o.a)(he,2),fe=je[0],ge=je[1],me=c.useState(!1),Oe=Object(o.a)(me,2),ve=Oe[0],xe=Oe[1],ye=Object(u.a)(Object(_.a)(new Date,1),{representation:"date"}),Ce=c.useState(ye),Te=Object(o.a)(Ce,2),Ee=Te[0],ke=Te[1],we=c.useContext(y.a),Se=c.useState(null),Pe=Object(o.a)(Se,2),Ie=Pe[0],_e=Pe[1],Ae=c.useState(null),Ne=Object(o.a)(Ae,2),Re=Ne[0],Le=Ne[1],Me=c.useState(!1),Fe=Object(o.a)(Me,2),De=Fe[0],Be=Fe[1],Ue=c.useCallback(Object(r.a)(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:return n=U.id,ge(!0),be(null),e.prev=5,e.next=8,x(D,n,t.id,Ee);case 8:r=e.sent,te(r),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Unable to load game rolling metrics:",e.t0),be(e.t0);case 16:ge(!1);case 17:case"end":return e.stop()}}),e,null,[[5,12]])}))),[D,U,t,Ee]);c.useEffect((function(){Ue()}),[Ue]);var Ve=c.useCallback(Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Le(null),e.prev=1,e.next=4,Object(b.i)(t.id);case 4:n=e.sent,_e(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Unable to load the game:",e.t0),Le(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[t]);c.useEffect((function(){Ve()}),[Ve]);var We=c.useCallback((function(e){_e(null),m(e)}),[m]),Ge=function(){var e=Object(r.a)(i.a.mark((function e(t,r){var o,a,s,c,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&U){e.next=2;break}return e.abrupt("return",!1);case 2:if(o=U.id,(a=t.ownerIds)&&a.length){e.next=7;break}return Object(X.c)(r._({id:"You must select at least one user to be the owner of the game."}),{delayToNextTick:!0}),e.abrupt("return",!1);case 7:return e.prev=7,xe(!0),s=n.getProjectUuid(),e.next=12,Object(b.n)(D,o,s,{authorName:n.getAuthor()||"Unspecified publisher",gameName:n.getName()||"Untitled game",categories:n.getCategories().toJSArray()||[],description:n.getDescription()||"",playWithKeyboard:n.isPlayableWithKeyboard(),playWithGamepad:n.isPlayableWithGamepad(),playWithMobile:n.isPlayableWithMobile(),orientation:n.getOrientation(),discoverable:t.discoverable});case 12:if(c=e.sent,!t.userSlug||!t.gameSlug||t.userSlug!==U.username){e.next=25;break}return e.prev=14,e.next=17,Object(b.l)(D,o,s,t.userSlug,t.gameSlug);case 17:e.next=25;break;case 19:return e.prev=19,e.t0=e.catch(14),console.error("Unable to update the game slug:",e.t0.response||e.t0.message),Object(X.a)({message:r._({id:"Unable to update the game slug. A slug must be 6 to 30 characters long and only contains letters, digits or dashes."})+" "+r._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"game-slug-update-error"}),xe(!1),e.abrupt("return",!1);case 25:return e.prev=25,l=Object(b.c)(n.getAuthorIds().toJSArray()),u=Object(b.c)(a),e.next=30,Object(b.m)(D,o,s,{ownership:u,author:l});case 30:e.next=38;break;case 32:return e.prev=32,e.t1=e.catch(25),console.error("Unable to update the game owners or authors:",e.t1.response||e.t1.message),Object(X.a)({message:r._({id:"Unable to update the game owners or authors. Have you removed yourself from the owners?"})+" "+r._({id:"Verify your internet connection or try again later."}),rawError:e.t1,errorId:"game-acls-update-error"}),xe(!1),e.abrupt("return",!1);case 38:We(c),e.next=47;break;case 41:return e.prev=41,e.t2=e.catch(7),console.error("Unable to update the game:",e.t2.response||e.t2.message),Object(X.a)({message:r._({id:"Unable to update the game details."})+" "+r._({id:"Verify your internet connection or try again later."}),rawError:e.t2,errorId:"game-details-update-error"}),xe(!1),e.abrupt("return",!1);case 47:return xe(!1),e.abrupt("return",!0);case 49:case"end":return e.stop()}}),e,null,[[7,41],[14,19],[25,32]])})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=Object(r.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:return r=U.id,le(null),ae(!0),e.prev=5,xe(!0),e.next=9,Object(b.b)(D,r,t.id);case 9:O(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Unable to delete the game:",e.t0),e.t0.response&&e.t0.response.data&&"game-deletion/leaderboards-exist"===e.t0.response.data.code&&le(n._({id:"You cannot unregister a game that has active leaderboards. To delete them, go in the Leaderboards tab, and delete them one by one."}));case 16:return e.prev=16,xe(!1),ae(!1),e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[5,12,16,20]])})));return function(t){return e.apply(this,arguments)}}(),He=c.useCallback(Object(r.a)(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:return n=U.id,e.prev=3,xe(!0),e.next=7,Object(b.n)(D,n,t.id,{publicWebBuildId:null});case 7:r=e.sent,We(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("Unable to update the game",e.t0);case 14:return e.prev=14,xe(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])}))),[t,D,U,We]),Ye=Ie&&Ie.authors.map((function(e){return e.username})).filter(Boolean),qe=Ie&&Ie.owners.map((function(e){return e.username})).filter(Boolean),Xe=!!n&&n.getProjectUuid()===t.id;return Object(Y.jsx)(s.I18n,{children:function(e){var o=e.i18n;return Object(Y.jsxs)(h.b,{title:Object(Y.jsxs)("span",{children:[t.gameName," - ",Object(Y.jsx)(s.Trans,{id:"Dashboard"})]}),open:!0,noMargin:!0,flexColumnBody:!0,fullHeight:"leaderboards"===H,maxWidth:"md",actions:[Object(Y.jsx)(d.a,{label:Object(Y.jsx)(s.Trans,{id:"Close"}),disabled:oe,onClick:l},"close")],secondaryActions:[Object(Y.jsx)(R.a,{helpPagePath:"leaderboards"===H?"/interface/games-dashboard/leaderboard-administration":"/interface/games-dashboard"},"help")],onRequestClose:l,cannotBeDismissed:oe,children:[Object(Y.jsxs)(j.b,{value:H,onChange:Z,children:[Object(Y.jsx)(j.a,{label:Object(Y.jsx)(s.Trans,{id:"Details"}),value:"details"}),Object(Y.jsx)(j.a,{label:Object(Y.jsx)(s.Trans,{id:"Builds"}),value:"builds"}),Object(Y.jsx)(j.a,{label:Object(Y.jsx)(s.Trans,{id:"Analytics"}),value:"analytics"}),Object(Y.jsx)(j.a,{label:Object(Y.jsx)(s.Trans,{id:"Leaderboards"}),value:"leaderboards"})]}),Object(Y.jsxs)(p.c,{expand:!0,children:["leaderboards"===H?Object(Y.jsx)(K.b,{gameId:t.id,onLoading:ae}):null,"details"===H?Re?Object(Y.jsxs)(C.a,{onRetry:Ve,children:[Object(Y.jsx)(s.Trans,{id:"There was an issue getting the game details."})," ",Object(Y.jsx)(s.Trans,{id:"Verify your internet connection or try again later."})]}):Ie?Object(Y.jsxs)(f.a,{expand:!0,children:[!Xe&&Object(Y.jsx)(I.a,{kind:"info",children:Object(Y.jsx)(s.Trans,{id:"In order to update these details you have to open the game's project."})}),Object(Y.jsxs)(p.c,{alignItems:"center",noMargin:!0,children:[Object(Y.jsx)(p.c,{expand:!0,justifyContent:"flex-start",alignItems:"center",noMargin:!0,children:Ye&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(g.a,{children:Object(Y.jsx)(s.Trans,{id:"Authors:"})}),Object(Y.jsx)(p.c,{noMargin:!0,children:Ye.map((function(e,t){return Object(Y.jsxs)(c.Fragment,{children:[Object(Y.jsx)(p.d,{}),Object(Y.jsx)(k.a,{size:"small",icon:qe&&qe.includes(e)?Object(Y.jsx)(q,{}):void 0,label:e,color:0===t?"primary":"default"})]},e)}))})]})}),Object(Y.jsx)(p.c,{expand:!0,justifyContent:"flex-end",noMargin:!0,children:Object(Y.jsx)(g.a,{children:Object(Y.jsx)(s.Trans,{id:"Created on {0}",values:{0:o.date(1e3*t.createdAt)}})})})]}),(Ie.playWithKeyboard||Ie.playWithGamepad||Ie.playWithMobile||Ie.categories)&&Object(Y.jsxs)(p.c,{alignItems:"center",noMargin:!0,children:[Object(Y.jsx)(p.c,{expand:!0,justifyContent:"flex-start",alignItems:"center",noMargin:!0,children:Ie.categories&&!!Ie.categories.length&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(g.a,{children:Object(Y.jsx)(s.Trans,{id:"Genres:"})}),Object(Y.jsx)(p.c,{noMargin:!0,children:Ie.categories.map((function(e,t){return Object(Y.jsxs)(c.Fragment,{children:[Object(Y.jsx)(p.d,{}),Object(Y.jsx)(k.a,{size:"small",label:Object(b.d)(e,o),color:0===t?"primary":"default"})]},e)}))})]})}),Object(Y.jsxs)(p.c,{expand:!0,justifyContent:"flex-end",noMargin:!0,children:[Ie.playWithKeyboard&&Object(Y.jsx)(B.a,{}),Ie.playWithGamepad&&Object(Y.jsx)(V.a,{}),Ie.playWithMobile&&Object(Y.jsx)(G.a,{})]})]}),Object(Y.jsx)(F.b,{value:Ie.gameName,readOnly:!0,fullWidth:!0,floatingLabelText:Object(Y.jsx)(s.Trans,{id:"Game name"}),floatingLabelFixed:!0}),Object(Y.jsx)(F.b,{value:Ie.description||"",readOnly:!0,fullWidth:!0,floatingLabelText:Object(Y.jsx)(s.Trans,{id:"Game description"}),floatingLabelFixed:!0,hintText:{id:"No description set."},multiline:!0,rows:5}),Object(Y.jsxs)(T.a,{disabled:!0,fullWidth:!0,floatingLabelText:Object(Y.jsx)(s.Trans,{id:"Device orientation (for mobile)"}),value:Ie.orientation,children:[Object(Y.jsx)(E.a,{value:"default",primaryText:{id:"Platform default"}}),Object(Y.jsx)(E.a,{value:"landscape",primaryText:{id:"Landscape"}}),Object(Y.jsx)(E.a,{value:"portrait",primaryText:{id:"Portrait"}})]}),Object(Y.jsxs)(p.c,{noMargin:!0,justifyContent:"flex-end",children:[Object(Y.jsx)(d.a,{onClick:function(){N.b.showConfirmDialog("Are you sure you want to unregister this game? \n\nIt will disappear from your games dashboard and you won't get access to analytics, unless you register it again.")&&ze(o)},label:Object(Y.jsx)(s.Trans,{id:"Unregister this game"}),disabled:ve}),Object(Y.jsx)(p.d,{}),Ie.publicWebBuildId&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(A.a,{onClick:function(){N.b.showConfirmDialog("Are you sure you want to unpublish this game? \n\nThis will make your Liluo.io unique game URL not accessible anymore. \n\nYou can decide at any time to publish it again.")&&He()},label:Object(Y.jsx)(s.Trans,{id:"Unpublish from Liluo.io"}),disabled:ve}),Object(Y.jsx)(p.d,{})]}),Object(Y.jsx)(A.a,{primary:!0,onClick:function(){return Be(!0)},label:Object(Y.jsx)(s.Trans,{id:"Edit game details"}),disabled:!Xe||ve})]}),ce?Object(Y.jsx)(C.a,{kind:"error",children:ce}):null]}):Object(Y.jsx)(L.a,{}):null,"builds"===H?Object(Y.jsx)(P.a,{game:t,authenticatedUser:we,onGameUpdated:m}):null,"analytics"===H?pe?Object(Y.jsxs)(C.a,{onRetry:function(){Ue()},children:[Object(Y.jsx)(s.Trans,{id:"There was an issue getting the game analytics."})," ",Object(Y.jsx)(s.Trans,{id:"Verify your internet connection or try again later."})]}):Object(Y.jsxs)(f.a,{expand:!0,children:[Object(Y.jsxs)(p.c,{noMargin:!0,alignItems:"center",children:[Object(Y.jsx)(g.a,{size:"title",children:Object(Y.jsx)(s.Trans,{id:"Consolidated metrics"})}),Object(Y.jsx)(p.d,{}),!Ie&&Object(Y.jsx)(w.a,{size:20})]}),Object(Y.jsx)(S.a,{children:Object(Y.jsxs)(S.b,{children:[Object(Y.jsxs)(S.e,{children:[Object(Y.jsx)(S.f,{children:Object(Y.jsx)(s.Trans,{id:"Last week sessions count"})}),Object(Y.jsx)(S.f,{style:J.tableRowStatColumn,children:Ie&&Ie.cachedLastWeekSessionsCount?Ie.cachedLastWeekSessionsCount:"-"})]}),Object(Y.jsxs)(S.e,{children:[Object(Y.jsx)(S.f,{children:Object(Y.jsx)(s.Trans,{id:"Last year sessions count"})}),Object(Y.jsx)(S.f,{style:J.tableRowStatColumn,children:Ie&&Ie.cachedLastYearSessionsCount?Ie.cachedLastYearSessionsCount:"-"})]})]})}),Object(Y.jsxs)(p.c,{noMargin:!0,alignItems:"center",children:[Object(Y.jsx)(g.a,{size:"title",children:Object(Y.jsx)(s.Trans,{id:"Daily metrics"})}),Object(Y.jsx)(p.d,{}),fe&&Object(Y.jsx)(w.a,{size:20})]}),Object(Y.jsx)(p.c,{noMargin:!0,children:Object(Y.jsxs)(T.a,{fullWidth:!0,floatingLabelText:Object(Y.jsx)(s.Trans,{id:"Day"}),value:Ee,onChange:function(e,t,n){ke(n)},children:[Array(5).fill("").map((function(e,t){var n=Object(u.a)(Object(_.a)(new Date,t+2),{representation:"date"});return Object(Y.jsx)(E.a,{value:n,primaryText:n},n)})).reverse(),Object(Y.jsx)(E.a,{value:ye,primaryText:{id:"Yesterday"}}),Object(Y.jsx)(E.a,{value:Object(u.a)(new Date,{representation:"date"}),primaryText:{id:"Today (so far, in real time)"}})]})}),fe||ee?null:Object(Y.jsx)(I.a,{kind:"warning",children:Object(Y.jsx)(s.Trans,{id:"There were no players or stored metrics for this day. Be sure to publish your game and get players to try it to see the collected anonymous analytics."})}),Object(Y.jsx)(S.a,{children:Object(Y.jsxs)(S.b,{children:[Object(Y.jsxs)(S.e,{children:[Object(Y.jsx)(S.f,{children:Object(Y.jsx)(s.Trans,{id:"Players count"})}),Object(Y.jsx)(S.f,{style:J.tableRowStatColumn,children:ee&&ee.players?ee.players.d0Players:"-"})]}),Object(Y.jsxs)(S.e,{children:[Object(Y.jsx)(S.f,{children:Object(Y.jsx)(s.Trans,{id:"Sessions count"})}),Object(Y.jsx)(S.f,{style:J.tableRowStatColumn,children:ee&&ee.sessions?ee.sessions.d0Sessions:"-"})]}),Object(Y.jsxs)(S.e,{children:[Object(Y.jsx)(S.f,{children:Object(Y.jsx)(s.Trans,{id:"New players count"})}),Object(Y.jsx)(S.f,{style:J.tableRowStatColumn,children:ee&&ee.players?ee.players.d0NewPlayers:"-"})]})]})}),!ee||ee.retention&&ee.players?null:Object(Y.jsx)(I.a,{kind:"info",children:"Upgrade your account with a subscription to unlock all the metrics for your game."}),Object(Y.jsx)(S.a,{children:Object(Y.jsx)(S.b,{children:[1,2,3,4,5,6,7].map((function(e){return Object(Y.jsxs)(S.e,{children:[Object(Y.jsx)(S.f,{children:Object(Y.jsx)(s.Trans,{id:"Day {dayIndex} retained players",values:{dayIndex:e}})}),Object(Y.jsx)(S.f,{style:J.tableRowStatColumn,children:ee&&ee.retention&&null!=ee.retention["d".concat(e,"RetainedPlayers")]?ee.retention["d".concat(e,"RetainedPlayers")]:"-"})]},e)}))})})]}):null]}),Ie&&n&&De&&Object(Y.jsx)(M.a,{project:n,publicGame:Ie,onApply:function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(t,o);case 2:e.sent&&Be(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onClose:function(){return Be(!1)},isLoading:ve})]})}})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(12),o=n(1),a=n(501),i=n(30),s=n(488),c=n(484),l=n(642),u=n(1084),d=n(858),p=n(4),b=n(429),h=n(463),j=n(1085),f=n.n(j),g=n(1086),m=n.n(g),O=n(1087),v=n.n(O),x=n(137),y=n(508),C=n(641),T=n(7),E={previewContainer:{display:"flex",position:"relative",justifyContent:"center",alignItems:"center"},previewImage:{position:"relative",objectFit:"contain",verticalAlign:"middle",pointerEvents:"none"},previewIcon:{width:40,height:40},cardContainer:{overflow:"hidden",position:"relative"},titleContainer:{position:"absolute",bottom:0,left:0,right:0,height:48,color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"rgb(0,0,0,0.5)"},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},icon:{width:32,height:32},audioElement:{width:128,height:40}},k=function(e){var t=e.resource,n=e.onChoose,r=e.size,o=e.imageStyle;return Object(T.jsx)(b.a,{onClick:n,focusRipple:!0,children:Object(T.jsxs)("div",{style:Object(p.a)(Object(p.a)({},E.cardContainer),{},{width:r,height:r}),children:[Object(T.jsxs)("div",{style:Object(p.a)(Object(p.a)({},E.previewContainer),{},{width:r,height:r}),children:[Object(T.jsx)(C.a,{}),Object(T.jsx)(y.a,{style:Object(p.a)(Object(p.a)({},E.previewImage),{},{maxWidth:108,maxHeight:108},o),src:t.url,alt:t.name},t.url)]}),Object(T.jsxs)("div",{style:E.titleContainer,children:[Object(T.jsx)(h.a,{noMargin:!0,style:E.title,children:t.name}),Object(T.jsx)(h.a,{noMargin:!0,style:E.title,size:"body2",children:t.license})]})]})})},w=function(e){var t=e.resource,n=(e.onChoose,e.size),r=e.children;return Object(T.jsxs)("div",{style:Object(p.a)(Object(p.a)({},E.cardContainer),{},{width:n,height:n}),children:[Object(T.jsx)(i.a,{children:r}),Object(T.jsxs)("div",{style:E.titleContainer,children:[Object(T.jsx)(h.a,{noMargin:!0,style:E.title,children:t.name}),Object(T.jsx)(h.a,{noMargin:!0,style:E.title,size:"body2",children:t.license})]})]})},S=function(e){var t=e.resource,n=e.onChoose,o=e.size;switch(t.type){case"image":return Object(T.jsx)(k,{resource:t,onChoose:n,size:o});case"svg":return Object(T.jsx)(k,{resource:t,onChoose:n,size:o,imageStyle:E.previewIcon});case"audio":return Object(T.jsxs)(w,{onChoose:n,resource:t,size:o,children:[Object(T.jsx)(i.c,{justifyContent:"center",children:Object(T.jsx)("audio",{controls:!0,src:t.url,style:E.audioElement,children:"Audio preview is unsupported."})}),Object(T.jsx)(i.c,{justifyContent:"center",children:Object(T.jsx)(x.a,{onClick:n,label:Object(T.jsx)(r.Trans,{id:"Choose"})})})]});case"json":return Object(T.jsxs)(w,{onChoose:n,resource:t,size:o,children:[Object(T.jsx)(i.c,{justifyContent:"center",children:Object(T.jsx)(f.a,{style:E.icon})}),Object(T.jsx)(i.c,{justifyContent:"center",children:Object(T.jsx)(x.a,{onClick:n,label:Object(T.jsx)(r.Trans,{id:"Choose"})})})]});case"video":return Object(T.jsxs)(w,{onChoose:n,resource:t,size:o,children:[Object(T.jsx)(i.c,{justifyContent:"center",children:Object(T.jsx)(m.a,{style:E.icon})}),Object(T.jsx)(i.c,{justifyContent:"center",children:Object(T.jsx)(x.a,{onClick:n,label:Object(T.jsx)(r.Trans,{id:"Choose"})})})]});case"font":return Object(T.jsxs)(w,{onChoose:n,resource:t,size:o,children:[Object(T.jsx)(i.c,{justifyContent:"center",children:Object(T.jsx)(v.a,{style:E.icon})}),Object(T.jsx)(i.c,{justifyContent:"center",children:Object(T.jsx)(x.a,{onClick:n,label:Object(T.jsx)(r.Trans,{id:"Choose"})})})]});default:return null}},P=n(528),I=n(1088),_=function(e){var t=e.onChoose,n=e.resourceKind,p=o.useContext(u.a),b=p.filters,h=p.searchResults,j=p.error,f=p.fetchResourcesAndFilters,g=p.filtersState,m=p.searchText,O=p.setSearchText;o.useEffect((function(){f()}),[f]);var v=h?h.filter((function(e){return e.type===n})):null;return Object(T.jsxs)(i.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(T.jsx)(i.c,{children:Object(T.jsx)(i.a,{expand:!0,children:Object(T.jsx)(a.a,{value:m,onChange:O,onRequestSearch:function(){},placeholder:{id:"Search resources"}})})}),Object(T.jsxs)(i.c,{expand:!0,overflow:"hidden",noMargin:!0,children:[Object(T.jsx)(s.a,{noFullHeight:!0,noExpand:!0,width:250,children:Object(T.jsxs)(c.a,{children:[Object(T.jsx)(P.a,{children:Object(T.jsx)(r.Trans,{id:"Categories"})}),Object(T.jsx)(I.a,{allItemsLabel:Object(T.jsx)(r.Trans,{id:"All assets"}),allFilters:b,filtersState:g,error:j}),Object(T.jsx)(P.a,{children:Object(T.jsx)(r.Trans,{id:"Filters"})}),Object(T.jsx)(l.a,{allFilters:b,filtersState:g,error:j})]})}),Object(T.jsx)(d.a,{baseSize:128,onRetry:f,error:j,searchItems:v,renderSearchItem:function(e,n){return Object(T.jsx)(S,{size:n,resource:e,onChoose:function(){return t(e)}})}})]})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(1),c=n(501),l=n(30),u=n(801),d=n(700),p=n(12),b=n(429),h=n(463),j=n(644),f=n(701),g=n(645),m=n(7),O={button:{width:"100%"},container:{display:"flex",textAlign:"left",overflow:"hidden",padding:8,width:"100%"}},v=function(e){var t=e.project,n=e.extensionShortHeader,r=e.matches,o=e.onChoose,a=e.onHeightComputed,i=t.hasEventsFunctionsExtensionNamed(n.name),c=s.useRef(null);s.useLayoutEffect((function(){c.current&&a(c.current.getBoundingClientRect().height)}));var u=function(e){var t=n[e];if(!r)return t;var o=r.filter((function(t){return t.key===e}));return 0===o.length?t:Object(m.jsx)(g.a,{text:t,matchesCoordinates:o[0].indices})};return Object(m.jsx)(b.a,{onClick:o,focusRipple:!0,style:O.button,children:Object(m.jsx)("div",{style:O.container,ref:c,children:Object(m.jsxs)(l.c,{children:[Object(m.jsx)(j.a,{alt:n.fullName,src:n.previewIconUrl,size:64}),Object(m.jsxs)(l.a,{expand:!0,children:[Object(m.jsxs)(h.a,{noMargin:!0,children:[u("fullName")," ",i&&Object(m.jsx)(p.Trans,{id:"(already installed)"})]}),n.authors&&Object(m.jsx)(l.c,{children:n.authors.map((function(e){return Object(m.jsx)(f.a,{user:e},e.id)}))}),Object(m.jsx)(h.a,{noMargin:!0,size:"body2",children:u("shortDescription")})]})]})})})},x=n(86),y=n(1161),C=n(81),T=n(598),E=n(80),k=function(e){return e.name},w=function(e){var t=e.isInstalling,n=e.project,a=e.onInstall,p=e.showOnlyWithBehaviors,b=s.useState(null),h=Object(o.a)(b,2),j=h[0],f=h[1],g=s.useContext(u.a),O=g.filters,w=g.searchResults,S=g.error,P=g.fetchExtensionsAndFilters,I=g.filtersState,_=g.searchText,A=g.setSearchText;s.useEffect((function(){P()}),[P]);var N=w?w.filter((function(e){var t=e.item;return!p||t.eventsBasedBehaviorsCount>0})):null,R=s.useMemo((function(){return{add:I.addFilter,remove:I.removeFilter,chosenTags:I.chosenFilters}}),[I]),L=function(e){if(!w)return[];var t=w.find((function(t){return t.item.name===e.name}));return t?t.matches:[]},M=Object(T.a)("intro-behaviors-and-functions").DismissableTutorialMessage;return Object(m.jsxs)(s.Fragment,{children:[Object(m.jsx)(x.a,{children:function(e){return Object(m.jsxs)(l.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(m.jsx)(l.c,{children:Object(m.jsxs)(E.a,{expand:!0,children:[Object(m.jsx)(c.a,{value:_,onChange:A,onRequestSearch:function(){},tagsHandler:R,tags:O&&O.allTags,placeholder:{id:"Search extensions"}}),M]})}),Object(m.jsx)(d.a,{disableAutoTranslate:!0,onRetry:P,error:S,searchItems:N&&N.map((function(e){return e.item})),getSearchItemUniqueId:k,renderSearchItem:function(e,t){return Object(m.jsx)(v,{project:n,onHeightComputed:t,extensionShortHeader:e,matches:L(e),onChoose:function(){Object(C.m)(e.name),f(e)}},e.name)}})]})}}),!!j&&Object(m.jsx)(y.a,{project:n,isInstalling:t,extensionShortHeader:j,onInstall:Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(C.l)(j.name),e.next=3,a(j);case 3:e.sent&&f(null);case 5:case"end":return e.stop()}}),e)}))),onClose:function(){return f(null)}})]})}},function(e,t,n){"use strict";var r=n(26),o=n(12),a=n(1),i=n.n(a),s=n(100),c=n(136),l=n(643),u=n(542),d=n(480),p=n(518),b=n(142),h=n(463),j=n(478),f=n(54),g=n(30),m=n(2166),O=n(80),v=n(644),x=n(701),y=n(35),C=n(1448),T=function(e,t){return Object(a.useMemo)((function(){return e.hasEventsFunctionsExtensionNamed(t.name)?function(e,t){try{var n=Object(C.diff)(e,t);if(["patch","minor","major"].includes(n))return{type:n,currentVersion:e,newestVersion:t}}catch(r){if(e!==t)return{type:"minor",currentVersion:e,newestVersion:t}}return null}(e.getEventsFunctionsExtension(t.name).getVersion(),t.version):null}),[e,t])},E=n(7),k=function(e){return e.description.substr(0,e.shortDescription.length)===e.shortDescription?e.description.substr(e.shortDescription.length):e.description};t.a=function(e){var t=e.extensionShortHeader,n=e.isInstalling,a=e.onClose,C=e.onInstall,w=e.onEdit,S=e.project,P=S.hasEventsFunctionsExtensionNamed(t.name),I=T(S,t),_=i.a.useState(null),A=Object(r.a)(_,2),N=A[0],R=A[1],L=i.a.useState(null),M=Object(r.a)(L,2),F=M[0],D=M[1],B=i.a.useCallback((function(){R(null),Object(l.b)(t).then((function(e){D(e)}),(function(e){R(e)}))}),[t]);i.a.useEffect((function(){return B()}),[B]);var U=Object(l.e)(Object(f.b)(),t),V=!n&&U,W=i.a.useCallback((function(){if(V)if(P){if(!y.b.showConfirmDialog("This extension is already in your project, this will install the latest version. You may have to do some adaptations to make sure your game still works. Do you want to continue?"))return;C()}else C()}),[C,V,P]);return Object(E.jsx)(s.b,{actions:[Object(E.jsx)(c.a,{label:Object(E.jsx)(o.Trans,{id:"Back"}),primary:!1,onClick:a,disabled:n},"close"),Object(E.jsx)(u.a,{isLoading:n,children:Object(E.jsx)(s.a,{label:U?P?I?Object(E.jsx)(o.Trans,{id:"Update"}):Object(E.jsx)(o.Trans,{id:"Re-install"}):Object(E.jsx)(o.Trans,{id:"Install in project"}):Object(E.jsx)(o.Trans,{id:"Not compatible"}),primary:!0,onClick:W,disabled:!V})},"install")],secondaryActions:w?[Object(E.jsx)(c.a,{label:Object(E.jsx)(o.Trans,{id:"Open in editor"}),onClick:w},"edit-extension")]:void 0,open:!0,cannotBeDismissed:n,onRequestClose:a,onApply:W,children:Object(E.jsxs)(O.a,{expand:!0,noMargin:!0,children:[!U&&Object(E.jsx)(j.a,{kind:"error",children:Object(E.jsx)(o.Trans,{id:"Unfortunately, this extension requires a newer version of GDevelop to work. Update GDevelop to be able to use this extension in your project."})}),Object(E.jsxs)(g.c,{alignItems:"center",noMargin:!0,children:[Object(E.jsx)(v.a,{alt:t.fullName,src:t.previewIconUrl,size:64}),Object(E.jsxs)(g.a,{expand:!0,children:[Object(E.jsx)(h.a,{noMargin:!0,size:"title",children:t.fullName}),Object(E.jsx)(h.a,{noMargin:!0,size:"body2",children:Object(E.jsx)(o.Trans,{id:"Version {0}",values:{0:" "+t.version}})}),Object(E.jsx)(g.c,{children:t.authors&&t.authors.map((function(e){return Object(E.jsx)(x.a,{user:e,isClickable:!0},e.id)}))})]})]}),Object(E.jsx)(h.a,{noMargin:!0,children:t.shortDescription}),Object(E.jsx)(m.a,{}),F&&Object(E.jsx)(b.a,{source:k(F),isStandaloneText:!0}),!F&&!N&&Object(E.jsx)(d.a,{}),!F&&N&&Object(E.jsx)(p.a,{onRetry:B,children:Object(E.jsx)(o.Trans,{id:"Can't load the extension registry. Verify your internet connection or try again later."})})]})})}},,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),o=n(138),a=n(35),i=n(670);function s(e){var t=e.fileMetadata,n=r.useContext(o.a),s=r.useContext(i.b).hasUnsavedChanges;return r.useEffect((function(){var e=["GDevelop 5",t?t.fileIdentifier+(s?" *":""):""].filter(Boolean).join(" - ");a.b.setTitle(e),a.b.setTitleBarColor(n.toolbar.backgroundColor)}),[t,s,n.toolbar.backgroundColor]),null}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n.n(c),u=n(485),d=n(100),p=n(136),b=n(495),h=n(30),j=n(35),f=n(463),g=n(43),m=n(895),O=n(1155),v=n(54),x=n(7),y={logo:{width:"100%"}},C=[{name:"Cl\xe9ment Pasteau",description:"Core development team",link:"https://github.com/ClementPasteau"},{name:"AlexandreSi",description:"Core development team",link:"https://github.com/AlexandreSi"},{name:"Victor Levasseur",description:"Numerous code contributions to GDevelop and community moderation"},{name:"Lizard-13",description:"Numerous code contributions to GDevelop and community moderation"},{name:"Christina 'Castpixel' Antoinette Neofotistou",description:"Art and assets for the 8-bit Space Shooter example.",link:"https://www.patreon.com/castpixel"},{name:"ale26reg",description:"Contributions to GDevelop"},{name:"dos1",description:"Contributions to GDevelop"},{name:"Aur\xe9lien Vivet",description:"Numerous code contributions to GDevelop and community management",link:"https://www.witly.fr"},{name:"Todor Imreorov",description:"Numerous code contributions to GDevelop"},{name:"brylie",description:"Contributions to GDevelop"},{name:"Nnarol",description:"Contributions to GDevelop"},{name:"wild-master",description:"Contributions to GDevelop"},{name:"RandomShaper",description:"Contributions to GDevelop"},{name:"RyanNerd",description:"Contributions to GDevelop"},{name:"greater",description:"Contributions to GDevelop"},{name:"triptych",description:"Contributions to GDevelop"},{name:"Wend1go",description:"Contributions to GDevelop, Tutorials, Examples"},{name:"mattiascibien",description:"Contributions to GDevelop"},{name:"araujo921",description:"Contributions to GDevelop"},{name:"ronnystandtke",description:"Contributions to GDevelop"},{name:"Thomas Flecy",description:"Contributions to GDevelop (original sound object extension)"},{name:"Arthur Pacaud (arthuro555)",description:"Numerous code contributions to GDevelop and community moderation",link:"https://forum.gdevelop-app.com/u/arthuro555/summary"},{name:"The Gem Dev",description:"Code contributions to GDevelop and tutorials on Youtube",link:"https://www.youtube.com/channel/UCsZ4Ue8c94YLJDbGRafCI5Q"},{name:"D8H",description:"Numerous code contributions to GDevelop",link:"https://github.com/D8H"},{name:"Harsimran Singh Virk",description:"Numerous code contributions to GDevelop",link:"https://github.com/HarsimranVirk"},{name:"Nilay Majorwar",description:"Numerous code contributions to GDevelop",link:"https://github.com/nilaymaj"},{name:"ddabrahim",description:"Examples for GDevelop",link:"https://gametemplates.itch.io/"},{name:"Gametemplates",description:"Examples bundled with GDevelop",link:"https://gametemplates.itch.io/"},{name:"Mats",description:"Tutorials, Examples"},{name:"erdo",description:"Tutorials, Examples"},{name:"Jubileuksen3",description:"Tutorials, Examples"},{name:"LucaTexas",description:"Tutorials, Examples"},{name:"Kink",description:"Forum moderator, tutorials, Examples"},{name:"RicoTrooper",description:"Tutorials"},{name:"kalel",description:"Tutorials"},{name:"mtarzaim",description:"Tutorials"},{name:"Darkhog",description:"Examples"},{name:"Ricardo Graca",description:"Tutorials, Examples"},{name:"Diego Schiavon",description:"Indiegogo Ubuntu contributor"},{name:"conceptgame",description:"Indiegogo super contributor"},{name:"Jose David Cuartas Correa",description:"Author of Digitopolis (a book on how to make games with GDevelop 4)"},{name:"Fran\xe7ois Dumortier",description:"GDevelop logo design",link:"http://www.fdumortier.com"},{name:"Constantine Shvetsov",description:"Design of all the awesome icons"},{name:"MillionthVector",description:"Assets of various examples"},{name:"Tristan Rhodes (Victris Games)",description:"High quality extensions for GDevelop",link:"https://www.youtube.com/channel/UClbq1M-D83t_bYhfa1mfyEQ"},{name:"Entropy",description:"High quality extensions and art packs for GDevelop",link:"https://github.com/Entr0py404"},{name:"FlokiTV",description:"High quality extensions for GDevelop",link:"https://github.com/FlokiTV"},{name:"Silver-Streak",description:"Examples, bug reports, testing of new features, providing community support to users, community moderation",link:"https://github.com/Silver-Streak"},{name:"Jurfix",description:"Discord moderation",link:"https://github.com/Jurfix"},{name:"Wishforge Games",description:"Making high quality tutorials",link:"https://www.wishforge.games/"},{name:"Sleeper Games",description:"Making the game feel starter",link:"https://twitter.com/Sleeper_Games"},{name:"VegeTato",description:"Extensions for GDevelop"},{name:"Leo Red",description:"Reviewing examples submissions",link:"https://github.com/Midhil457"},{name:"add_",description:"Extensions for GDevelop",link:"https://github.com/add00"},{name:"HelperWesley",description:"Examples and youtube content that is relevant to GDevelop",link:"https://www.youtube.com/channel/UC8RsU74-hU1pfNKHNMfiFfw"},{name:"UlisesFreitas",description:"Numerous examples and making external services that integrate with GDevelop games",link:"https://ulisesfreitas.itch.io/"},{name:"IttaloXD",description:"The GDevelop embassador in Brazil",link:"https://twitter.com/ittaloxd"},{name:"PANDAKO",description:"Translations in Japanese, extensions and blog",link:"https://gdevelop-jp.blogspot.com"}],T=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={currentTab:"about"},e._openContributePage=function(){j.b.openExternalURL("https://gdevelop.io/page/contribute/")},e._openLink=function(e){e&&j.b.openExternalURL(e)},e._changeTab=function(t){e.setState({currentTab:t})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,r=t.onClose,o=t.updateStatus,a=this.state.currentTab;if(!n)return null;var i=Object(m.e)(o.status),c=Object(m.b)(o.status);return Object(x.jsx)(d.b,{actions:[Object(x.jsx)(p.a,{label:Object(x.jsx)(s.Trans,{id:"GDevelop Website"}),primary:!1,onClick:function(){return j.b.openExternalURL("https://gdevelop.io")}},"website"),Object(x.jsx)(p.a,{label:Object(x.jsx)(s.Trans,{id:"Close"}),primary:!1,onClick:r},"close")],onRequestClose:r,open:n,maxWidth:"sm",noMargin:!0,children:Object(x.jsx)(g.a.Consumer,{children:function(t){t.values;var n=t.checkUpdates;return Object(x.jsxs)(h.a,{noMargin:!0,children:[Object(x.jsx)("img",{src:"res/GD-logo.png",alt:"GDevelop logo",style:y.logo}),Object(x.jsxs)(b.b,{value:a,onChange:e._changeTab,children:[Object(x.jsx)(b.a,{label:Object(x.jsx)(s.Trans,{id:"About GDevelop"}),value:"about"}),Object(x.jsx)(b.a,{label:Object(x.jsx)(s.Trans,{id:"What's new?"}),value:"changelog"}),Object(x.jsx)(b.a,{label:Object(x.jsx)(s.Trans,{id:"Contributors"}),value:"contributors"})]}),"about"===a&&Object(x.jsx)(l.a.Fragment,{children:Object(x.jsxs)(h.a,{children:[Object(x.jsx)(h.c,{children:Object(x.jsx)(f.a,{children:Object(x.jsx)(s.Trans,{id:"GDevelop {0} based on GDevelop.js {1}",values:{0:Object(v.b)(),1:Object(v.a)()}})})}),Object(x.jsx)(h.c,{children:Object(x.jsx)(f.a,{children:i})}),Object(x.jsx)(h.c,{justifyContent:"center",children:!!i&&Object(x.jsx)(p.a,{label:c,onClick:function(){return n(Object(m.a)(o.status))}})})]})}),"changelog"===a&&Object(x.jsx)(h.a,{children:Object(x.jsx)(O.a,{})}),"contributors"===a&&Object(x.jsxs)(l.a.Fragment,{children:[Object(x.jsxs)(h.a,{children:[Object(x.jsx)(f.a,{children:Object(x.jsx)(s.Trans,{id:'GDevelop was created by Florian "4ian" Rival.'})}),Object(x.jsx)(f.a,{children:Object(x.jsx)(s.Trans,{id:"Contributors, in no particular order:"})})]}),Object(x.jsx)(u.a,{children:C.map((function(t){return Object(x.jsx)(u.b,{primaryText:t.name,secondaryText:t.description,secondaryTextLines:t.description.length<30?1:2,displayLinkButton:!!t.link,onOpenLink:function(){return e._openLink(t.link||"")}},t.name)}))}),Object(x.jsxs)(h.a,{expand:!0,children:[Object(x.jsx)(f.a,{children:Object(x.jsx)(s.Trans,{id:"Thanks to all users of GDevelop! There must be missing tons of people, please send your name if you've contributed and you're not listed."})}),Object(x.jsx)(h.c,{alignItems:"center",justifyContent:"center",children:Object(x.jsx)(p.a,{label:Object(x.jsx)(s.Trans,{id:"Contribute to GDevelop"}),onClick:e._openContributePage})})]})]})]})}})})}}]),n}(c.PureComponent)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d}));var r=n(465),o=n(486),a=(n(764),n(492)),i=e.gd,s=function(e,t,n,r){var s=Object(o.a)(t,(function(t){return e.has(t)}),n?"CopyOf":void 0),c=new i.Variable;n?Object(a.c)(c,n):c.setString("");var l=e.insert(s,c,r||e.count());return c.delete(),{name:s,variable:l}},c=function(e,t,n){var r=new i.Variable;Object(a.c)(r,t),e.insertAtIndex(r,n),r.delete()},l=function(e,t,n){var r=Object(o.a)(t,(function(t){return e.hasChild(t)}),"CopyOf"),s=new i.Variable;return Object(a.c)(s,n),e.insertChild(r,s),s.delete(),r},u=function(e){return Object(r.mapFor)(0,e.count(),(function(t){var n=e.getAt(t);return d(n)&&n.getChildrenCount()>0})).some(Boolean)},d=function(e){return!i.Variable.isPrimitive(e.getType())}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"i",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"l",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return O})),n.d(t,"b",(function(){return x}));var r=n(18),o=n(45),a=n(465),i=n(764),s=e.gd,c="$!",l="$.$",u=function(e){return e[e.length-1]?e[e.length-1].variable:null},d=function(e){return e[e.length-1]?e[e.length-1].nodeId:null},p=function(e){return e.length?e[0]:null},b=function(e,t){return t.map((function(e){return e.variable})).includes(e)},h=function(e,t){for(var n,r=e.split(l),o=null,a=null,i=null,u=[],d=-1;d<r.length-1;){if(i=r[d+=1],0===d&&i.startsWith(c)&&(i=(n=i).slice(c.length,n.length)),o)if(o.getType()===s.Variable.Array){var p=parseInt(i,10);if(p>=o.getChildrenCount())return{variable:null,lineage:u,depth:d,name:null};a=o.getAtIndex(p)}else{if(!o.hasChild(i))return{variable:null,lineage:u,depth:d,name:null};a=o.getChild(i)}else a=t.get(i);d<r.length-1&&u.push({nodeId:r.slice(0,d+1).join(l),name:i,variable:a}),o=a}return{variable:a,name:i,depth:d,lineage:u}},j=function e(t,n){var i,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",u=[],d=Object(o.a)(t);try{var p=function(){var t=i.value,n=t.name,o=t.variable,d=c?"".concat(c).concat(l).concat(n):n;if(!o.isFolded()&&o.getChildrenCount()>0&&u.push(d),o.getType()===s.Variable.Array){var p=Object(a.mapFor)(0,o.getChildrenCount(),(function(e){return{name:e.toString(),variable:o.getAtIndex(e)}}));u=[].concat(Object(r.a)(u),Object(r.a)(e(p,u,d)))}else if(o.getType()===s.Variable.Structure){var b=o.getAllChildrenNames().toJSArray().map((function(e,t){return{variable:o.getChild(e),name:e}}));u=[].concat(Object(r.a)(u),Object(r.a)(e(b,u,d)))}};for(d.s();!(i=d.n()).done;)p()}catch(b){d.e(b)}finally{d.f()}return u},f=function(e,t,n){var o=Object(r.a)(e),a=o.indexOf(t),i=o.map((function(e,n){return e.startsWith("".concat(t).concat(l))?n:null})),s=t.split(l),c=s[s.length-1];return[a].concat(Object(r.a)(i)).forEach((function(e){if(!(null===e||e<0)){var t=o[e].split(l);t[t.indexOf(c)]=n,o.splice(e,1,t.join(l))}})),o},g=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=0;r<e.count();r+=1)n.push({name:"".concat(t?c:"").concat(e.getNameAt(r)),variable:e.getAt(r)});return j(n,[])},m=function(e,t,n){t.forEach((function(t){var r=h(t,e).variable;r&&r.setFolded(n)}))},O=function(e,t){var n=t.lineage,r=u(n),o=e.lineage,a=u(o);if(a&&r){if(r.getType()===s.Variable.Structure&&a.getType()===s.Variable.Structure&&a!==r)return"FromStructureToAnotherStructure";if(r.getType()===s.Variable.Structure&&a===r)return"InsideSameStructure";if(r.getType()===s.Variable.Array&&a.getType()===s.Variable.Array&&a!==r)return"FromArrayToAnotherArray";if(r.getType()===s.Variable.Array&&a===r)return"InsideSameArray";if(r.getType()===s.Variable.Array&&a.getType()===s.Variable.Structure)return"FromStructureToArray";if(r.getType()===s.Variable.Structure&&a.getType()===s.Variable.Array)return"FromArrayToStructure"}return a||r?!a&&r&&r.getType()===s.Variable.Structure?"TopLevelToStructure":!a&&r&&r.getType()===s.Variable.Array?"TopLevelToArray":a&&!r&&a.getType()===s.Variable.Structure?"StructureToTopLevel":a&&!r&&a.getType()===s.Variable.Array?"ArrayToTopLevel":null:"InsideTopLevel"},v=function e(t){var n,o,c=t.variable,u=t.variableName,d=t.nodeId,p=t.searchText,b=t.acc;switch(c.getType()){case s.Variable.Boolean:return Object(i.a)(u).includes(p)?[d]:[];case s.Variable.String:return Object(i.a)(u).includes(p)||Object(i.a)(c.getString()).includes(p)?[d]:[];case s.Variable.Number:return Object(i.a)(u).includes(p)||c.getValue().toString().includes(p)?[d]:[];case s.Variable.Array:return n=Object(r.a)(b),Object(i.a)(u).includes(p)&&n.push(d),o=Object(a.mapFor)(0,c.getChildrenCount(),(function(t){var r=c.getAtIndex(t);return e({variable:r,variableName:"",nodeId:"".concat(d).concat(l).concat(t),searchText:p,acc:n})})).flat(),[].concat(Object(r.a)(n),Object(r.a)(o));case s.Variable.Structure:return n=Object(r.a)(b),Object(i.a)(u).includes(p)&&n.push(d),o=c.getAllChildrenNames().toJSArray().map((function(t){var n=c.getChild(t);return Array.from(new Set(e({variable:n,variableName:t,nodeId:"".concat(d).concat(l).concat(t),searchText:p,acc:b})))})).flat(),[].concat(Object(r.a)(n),Object(r.a)(o));default:return[]}},x=function(e,t,n){return Object(a.mapFor)(0,e.count(),(function(r){var o=e.getAt(r),a=e.getNameAt(r);return v({variable:o,variableName:a,nodeId:n?"".concat(n).concat(a):a,searchText:t,acc:[]})})).flat()}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){var r,o,a,i=n(2),s=n(1),c=n(474),l=n(475),u=n(1242),d=n(1243),p=n(1244),b=n(1245),h=n(1246),j=n(30),f=n(138),g=n(7),m=e.gd;t.a=function(e){var t=s.useContext(f.a),n=function(){var e;return o||(e={},Object(i.a)(e,m.Variable.String,u.a),Object(i.a)(e,m.Variable.Number,d.a),Object(i.a)(e,m.Variable.Boolean,p.a),Object(i.a)(e,m.Variable.Array,b.a),Object(i.a)(e,m.Variable.Structure,h.a),o=e),o}()[e.variableType];return Object(g.jsxs)(j.c,{alignItems:"center",noMargin:!0,children:[Object(g.jsx)(n,{fontSize:"small",htmlColor:e.isHighlighted?t.listItem.selectedTextColor:void 0}),Object(g.jsx)(j.d,{}),Object(g.jsx)(c.a,{value:e.variableType,margin:"none",stopPropagationOnClick:!0,onChange:function(t){return e.onChange(function(){var e;return a||(e={},Object(i.a)(e,m.Variable.String,"string"),Object(i.a)(e,m.Variable.Number,"number"),Object(i.a)(e,m.Variable.Boolean,"boolean"),Object(i.a)(e,m.Variable.Array,"array"),Object(i.a)(e,m.Variable.Structure,"structure"),a=e),a}()[t.target.value])},inputStyle:e.isHighlighted?{color:t.listItem.selectedTextColor}:void 0,disabled:e.disabled,children:(r||(r=[Object(g.jsx)(l.a,{primaryText:{id:"String"},value:m.Variable.String},"string"),Object(g.jsx)(l.a,{primaryText:{id:"Number"},value:m.Variable.Number},"number"),Object(g.jsx)(l.a,{primaryText:{id:"Boolean"},value:m.Variable.Boolean},"boolean"),Object(g.jsx)(l.a,{primaryText:{id:"Array"},value:m.Variable.Array},"array"),Object(g.jsx)(l.a,{primaryText:{id:"Structure"},value:m.Variable.Structure},"structure")]),r)})]})}}).call(this,n(28))},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n(890),i=n(7);t.a=o.memo((function(e){return Object(i.jsxs)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 12 8",children:[Object(i.jsx)("path",{d:"M0.0850851 6.76784L2.39304 1.55591C2.55395 1.19651 2.84708 0.978882 3.24447 0.978882H3.3296C3.72674 0.978882 4.01061 1.19647 4.17135 1.55591L6.47939 6.76784C6.52669 6.8719 6.55513 6.96645 6.55513 7.06109C6.55513 7.44889 6.25241 7.76103 5.86457 7.76103C5.52407 7.76103 5.29701 7.56242 5.16463 7.25966L4.7201 6.21925H1.80671L1.34321 7.30704C1.22021 7.59078 0.974341 7.76103 0.671625 7.76103C0.293126 7.76103 0 7.45835 0 7.07998C0 6.97592 0.0377881 6.8719 0.0850851 6.76784ZM4.1809 4.93281L3.26332 2.74776L2.34583 4.93281H4.1809Z"}),Object(i.jsx)("path",{d:"M7.24512 6.24762V6.22868C7.24512 5.122 8.08699 4.6112 9.28827 4.6112C9.79911 4.6112 10.1681 4.69633 10.5275 4.81932V4.7342C10.5275 4.13823 10.1586 3.80723 9.43967 3.80723C9.0424 3.80723 8.72079 3.86396 8.44648 3.94913C8.36139 3.97749 8.30458 3.98691 8.23827 3.98691C7.90732 3.98691 7.64247 3.73154 7.64247 3.4005C7.64247 3.14508 7.80321 2.92753 8.03019 2.84236C8.48422 2.67211 8.97617 2.57751 9.64775 2.57751C10.4328 2.57751 11.0004 2.7856 11.3599 3.14504C11.7382 3.52337 11.9085 4.08151 11.9085 4.76256V7.07052C11.9085 7.4584 11.5963 7.76104 11.2085 7.76104C10.7923 7.76104 10.518 7.46783 10.518 7.16511V7.15564C10.168 7.54344 9.6855 7.79882 8.98564 7.79882C8.03019 7.79891 7.24512 7.25036 7.24512 6.24762ZM10.5463 5.91654V5.66116C10.3004 5.54767 9.97879 5.47197 9.62882 5.47197C9.01392 5.47197 8.63562 5.71792 8.63562 6.17192V6.19085C8.63562 6.57869 8.95723 6.80567 9.42069 6.80567C10.0923 6.80571 10.5463 6.43685 10.5463 5.91654Z"})]}))}))},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n(890),i=n(7);t.a=o.memo((function(e){return Object(i.jsxs)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 18 7",children:[Object(i.jsx)("path",{d:"M0.699536 1.81574C0.732104 1.93193 0.822074 2.02812 0.943348 2.07632C1.06462 2.12452 1.20367 2.1194 1.32026 2.06245L1.66832 1.89235V5.68893C1.66832 5.9038 1.86075 6.07801 2.09809 6.07801H2.94248C3.17982 6.07801 3.37225 5.9038 3.37225 5.68893V0.47563C3.37225 0.26076 3.17982 0.0865479 2.94248 0.0865479H2.29848C2.17914 0.0865479 2.06158 0.113205 1.95637 0.16423L0.738721 0.754181C0.56458 0.838594 0.476394 1.0196 0.524949 1.19294L0.699536 1.81574Z"}),Object(i.jsx)("path",{d:"M10.8866 5.68902V5.01903C10.8866 4.80416 10.6941 4.62994 10.4568 4.62994H9.05518C10.0388 3.74152 10.7474 2.93461 10.7474 1.92481C10.7474 0.997814 10.0548 0 8.53425 0C7.8269 0 7.14796 0.221131 6.62264 0.622734L6.5923 0.64589C6.4456 0.758105 6.3989 0.944837 6.47794 1.1033L6.76629 1.68127C6.82154 1.79207 6.93084 1.87305 7.06171 1.90031C7.19257 1.92757 7.32991 1.89782 7.43311 1.82007L7.4862 1.78009C7.6506 1.65609 7.98491 1.44815 8.37773 1.44815C8.83219 1.44815 9.01749 1.61139 9.01749 2.00701C9.01079 2.59898 8.43573 3.18913 7.05888 4.37543L6.44285 4.91698C6.35949 4.99022 6.3125 5.09092 6.3125 5.19607V5.68902C6.3125 5.90389 6.50493 6.0781 6.74228 6.0781H10.4568C10.6941 6.0781 10.8866 5.90389 10.8866 5.68902Z"}),Object(i.jsx)("path",{d:"M12.776 5.72618L12.8104 5.74657C13.135 5.9395 13.7841 6.16473 14.5449 6.16473C16.2926 6.16473 17.0887 5.14242 17.0887 4.19267C17.0887 3.62951 16.8073 3.13588 16.3383 2.81088C16.681 2.50406 16.8712 2.10448 16.8712 1.65717C16.8712 0.858943 16.214 0 14.7711 0C13.9993 0 13.3383 0.257885 13.0067 0.478679L12.9752 0.499614C12.8219 0.601597 12.761 0.782675 12.8253 0.944703L13.0621 1.54125C13.1077 1.65596 13.21 1.74468 13.3385 1.78103C13.4669 1.81731 13.6069 1.79705 13.7164 1.72617L13.7729 1.68961C13.9708 1.56151 14.3105 1.43227 14.6231 1.43227C15.1324 1.43227 15.1324 1.66706 15.1324 1.76736C15.1324 2.11794 14.5556 2.19683 14.3535 2.19683H13.8748C13.6374 2.19683 13.445 2.37105 13.445 2.58592V3.20071C13.445 3.41558 13.6374 3.58979 13.8748 3.58979H14.3535C14.5815 3.58979 15.3258 3.6324 15.3325 4.18479C15.3338 4.25062 15.3217 4.41763 15.1809 4.54748C15.0154 4.70016 14.7389 4.7322 14.5362 4.7322C14.1296 4.7322 13.7199 4.58033 13.5438 4.47822L13.4879 4.44584C13.3774 4.38182 13.2406 4.36701 13.1166 4.40565C12.9925 4.44429 12.8947 4.53207 12.8511 4.64408L12.6066 5.27126C12.5408 5.44022 12.6107 5.62789 12.776 5.72618Z"})]}))}))},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n(890),i=n(7);t.a=o.memo((function(e){return Object(i.jsxs)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 17 7",children:[Object(i.jsx)("path",{fill:"none",d:"M9.5 3.5L11.8824 6L16 1",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i.jsx)("path",{fill:"none",d:"M1 1L6 6M6 1L1 6",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]}))}))},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n(890),i=n(7);t.a=o.memo((function(e){return Object(i.jsxs)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 10 12",children:[Object(i.jsx)("path",{d:"M3.67764 2.0539V0.930176H0.61294C0.450378 0.930176 0.294474 0.989372 0.179526 1.09474C0.0645775 1.20011 0 1.34302 0 1.49204V10.4818C0 10.6308 0.0645775 10.7737 0.179526 10.8791C0.294474 10.9845 0.450378 11.0437 0.61294 11.0437H3.67764V9.91996H1.22588V2.0539H3.67764Z"}),Object(i.jsx)("path",{d:"M5.5167 9.91998L5.5167 11.0437L8.5814 11.0437C8.74396 11.0437 8.89986 10.9845 9.01481 10.8791C9.12976 10.7738 9.19434 10.6309 9.19434 10.4818L9.19434 1.49206C9.19434 1.34305 9.12976 1.20013 9.01481 1.09476C8.89986 0.989394 8.74396 0.9302 8.5814 0.9302L5.5167 0.930199L5.5167 2.05392L7.96846 2.05392L7.96846 9.91998L5.5167 9.91998Z"})]}))}))},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n(890),i=n(7);t.a=o.memo((function(e){return Object(i.jsxs)(a.a,Object(r.a)(Object(r.a)({},e),{},{viewBox:"0 0 12 12",children:[Object(i.jsx)("path",{d:"M9.40063 5.29672L9.40063 5.29673L10.34 6.23611L9.40065 7.17549C9.29799 7.27815 9.2403 7.41741 9.2403 7.56259V9.80103C9.2403 10.1849 8.92798 10.4972 8.54415 10.4972H7.6322C7.32986 10.4972 7.08477 10.7423 7.08477 11.0446C7.08477 11.347 7.32986 11.592 7.6322 11.592H8.54415C9.53177 11.592 10.3352 10.7886 10.3352 9.80103V7.78934L11.5013 6.62319C11.7151 6.40941 11.7151 6.0628 11.5013 5.84901L11.466 5.88436L11.5013 5.84901L10.3352 4.68287V2.67118C10.3352 1.68359 9.53177 0.880176 8.54415 0.880176H7.6322C7.32986 0.880176 7.08477 1.12527 7.08477 1.42761C7.08477 1.72995 7.32986 1.97504 7.6322 1.97504H8.54415C8.92798 1.97504 9.2403 2.28736 9.2403 2.67118V4.90962C9.2403 5.05481 9.29799 5.19406 9.40063 5.29672Z",strokeWidth:"0.1"}),Object(i.jsx)("path",{d:"M3.21104 7.17549L3.21103 7.17549L2.27163 6.23611L3.21101 5.29673C3.31367 5.19406 3.37136 5.05481 3.37136 4.90962V2.67118C3.37136 2.28736 3.68368 1.97504 4.06751 1.97504H4.97946C5.28181 1.97504 5.5269 1.72995 5.5269 1.42761C5.5269 1.12527 5.28181 0.880176 4.97946 0.880176H4.06751C3.07989 0.880176 2.2765 1.68359 2.2765 2.67118V4.68287L1.11035 5.84901C0.896552 6.0628 0.896552 6.40939 1.11035 6.62319L2.2765 7.78934V9.80103C2.2765 10.7886 3.07989 11.592 4.06751 11.592H4.97946C5.28181 11.592 5.5269 11.347 5.5269 11.0446C5.5269 10.7423 5.28181 10.4972 4.97946 10.4972H4.06751C3.68368 10.4972 3.37136 10.1849 3.37136 9.80103V7.56259C3.37136 7.41741 3.31368 7.27816 3.21104 7.17549Z",strokeWidth:"0.1"})]}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="Variables"},function(e,t,n){"use strict";var r=n(12),o=n(1),a=n(2158),i=n(489),s=n.n(i),c=n(1249),l=n.n(c),u=n(1250),d=n.n(u),p=n(515),b=n.n(p),h=n(765),j=n(918),f=n(30),g=n(136),m=n(501),O=n(7);t.a=function(e){var t=[{key:"copy",Icon:h.a,label:Object(O.jsx)(r.Trans,{id:"Copy"}),tooltip:{id:"Copy"},onClick:e.onCopy,disabled:!e.canCopy,display:!0},{key:"paste",Icon:j.a,label:Object(O.jsx)(r.Trans,{id:"Paste"}),tooltip:{id:"Paste"},onClick:e.onPaste,disabled:!e.canPaste,display:!0},{key:"delete",Icon:b.a,label:Object(O.jsx)(r.Trans,{id:"Delete"}),tooltip:{id:"Delete"},onClick:e.onDelete,disabled:!e.canDelete,display:!0},{key:"undo",Icon:l.a,label:Object(O.jsx)(r.Trans,{id:"Undo"}),tooltip:{id:"Undo"},onClick:e.onUndo,disabled:!e.canUndo,display:!e.hideHistoryChangeButtons},{key:"redo",Icon:d.a,label:Object(O.jsx)(r.Trans,{id:"Redo"}),tooltip:{id:"Redo"},onClick:e.onRedo,disabled:!e.canRedo,display:!e.hideHistoryChangeButtons}].filter((function(e){return e.display}));return Object(O.jsxs)(f.c,{justifyContent:"space-between",alignItems:"center",children:[Object(O.jsx)(f.a,{noMargin:!0,children:Object(O.jsx)(f.c,{noMargin:!0,children:t.map((function(t,n){var r=t.key,i=t.Icon,s=t.label,c=t.tooltip,l=t.onClick,u=t.disabled;return Object(O.jsxs)(o.Fragment,{children:[n>0?Object(O.jsx)(f.d,{}):null,e.isNarrow?Object(O.jsx)(a.a,{tooltip:c,onClick:l,size:"small",disabled:u,children:Object(O.jsx)(i,{})},r):Object(O.jsx)(g.a,{icon:Object(O.jsx)(i,{}),disabled:u,label:s,onClick:l},r)]},r)}))})}),Object(O.jsx)(f.a,{expand:!0,children:Object(O.jsx)(m.a,{value:e.searchText,onRequestSearch:e.onChangeSearchText,onChange:e.onChangeSearchText,placeholder:{id:"Search variables"}})}),Object(O.jsx)(f.a,{noMargin:!0,children:e.isNarrow?Object(O.jsx)(a.a,{tooltip:{id:"Add variable"},onClick:e.onAdd,size:"small",children:Object(O.jsx)(s.a,{})},"add-variable"):Object(O.jsx)(g.a,{primary:!0,onClick:e.onAdd,label:Object(O.jsx)(r.Trans,{id:"Add variable"}),icon:Object(O.jsx)(s.a,{})},"add-variable")})]})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0401":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"Ts","\u0427":"Ch","\u0428":"Sh","\u0429":"Shch","\u042b":"Y","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"ts","\u0447":"ch","\u0448":"sh","\u0449":"shch","\u044b":"y","\u044d":"e","\u044e":"yu","\u044f":"ya","\u042a":"","\u044a":"","\u042c":"","\u044c":""}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return 0===e.getPointer(t)}},,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(18),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(136),d=n(137),p=n(100),b=n(30),h=n(477),j=n(663),f=n(1470),g=n(62),m=n(20),O=n.n(m),v=n(463),x=n(80),y=n(7),C=O()("path"),T=e.gd,E=[512],k=[192,144,96,72,48,36],w=[1024,180,167,152,144,120,114,100,87,80,76,72,60,58,57,50,40,29,20],S=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e))._generateFromFile=function(){var e=a.props,t=e.project,n=e.resourceSources,o=e.onChooseResource,i=n.filter((function(e){return"image"===e.kind}));i.length&&o({initialSourceName:i[0].name,multiSelection:!1,resourceKind:"image"}).then((function(e){if(e.length&&C){var n=t.getResourcesManager(),o=C.dirname(t.getProjectFile()),i=C.resolve(o,e[0].getFile());e.forEach((function(e){return e.delete()})),Promise.all([].concat(Object(r.a)(E.map((function(e){return Object(f.b)(i,C.join(o,"desktop-icon-".concat(e,".png")),{width:e,height:e})}))),Object(r.a)(k.map((function(e){return Object(f.b)(i,C.join(o,"android-icon-".concat(e,".png")),{width:e,height:e})}))),Object(r.a)(w.map((function(e){return Object(f.b)(i,C.join(o,"ios-icon-".concat(e,".png")),{width:e,height:e})}))))).then((function(e){if(-1===e.indexOf(!1)){var o=[].concat(Object(r.a)(E.map((function(e){return"desktop-icon-".concat(e,".png")}))),Object(r.a)(k.map((function(e){return"android-icon-".concat(e,".png")}))),Object(r.a)(w.map((function(e){return"ios-icon-".concat(e,".png")}))));o.forEach((function(e){if(n.hasResource(e))n.getResource(e).setFile(e);else{var t=new T.ImageResource;t.setFile(e),t.setName(e),n.addResource(t),t.delete()}})),h.a.burstUrlsCacheForResources(t,o),setTimeout((function(){a.setState({desktopIconResourceNames:E.map((function(e){return"desktop-icon-".concat(e,".png")})),androidIconResourceNames:k.map((function(e){return"android-icon-".concat(e,".png")})),iosIconResourceNames:w.map((function(e){return"ios-icon-".concat(e,".png")}))})}),200)}else Object(g.a)({message:"Some icons could not be generated!",rawError:void 0,errorId:"icon-generation-error",doNotReport:!0})}))}}))},a.onApply=function(){var e=a.props.project,t=a.state,n=t.thumbnailResourceName,r=t.desktopIconResourceNames,o=t.androidIconResourceNames,i=t.iosIconResourceNames;e.getPlatformSpecificAssets().set("liluo","thumbnail",n),E.forEach((function(t,n){e.getPlatformSpecificAssets().set("desktop","icon-".concat(t),r[n])})),k.forEach((function(t,n){e.getPlatformSpecificAssets().set("android","icon-".concat(t),o[n])})),w.forEach((function(t,n){e.getPlatformSpecificAssets().set("ios","icon-".concat(t),i[n])})),a.props.onApply()},a.state=a._loadFrom(e.project),a}return Object(a.a)(n,[{key:"_loadFrom",value:function(e){return{thumbnailResourceName:e.getPlatformSpecificAssets().get("liluo","thumbnail"),desktopIconResourceNames:E.map((function(t){return e.getPlatformSpecificAssets().get("desktop","icon-".concat(t))})),androidIconResourceNames:k.map((function(t){return e.getPlatformSpecificAssets().get("android","icon-".concat(t))})),iosIconResourceNames:w.map((function(t){return e.getPlatformSpecificAssets().get("ios","icon-".concat(t))}))}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}},{key:"render",value:function(){var e=this,t=[Object(y.jsx)(u.a,{label:Object(y.jsx)(c.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose},"cancel"),Object(y.jsx)(p.a,{label:Object(y.jsx)(c.Trans,{id:"Apply"}),primary:!0,onClick:this.onApply},"apply")],n=this.props,o=n.project,a=n.resourceSources,i=n.onChooseResource,s=n.resourceExternalEditors,l=this.state,h=l.thumbnailResourceName,g=l.desktopIconResourceNames,m=l.androidIconResourceNames,O=l.iosIconResourceNames;return Object(y.jsx)(p.b,{title:Object(y.jsx)(c.Trans,{id:"Project icons"}),actions:t,open:this.props.open,onRequestClose:this.props.onClose,onApply:this.onApply,children:Object(y.jsxs)(x.a,{noMargin:!0,children:[Object(y.jsx)(v.a,{children:Object(y.jsx)(c.Trans,{id:"Liluo.io thumbnail:"})}),Object(y.jsx)(j.a,{floatingLabelText:"Liluo.io thumbnail (1920x1080 px)",project:o,resourceSources:a,onChooseResource:i,resourceExternalEditors:s,resourceKind:"image",resourceName:h,onChange:function(t){e.setState({thumbnailResourceName:t})}}),Object(y.jsx)(b.c,{justifyContent:"center",children:Object(f.a)()?Object(y.jsx)(d.a,{primary:!0,label:Object(y.jsx)(c.Trans,{id:"Generate icons from a file"}),onClick:this._generateFromFile}):Object(y.jsx)(v.a,{children:Object(y.jsx)(c.Trans,{id:"Download GDevelop desktop version to generate the Android and iOS icons of your game."})})}),Object(y.jsx)(v.a,{children:Object(y.jsx)(c.Trans,{id:"Desktop (Windows, macOS and Linux) icon:"})}),E.map((function(t,n){return Object(y.jsx)(j.a,{floatingLabelText:"Desktop icon (".concat(t,"x").concat(t," px)"),project:o,resourceSources:a,onChooseResource:i,resourceExternalEditors:s,resourceKind:"image",resourceName:g[n],onChange:function(t){var o=Object(r.a)(g);o[n]=t,e.setState({desktopIconResourceNames:o})}},t)})),Object(y.jsx)(v.a,{children:Object(y.jsx)(c.Trans,{id:"Android icons:"})}),k.map((function(t,n){return Object(y.jsx)(j.a,{floatingLabelText:"Android icon (".concat(t,"x").concat(t," px)"),project:o,resourceSources:a,onChooseResource:i,resourceExternalEditors:s,resourceKind:"image",resourceName:m[n],onChange:function(t){var o=Object(r.a)(m);o[n]=t,e.setState({androidIconResourceNames:o})}},t)})),Object(y.jsx)(v.a,{children:Object(y.jsx)(c.Trans,{id:"iOS (iPhone and iPad) icons:"})}),w.map((function(t,n){return Object(y.jsx)(j.a,{floatingLabelText:"iOS icon (".concat(t,"x").concat(t," px)"),project:o,resourceSources:a,onChooseResource:i,resourceKind:"image",resourceName:O[n],resourceExternalEditors:s,onChange:function(t){var o=Object(r.a)(O);o[n]=t,e.setState({iosIconResourceNames:o})}},t)}))]})})}}]),n}(l.Component)}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(810),o=Object(r.a)("jimp"),a=function(){return!!o()},i=function(e,t,n){var r=n.width,a=n.height,i=o();return i?i.read(e).then((function(e){return e.contain(r,a).write(t)})).then((function(){return!0})).catch((function(e){return console.error(e),!1})):Promise.resolve(!1)}},function(e,t,n){"use strict";n(1);var r=n(2178),o=n(422),a=n(427),i=n(7),s={dialogContent:{padding:10,overflow:"hidden",display:"flex",flexDirection:"row"}},c={enter:0,exit:150};t.a=function(e){return Object(i.jsx)(o.a,{open:e.show,transitionDuration:c,children:Object(i.jsx)(a.a,{style:s.dialogContent,children:Object(i.jsx)(r.a,{style:s.circularProgress,size:50,disableShrink:!0})})})}},function(e,t,n){"use strict";n(1);var r=n(2195),o=n(2196),a=n(2158),i=n(426),s=n(594),c=n.n(s),l=n(2159),u=n(749),d=n(7),p={appBar:{height:32,minHeight:32},toolbar:{height:32,minHeight:32,paddingLeft:15,paddingRight:15},title:{fontSize:"15px",flexGrow:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}};t.a=function(e){return Object(d.jsx)(r.a,{position:"static",style:p.appBar,className:"safe-area-aware-top-margin",color:"primary",elevation:0,children:Object(d.jsxs)(o.a,{style:p.toolbar,children:[Object(d.jsx)(l.a,{title:e.title,placement:"bottom",enterDelay:u.a,children:Object(d.jsx)(i.a,{variant:"h6",style:p.title,children:e.title})}),e.displayRightCloseButton&&Object(d.jsx)(a.a,{onClick:e.onClose,edge:"end",color:"inherit",size:"small",children:Object(d.jsx)(c.a,{})})]})})}},function(e,t,n){"use strict";var r=n(1),o=n(20),a=n.n(o),i=n(35),s=a()("electron"),c=a()("@electron/remote");t.a=r.memo((function(e){var t=e.shouldPrompt,n=e.i18n,o=e.language,a=e.hasUnsavedChanges,l=r.useRef(!0);return r.useEffect((function(){if(!i.b.isDev()){var e=[n._({id:"Are you sure you want to quit GDevelop?"}),a?n._({id:"Any unsaved changes in the project will be lost."}):""].filter(Boolean).join("\n");s?window.onbeforeunload=function(n){if(l.current&&t)return setTimeout((function(){i.b.showConfirmDialog(e)&&(l.current=!1,c.getCurrentWindow().close())}),10),n.returnValue=!0,!1}:window&&(window.onbeforeunload=t?function(){return e}:null)}}),[t,n,o,a]),null}))},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(4),o=n(2),a=n(9),i=n(8),s=n(13),c=n(14),l=n(1),u=n(611),d=n(87),p=n.n(d),b=n(494),h=n(652),j=n(7),f=e.gd,g={flex:1},m=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e,t=this,n=f.asStandardEvent(this.props.event);return Object(j.jsx)(h.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,className:p()((e={},Object(o.a)(e,b.o,!0),Object(o.a)(e,b.p,this.props.selected),Object(o.a)(e,b.h,!0),e)),renderConditionsList:function(e){var r=e.style,o=e.className;return Object(j.jsx)(u.a,{instrsList:n.getConditions(),style:r,className:o,selection:t.props.selection,areConditions:!0,onAddNewInstruction:t.props.onAddNewInstruction,onPasteInstructions:t.props.onPasteInstructions,onMoveToInstruction:t.props.onMoveToInstruction,onMoveToInstructionsList:t.props.onMoveToInstructionsList,onInstructionClick:t.props.onInstructionClick,onInstructionDoubleClick:t.props.onInstructionDoubleClick,onInstructionContextMenu:t.props.onInstructionContextMenu,onAddInstructionContextMenu:t.props.onAddInstructionContextMenu,onParameterClick:t.props.onParameterClick,disabled:t.props.disabled,renderObjectThumbnail:t.props.renderObjectThumbnail,screenType:t.props.screenType,windowWidth:t.props.windowWidth,globalObjectsContainer:t.props.globalObjectsContainer,objectsContainer:t.props.objectsContainer})},renderActionsList:function(e){var o=e.className;return Object(j.jsx)(u.a,{instrsList:n.getActions(),style:Object(r.a)({},g),className:o,selection:t.props.selection,areConditions:!1,onAddNewInstruction:t.props.onAddNewInstruction,onPasteInstructions:t.props.onPasteInstructions,onMoveToInstruction:t.props.onMoveToInstruction,onMoveToInstructionsList:t.props.onMoveToInstructionsList,onInstructionClick:t.props.onInstructionClick,onInstructionDoubleClick:t.props.onInstructionDoubleClick,onInstructionContextMenu:t.props.onInstructionContextMenu,onAddInstructionContextMenu:t.props.onAddInstructionContextMenu,onParameterClick:t.props.onParameterClick,disabled:t.props.disabled,renderObjectThumbnail:t.props.renderObjectThumbnail,screenType:t.props.screenType,windowWidth:t.props.windowWidth,globalObjectsContainer:t.props.globalObjectsContainer,objectsContainer:t.props.objectsContainer})}})}}]),n}(l.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return k}));var r=n(4),o=n(2),a=n(12),i=n(1),s=n(465),c=n(87),l=n.n(c),u=n(494),d=n(611),p=n(1008),b=n(814),h=n(1560),j=n(1561),f=n(563),g=n(525),m=n(43),O=n(628),v=n(101),x=n(1562),y=n(2159),C=n(7),T=e.gd,E={container:{whiteSpace:"normal",wordWrap:"break-word",cursor:"pointer",marginBottom:1},input:{fontFamily:'"Lucida Console", Monaco, monospace',lineHeight:1.4},backgroundHighlightingInline:{marginTop:0,paddingLeft:0,paddingRight:0},textFieldAndHightlightContainer:{position:"relative"}},k="GD_DRAGGED_INSTRUCTION",w=Object(f.a)(k);t.a=function(e){var t=e.instruction,n=e.isCondition,c=e.onClick,f=e.onMoveToInstruction,k=e.onContextMenu,S=e.globalObjectsContainer,P=e.objectsContainer,I=i.useMemo((function(){return T.InstructionSentenceFormatter.get()}),[]),_=i.useContext(m.a).values.eventsSheetUseAssignmentOperators,A=function(t){var n=e.instruction,r=e.disabled,a=e.renderObjectThumbnail,i=I.getAsFormattedText(n,t),c=t.getParametersCount();return Object(C.jsx)("span",{className:l()(Object(o.a)({},u.d,r)),children:Object(s.mapFor)(0,i.size(),(function(r){var s,d,p=i.getTextFormatting(r).getUserData();if(!(p>=0&&p<c))return Object(C.jsx)("span",{children:0===r?(d=i.getString(r),d?d[0].toUpperCase()+d.substr(1):""):i.getString(r)},r);var f=t.getParameter(p),g=f.getType(),m=!0;if(T.ParameterMetadata.isExpression("number",g)||T.ParameterMetadata.isExpression("string",g)||T.ParameterMetadata.isExpression("variable",g)){var O=n.getParameter(p).getRootNode(),x=new T.ExpressionValidator(T.JsPlatform.get(),S,P,g);O.visit(x),m=0===x.getErrors().size()}else if(T.ParameterMetadata.isObject(g)){var y=n.getParameter(p).getPlainString();m=S.hasObjectNamed(y)||P.hasObjectNamed(y)||S.getObjectGroups().has(y)||P.getObjectGroups().has(y)}return Object(C.jsx)("span",{className:l()((s={},Object(o.a)(s,u.s,!0),Object(o.a)(s,u.m,!0),Object(o.a)(s,g,!0),s)),onClick:function(t){e.onParameterClick(t,p),"touch"===e.screenType&&t.stopPropagation()},onKeyPress:function(t){Object(v.a)(t)&&(e.onParameterClick(t,p),t.stopPropagation(),t.preventDefault())},tabIndex:0,children:b.a.renderInlineParameter({value:i.getString(r),expressionIsValid:m,parameterMetadata:f,renderObjectThumbnail:a,InvalidParameterValue:h.a,MissingParameterValue:j.a,useAssignmentOperators:_})},r)}))})},N="touch"!==Object(g.b)(),R=Object(O.a)(i.useCallback((function(e){k(e.clientX,e.clientY)}),[k]));return Object(C.jsx)(w,{beginDrag:function(){return c(),{isCondition:n}},canDrag:function(){return N},canDrop:function(e){return e.isCondition===n},drop:function(){f()},children:function(s){var c,b=s.connectDragSource,h=s.connectDropTarget,j=s.isOver,f=s.canDrop,g=n?T.MetadataProvider.getConditionMetadata(T.JsPlatform.get(),t.getType()):T.MetadataProvider.getActionMetadata(T.JsPlatform.get(),t.getType()),m=b(Object(C.jsxs)("div",Object(r.a)(Object(r.a)({style:E.container,className:l()((c={},Object(o.a)(c,u.s,!0),Object(o.a)(c,u.t,e.selected),c)),onClick:function(t){t.stopPropagation(),"touch"===e.screenType&&e.selected?e.onDoubleClick():e.onClick()},onDoubleClick:function(t){t.stopPropagation(),e.onDoubleClick()},onContextMenu:function(e){e.stopPropagation(),k(e.clientX,e.clientY)}},R),{},{onKeyPress:function(t){Object(v.g)(t)?(e.onDoubleClick(),t.stopPropagation(),t.preventDefault()):Object(v.a)(t)&&(e.onClick(),t.stopPropagation(),t.preventDefault())},tabIndex:0,children:[t.isInverted()&&Object(C.jsx)("img",{className:l()(Object(o.a)({},u.j,!0)),src:"res/contraire.png",alt:"Condition is negated"}),g.isAsync()&&Object(C.jsx)(y.a,{title:Object(C.jsx)(a.Trans,{id:"Next actions (and sub-events) will wait for this action to be finished before running."}),placement:"top",children:Object(C.jsx)(x.a,{className:l()(Object(o.a)({},u.j,!0))})}),Object(C.jsx)("img",{className:l()(Object(o.a)({},u.j,!0)),src:g.getSmallIconFilename(),alt:""}),A(g)]}))),O=m?h(m):null;return Object(C.jsxs)(i.Fragment,{children:[j&&Object(C.jsx)(p.a,{canDrop:f}),O,g.canHaveSubInstructions()&&Object(C.jsx)(d.a,{style:{},className:u.v,instrsList:t.getSubInstructions(),areConditions:e.isCondition,selection:e.selection,onAddNewInstruction:e.onAddNewSubInstruction,onPasteInstructions:e.onPasteSubInstructions,onMoveToInstruction:e.onMoveToSubInstruction,onMoveToInstructionsList:e.onMoveToSubInstructionsList,onInstructionClick:e.onSubInstructionClick,onInstructionDoubleClick:e.onSubInstructionDoubleClick,onInstructionContextMenu:e.onSubInstructionContextMenu,onAddInstructionContextMenu:e.onAddSubInstructionContextMenu,onParameterClick:e.onSubParameterClick,addButtonLabel:Object(C.jsx)(a.Trans,{id:"Add a sub-condition"}),disabled:e.disabled,renderObjectThumbnail:e.renderObjectThumbnail,screenType:e.screenType,windowWidth:e.windowWidth,globalObjectsContainer:e.globalObjectsContainer,objectsContainer:e.objectsContainer})]})}})}}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return j}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(474),u=n(475),d=n(7),p={"=":{id:"= (equal to)"},"<":{id:"< (less than)"},">":{id:"> (greater than)"},"<=":{id:"\u2264 (less or equal to)"},">=":{id:"\u2265 (greater or equal to)"},"!=":{id:"\u2260 (not equal to)"}},b={unknown:Object.keys(p),number:["=","<",">","<=",">=","!="],time:["<",">","<=",">="],string:["=","!="],color:["=","!="]},h=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0,r=t?t.getExtraInfo():"unknown",o=b[r]||b.unknown;return Object(d.jsx)(l.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,value:this.props.value,onChange:function(t,n,r){return e.props.onChange(r)},ref:function(t){return e._field=t},hintText:{id:"Choose an operator"},children:o.map((function(e){return Object(d.jsx)(u.a,{value:e,primaryText:p[e]},e)}))})}}]),n}(c.Component),j=function(e){var t=e.value,n=e.InvalidParameterValue;return t?"="!==t&&"<"!==t&&">"!==t&&"<="!==t&&">="!==t&&"!="!==t?Object(d.jsx)(n,{children:t}):"<="===t?"\u2264":">="===t?"\u2265":"!="===t?"\u2260":t:Object(d.jsx)(n,{isEmpty:!0,children:Object(d.jsx)(s.Trans,{id:"Choose an operator"})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return j}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(474),u=n(475),d=n(7),p={"=":{id:"= (set to)"},"+":{id:"+ (add)"},"-":{id:"- (subtract)"},"*":{id:"* (multiply by)"},"/":{id:"/ (divide by)"}},b={unknown:Object.keys(p),number:["=","+","-","*","/"],string:["=","+"],color:["=","+"]},h=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0,r=t?t.getExtraInfo():"unknown",o=b[r]||b.unknown;return Object(d.jsx)(l.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,value:this.props.value,onChange:function(t,n,r){return e.props.onChange(r)},ref:function(t){return e._field=t},hintText:{id:"Choose an operator"},children:o.map((function(e){return Object(d.jsx)(u.a,{value:e,primaryText:p[e]},e)}))})}}]),n}(c.Component),j=function(e){var t=e.value,n=e.InvalidParameterValue,r=e.useAssignmentOperators;if(!t)return Object(d.jsx)(n,{isEmpty:!0,children:Object(d.jsx)(s.Trans,{id:"Choose an operator"})});if(r){if("="===t)return"=";if("+"===t)return"+=";if("-"===t)return"-=";if("/"===t)return"/=";if("*"===t)return"*="}else{if("="===t)return Object(d.jsx)(s.Trans,{id:"set to"});if("+"===t)return Object(d.jsx)(s.Trans,{id:"add"});if("-"===t)return Object(d.jsx)(s.Trans,{id:"subtract"});if("/"===t)return Object(d.jsx)(s.Trans,{id:"divide by"});if("*"===t)return Object(d.jsx)(s.Trans,{id:"multiply by"})}return Object(d.jsx)(n,{children:t})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(474),u=n(475),d=n(7),p=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,r=t.value,o=n?n.getDescription():void 0;return Object(d.jsxs)(l.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:o,helperMarkdownText:n?n.getLongDescription():void 0,value:r,ref:function(t){return e._field=t},onChange:function(t,n,r){return e.props.onChange(r)},children:[Object(d.jsx)(u.a,{value:"Left",primaryText:{id:"Left (primary)"}}),Object(d.jsx)(u.a,{value:"Right",primaryText:{id:"Right (secondary)"}}),Object(d.jsx)(u.a,{value:"Middle",primaryText:{id:"Middle (Auxiliary button, usually the wheel button)"}})]})}}]),n}(c.Component),b=function(e){var t=e.value,n=e.InvalidParameterValue;return t||Object(d.jsx)(n,{isEmpty:!0,children:Object(d.jsx)(s.Trans,{id:"Choose a mouse button"})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(514),u=n(7),d=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","Num0","Num1","Num2","Num3","Num4","Num5","Num6","Num7","Num8","Num9","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","LShift","RShift","LControl","RControl","LAlt","RAlt","LSystem","RSystem","SemiColon","Comma","Period","Quote","Slash","BackSlash","Tilde","Equal","Dash","Space","Back","Tab","Delete","Insert","Escape","PageUp","PageDown","End","Home","Return","NumpadPageUp","NumpadPageDown","NumpadEnd","NumpadHome","NumpadReturn","Add","Subtract","Multiply","Divide","NumpadAdd","NumpadSubtract","NumpadMultiply","NumpadDivide","Left","Up","Right","Down","NumpadLeft","NumpadUp","NumpadRight","NumpadDown","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Pause"],p=function(e){return-1!==d.indexOf(e)},b=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,o=t.isInline,a=t.parameterMetadata,i=t.onRequestClose,c=t.onApply;return Object(u.jsx)(l.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:a?a.getDescription():void 0,helperMarkdownText:a?a.getLongDescription():void 0,fullWidth:!0,value:n,onChange:r,dataSource:d.map((function(e){return{text:e,value:e}})),openOnFocus:!o,onRequestClose:i,onApply:c,ref:function(t){return e._field=t},errorText:n?p(n)?void 0:Object(u.jsx)(s.Trans,{id:'You must select a valid key. "{value}" is not valid.',values:{value:n}}):Object(u.jsx)(s.Trans,{id:"You must select a key."})})}}]),n}(c.Component),h=function(e){var t=e.value,n=e.InvalidParameterValue;return t?p(t)?t:Object(u.jsx)(n,{children:t}):Object(u.jsx)(n,{isEmpty:!0,children:Object(u.jsx)(s.Trans,{id:"Choose a key"})})}},function(e,t,n){"use strict";var r=n(546),o=n(479);function a(e,t,n,a,i,s){r.a.call(this,e,t,n,a,i,s),this._pixiObject=new o.Graphics,this._pixiContainer.addChild(this._pixiObject);var c=n.hasCustomSize()?n.getCustomWidth():32,l=n.hasCustomSize()?n.getCustomHeight():32;this._pixiObject.beginFill(13311),this._pixiObject.lineStyle(1,16767232,1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(c,0),this._pixiObject.lineTo(c,l),this._pixiObject.lineTo(0,l),this._pixiObject.endFill()}a.prototype=Object.create(r.a.prototype),a.getThumbnail=function(e,t,n){return"res/unknown32.png"},a.prototype.update=function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180},t.a=a},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1512),o=n.n(r),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("undefined"!==typeof FontFace){var r=new FontFace(e,t,n);return document.fonts.add(r),r.load()}var a=document.createElement("style");return a.appendChild(document.createTextNode("@font-face {\n          font-family: ".concat(e,";\n          src: ").concat(t,";\n        }"))),document.head.appendChild(a),new o.a(e,n).load().catch((function(t){throw console.warn("Error while loading font ".concat(e),t),t}))}},,function(e,t,n){"use strict";(function(e){var r=n(546),o=n(479),a=e.gd;function i(e,t,n,a,i,s){r.a.call(this,e,t,n,a,i,s),this._renderedAnimation=0,this._renderedDirection=0,this._centerX=0,this._centerY=0,this._originX=0,this._originY=0,this._pixiObject=new o.Sprite(this._pixiResourcesLoader.getInvalidPIXITexture()),this._pixiContainer.addChild(this._pixiObject),this.updatePIXITextureAndSprite()}i.prototype=Object.create(r.a.prototype),i.getThumbnail=function(e,t,n){var r=a.asSpriteObject(n);if(r.getAnimationsCount()>0&&r.getAnimation(0).getDirectionsCount()>0&&r.getAnimation(0).getDirection(0).getSpritesCount()>0){var o=r.getAnimation(0).getDirection(0).getSprite(0).getImageName();return t.getResourceFullUrl(e,o,{})}return"res/unknown32.png"},i.prototype.updatePIXISprite=function(){this._pixiObject.anchor.x=this._centerX/this._pixiObject.texture.frame.width,this._pixiObject.anchor.y=this._centerY/this._pixiObject.texture.frame.height,this._pixiObject.rotation=this._shouldNotRotate?0:r.a.toRad(this._instance.getAngle()),this._instance.hasCustomSize()?(this._pixiObject.scale.x=this._instance.getCustomWidth()/this._pixiObject.texture.frame.width,this._pixiObject.scale.y=this._instance.getCustomHeight()/this._pixiObject.texture.frame.height):(this._pixiObject.scale.x=1,this._pixiObject.scale.y=1),this._pixiObject.position.x=this._instance.getX()+(this._centerX-this._originX)*Math.abs(this._pixiObject.scale.x),this._pixiObject.position.y=this._instance.getY()+(this._centerY-this._originY)*Math.abs(this._pixiObject.scale.y)},i.prototype.updateSprite=function(){this._sprite=null,this._shouldNotRotate=!1;var e=a.asSpriteObject(this._associatedObject);if(e.hasNoAnimations())return!1;this._renderedAnimation=this._instance.getRawDoubleProperty("animation"),this._renderedAnimation>=e.getAnimationsCount()&&(this._renderedAnimation=0);var t=e.getAnimation(this._renderedAnimation);if(t.hasNoDirections())return!1;if(this._renderedDirection=0,t.useMultipleDirections()){var n=Math.floor(this._instance.getAngle())%360;n<0&&(n+=360),this._renderedDirection=Math.round(n/45)%8}this._renderedDirection>=t.getDirectionsCount()&&(this._renderedDirection=0);var r=t.getDirection(this._renderedDirection);return 0!==r.getSpritesCount()&&(this._shouldNotRotate=t.useMultipleDirections(),this._sprite=r.getSprite(0),!0)},i.prototype.updatePIXITextureAndSprite=function(){var e=this;if(this.updateSprite(),this._sprite){var t=this._pixiResourcesLoader.getPIXITexture(this._project,this._sprite.getImageName());if(this._pixiObject.texture=t,t.baseTexture.valid){var n=this._sprite.getOrigin();if(this._originX=n.getX(),this._originY=n.getY(),this._sprite.isDefaultCenterPoint())this._centerX=t.width/2,this._centerY=t.height/2;else{var r=this._sprite.getCenter();this._centerX=r.getX(),this._centerY=r.getY()}this.updatePIXISprite()}else t.once("update",(function(){return e.updatePIXITextureAndSprite()}))}},i.prototype.update=function(){var e=this._instance.getRawDoubleProperty("animation");this._renderedAnimation!==e?this.updatePIXITextureAndSprite():this.updatePIXISprite()},i.prototype.getOriginX=function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getX()*this._pixiObject.scale.x:0},i.prototype.getOriginY=function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getY()*this._pixiObject.scale.y:0},i.prototype.getDefaultWidth=function(){return Math.abs(this._pixiObject.width)},i.prototype.getDefaultHeight=function(){return Math.abs(this._pixiObject.height)},t.a=i}).call(this,n(28))},function(e,t,n){"use strict";(function(e){var r=n(546),o=n(479),a=e.gd;function i(e,t,n,i,s,c){r.a.call(this,e,t,n,i,s,c);var l=a.asTiledSpriteObject(i);this._texture=l.getTexture(),this._pixiObject=new o.TilingSprite(this._pixiResourcesLoader.getPIXITexture(e,l.getTexture()),l.getWidth(),l.getHeight()),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this._pixiContainer.addChild(this._pixiObject)}i.prototype=Object.create(r.a.prototype),i.getThumbnail=function(e,t,n){var r=a.asTiledSpriteObject(n);return t.getResourceFullUrl(e,r.getTexture(),{})},i.prototype.update=function(){var e=a.asTiledSpriteObject(this._associatedObject);this._instance.hasCustomSize()?(this._pixiObject.width=this._instance.getCustomWidth(),this._pixiObject.height=this._instance.getCustomHeight()):(this._pixiObject.width=e.getWidth(),this._pixiObject.height=e.getHeight()),this._texture!==e.getTexture()&&(this._texture=e.getTexture(),this._pixiObject.texture=this._pixiResourcesLoader.getPIXITexture(this._project,e.getTexture())),this._pixiObject.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=r.a.toRad(this._instance.getAngle())},i.prototype.getDefaultWidth=function(){return a.asTiledSpriteObject(this._associatedObject).getWidth()},i.prototype.getDefaultHeight=function(){return a.asTiledSpriteObject(this._associatedObject).getHeight()},t.a=i}).call(this,n(28))},function(e,t,n){"use strict";(function(e){var r=n(546),o=n(479),a=e.gd;function i(e,t,n,o,a,i){r.a.call(this,e,t,n,o,a,i),this.makeObjects(),this.updateTexture()}i.prototype=Object.create(r.a.prototype),i.prototype.update=function(){var e=a.asPanelSpriteObject(this._associatedObject);e.isTiled()!==this._tiled&&this.makeObjects(),e.getTexture()!==this._textureName&&this.updateTexture(),this.updateAngle(),this.updatePosition();var t=this._width,n=this._height;if(this._instance.hasCustomSize())this._width=this._instance.getCustomWidth(),this._height=this._instance.getCustomHeight();else{var r=a.asPanelSpriteObject(this._associatedObject);this._width=r.getWidth(),this._height=r.getHeight()}this._width===t&&this._height===n||this.updateWidthHeight()},i.prototype.makeObjects=function(){var e=a.asPanelSpriteObject(this._associatedObject);this._textureName=e.getTexture();var t=this._pixiResourcesLoader.getPIXITexture(this._project,this._textureName);this._tiled=e.isTiled();var n=this._tiled?o.TilingSprite:o.Sprite;this._pixiObject||(this._pixiObject=new o.Container,this._pixiContainer.addChild(this._pixiObject)),this._centerSprite=new n(new o.Texture(t)),this._borderSprites=[new n(new o.Texture(t)),new o.Sprite(t),new n(new o.Texture(t)),new o.Sprite(t),new n(new o.Texture(t)),new o.Sprite(t),new n(new o.Texture(t)),new o.Sprite(t)],this._pixiObject.removeChildren(),this._pixiObject.addChild(this._centerSprite);for(var r=0;r<this._borderSprites.length;++r)this._pixiObject.addChild(this._borderSprites[r])},i.prototype.updateAngle=function(){this._pixiObject.rotation=r.a.toRad(this._instance.getAngle())},i.prototype.updatePosition=function(){this._pixiObject.x=this._instance.getX()+this._width/2,this._pixiObject.y=this._instance.getY()+this._height/2},i.prototype._updateLocalPositions=function(){var e=a.asPanelSpriteObject(this._associatedObject);this._centerSprite.position.x=e.getLeftMargin(),this._centerSprite.position.y=e.getTopMargin(),this._borderSprites[0].position.x=this._width-e.getRightMargin(),this._borderSprites[0].position.y=e.getTopMargin(),this._borderSprites[1].position.x=this._width-this._borderSprites[1].width,this._borderSprites[1].position.y=0,this._borderSprites[2].position.x=e.getLeftMargin(),this._borderSprites[2].position.y=0,this._borderSprites[3].position.x=0,this._borderSprites[3].position.y=0,this._borderSprites[4].position.x=0,this._borderSprites[4].position.y=e.getTopMargin(),this._borderSprites[5].position.x=0,this._borderSprites[5].position.y=this._height-this._borderSprites[5].height,this._borderSprites[6].position.x=e.getLeftMargin(),this._borderSprites[6].position.y=this._height-e.getBottomMargin(),this._borderSprites[7].position.x=this._width-this._borderSprites[7].width,this._borderSprites[7].position.y=this._height-this._borderSprites[7].height},i.prototype._updateSpritesAndTexturesSize=function(){var e=a.asPanelSpriteObject(this._associatedObject);this._centerSprite.width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._centerSprite.height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[0].width=e.getRightMargin(),this._borderSprites[0].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[2].height=e.getTopMargin(),this._borderSprites[2].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._borderSprites[4].width=e.getLeftMargin(),this._borderSprites[4].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[6].height=e.getBottomMargin(),this._borderSprites[6].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._wasRendered=!0,this._pixiObject.cacheAsBitmap=!1},i.prototype.updateTexture=function(){var e=this,t=a.asPanelSpriteObject(this._associatedObject);this._textureName=t.getTexture();var n=this._pixiResourcesLoader.getPIXITexture(this._project,this._textureName);function r(e){return e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x>n.width&&(e.x=n.width),e.y>n.height&&(e.y=n.height),e.x+e.width>n.width&&(e.width=n.width-e.x),e.y+e.height>n.height&&(e.height=n.height-e.y),e}n.baseTexture.valid?(console.log("Updating PanelSprite instance texture"),this._centerSprite.texture=new o.Texture(n,r(new o.Rectangle(t.getLeftMargin(),t.getTopMargin(),n.width-t.getLeftMargin()-t.getRightMargin(),n.height-t.getTopMargin()-t.getBottomMargin()))),this._borderSprites[0].texture=new o.Texture(n,r(new o.Rectangle(n.width-t.getRightMargin(),t.getTopMargin(),t.getRightMargin(),n.height-t.getTopMargin()-t.getBottomMargin()))),this._borderSprites[1].texture=new o.Texture(n,r(new o.Rectangle(n.width-t.getRightMargin(),0,t.getRightMargin(),t.getTopMargin()))),this._borderSprites[2].texture=new o.Texture(n,r(new o.Rectangle(t.getLeftMargin(),0,n.width-t.getLeftMargin()-t.getRightMargin(),t.getTopMargin()))),this._borderSprites[3].texture=new o.Texture(n,r(new o.Rectangle(0,0,t.getLeftMargin(),t.getTopMargin()))),this._borderSprites[4].texture=new o.Texture(n,r(new o.Rectangle(0,t.getTopMargin(),t.getLeftMargin(),n.height-t.getTopMargin()-t.getBottomMargin()))),this._borderSprites[5].texture=new o.Texture(n,r(new o.Rectangle(0,n.height-t.getBottomMargin(),t.getLeftMargin(),t.getBottomMargin()))),this._borderSprites[6].texture=new o.Texture(n,r(new o.Rectangle(t.getLeftMargin(),n.height-t.getBottomMargin(),n.width-t.getLeftMargin()-t.getRightMargin(),t.getBottomMargin()))),this._borderSprites[7].texture=new o.Texture(n,r(new o.Rectangle(n.width-t.getRightMargin(),n.height-t.getBottomMargin(),t.getRightMargin(),t.getBottomMargin()))),this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition()):n.once("update",(function(){return e.updateTexture()}))},i.prototype.updateWidthHeight=function(){this._pixiObject.pivot.x=this._width/2,this._pixiObject.pivot.y=this._height/2,this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition()},i.prototype.getDefaultWidth=function(){return a.asPanelSpriteObject(this._associatedObject).getWidth()},i.prototype.getDefaultHeight=function(){return a.asPanelSpriteObject(this._associatedObject).getHeight()},i.getThumbnail=function(e,t,n){var r=a.asPanelSpriteObject(n);return t.getResourceFullUrl(e,r.getTexture(),{})},t.a=i}).call(this,n(28))},function(e,t,n){"use strict";(function(e){var r=n(546),o=n(479),a=e.gd;function i(e,t,n,a,i,s){r.a.call(this,e,t,n,a,i,s);var c=new o.TextStyle({fontFamily:"Arial",fontSize:20,align:"left",padding:5});this._pixiObject=new o.Text("",c),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this._pixiContainer.addChild(this._pixiObject),this._styleFontDirty=!0,this.update()}i.prototype=Object.create(r.a.prototype),i.getThumbnail=function(e,t,n){return"CppPlatform/Extensions/texticon24.png"},i.prototype.update=function(){var e=this,t=a.asTextObject(this._associatedObject);this._pixiObject.text=t.getString(),(t.isItalic()!==this._isItalic||t.isBold()!==this._isBold||t.getCharacterSize()!==this._characterSize||this._instance.hasCustomSize()!==this._wrapping||this._instance.getCustomWidth()!==this._wrappingWidth&&this._wrapping)&&(this._isItalic=t.isItalic(),this._isBold=t.isBold(),this._characterSize=t.getCharacterSize(),this._wrapping=this._instance.hasCustomSize(),this._wrappingWidth=this._instance.getCustomWidth(),this._styleFontDirty=!0),this._fontName!==t.getFontName()&&(this._fontName=t.getFontName(),this._pixiResourcesLoader.loadFontFamily(this._project,t.getFontName()).then((function(t){e._fontFamily=t,e._styleFontDirty=!0})).catch((function(e){console.warn("Unable to load font family for RenderedTextInstance",e)}))),this._styleFontDirty&&(this._pixiObject.style.fontFamily=this._fontFamily||"Arial",this._pixiObject.style.fontSize=Math.max(1,this._characterSize),this._pixiObject.style.fontStyle=this._isItalic?"italic":"normal",this._pixiObject.style.fontWeight=this._isBold?"bold":"normal",this._pixiObject.style.wordWrap=this._wrapping,this._pixiObject.style.wordWrapWidth=this._wrappingWidth<=1?1:this._wrappingWidth,this._pixiObject.style.breakWords=!0,this._pixiObject.dirty=!0,this._styleFontDirty=!1),t.getColorR()===this._colorR&&t.getColorG()===this._colorG&&t.getColorB()===this._colorB||(this._colorR=t.getColorR(),this._colorG=t.getColorG(),this._colorB=t.getColorB(),this._pixiObject.style.fill="rgb("+this._colorR+","+this._colorG+","+this._colorB+")",this._pixiObject.dirty=!0),this._pixiObject.position.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.position.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=r.a.toRad(this._instance.getAngle())},i.prototype.getDefaultWidth=function(){return this._pixiObject.width},i.prototype.getDefaultHeight=function(){return this._pixiObject.height},t.a=i}).call(this,n(28))},function(e,t,n){"use strict";var r=n(1015);t.a=Object(r.a)("CppPlatform/Extensions/primitivedrawingicon.png")},function(e,t,n){"use strict";var r=n(1015);t.a=Object(r.a)("CppPlatform/Extensions/textentry.png")},function(e,t,n){"use strict";(function(e){var r=n(546),o=n(479),a=n(497),i=e.gd;function s(e,t,n,a,i,s){r.a.call(this,e,t,n,a,i,s),this._pixiObject=new o.Graphics,this._pixiContainer.addChild(this._pixiObject),this.updateGraphics()}s.prototype=Object.create(r.a.prototype),s.getThumbnail=function(e,t,n){return"CppPlatform/Extensions/particleSystemicon.png"},s.prototype.update=function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this.updateGraphics()},s.prototype.updateGraphics=function(){var e=i.asParticleEmitterObject(this._associatedObject);this._pixiObject.clear();var t=this._instance.getAngle()/180*3.14159,n=e.getConeSprayAngle(),r=t-n/2/180*3.14159,o=t+n/2/180*3.14159;this._pixiObject.beginFill(0,0),this._pixiObject.lineStyle(3,Object(a.k)(e.getParticleRed2(),e.getParticleGreen2(),e.getParticleBlue2()),1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(r),64*Math.sin(r)),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(o),64*Math.sin(o)),this._pixiObject.endFill(),this._pixiObject.lineStyle(0,0,1),this._pixiObject.beginFill(Object(a.k)(e.getParticleRed1(),e.getParticleGreen1(),e.getParticleBlue1())),this._pixiObject.drawCircle(0,0,8),this._pixiObject.endFill()},s.prototype.getDefaultWidth=function(){return 128},s.prototype.getDefaultHeight=function(){return 128},s.prototype.getOriginX=function(){return 64},s.prototype.getOriginY=function(){return 64},t.a=s}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return x}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n.n(c),u=n(30),d=n(1016),p=n(820),b=n(463),h=n(2169),j=n(142),f=n(2203),g=n(206),m=n(7),O={description:{marginRight:5}},v=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._yesButton=l.a.createRef(),e}return Object(o.a)(n,[{key:"focus",value:function(){Object(p.a)(this._yesButton)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,r=t.value,o=n?n.getDescription():null,a=n?n.getLongDescription():null,i=Object(d.a)(r,n);return Object(m.jsxs)(u.a,{noMargin:!0,children:[Object(m.jsxs)(u.c,{alignItems:"center",justifyContent:"space-between",children:[Object(m.jsx)(b.a,{style:O.description,displayInlineAsSpan:!0,children:o}),Object(m.jsxs)(f.a,{children:[Object(m.jsx)(g.a,{variant:"yes"===i?"contained":"outlined",color:"yes"===i?"secondary":"default",onClick:function(){return e.props.onChange("yes")},ref:this._yesButton,children:Object(m.jsx)(s.Trans,{id:"Yes"})}),Object(m.jsx)(g.a,{variant:"yes"!==i?"contained":"outlined",color:"yes"!==i?"secondary":"default",onClick:function(){return e.props.onChange("no")},children:Object(m.jsx)(s.Trans,{id:"No"})})]})]}),a?Object(m.jsx)(h.a,{variant:"filled",margin:"dense",children:Object(m.jsx)(j.a,{source:a})}):null]})}}]),n}(c.Component),x=function(e){var t=e.value,n=e.parameterMetadata;return"yes"===Object(d.a)(t,n)?Object(m.jsx)(s.Trans,{id:"yes"}):Object(m.jsx)(s.Trans,{id:"no"})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return x}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n.n(c),u=n(30),d=n(1016),p=n(820),b=n(463),h=n(2169),j=n(142),f=n(2203),g=n(206),m=n(7),O={description:{marginRight:5}},v=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._trueButton=l.a.createRef(),e}return Object(o.a)(n,[{key:"focus",value:function(){Object(p.a)(this._trueButton)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,r=t.value,o=n?n.getDescription():void 0,a=n?n.getLongDescription():null,i=Object(d.a)(r,n);return Object(m.jsxs)(u.a,{noMargin:!0,children:[Object(m.jsxs)(u.c,{alignItems:"center",justifyContent:"space-between",children:[Object(m.jsx)(b.a,{style:O.description,displayInlineAsSpan:!0,children:o}),Object(m.jsxs)(f.a,{children:[Object(m.jsx)(g.a,{variant:"True"===i?"contained":"outlined",color:"True"===i?"secondary":"default",onClick:function(){return e.props.onChange("True")},ref:this._trueButton,children:Object(m.jsx)(s.Trans,{id:"True"})}),Object(m.jsx)(g.a,{variant:"True"!==i?"contained":"outlined",color:"True"!==i?"secondary":"default",onClick:function(){return e.props.onChange("False")},children:Object(m.jsx)(s.Trans,{id:"False"})})]})]}),a?Object(m.jsx)(h.a,{variant:"filled",margin:"dense",children:Object(m.jsx)(j.a,{source:a})}):null]})}}]),n}(c.Component),x=function(e){var t=e.value,n=e.parameterMetadata;return"True"===Object(d.a)(t,n)?Object(m.jsx)(s.Trans,{id:"true"}):Object(m.jsx)(s.Trans,{id:"false"})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(503),u=n(7),d=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return Object(u.jsx)(l.a,Object(r.a)({expressionType:"number",ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(4),o=n(11),a=n(9),i=n(8),s=n(13),c=n(14),l=n(1),u=n(1017),d=n(705),p=n(650),b=n(651),h=n(7),j=["expressionType","scope"],f={flex:1,display:"flex",flexDirection:"column"},g=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).instructionsInfo=Object(b.a)(Object(u.a)(e.props.expressionType),e.props.scope),e.instructionsInfoTree=Object(p.a)(e.instructionsInfo),e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.expressionType,e.scope,Object(o.a)(e,j));return Object(h.jsx)(d.a,Object(r.a)({style:f,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:16,useSubheaders:!0,helpPagePath:"/all-features/expressions-reference"},t))}}]),n}(l.Component)},,,,,function(e,t,n){"use strict";var r=n(26),o=n(12),a=n(1),i=n.n(a),s=n(1020),c=n(100),l=n(463),u=n(30),d=n(7),p={minHeightContainer:{minHeight:300,flex:1,flexDirection:"column"}};t.a=function(e){var t=e.project,n=e.scope,a=e.onDone,b=e.onRequestClose,h=e.globalObjectsContainer,j=e.objectsContainer,f=e.expressionMetadata,g=e.parameterRenderingService,m=i.a.useState(Array(f.getParametersCount()).fill("")),O=Object(r.a)(m,2),v=O[0],x=O[1];return Object(d.jsx)(c.b,{title:Object(d.jsx)(o.Trans,{id:"Enter the expression parameters"}),open:!0,actions:[Object(d.jsx)(c.a,{label:Object(d.jsx)(o.Trans,{id:"Apply"}),primary:!0,onClick:function(){return a(v)}},"apply")],noMargin:!0,onRequestClose:b,onApply:function(){return a(v)},children:Object(d.jsx)(u.a,{children:Object(d.jsxs)("div",{style:p.minHeightContainer,children:[Object(d.jsx)(l.a,{children:f.getDescription()}),Object(d.jsx)(s.a,{project:t,scope:n,globalObjectsContainer:h,objectsContainer:j,expressionMetadata:f,parameterValues:v,onChangeParameter:function(e,t){x(v.map((function(n,r){return r===e?t:n})))},parameterRenderingService:g})]})})})}},function(e,t,n){"use strict";var r=n(4),o=(n(1),n(7)),a={width:"100%",position:"absolute",whiteSpace:"pre-wrap",wordWrap:"break-word",color:"transparent"},i={backgroundColor:"rgba(244, 67, 54, 0.15)",borderSizing:"border-box",borderBottom:"3px solid rgba(244, 67, 54, 0.7)"};t.a=function(e){var t=e.value,n=e.style,s=e.highlights.slice().sort((function(e,t){return e.begin-t.begin})),c=[],l=0;return s.forEach((function(e,n){var r=Math.max(e.begin,l);r!==l&&c.push(Object(o.jsx)("span",{children:t.substring(l,r)},"defaultText-".concat(n))),l<e.end&&(c.push(Object(o.jsx)("span",{style:i,children:t.substring(r,e.end)},"highlightedText-".concat(n))),l=e.end)})),l<t.length&&c.push(Object(o.jsx)("span",{children:t.substring(l)},"defaultText-end")),Object(o.jsx)("div",{style:Object(r.a)(Object(r.a)({},a),n),children:c})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return x}));var r=n(18),o=n(465),a=n(520),i=n(1021),s=n(543),c=n.n(s),l=n(1017),u=n(651),d=n(821),p=n(522),b=n(521),h=n(579),j=n(1023),f=e.gd,g=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.toLowerCase().indexOf(n)}))},m=function(e,t,n,r,o){return e.filter((function(e){return!o||e.type===t})).map((function(e){return e.name&&e.parameters?{kind:"Expression",completion:e.name,replacementStartPosition:n,replacementEndPosition:r,enumeratedExpressionMetadata:e,addParenthesis:!0,hasVisibleParameters:0!==Object(d.b)(e).length,isExact:o}:null})).filter(Boolean)},O=function(e,t){var n=t.getPrefix(),r=t.getType(),a=e.project,i=e.scope,s=[];if("layer"===r){var c=i.layout;if(c)for(var l=0;l<c.getLayersCount();l++)s.push('"'.concat(c.getLayerAt(l).getName(),'"'))}else if("sceneName"===r){if(a)for(var u=0;u<a.getLayoutsCount();u++)s.push('"'.concat(a.getLayoutAt(u).getName(),'"'))}else if("stringWithSelector"===r)s=Object(p.c)(t.getParameterMetadata()).map((function(e){return e.completion}));else if("objectPointName"===r){var d=t.getObjectName();if(!d)return[];var m=Object(b.a)(a,i.layout,d);if(!m)return[];if("Sprite"!==m.getType())return[];var O=f.asSpriteObject(m);s=Object(h.k)(O).map((function(e){return e.length>0?'"'.concat(e,'"'):null})).filter(Boolean)}else if("objectAnimationName"===r){var v=t.getObjectName();if(!v)return[];var x=Object(b.a)(a,i.layout,v);if(!x)return[];if("Sprite"!==x.getType())return[];var y=f.asSpriteObject(x);s=Object(o.mapFor)(0,y.getAnimationsCount(),(function(e){var t=y.getAnimation(e).getName();return t.length>0?'"'.concat(t,'"'):null})).filter(Boolean)}else"functionParameterName"===r&&i.eventsFunction&&(s=Object(j.a)(i.eventsFunction).map((function(e){return'"'.concat(e.getName(),'"')})));var C=g(s,n).sort(),T=t.isLastParameter();return C.map((function(e){return{kind:"Text",completion:e,replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition(),addParameterSeparator:!T}}))},v=function(e,t){var n=e.gd;return c()(Object(o.mapVector)(t,(function(t){var o=t.getCompletionKind();if(o===n.ExpressionCompletionDescription.Expression){var s=t.getObjectName();return t.getBehaviorName()?function(e,t){var n=t.getPrefix(),r=t.getType(),o=t.getBehaviorName(),a=t.isExact(),i=e.gd,s=e.globalObjectsContainer,c=e.objectsContainer,d=i.getTypeOfBehavior(s,c,o,!0),p=Object(l.b)(r,d),b=Object(u.a)(Object(l.e)(p,n),e.scope);return m(b,n,t.getReplacementStartPosition(),t.getReplacementEndPosition(),a)}(e,t):s?function(e,t){var n=t.getPrefix(),r=t.getType(),o=t.getObjectName(),a=t.isExact(),i=e.gd,s=e.globalObjectsContainer,c=e.objectsContainer,d=i.getTypeOfObject(s,c,o,!0),p=Object(l.d)(r,d),b=Object(u.a)(Object(l.e)(p,n),e.scope);return m(b,n,t.getReplacementStartPosition(),t.getReplacementEndPosition(),a)}(e,t):function(e,t){var n=t.getPrefix(),r=t.getType(),o=t.isExact(),a=Object(l.c)(r),i=Object(u.a)(Object(l.e)(a,n),e.scope);return m(i,n,t.getReplacementStartPosition(),t.getReplacementEndPosition(),o)}(e,t)}return o===n.ExpressionCompletionDescription.Object?function(e,t){var n=t.getPrefix(),o=t.getType(),i=e.gd,s=e.globalObjectsContainer,c=e.objectsContainer,l=Object(a.d)(s,c),u=l.allObjectsList,d=l.allGroupsList,p=Object(a.g)(u,{searchText:n,selectedTags:[],hideExactMatches:!0}),b=Object(a.e)(d,{searchText:n,hideExactMatches:!0}),h=!i.ParameterMetadata.isObject(o);return[].concat(Object(r.a)(p.map((function(e){var n=e.object;return{kind:"Object",completion:n.getName(),replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition(),object:n,addDot:h}}))),Object(r.a)(b.map((function(e){return{kind:"Object",completion:e.group.getName(),replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition(),addDot:h}}))))}(e,t):o===n.ExpressionCompletionDescription.Behavior?function(e,t){var n=t.getPrefix(),r=t.isExact(),o=t.getObjectName(),a=e.gd,i=e.globalObjectsContainer,s=e.objectsContainer;return a.getBehaviorsOfObject(i,s,o,!0).toJSArray().filter((function(e){return-1!==e.indexOf(n)})).map((function(e){return{kind:"Behavior",completion:e,replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition(),addNamespaceSeparator:!0,isExact:r}}))}(e,t):o===n.ExpressionCompletionDescription.Text?O(e,t):o===n.ExpressionCompletionDescription.Variable?function(e,t){var n,r=t.getPrefix(),o=t.getType(),a=t.getObjectName(),s=e.project,c=e.scope.layout;if("globalvar"===o){if(!s)return[];n=s.getVariables()}else if("scenevar"===o){if(!c)return[];n=c.getVariables()}else if("objectvar"===o){var l=Object(b.a)(s,c,a);if(!l)return[];n=l.getVariables()}var u=Object(i.a)(n).map((function(e){var t=e.name;return e.isValidName?t:null})).filter(Boolean);return g(u,r).map((function(e){return{kind:"Variable",completion:e,replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition()}}))}(e,t):[]})))},x=function(e,t){var n=e.expression,r=e.caretLocation,o=function(e){var n=t.addDot?".":t.addParameterSeparator?", ":t.addNamespaceSeparator?"::":t.addParenthesis?"()":"",r=!e||!n||e[0]!==n[0];return t.completion+(r?n:"")};if(r>n.length&&(r=n.length),0===r||!n){var a=o(void 0)+n;return{caretLocation:a.length,expression:a}}var i=t.replacementStartPosition?t.replacementStartPosition:0,s=t.replacementEndPosition?t.replacementEndPosition:n.length,c=n[s],l=n.substring(0,i),u=o(c),d=l+u+n.substring(s),p=l.length+u.length;return t.addParenthesis&&t.hasVisibleParameters&&(p-=1),{caretLocation:p,expression:d}}}).call(this,n(28))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return u}));var r=n(4),o=n(101),a=function(){return{autocompletions:[],selectedCompletionIndex:0,renderEverything:!1}},i=function(e){return e.renderEverything?0:Math.max(0,e.autocompletions.length-7)},s=function(e){return 0===i(e)?e.autocompletions:e.autocompletions.slice(0,7)},c=function(e,t){var n=e.autocompletions.length!==t.length;return{autocompletions:t,selectedCompletionIndex:n?0:e.selectedCompletionIndex,renderEverything:!n&&e.renderEverything}},l=function(e){return Object(r.a)(Object(r.a)({},e),{},{renderEverything:!0})},u=function(e,t){var n=t.event,i=t.onUpdateAutocompletions,s=t.onInsertAutocompletion;if("ArrowDown"!==n.key&&"ArrowUp"!==n.key&&"ArrowLeft"!==n.key&&"ArrowRight"!==n.key||i(),!e.autocompletions.length)return e;if("ArrowDown"===n.key)return n.preventDefault(),Object(r.a)(Object(r.a)({},e),{},{renderEverything:!0,selectedCompletionIndex:(e.selectedCompletionIndex+1)%e.autocompletions.length});if("ArrowUp"===n.key)return n.preventDefault(),Object(r.a)(Object(r.a)({},e),{},{renderEverything:!0,selectedCompletionIndex:(e.autocompletions.length+e.selectedCompletionIndex-1)%e.autocompletions.length});if(Object(o.c)(n))return n.preventDefault(),n.stopPropagation(),a();if(Object(o.g)(n)||Object(o.d)(n)){var c=e.autocompletions[e.selectedCompletionIndex];if(c){if(c.isExact)return e;s(c)}n.preventDefault()}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(12),o=n(1),a=n(2160),i=n(423),s=n(679),c=n.n(s),l=n(429),u=n(463),d=n(484),p=n(821),b=n(30),h=n(530),j=n(7),f={overflow:"hidden",overflowWrap:"break-word"},g=o.memo((function(e){var t=e.src;return Object(j.jsx)("img",{alt:"",src:t,style:{maxWidth:16,maxHeight:16}})})),m=function(e,t,n){return Object(p.b)(n).map((function(n){var r=e.getUserFriendlyTypeName(n);return r?t._(r):n})).join(", ")},O=o.forwardRef((function(e,t){var n=e.expressionAutocompletion,r=e.isSelected,o=e.onClick;return Object(j.jsx)(l.a,{style:C.button,onPointerDown:function(){o()},ref:t,children:Object(j.jsx)(u.a,{style:f,noMargin:!0,align:"left",children:r?Object(j.jsx)("b",{children:n.completion}):n.completion})})})),v=o.forwardRef((function(e,t){var n=e.expressionAutocompletion,r=e.isSelected,o=e.onClick,a=e.i18n,i=e.parameterRenderingService;if(!n.enumeratedExpressionMetadata)return null;var s=r?Object(j.jsx)("b",{children:n.completion}):n.completion;return Object(j.jsxs)(l.a,{style:C.button,onPointerDown:function(){o()},ref:t,children:[Object(j.jsx)(g,{src:n.enumeratedExpressionMetadata.iconFilename}),Object(j.jsx)(b.d,{}),Object(j.jsxs)(u.a,{style:f,noMargin:!0,align:"left",children:[s,"(",Object(j.jsx)("i",{children:m(i,a,n.enumeratedExpressionMetadata)}),")"]})]})})),x=o.forwardRef((function(e,t){var n=e.project,r=e.expressionAutocompletion,o=e.isSelected,a=e.onClick,i=n&&r.object?h.a.getThumbnail(n,r.object):"res/types/object.png",s=o?Object(j.jsx)("b",{children:r.completion}):r.completion;return Object(j.jsxs)(l.a,{style:C.button,onPointerDown:function(){a()},ref:t,children:[Object(j.jsx)(g,{src:i}),Object(j.jsx)(b.d,{}),Object(j.jsx)(u.a,{style:f,noMargin:!0,align:"left",children:s})]})})),y=o.forwardRef((function(e,t){var n=e.expressionAutocompletion,r=e.isSelected,o=e.onClick,a=r?Object(j.jsx)("b",{children:n.completion}):n.completion;return Object(j.jsxs)(l.a,{style:C.button,onPointerDown:function(){o()},ref:t,children:[Object(j.jsx)(g,{src:"res/types/behavior.png"}),Object(j.jsx)(b.d,{}),Object(j.jsx)(u.a,{style:f,noMargin:!0,align:"left",children:a})]})})),C={container:{width:370,maxHeight:150,display:"flex",overflowX:"hidden"},button:{width:"100%",paddingLeft:8,paddingRight:8,justifyContent:"flex-start"},tooManyTextContainer:{width:"100%"},popperStyle:{zIndex:c.a.tooltip+100,flex:1,display:"flex",flexDirection:"row"}};function T(e){var t=e.project,n=e.expressionAutocompletions,s=e.remainingCount,c=e.selectedCompletionIndex,l=e.anchorEl,p=e.onChoose,h=e.onScroll,g=e.parameterRenderingService,m=o.useRef(null),T=o.useRef(null);return o.useEffect((function(){m.current&&T.current&&m.current.scrollTo(T.current)}),[m,T,c]),0===n.length?null:Object(j.jsx)(r.I18n,{children:function(e){var r=e.i18n;return Object(j.jsxs)(a.a,{style:C.popperStyle,open:!0,anchorEl:l,placement:"bottom-start",disablePortal:!1,children:[Object(j.jsx)(i.a,{variant:"outlined",square:!0,style:C.container,children:Object(j.jsxs)(d.a,{ref:m,onScroll:h,children:[n.map((function(e,n){var o=c===n,a=o?T:void 0;return"Text"===e.kind||"Variable"===e.kind?Object(j.jsx)(O,{expressionAutocompletion:e,isSelected:o,onClick:function(){return p(e)},ref:a},n):"Expression"===e.kind?!e.isExact&&Object(j.jsx)(v,{expressionAutocompletion:e,onClick:function(){return p(e)},isSelected:o,i18n:r,parameterRenderingService:g,ref:a},n):"Object"===e.kind?Object(j.jsx)(x,{project:t,expressionAutocompletion:e,onClick:function(){return p(e)},isSelected:o,ref:a},n):"Behavior"===e.kind?Object(j.jsx)(y,{expressionAutocompletion:e,onClick:function(){return p(e)},isSelected:o,ref:a},n):null})),s>0&&Object(j.jsx)(b.a,{justifyContent:"flex-start",children:Object(j.jsx)(u.a,{children:"And others..."})})]})}),null!==c&&"Expression"===n[c].kind&&!n[c].isExact&&Object(j.jsx)(i.a,{variant:"outlined",square:!0,style:C.container,children:Object(j.jsx)(d.a,{autoHideScrollbar:!0,children:Object(j.jsx)(b.a,{children:Object(j.jsx)(b.c,{noMargin:!0,expand:!0,alignItems:"center",children:Object(j.jsx)(u.a,{style:f,size:"body2",children:n[c].enumeratedExpressionMetadata.metadata.getDescription()})})})})})]})}})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(503),u=n(7),d=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return Object(u.jsx)(l.a,Object(r.a)({expressionType:"string",ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(503),u=n(522),d=n(7),p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return Object(d.jsx)(l.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(t){return Object(u.c)(e.props.parameterMetadata).filter((function(e){return 0===e.completion.indexOf(t)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(522),u=n(514),d=n(7),p=e.gd,b=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var o;Object(r.a)(this,n),(o=t.call(this,e)).state={errorText:null},o._behaviorNames=[],o._getError=function(e){return e||o.props.value?0!==o._behaviorNames.filter((function(e){return o.props.value===e})).length?null:"This behavior is not attached to the object":null},o._doValidation=function(e){o.setState({errorText:o._getError(e)})},o._forceChooseBehavior=function(){1===o._behaviorNames.length&&o.props.value!==o._behaviorNames[0]&&o.props.onChange(o._behaviorNames[0])};var a=o.props.parameterMetadata;return o._description=a?a.getDescription():void 0,o._longDescription=a?a.getLongDescription():void 0,o._behaviorTypeAllowed=a?a.getExtraInfo():void 0,o}return Object(o.a)(n,[{key:"_updateBehaviorsList",value:function(){var e=this,t=this.props,n=t.instructionMetadata,r=t.instruction,o=t.expressionMetadata,a=t.expression,i=t.parameterIndex,s=Object(l.b)({instructionMetadata:n,instruction:r,expressionMetadata:o,expression:a,parameterIndex:i});s&&(this._behaviorNames=p.getBehaviorsOfObject(this.props.globalObjectsContainer,this.props.objectsContainer,s,!0).toJSArray().filter((function(t){return!e._behaviorTypeAllowed||p.getTypeOfBehavior(e.props.globalObjectsContainer,e.props.objectsContainer,t,!1)===e._behaviorTypeAllowed})))}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"componentDidUpdate",value:function(){this._forceChooseBehavior()}},{key:"componentDidMount",value:function(){this._forceChooseBehavior()}},{key:"render",value:function(){var e=this;this._updateBehaviorsList();var t=""!==this._behaviorTypeAllowed?Object(d.jsx)(s.Trans,{id:"The behavior is not attached to this object. Please select another object or add this behavior."}):Object(d.jsx)(s.Trans,{id:"This object has no behaviors: please add this behavior to the object first."});return Object(d.jsx)(u.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:this._description,helperMarkdownText:this._longDescription,fullWidth:!0,errorText:this._behaviorNames.length?this.state.errorText:t,value:this.props.value,onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,onBlur:function(t){e._doValidation(t.currentTarget.value)},dataSource:this._behaviorNames.map((function(e){return{text:e,value:e}})),openOnFocus:!this.props.isInline,disabled:this._behaviorNames.length<=1,ref:function(t){return e._field=t}})}}]),n}(c.Component)}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(823),u=n(597),d=n(576),p=n(7),b=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={editorOpen:!1},e}return Object(o.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.scope,o=function(){return n?d.a.findAllGlobalVariables(n.getCurrentPlatform(),n):[]};return Object(p.jsxs)(c.Fragment,{children:[Object(p.jsx)(l.a,{variablesContainer:n?n.getVariables():null,onComputeAllVariableNames:o,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:r}),this.state.editorOpen&&n&&Object(p.jsx)(u.a,{title:Object(p.jsx)(s.Trans,{id:"Global Variables"}),open:this.state.editorOpen,variablesContainer:n.getVariables(),onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1}),e._field&&e._field.updateAutocompletions()},emptyPlaceholderTitle:Object(p.jsx)(s.Trans,{id:"Add your first global variable"}),emptyPlaceholderDescription:Object(p.jsx)(s.Trans,{id:"These variables hold additional information on a project."}),helpPagePath:"/all-features/variables/global-variables",onComputeAllVariableNames:o})]})}}]),n}(c.Component),h=function(e){return Object(l.b)(e,"res/types/globalvar.png","global variable")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return j}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(823),u=n(597),d=n(522),p=n(576),b=n(7),h=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={editorOpen:!1},e}return Object(o.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.scope,o=t.instructionMetadata,a=t.instruction,i=t.expressionMetadata,h=t.expression,j=t.parameterIndex,f=Object(d.b)({instructionMetadata:o,instruction:a,expressionMetadata:i,expression:h,parameterIndex:j}),g=r.layout,m=null,O=null;f&&(g&&g.hasObjectNamed(f)?O=(m=g.getObject(f)).getVariables():n&&n.hasObjectNamed(f)&&(O=(m=n.getObject(f)).getVariables()));var v=function(){return n&&g&&m?p.a.findAllObjectVariables(n.getCurrentPlatform(),n,g,m):[]};return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)(l.a,{variablesContainer:O,onComputeAllVariableNames:v,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:r}),this.state.editorOpen&&O&&Object(b.jsx)(u.a,{title:Object(b.jsx)(s.Trans,{id:"Object Variables"}),open:this.state.editorOpen,variablesContainer:O,emptyPlaceholderTitle:Object(b.jsx)(s.Trans,{id:"Add your first object variable"}),emptyPlaceholderDescription:Object(b.jsx)(s.Trans,{id:"These variables hold additional information on an object."}),helpPagePath:"/all-features/variables/object-variables",onComputeAllVariableNames:v,onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1}),e._field&&e._field.updateAutocompletions()}})]})}}]),n}(c.Component),j=function(e){return Object(l.b)(e,"res/types/objectvar.png","object variable")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(465),u=n(503),d=n(7),p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props.scope.layout,n=t?Object(l.mapFor)(0,t.getLayersCount(),(function(e){var n=t.getLayerAt(e);return{kind:"Text",completion:'"'.concat(n.getName(),'"')}})):[];return Object(d.jsx)(u.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(e){return n.filter((function(t){return 0===t.completion.indexOf(e)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(12),o=n(1),a=n(535),i=n(477),s=n(7),c=o.forwardRef((function(e,t){var n=o.useRef(null),c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.current&&n.current.focus(e)};return o.useImperativeHandle(t,(function(){return{focus:c}})),e.resourceSources&&e.onChooseResource&&e.resourceExternalEditors&&e.project?Object(s.jsx)(a.a,{margin:e.isInline?"none":"dense",project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,resourcesLoader:i.a,resourceKind:"image",fullWidth:!0,initialResourceName:e.value,onChange:e.onChange,floatingLabelText:Object(s.jsx)(r.Trans,{id:"Choose the image file to use"}),onRequestClose:e.onRequestClose,onApply:e.onApply,ref:n}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for ImageResourceField"),null)}));t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(535),u=n(477),d=n(7),p=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?Object(d.jsx)(l.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:u.a,resourceKind:"audio",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:Object(d.jsx)(s.Trans,{id:"Choose the audio file to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for AudioResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(535),u=n(477),d=n(7),p=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?Object(d.jsx)(l.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:u.a,resourceKind:"video",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:Object(d.jsx)(s.Trans,{id:"Choose the video file to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for VideoResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(535),u=n(477),d=n(7),p=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?Object(d.jsx)(l.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:u.a,resourceKind:"json",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:Object(d.jsx)(s.Trans,{id:"Choose the json file to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for JsonResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(535),u=n(477),d=n(7),p=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?Object(d.jsx)(l.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:u.a,resourceKind:"bitmapFont",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:Object(d.jsx)(s.Trans,{id:"Choose the bitmap font file (.fnt, .xml) to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for BitmapFontResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(535),u=n(477),d=n(7),p=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?Object(d.jsx)(l.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:u.a,resourceKind:"font",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:Object(d.jsx)(s.Trans,{id:"Choose the font file to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for FontResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(503),u=n(604),d=n(497),p=n(7),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this;return Object(p.jsx)(l.a,Object(r.a)({expressionType:"string",ref:function(t){return e._field=t},renderExtraButton:function(t){var n=t.style;return Object(p.jsx)(u.a,{style:n,disableAlpha:!0,color:Object(d.h)(e.props.value),onChangeComplete:function(t){e.props.onChange('"'+t.rgb.r+";"+t.rgb.g+";"+t.rgb.b+'"')}})},onExtractAdditionalErrors:function(e,t){return e.trim().startsWith('"\\"')?"A color is a text in the format R;G;B, like 100;200;180 (numbers going from 0 to 255). You need to surround the text with quotes, but the text itself should not contain a quote inside.":null}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n.n(l),d=n(137),p=n(30),b=n(503),h=n(506),j=n(820),f=n(463),g=n(7),m=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._instantButton=u.a.createRef(),e.state={showDeprecatedNumericValue:""!==e.props.value&&"1"!==e.props.value&&"0"!==e.props.value},e}return Object(a.a)(n,[{key:"focus",value:function(){Object(j.a)(this._instantButton)}},{key:"render",value:function(){var e=this,t=this.state.showDeprecatedNumericValue;return Object(g.jsxs)(p.a,{expand:!0,noMargin:!0,children:[Object(g.jsxs)(p.c,{expand:!0,alignItems:"center",children:[Object(g.jsx)(p.a,{children:Object(g.jsx)(d.a,{label:Object(g.jsx)(c.Trans,{id:"Instant"}),primary:""===this.props.value||"0"===this.props.value,onClick:function(){return e.props.onChange("0")},ref:this._instantButton})}),Object(g.jsx)(p.a,{children:Object(g.jsx)(f.a,{children:Object(g.jsx)(c.Trans,{id:"The force will only push the object during the time of one frame. Typically used in an event with no conditions or with conditions that stay valid for a certain amount of time."})})})]}),Object(g.jsxs)(p.c,{expand:!0,alignItems:"center",children:[Object(g.jsx)(p.a,{children:Object(g.jsx)(d.a,{label:Object(g.jsx)(c.Trans,{id:"Permanent"}),primary:"1"===this.props.value,onClick:function(){return e.props.onChange("1")}})}),Object(g.jsx)(p.a,{children:Object(g.jsx)(f.a,{children:Object(g.jsx)(c.Trans,{id:'The force will push the object forever, unless you use the action "Stop the object". Typically used in an event with conditions that are only true once, or with a "Trigger Once" condition.'})})})]}),t&&Object(g.jsxs)(u.a.Fragment,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(c.Trans,{id:"or"})}),Object(g.jsx)(p.c,{expand:!0,children:Object(g.jsx)(p.a,{expand:!0,children:Object(g.jsx)(b.a,Object(r.a)({expressionType:"number"},this.props))})}),Object(g.jsx)(h.a,{children:Object(g.jsx)(c.Trans,{id:'The usage of a number or expression is deprecated. Please now use only "Permanent" or "Instant" for configuring forces.'})})]})]})}}]),n}(l.Component),O=function(e){var t=e.value;return"1"===t?Object(g.jsx)(c.Trans,{id:"a permanent"}):"0"===t||""===t?Object(g.jsx)(c.Trans,{id:"an instant"}):"a (multiplier: "+t+")"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(503),u=n(607),d=n(7),p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props.project?Object(u.d)(this.props.project).map((function(e){return{kind:"Text",completion:'"'.concat(e.getName(),'"')}})):[];return Object(d.jsx)(l.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(e){return t.filter((function(t){return 0===t.completion.indexOf(e)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n(503),i=n(522),s=n(824),c=n(7);t.a=o.forwardRef((function(e,t){var n=o.useRef(null);o.useImperativeHandle(t,(function(){return{focus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.current&&n.current.focus(e)}}}));return Object(c.jsx)(a.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(t){return function(){var t=e.scope,n=e.instruction,r=e.expression,o=e.parameterIndex,a=t.layout;if(!a)return[];var c=Object(i.e)(Object(i.d)({instruction:n,expression:r,parameterIndex:o}));if(null==c||!a.hasLayerNamed(c))return[];var l=a.getLayer(c);return Object(s.a)(l.getEffects()).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:n},e))}))},function(e,t,n){"use strict";(function(e){var r=n(4),o=n(1),a=n(503),i=n(522),s=n(7),c=e.gd;t.a=o.forwardRef((function(e,t){var n=o.useRef(null);o.useImperativeHandle(t,(function(){return{focus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.current&&n.current.focus(e)}}}));return Object(s.jsx)(a.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(t){return function(){var t=e.project,n=e.scope,r=e.instruction,o=e.expression,a=e.parameterIndex,s=n.layout;if(!s||!t)return[];var l=Object(i.e)(Object(i.d)({instruction:r,expression:o,parameterIndex:a?a-1:null}));if(null==l||!s.hasLayerNamed(l))return[];var u=s.getLayer(l),d=Object(i.e)(Object(i.d)({instruction:r,expression:o,parameterIndex:a}));if(!d||!u.getEffects().hasEffectNamed(d))return[];var p=u.getEffects().getEffect(d).getEffectType();return c.MetadataProvider.getEffectMetadata(t.getCurrentPlatform(),p).getProperties().keys().toJSArray().sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:n},e))}))}).call(this,n(28))},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n(503),i=n(521),s=n(522),c=n(824),l=n(7);t.a=o.forwardRef((function(e,t){var n=o.useRef(null);o.useImperativeHandle(t,(function(){return{focus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.current&&n.current.focus(e)}}}));var u=e.project,d=e.scope,p=e.instructionMetadata,b=e.instruction,h=e.expressionMetadata,j=e.expression,f=e.parameterIndex,g=function(){var e=Object(s.b)({instructionMetadata:p,instruction:b,expressionMetadata:h,expression:j,parameterIndex:f});if(!e||!u)return[];var t=Object(i.a)(u,d.layout,e);return t?Object(c.a)(t.getEffects()).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}})):[]};return Object(l.jsx)(a.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(e){return g().filter((function(t){return 0===t.completion.indexOf(e)}))},ref:n},e))}))},function(e,t,n){"use strict";(function(e){var r=n(4),o=n(1),a=n(503),i=n(521),s=n(522),c=n(7),l=e.gd;t.a=o.forwardRef((function(e,t){var n=o.useRef(null);o.useImperativeHandle(t,(function(){return{focus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.current&&n.current.focus(e)}}}));return Object(c.jsx)(a.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(t){return function(){var t=e.project,n=e.scope,r=e.instructionMetadata,o=e.instruction,a=e.expressionMetadata,c=e.expression,u=e.parameterIndex,d=Object(s.b)({instructionMetadata:r,instruction:o,expressionMetadata:a,expression:c,parameterIndex:u}),p=Object(s.e)(Object(s.d)({instruction:o,expression:c,parameterIndex:u}));if(!d||!t||!p)return[];var b=Object(i.a)(t,n.layout,d);if(!b||!b.getEffects().hasEffectNamed(p))return[];var h=b.getEffects().getEffect(p).getEffectType();return l.MetadataProvider.getEffectMetadata(t.getCurrentPlatform(),h).getProperties().keys().toJSArray().sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:n},e))}))}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(503),u=n(521),d=n(522),p=n(579),b=n(7),h=e.gd,j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"getPointNames",value:function(){var e=this.props,t=e.project,n=e.scope,r=e.instructionMetadata,o=e.instruction,a=e.expressionMetadata,i=e.expression,s=e.parameterIndex,c=Object(d.b)({instructionMetadata:r,instruction:o,expressionMetadata:a,expression:i,parameterIndex:s});if(!c||!t)return[];var l=Object(u.a)(t,n.layout,c);if(!l)return[];if("Sprite"===l.getType()){var b=h.asSpriteObject(l);return Object(p.k)(b).map((function(e){return e.length>0?e:null})).filter(Boolean).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}return[]}},{key:"render",value:function(){var e=this;return Object(b.jsx)(l.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(t){return e.getPointNames().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(503),u=n(521),d=n(522),p=n(465),b=n(7),h=e.gd,j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"getAnimationNames",value:function(){var e=this.props,t=e.project,n=e.scope,r=e.instructionMetadata,o=e.instruction,a=e.expressionMetadata,i=e.expression,s=e.parameterIndex,c=Object(d.b)({instructionMetadata:r,instruction:o,expressionMetadata:a,expression:i,parameterIndex:s});if(!c||!t)return[];var l=Object(u.a)(t,n.layout,c);if(!l)return[];if("Sprite"===l.getType()){var b=h.asSpriteObject(l);return Object(p.mapFor)(0,b.getAnimationsCount(),(function(e){var t=b.getAnimation(e).getName();return t.length>0?t:null})).filter(Boolean).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}return[]}},{key:"render",value:function(){var e=this;return Object(b.jsx)(l.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(t){return e.getAnimationNames().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(503),u=n(1023),d=n(7),p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props.scope.eventsFunction?Object(u.a)(this.props.scope.eventsFunction).map((function(e){return{kind:"Text",completion:'"'.concat(e.getName(),'"')}})):[];return Object(d.jsx)(l.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(e){return t.filter((function(t){return 0===t.completion.indexOf(e)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(503),u=n(607),d=n(7),p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._field&&this._field.focus(e)}},{key:"render",value:function(){var e=this,t=this.props.project?Object(u.c)(this.props.project).map((function(e){return{kind:"Text",completion:'"'.concat(e.getName(),'"')}})):[];return Object(d.jsx)(l.a,Object(r.a)({expressionType:"string",onGetAdditionalAutocompletions:function(e){return t.filter((function(t){return 0===t.completion.indexOf(e)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(c.Component)},,function(e,t,n){"use strict";n(1);var r=n(494),o=n(7);t.a=function(e){var t=e.children;return e.isEmpty?Object(o.jsxs)("span",{className:r.k,children:["< ",t," >"]}):Object(o.jsx)("span",{className:r.k,children:t})}},function(e,t,n){"use strict";n(1);var r=n(494),o=n(7);t.a=function(){return Object(o.jsx)("span",{className:r.l})}},function(e,t,n){"use strict";var r=n(4),o=n(1),a=n.n(o),i=n(890),s=n(7);t.a=a.a.memo(a.a.forwardRef((function(e,t){return Object(s.jsxs)(i.a,Object(r.a)(Object(r.a)({viewBox:"10 10 54 54"},e),{},{ref:t,children:[Object(s.jsx)("path",{d:"M30.5461 30.5034L28.3521 34.288C30.0252 35.8147 31.6363 36.9026 34.934 37.9129L36.1222 33.5573C33.9641 32.8388 31.7827 31.6259 30.5461 30.5034Z",fill:"#29ABE1"}),Object(s.jsx)("path",{d:"M24.4035 30.8975C24.4035 30.8975 25.544 32.6156 26.0043 32.2051L27.8585 28.4191C25.9976 26.5822 24.4035 23.6184 24.4035 19.5989C24.4035 32.6265 24.4035 26.5737 24.4035 30.8975Z",fill:"#29ABE1"}),Object(s.jsx)("path",{d:"M44.9316 26.7094L55.9031 36.8682L44.9316 47.0269L44.9316 39.357C42.7099 39.3063 40.7076 39.1539 38.9796 38.8745L39.8706 34.288C41.1872 34.4658 43.2036 34.8111 44.9316 34.8365L44.9316 26.7094Z",fill:"#29ABE1"}),Object(s.jsx)("path",{d:"M20.4015 51.1301L24.4035 51.1301C24.758 37.0402 24.4035 22.938 24.4035 8.84436L20.4015 8.84435L20.4015 19.6497C20.4015 29.4361 20.669 40.0776 20.4015 51.1301Z",fill:"#2B3990"}),Object(s.jsx)("path",{d:"M22.4813 59.5759C26.4597 59.5759 29.6848 56.3507 29.6848 52.3723C29.6848 48.3939 26.4597 45.1688 22.4813 45.1688C18.5029 45.1688 15.2777 48.3939 15.2777 52.3723C15.2777 56.3507 18.5029 59.5759 22.4813 59.5759Z",fill:"#29ABE1"}),Object(s.jsx)("path",{d:"M22.4813 55.9741C24.4705 55.9741 26.083 54.3615 26.083 52.3723C26.083 50.3831 24.4705 48.7706 22.4813 48.7706C20.4921 48.7706 18.8795 50.3831 18.8795 52.3723C18.8795 54.3615 20.4921 55.9741 22.4813 55.9741Z",fill:"white"})]}))})))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var r=n(4),o=n(2),a=n(9),i=n(8),s=n(13),c=n(14),l=n(12),u=n(1),d=n(87),p=n.n(d),b=n(469),h=n(494),j=n(101),f=n(7),g=e.gd,m={container:{height:"2.5em",display:"flex",alignItems:"center",padding:5,overflow:"hidden"},title:{fontSize:"1.3em",width:"100%"}},O=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1,editingPreviousValue:null},e._textField=null,e.edit=function(){var t=g.asGroupEvent(e.props.event);e.state.editingPreviousValue||e.setState({editingPreviousValue:t.getName()}),e.setState({editing:!0},(function(){e._textField&&e._textField.focus()}))},e.endEditing=function(){e.setState({editing:!1}),g.asGroupEvent(e.props.event).getName()!==e.state.editingPreviousValue&&(e.props.onEndEditingEvent(),e.setState({editingPreviousValue:null}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e,t,n=this,a=g.asGroupEvent(this.props.event),i=a.getBackgroundColorR(),s=a.getBackgroundColorG(),c=a.getBackgroundColorB(),u=(i+s+c)/3>200?"black":"white";return Object(f.jsx)("div",{className:p()((e={},Object(o.a)(e,h.o,!0),Object(o.a)(e,h.p,this.props.selected),e)),style:Object(r.a)(Object(r.a)({},m.container),{},{backgroundColor:"rgb(".concat(i,", ").concat(s,", ").concat(c,")")}),onClick:this.edit,onKeyPress:function(e){Object(j.a)(e)&&n.edit()},tabIndex:0,children:this.state.editing?Object(f.jsx)(b.b,{ref:function(e){return n._textField=e},value:a.getName(),hintText:{id:"<Enter group name>"},onBlur:this.endEditing,onChange:function(e,t){a.setName(t),n.forceUpdate()},style:m.title,inputStyle:{color:u,WebkitTextFillColor:u},underlineFocusStyle:{borderColor:u},fullWidth:!0,id:"group-title",onKeyUp:function(e){Object(j.c)(e)&&n.endEditing()},onKeyPress:function(e){Object(j.g)(e)&&n.endEditing()}}):Object(f.jsx)("span",{className:p()((t={},Object(o.a)(t,h.s,!0),Object(o.a)(t,h.d,this.props.disabled),t)),style:Object(r.a)(Object(r.a)({},m.title),{},{color:u}),children:a.getName()?a.getName():Object(f.jsx)(l.Trans,{id:"<Enter group name>"})})})}}]),n}(u.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(2),o=n(9),a=n(8),i=n(13),s=n(14),c=n(4),l=n(1),u=n(87),d=n.n(u),p=n(469),b=n(497),h=n(494),j=n(101),f=n(7),g=e.gd,m={width:"100%"},O={container:{display:"flex",flexWrap:"wrap",padding:5,overflow:"hidden",minHeight:"2.1em"},commentTextField:m,commentSpan:Object(c.a)(Object(c.a)({},m),{},{boxSizing:"border-box",alignItems:"center",height:"100%",whiteSpace:"pre-wrap",lineHeight:1.5,border:1})},v=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={editing:!1,editingPreviousValue:null},e.edit=function(){var t=g.asCommentEvent(e.props.event);e.setState({editing:!0,editingPreviousValue:t.getComment()},(function(){e._textField&&e._textField.focus()}))},e.onEvent=function(t,n){g.asCommentEvent(e.props.event).setComment(n),e.props.onUpdate(),e.forceUpdate()},e.endEditing=function(){if(e._textField){var t=g.asCommentEvent(e.props.event);e.state.editingPreviousValue!==t.getComment()&&e.props.onEndEditingEvent(),e.setState({editing:!1,editingPreviousValue:null},(function(){return e.props.onUpdate()}))}},e._getCommentHTML=function(){return g.asCommentEvent(e.props.event).getComment().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")},e}return Object(a.a)(n,[{key:"render",value:function(){var e,t,n=this,o=g.asCommentEvent(this.props.event),a=Object(b.j)(o.getBackgroundColorRed(),o.getBackgroundColorGreen(),o.getBackgroundColorBlue()),i=Object(b.j)(o.getTextColorRed(),o.getTextColorGreen(),o.getTextColorBlue());return Object(f.jsx)("div",{className:d()((e={},Object(r.a)(e,h.o,!0),Object(r.a)(e,h.p,this.props.selected),e)),style:Object(c.a)(Object(c.a)({},O.container),{},{backgroundColor:"#".concat(a)}),onClick:this.edit,onKeyPress:function(e){Object(j.a)(e)&&n.edit()},tabIndex:0,children:this.state.editing?Object(f.jsx)(p.b,{multiline:!0,margin:"none",ref:function(e){return n._textField=e},value:o.getComment(),hintText:{id:"<Enter comment>"},onBlur:this.endEditing,onChange:this.onEvent,style:O.commentTextField,inputStyle:{color:"#".concat(i),padding:0,lineHeight:1.5,fontSize:"1em"},underlineFocusStyle:{borderColor:"#".concat(i)},fullWidth:!0,id:"comment-title",onKeyUp:function(e){Object(j.c)(e)&&n.endEditing()}}):Object(f.jsx)("span",{ref:function(e){return n._selectable=e},className:d()((t={},Object(r.a)(t,h.s,!0),Object(r.a)(t,h.d,this.props.disabled),t)),style:Object(c.a)(Object(c.a)({},O.commentSpan),{},{color:"#".concat(i)}),dangerouslySetInnerHTML:{__html:this._getCommentHTML()}})})}}]),n}(l.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(4),o=n(2),a=n(9),i=n(8),s=n(13),c=n(14),l=n(12),u=n(1),d=n(611),p=n(87),b=n.n(p),h=n(494),j=n(613),f=n(815),g=n(652),m=n(101),O=n(7),v=e.gd,x={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},y=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._objectField=null,e.state={editing:!1,editingPreviousValue:null,anchorEl:null},e.edit=function(t){var n=v.asForEachEvent(e.props.event).getObjectToPick(),r=t.currentTarget;setTimeout((function(){return e.setState({editing:!0,editingPreviousValue:n,anchorEl:r},(function(){setTimeout((function(){e._objectField&&e._objectField.focus()}),10)}))}),10)},e.cancelEditing=function(){e.endEditing();var t=v.asForEachEvent(e.props.event),n=e.state.editingPreviousValue;null!=n&&(t.setObjectToPick(n),e.forceUpdate())},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editing:!1,editingPreviousValue:null,anchorEl:null})},e}return Object(i.a)(n,[{key:"render",value:function(){var e,t,n=this,a=v.asForEachEvent(this.props.event),i=a.getObjectToPick();return Object(O.jsxs)("div",{style:x.container,className:b()((e={},Object(o.a)(e,h.o,!0),Object(o.a)(e,h.p,this.props.selected),Object(o.a)(e,h.h,!0),e)),children:[Object(O.jsx)("div",{children:Object(O.jsx)("span",{className:b()((t={},Object(o.a)(t,h.s,!0),Object(o.a)(t,h.d,this.props.disabled),t)),onClick:this.edit,onKeyPress:function(e){Object(m.a)(e)&&n.edit(e)},tabIndex:0,children:i?Object(O.jsx)(l.Trans,{id:"Repeat for each instance of {objectName}:",values:{objectName:i}}):Object(O.jsx)("i",{children:Object(O.jsx)(l.Trans,{id:"Click to choose for which objects this event will be repeated"})})})}),Object(O.jsx)(g.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(e){var t=e.style,r=e.className;return Object(O.jsx)(d.a,{instrsList:a.getConditions(),style:t,className:r,selection:n.props.selection,areConditions:!0,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onInstructionContextMenu:n.props.onInstructionContextMenu,onAddInstructionContextMenu:n.props.onAddInstructionContextMenu,onParameterClick:n.props.onParameterClick,disabled:n.props.disabled,renderObjectThumbnail:n.props.renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth,globalObjectsContainer:n.props.globalObjectsContainer,objectsContainer:n.props.objectsContainer})},renderActionsList:function(e){var t=e.className;return Object(O.jsx)(d.a,{instrsList:a.getActions(),style:Object(r.a)({},x.actionsList),className:t,selection:n.props.selection,areConditions:!1,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onInstructionContextMenu:n.props.onInstructionContextMenu,onAddInstructionContextMenu:n.props.onAddInstructionContextMenu,onParameterClick:n.props.onParameterClick,disabled:n.props.disabled,renderObjectThumbnail:n.props.renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth,globalObjectsContainer:n.props.globalObjectsContainer,objectsContainer:n.props.objectsContainer})}}),Object(O.jsx)(j.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing,children:Object(O.jsx)(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:i,onChange:function(e){a.setObjectToPick(e),n.props.onUpdate()},isInline:!0,onRequestClose:this.cancelEditing,onApply:this.endEditing,ref:function(e){return n._objectField=e}})})]})}}]),n}(u.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(4),o=n(2),a=n(9),i=n(8),s=n(13),c=n(14),l=n(12),u=n(1),d=n(611),p=n(87),b=n.n(p),h=n(494),j=n(613),f=n(1024),g=n(652),m=n(101),O=n(7),v=e.gd,x={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1},variableContainer:{marginLeft:"3px",marginRight:"2px"},eventLabel:{marginLeft:"5px",whiteSpace:"normal",wordWrap:"break-word"}},y=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._valueIteratorField=null,e._keyIteratorField=null,e._iterableField=null,e.state={editingValueIteratorVariableName:!1,editingKeyIteratorVariableName:!1,editingIterableVariableName:!1,editingPreviousValue:null,anchorEl:null},e.edit=function(t,n){var r=v.asForEachChildVariableEvent(e.props.event),o=r.getValueIteratorVariableName(),a=r.getKeyIteratorVariableName(),i=r.getIterableVariableName();setTimeout((function(){return e.setState({editingValueIteratorVariableName:"iteratorValue"===t,editingKeyIteratorVariableName:"iteratorKey"===t,editingIterableVariableName:"iterable"===t,editingPreviousValue:"iterable"===t?i:"iteratorValue"===t?o:a,anchorEl:n},(function(){setTimeout((function(){var n="iterable"===t?e._iterableField:"iteratorValue"===t?e._valueIteratorField:e._keyIteratorField;n&&n.focus()}),10)}))}),10)},e.cancelEditing=function(){e.endEditing();var t=v.asForEachChildVariableEvent(e.props.event),n=e.state,r=n.editingPreviousValue,o=n.editingIterableVariableName,a=n.editingValueIteratorVariableName,i=n.editingKeyIteratorVariableName;null!=r&&(o?t.setIterableVariableName(r):a?t.setValueIteratorVariableName(r):i&&t.setKeyIteratorVariableName(r),e.forceUpdate())},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editingKeyIteratorVariableName:!1,editingValueIteratorVariableName:!1,editingIterableVariableName:!1,editingPreviousValue:null,anchorEl:null})},e}return Object(i.a)(n,[{key:"render",value:function(){var e,t,n,a,i=this,s=v.asForEachChildVariableEvent(this.props.event),c=s.getValueIteratorVariableName(),u=s.getKeyIteratorVariableName(),p=s.getIterableVariableName();return Object(O.jsxs)("div",{style:x.container,className:b()((e={},Object(o.a)(e,h.h,!0),Object(o.a)(e,h.o,!0),Object(o.a)(e,h.p,this.props.selected),e)),children:[Object(O.jsx)("div",{style:x.eventLabel,children:Object(O.jsx)(l.Trans,{id:"<0>For every child in<1><2/>{0}</1>, store the child in variable<3><4/>{1}</3>, the child name in<5><6/>{2}</5>and do:</0>",values:{0:0!==p.length?Object(O.jsx)("span",{children:p}):Object(O.jsx)("span",{className:"instruction-missing-parameter",children:Object(O.jsx)(l.Trans,{id:"<Select a variable>"})}),1:0!==c.length?Object(O.jsx)("span",{children:c}):Object(O.jsx)("span",{children:Object(O.jsx)(l.Trans,{id:"<Select a variable> (optional)"})}),2:0!==u.length?Object(O.jsx)("span",{children:u}):Object(O.jsx)("span",{children:Object(O.jsx)(l.Trans,{id:"<Select a variable> (optional)"})})},components:[Object(O.jsx)("span",{className:b()(Object(o.a)({},h.d,this.props.disabled))}),Object(O.jsx)("span",{className:b()((t={},Object(o.a)(t,h.s,!0),Object(o.a)(t,h.m,!0),Object(o.a)(t,h.r,!0),Object(o.a)(t,"scenevar",!0),t)),style:x.variableContainer,onClick:function(e){return i.edit("iterable",e.currentTarget)},onKeyPress:function(e){Object(m.a)(e)&&i.edit("iterable",e.currentTarget)},tabIndex:0}),Object(O.jsx)("img",{className:h.j,src:"res/types/scenevar.png",alt:"Scene variable"}),Object(O.jsx)("span",{className:b()((n={},Object(o.a)(n,h.s,!0),Object(o.a)(n,h.m,!0),Object(o.a)(n,h.r,!0),Object(o.a)(n,"scenevar",!0),n)),style:x.variableContainer,onClick:function(e){return i.edit("iteratorValue",e.currentTarget)},onKeyPress:function(e){Object(m.a)(e)&&i.edit("iteratorValue",e.currentTarget)},tabIndex:0}),Object(O.jsx)("img",{className:h.j,src:"res/types/scenevar.png",alt:"Scene variable"}),Object(O.jsx)("span",{className:b()((a={},Object(o.a)(a,h.s,!0),Object(o.a)(a,h.m,!0),Object(o.a)(a,h.r,!0),Object(o.a)(a,"scenevar",!0),a)),style:x.variableContainer,onClick:function(e){return i.edit("iteratorKey",e.currentTarget)},onKeyPress:function(e){Object(m.a)(e)&&i.edit("iteratorKey",e.currentTarget)},tabIndex:0}),Object(O.jsx)("img",{className:h.j,src:"res/types/scenevar.png",alt:"Scene variable"})]})}),Object(O.jsx)(g.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(e){var t=e.style,n=e.className;return Object(O.jsx)(d.a,{instrsList:s.getConditions(),style:t,className:n,selection:i.props.selection,areConditions:!0,onAddNewInstruction:i.props.onAddNewInstruction,onPasteInstructions:i.props.onPasteInstructions,onMoveToInstruction:i.props.onMoveToInstruction,onMoveToInstructionsList:i.props.onMoveToInstructionsList,onInstructionClick:i.props.onInstructionClick,onInstructionDoubleClick:i.props.onInstructionDoubleClick,onInstructionContextMenu:i.props.onInstructionContextMenu,onAddInstructionContextMenu:i.props.onAddInstructionContextMenu,onParameterClick:i.props.onParameterClick,disabled:i.props.disabled,renderObjectThumbnail:i.props.renderObjectThumbnail,screenType:i.props.screenType,windowWidth:i.props.windowWidth,globalObjectsContainer:i.props.globalObjectsContainer,objectsContainer:i.props.objectsContainer})},renderActionsList:function(e){var t=e.className;return Object(O.jsx)(d.a,{instrsList:s.getActions(),style:Object(r.a)({},x.actionsList),className:t,selection:i.props.selection,areConditions:!1,onAddNewInstruction:i.props.onAddNewInstruction,onPasteInstructions:i.props.onPasteInstructions,onMoveToInstruction:i.props.onMoveToInstruction,onMoveToInstructionsList:i.props.onMoveToInstructionsList,onInstructionClick:i.props.onInstructionClick,onInstructionDoubleClick:i.props.onInstructionDoubleClick,onInstructionContextMenu:i.props.onInstructionContextMenu,onAddInstructionContextMenu:i.props.onAddInstructionContextMenu,onParameterClick:i.props.onParameterClick,disabled:i.props.disabled,renderObjectThumbnail:i.props.renderObjectThumbnail,screenType:i.props.screenType,windowWidth:i.props.windowWidth,globalObjectsContainer:i.props.globalObjectsContainer,objectsContainer:i.props.objectsContainer})}}),Object(O.jsx)(j.a,{open:this.state.editingValueIteratorVariableName,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing,children:Object(O.jsx)(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:c,onChange:function(e){s.setValueIteratorVariableName(e),i.props.onUpdate()},isInline:!0,onRequestClose:this.cancelEditing,onApply:this.endEditing,ref:function(e){return i._valueIteratorField=e}})}),Object(O.jsx)(j.a,{open:this.state.editingKeyIteratorVariableName,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing,children:Object(O.jsx)(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:u,onChange:function(e){s.setKeyIteratorVariableName(e),i.props.onUpdate()},isInline:!0,onRequestClose:this.cancelEditing,onApply:this.endEditing,ref:function(e){return i._keyIteratorField=e}})}),Object(O.jsx)(j.a,{open:this.state.editingIterableVariableName,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing,children:Object(O.jsx)(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:p,onChange:function(e){s.setIterableVariableName(e),i.props.onUpdate()},isInline:!0,onRequestClose:this.cancelEditing,onApply:this.endEditing,ref:function(e){return i._iterableField=e}})})]})}}]),n}(u.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(4),o=n(2),a=n(9),i=n(8),s=n(13),c=n(14),l=n(12),u=n(1),d=n(611),p=n(87),b=n.n(p),h=n(494),j=n(613),f=n(1009),g=n(652),m=n(101),O=n(7),v=e.gd,x={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},y=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._field=null,e.state={editing:!1,editingPreviousValue:null,anchorEl:null},e.edit=function(t){var n=v.asRepeatEvent(e.props.event).getRepeatExpression(),r=t.currentTarget;setTimeout((function(){return e.setState({editing:!0,editingPreviousValue:n,anchorEl:r},(function(){setTimeout((function(){e._field&&e._field.focus()}),10)}))}),10)},e.cancelEditing=function(){e.endEditing();var t=v.asRepeatEvent(e.props.event),n=e.state.editingPreviousValue;null!=n&&(t.setRepeatExpression(n),e.forceUpdate())},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editing:!1,editingPreviousValue:null,anchorEl:null})},e}return Object(i.a)(n,[{key:"render",value:function(){var e,t,n=this,a=v.asRepeatEvent(this.props.event),i=a.getRepeatExpression();return Object(O.jsxs)("div",{style:x.container,className:b()((e={},Object(o.a)(e,h.o,!0),Object(o.a)(e,h.p,this.props.selected),Object(o.a)(e,h.h,!0),e)),children:[Object(O.jsx)("div",{children:Object(O.jsx)("span",{className:b()((t={},Object(o.a)(t,h.s,!0),Object(o.a)(t,h.d,this.props.disabled),t)),onClick:this.edit,onKeyPress:function(e){Object(m.a)(e)&&n.edit(e)},tabIndex:0,children:i?Object(O.jsx)(l.Trans,{id:"Repeat {expression} times:",values:{expression:i}}):Object(O.jsx)("i",{children:Object(O.jsx)(l.Trans,{id:"Click to choose how many times will be repeated"})})})}),Object(O.jsx)(g.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(e){var t=e.style,r=e.className;return Object(O.jsx)(d.a,{instrsList:a.getConditions(),style:t,className:r,selection:n.props.selection,areConditions:!0,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onInstructionContextMenu:n.props.onInstructionContextMenu,onAddInstructionContextMenu:n.props.onAddInstructionContextMenu,onParameterClick:n.props.onParameterClick,disabled:n.props.disabled,renderObjectThumbnail:n.props.renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth,globalObjectsContainer:n.props.globalObjectsContainer,objectsContainer:n.props.objectsContainer})},renderActionsList:function(e){var t=e.className;return Object(O.jsx)(d.a,{instrsList:a.getActions(),style:Object(r.a)({},x.actionsList),className:t,selection:n.props.selection,areConditions:!1,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onInstructionContextMenu:n.props.onInstructionContextMenu,onAddInstructionContextMenu:n.props.onAddInstructionContextMenu,onParameterClick:n.props.onParameterClick,disabled:n.props.disabled,renderObjectThumbnail:n.props.renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth,globalObjectsContainer:n.props.globalObjectsContainer,objectsContainer:n.props.objectsContainer})}}),Object(O.jsx)(j.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing,children:Object(O.jsx)(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:i,onChange:function(e){a.setRepeatExpression(e),n.props.onUpdate()},isInline:!0,ref:function(e){return n._field=e}})})]})}}]),n}(u.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var r=n(4),o=n(2),a=n(9),i=n(8),s=n(13),c=n(14),l=n(12),u=n(1),d=n(611),p=n(87),b=n.n(p),h=n(494),j=n(652),f=n(7),g=e.gd,m={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},O=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e,t=this,n=g.asWhileEvent(this.props.event);return Object(f.jsxs)("div",{style:m.container,className:b()((e={},Object(o.a)(e,h.o,!0),Object(o.a)(e,h.p,this.props.selected),Object(o.a)(e,h.h,!0),e)),children:[Object(f.jsx)("div",{className:b()(Object(o.a)({},h.d,this.props.disabled)),children:Object(f.jsx)(l.Trans,{id:"While these conditions are true:"})}),Object(f.jsx)(d.a,{instrsList:n.getWhileConditions(),style:{},className:h.c,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer}),Object(f.jsx)("div",{className:b()(Object(o.a)({},h.d,this.props.disabled)),children:Object(f.jsx)(l.Trans,{id:"Repeat these:"})}),Object(f.jsx)(j.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(e){var r=e.style,o=e.className;return Object(f.jsx)(d.a,{instrsList:n.getConditions(),style:r,className:o,selection:t.props.selection,areConditions:!0,onAddNewInstruction:t.props.onAddNewInstruction,onPasteInstructions:t.props.onPasteInstructions,onMoveToInstruction:t.props.onMoveToInstruction,onMoveToInstructionsList:t.props.onMoveToInstructionsList,onInstructionClick:t.props.onInstructionClick,onInstructionDoubleClick:t.props.onInstructionDoubleClick,onInstructionContextMenu:t.props.onInstructionContextMenu,onAddInstructionContextMenu:t.props.onAddInstructionContextMenu,onParameterClick:t.props.onParameterClick,disabled:t.props.disabled,renderObjectThumbnail:t.props.renderObjectThumbnail,screenType:t.props.screenType,windowWidth:t.props.windowWidth,globalObjectsContainer:t.props.globalObjectsContainer,objectsContainer:t.props.objectsContainer})},renderActionsList:function(e){var o=e.className;return Object(f.jsx)(d.a,{instrsList:n.getActions(),style:Object(r.a)({},m.actionsList),className:o,selection:t.props.selection,areConditions:!1,onAddNewInstruction:t.props.onAddNewInstruction,onPasteInstructions:t.props.onPasteInstructions,onMoveToInstruction:t.props.onMoveToInstruction,onMoveToInstructionsList:t.props.onMoveToInstructionsList,onInstructionClick:t.props.onInstructionClick,onInstructionDoubleClick:t.props.onInstructionDoubleClick,onInstructionContextMenu:t.props.onInstructionContextMenu,onAddInstructionContextMenu:t.props.onAddInstructionContextMenu,onParameterClick:t.props.onParameterClick,disabled:t.props.disabled,renderObjectThumbnail:t.props.renderObjectThumbnail,screenType:t.props.screenType,windowWidth:t.props.windowWidth,globalObjectsContainer:t.props.globalObjectsContainer,objectsContainer:t.props.objectsContainer})}})]})}}]),n}(u.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var r=n(2),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(561),d=n.n(u),p=n(471),b=n(87),h=n.n(b),j=n(494),f=n(613),g=n(1570),m=n(62),O=n(101),v=n(7),x=e.gd,y={container:{height:"4em",display:"flex",alignItems:"center",padding:5},title:{fontSize:"1.2em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},openInNewIcon:{fontSize:"1.5em"}},C=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._externalEventsAutoComplete=null,e.state={editing:!1,editingPreviousValue:null,anchorEl:null},e.edit=function(t){var n=x.asLinkEvent(e.props.event).getTarget(),r=t.currentTarget;setTimeout((function(){return e.setState({editing:!0,editingPreviousValue:n,anchorEl:r},(function(){setTimeout((function(){e._externalEventsAutoComplete&&e._externalEventsAutoComplete.focus()}),10)}))}),10)},e.openTarget=function(t){var n=e.props,r=n.project,o=n.event,a=n.onOpenLayout,i=n.onOpenExternalEvents,s=x.asLinkEvent(o).getTarget();r.hasExternalEventsNamed(s)?i(s):r.hasLayoutNamed(s)?a(s):Object(m.c)(t._({id:"The specified external events do not exist in the game. Be sure that the name is correctly spelled or create them using the project manager."}))},e.cancelEditing=function(){e.endEditing();var t=x.asLinkEvent(e.props.event),n=e.state.editingPreviousValue;null!=n&&(t.setTarget(n),e.forceUpdate())},e.endEditing=function(){var t=e.state.anchorEl,n=x.asLinkEvent(e.props.event);t&&t.focus(),e.state.editingPreviousValue!==n.getTarget()&&e.props.onEndEditingEvent(),e.setState({editing:!1,editingPreviousValue:null,anchorEl:null})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=x.asLinkEvent(this.props.event),n=t.getTarget();return Object(v.jsx)(c.I18n,{children:function(o){var a,i=o.i18n;return Object(v.jsxs)("div",{className:h()((a={},Object(r.a)(a,j.o,!0),Object(r.a)(a,j.p,e.props.selected),Object(r.a)(a,j.q,!0),a)),style:y.container,children:[Object(v.jsx)("span",{style:y.title,className:h()(Object(r.a)({},j.d,e.props.disabled)),children:e.props.scope.layout?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(c.Trans,{id:"Include events from"})," ",Object(v.jsx)("i",{className:h()(Object(r.a)({},j.s,!0)),onClick:e.edit,onKeyPress:function(t){Object(O.a)(t)&&e.edit(t)},tabIndex:0,children:n||Object(v.jsx)(c.Trans,{id:"<Enter the name of external events>"})})," "]}):Object(v.jsx)(c.Trans,{id:"Links can't be used outside of a scene."})}),Object(v.jsx)(p.a,{onClick:function(){return e.openTarget(i)},disabled:!n,children:Object(v.jsx)(d.a,{style:y.openInNewIcon})}),Object(v.jsx)(f.a,{open:e.state.editing,anchorEl:e.state.anchorEl,onRequestClose:e.cancelEditing,onApply:e.endEditing,children:Object(v.jsx)(g.a,{project:e.props.project,value:n,sceneName:e.props.scope.layout?e.props.scope.layout.getName():void 0,externalEventsName:e.props.scope.externalEvents?e.props.scope.externalEvents.getName():void 0,onChange:function(n){t.setTarget(n),e.props.onUpdate()},isInline:!0,onRequestClose:e.cancelEditing,onApply:e.endEditing,ref:function(t){return e._externalEventsAutoComplete=t}})})]})}})}}]),n}(l.Component)}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(18),c=n(1),l=n(607),u=n(514),d=n(7),p=function(e,t,n){if(!n||!e)return[];var r=Object(l.b)(n).filter((function(e){return e.getName()!==t})).map((function(e){return{text:e.getName(),value:e.getName()}})),o=Object(l.d)(n).filter((function(t){return t.getName()!==e})).map((function(e){return{text:e.getName(),value:e.getName()}}));return[].concat(Object(s.a)(r),[{type:"separator"}],Object(s.a)(o))},b=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,o=t.onRequestClose,a=t.onApply,i=t.isInline,s=t.project,c=t.sceneName,l=t.externalEventsName;return Object(d.jsx)(u.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,id:"external-events-field",value:n,onChange:r,onRequestClose:o,onApply:a,dataSource:p(c,l,s),openOnFocus:!i,ref:function(t){return e._field=t}})}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(2),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(87),d=n.n(u),p=n(595),b=n.n(p),h=n(894),j=n.n(h),f=n(206),g=n(613),m=n(815),O=n(494),v=n(562),x=n(672),y=n(2118),C=n(101),T=n(7),E=e.gd,k=200,w={container:{minHeight:30,display:"flex",flexDirection:"column",backgroundColor:"#1e1e1e"},wrappingText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:"0.95em",paddingLeft:5,paddingRight:5,paddingTop:2,paddingBottom:2,margin:0,backgroundColor:"#1e1e1e",color:"#d4d4d4",overflowX:"hidden",maxWidth:"100%"},comment:{color:"#777"},commentLink:{cursor:"pointer",color:"#777",textDecoration:"underline"},expandIcon:{color:"#d4d4d4"}},S=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._objectField=null,e.state={editingObject:!1,editingPreviousValue:null,anchorEl:null},e.onFocus=function(){var t=E.asJsCodeEvent(e.props.event);e._inlineCodeBeforeChanges=t.getInlineCode()},e.onBlur=function(){var t=E.asJsCodeEvent(e.props.event).getInlineCode();e._inlineCodeBeforeChanges!==t&&e.props.onEndEditingEvent()},e.onChange=function(t){E.asJsCodeEvent(e.props.event).setInlineCode(t)},e.editObject=function(t){var n=E.asJsCodeEvent(e.props.event).getParameterObjects(),r=t.currentTarget;setTimeout((function(){return e.setState({editingObject:!0,editingPreviousValue:n,anchorEl:r},(function(){setTimeout((function(){e._objectField&&e._objectField.focus()}),10)}))}),10)},e.cancelObjectEditing=function(){e.endObjectEditing();var t=E.asJsCodeEvent(e.props.event),n=e.state.editingPreviousValue;null!=n&&(t.setParameterObjects(n),e.forceUpdate())},e.endObjectEditing=function(){var t=e.state.anchorEl;t&&t.focus();var n=E.asJsCodeEvent(e.props.event);e.state.editingPreviousValue!==n.getParameterObjects()&&e.props.onEndEditingEvent(),e.setState({editingObject:!1,editingPreviousValue:null,anchorEl:null})},e.toggleExpanded=function(){var t=E.asJsCodeEvent(e.props.event);t.setEventsSheetExpanded(!t.isEventsSheetExpanded())},e._getCodeEditorHeight=function(){if(!E.asJsCodeEvent(e.props.event).isEventsSheetExpanded())return k;var t=e.props.eventsSheetHeight-100;return Math.max(k,t)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=E.asJsCodeEvent(this.props.event),n=t.getParameterObjects(),o=this.props.disabled?w.comment:void 0,a=Object(T.jsx)("span",{className:d()(Object(r.a)({},O.s,!0)),onClick:this.editObject,onKeyPress:function(t){Object(C.a)(t)&&e.editObject(t)},tabIndex:0,style:o,children:n?Object(T.jsx)(c.Trans,{id:", objects /*{parameterObjects}*/",values:{parameterObjects:n}}):Object(T.jsxs)(T.Fragment,{children:[" ",Object(T.jsx)(c.Trans,{id:"/* Click here to choose objects to pass to JavaScript */"})]})}),i=this.props.scope.eventsFunction?Object(T.jsx)("span",{style:o,children:", eventsFunctionContext"}):null,s=Object(T.jsxs)("p",{style:w.wrappingText,children:[Object(T.jsxs)("span",{style:o,children:[this.props.disabled?"/*":"","(function(runtimeScene"]}),a,i,Object(T.jsx)("span",{style:o,children:") {"})]}),l=Object(T.jsxs)("p",{style:w.wrappingText,children:[Object(T.jsx)("span",{style:o,children:"})(runtimeScene"}),a,i,Object(T.jsxs)("span",{style:o,children:[");",this.props.disabled?"*/":""]}),Object(T.jsxs)("span",{style:w.comment,children:[" // ",Object(T.jsx)("a",{href:Object(v.a)("/events/js-code"),target:"_blank",rel:"noopener noreferrer",style:w.commentLink,children:"Read the documentation and help"})]})]}),u=Object(T.jsx)("div",{style:w.expandIcon,children:t.isEventsSheetExpanded()?Object(T.jsx)(j.a,{fontSize:"small",color:"inherit"}):Object(T.jsx)(b.a,{fontSize:"small",color:"inherit"})});return Object(T.jsx)(x.a,{bounds:!0,children:function(o){var a,i=o.measureRef,c=o.contentRect;return Object(T.jsxs)("div",{style:w.container,className:d()((a={},Object(r.a)(a,O.o,!0),Object(r.a)(a,O.p,e.props.selected),a)),ref:i,children:[s,Object(T.jsx)(y.a,{value:t.getInlineCode(),onChange:e.onChange,width:c.bounds.width-5,height:e._getCodeEditorHeight(),onEditorMounted:function(){e.props.onUpdate()},onFocus:e.onFocus,onBlur:e.onBlur}),l,Object(T.jsx)(f.a,{onClick:e.toggleExpanded,fullWidth:!0,size:"small",children:u}),Object(T.jsx)(g.a,{open:e.state.editingObject,anchorEl:e.state.anchorEl,onRequestClose:e.cancelObjectEditing,onApply:e.endObjectEditing,children:Object(T.jsx)(m.a,{project:e.props.project,scope:e.props.scope,globalObjectsContainer:e.props.globalObjectsContainer,objectsContainer:e.props.objectsContainer,value:n,onChange:function(n){t.setParameterObjects(n),e.props.onUpdate()},isInline:!0,onRequestClose:e.cancelObjectEditing,onApply:e.endObjectEditing,ref:function(t){return e._objectField=t}})})]})}})}}]),n}(l.Component)}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(9),o=n(8),a=function(){function e(t){Object(r.a)(this,e),this.eventHeights={},this.updateTimeoutId=null,this.component=null,this.component=t}return Object(o.a)(e,[{key:"_notifyComponent",value:function(){var e=this;this.updateTimeoutId||(this.updateTimeoutId=setTimeout((function(){e.component?e.component.onHeightsChanged((function(){return e.updateTimeoutId=null})):e.updateTimeoutId=null}),0))}},{key:"setEventHeight",value:function(e,t){var n=this.eventHeights[e.ptr];void 0!==n&&n===t||this._notifyComponent(),this.eventHeights[e.ptr]=t}},{key:"getEventHeight",value:function(e){return this.eventHeights[e.ptr]||60}}]),e}()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),o=n(12),a=n(1),i=n(30),s=n(505),c=n(1027),l=n(826),u=n(138),d=n(7),p={addButton:{cursor:"pointer"},dropIndicator:{border:"2px solid black",outline:"1px solid white"}},b=function(e){return function(){return Object(c.a)().map((function(t){return{label:t.fullName,click:function(){return e(t.type)}}}))}};function h(e){var t=e.onAddEvent,n=e.DnDComponent,c=e.draggedNode,h=e.rootEventsList,j=a.useContext(u.a);return Object(d.jsx)(n,{canDrop:function(){return!0},drop:function(){c&&Object(l.c)({targetEventsList:h,movingEvent:c.event,initialEventsList:c.eventsList,toIndex:-1})},children:function(e){var n=e.connectDropTarget,a=e.isOver;return n(Object(d.jsxs)("div",{children:[a&&Object(d.jsx)("div",{style:Object(r.a)(Object(r.a)({},p.dropIndicator),{},{borderColor:j.dropIndicator.canDrop,outlineColor:j.dropIndicator.border})}),Object(d.jsx)(i.a,{children:Object(d.jsxs)(i.c,{justifyContent:"space-between",children:[Object(d.jsx)(s.a,{openMenuWithSecondaryClick:!0,element:Object(d.jsx)("button",{style:p.addButton,className:"add-link",onClick:function(){return t("BuiltinCommonInstructions::Standard")},id:"add-event-button",children:Object(d.jsx)(o.Trans,{id:"Add a new event"})}),buildMenuTemplate:b(t)}),Object(d.jsx)(s.a,{element:Object(d.jsx)("button",{style:p.addButton,className:"add-link",children:Object(d.jsx)(o.Trans,{id:"Add..."})}),buildMenuTemplate:b(t)})]})})]}))}})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return j}));var r=n(26),o=n(4),a=n(1),i=n(1004),s=n(826),c=(n(1026),n(138)),l=n(7),u={zIndex:1,position:"absolute"},d={position:"absolute",zIndex:2,border:"2px solid black",outline:"1px solid white"},p={width:"100%",position:"absolute",height:"10%",zIndex:2};function b(e){var t=e.DnDComponent,n=e.canDrop,r=e.onDrop,i=e.style,s=a.useContext(c.a);return Object(l.jsx)(t,{canDrop:n,drop:r,children:function(e){var t=e.isOver,n=e.connectDropTarget,r=e.canDrop;return n(Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{style:Object(o.a)(Object(o.a)({},u),i.dropArea)}),r&&t&&Object(l.jsx)("div",{style:Object(o.a)(Object(o.a)(Object(o.a)({},d),i.dropIndicator),{},{borderColor:s.dropIndicator.canDrop,outlineColor:s.dropIndicator.border})})]}))}})}function h(e){var t=e.node,n=e.draggedNode,r=e.DnDComponent,a=e.onDrop,c=e.activateTargets,u=e.windowWidth,d=e.draggedNodeHeight,p=1===t.children.length&&t.children[0].key===n.key,h=Object(s.b)(t,n),j=!!t.event&&(0===t.children.length||p),f=!!t.event&&t.event.canHaveSubEvents(),g=Object(i.b)(u),m=function(e,t,n){return{"bottom-left":{left:"0px",bottom:"0px",top:"50%",width:e},"bottom-right":{left:"".concat(e,"px"),right:"0px",bottom:"0px",top:"50%"},top:{left:"0px",right:"0px",top:"0px",bottom:"50%"},bottom:{left:"0px",right:"0px",top:"50%",bottom:"0px"},"below-left":{left:n?"0px":"10px",top:"100%",height:t,width:e},"below-right":{left:"".concat(n?e+10:e,"px"),right:"0px",top:"100%",height:t}}}(g,d,p),O=function(e){return{bottom:{left:"0px",right:"0px",bottom:"-2px"},"bottom-right":{left:"".concat(e,"px"),right:"0px",bottom:"-2px"},top:{left:"0px",right:"0px",top:"-2px"}}}(g),v={DnDComponent:r,canDrop:function(){return!0}};return Object(l.jsxs)("div",{style:{visibility:c?"visible":"hidden"},children:[Object(l.jsx)(b,Object(o.a)({style:{dropIndicator:O.top,dropArea:m.top},onDrop:function(){return a(s.d,t)}},v)),f&&j&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(b,Object(o.a)({style:{dropIndicator:O["bottom-right"],dropArea:m["bottom-right"]},onDrop:function(){return a(s.e,t)}},v)),Object(l.jsx)(b,Object(o.a)({style:{dropIndicator:O.bottom,dropArea:m["bottom-left"]},onDrop:function(){return a(s.f,t)}},v)),(p||h)&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(b,Object(o.a)({style:{dropIndicator:O.bottom,dropArea:m["below-left"]},onDrop:function(){return a(s.f,t)}},v)),Object(l.jsx)(b,Object(o.a)({style:{dropIndicator:O["bottom-right"],dropArea:m["below-right"]},onDrop:function(){return a(s.e,t)}},v))]})]}),!f&&j&&Object(l.jsx)(b,Object(o.a)({style:{dropIndicator:O.bottom,dropArea:m.bottom},onDrop:function(){return a(s.f,t)}},v)),f&&!j&&Object(l.jsx)(b,Object(o.a)({style:{dropIndicator:O["bottom-right"],dropArea:m.bottom},onDrop:function(){return a(s.e,t)}},v))]})}function j(e){var t=e.direction,n=e.DnDComponent,i=e.activateTargets,s=e.onHover,c=a.useRef(null),u=a.useState(!1),d=Object(r.a)(u,2),b=d[0],h=d[1];return a.useEffect((function(){return i?c.current=setTimeout((function(){h(!0)}),100):(h(!1),clearTimeout(c.current),c.current=null),function(){c.current&&clearTimeout(c.current)}}),[i]),Object(l.jsx)(n,{canDrop:function(){return!0},drop:function(){},children:function(e){var n=e.isOverLazy,r=e.connectDropTarget;n&&s();var a=Object(l.jsx)("div",{style:Object(o.a)(Object(o.a)({},p),"top"===t?{top:0}:{bottom:0})});return b?r(a):null}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(26),o=n(12),a=n(1),i=n(100),s=n(136),c=n(1028),l=n(1029),u=n(705),d=n(472),p=n(1030),b=n(86),h=n(828),j=n(1031),f=n(139),g=n(521),m=n(1033),O=n(970),v=n(81),x=n(7),y={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column"}};function C(e){var t=e.project,n=e.globalObjectsContainer,C=e.objectsContainer,T=e.onCancel,E=e.open,k=e.instruction,w=e.isCondition,S=e.isNewInstruction,P=e.scope,I=e.onSubmit,_=e.resourceSources,A=e.onChooseResource,N=e.resourceExternalEditors,R=e.openInstructionOrExpression,L=Object(f.a)(),M=Object(h.b)({instruction:k,isCondition:w,project:t,isNewInstruction:S,scope:P,globalObjectsContainer:n,objectsContainer:C}),F=Object(r.a)(M,2),D=F[0],B=F[1],U=D.chosenObjectName,V=D.chosenObjectInstructionsInfo,W=D.chosenObjectInstructionsInfoTree,G=B.chooseInstruction,z=B.chooseObject,H=B.chooseObjectInstruction,Y=!!V&&!!W,q=U?Object(g.a)(t,P.layout,U):null,X=a.useRef(null),K=a.useState((function(){return function(e){return e?"object-or-free-instructions":"parameters"}(S)})),J=Object(r.a)(K,2),Z=J[0],Q=J[1],$=a.useState((function(){return function(e,t){return e||t?"objects":"free-instructions"}(S,Y)})),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],re=Object(b.b)(),oe=k.getType(),ae=a.useState(!1),ie=Object(r.a)(ae,2),se=ie[0],ce=ie[1],le=a.useState(!1),ue=Object(r.a)(le,2),de=ue[0],pe=ue[1],be=a.useRef(null);a.useEffect((function(){"parameters"===Z&&be.current&&be.current.focus()}),[Z]);var he=Object(h.a)({instructionType:oe,isCondition:w,project:t}),je=he?he.getHelpPath():void 0;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(i.b,{actions:[Object(x.jsx)(s.a,{label:Object(x.jsx)(o.Trans,{id:"Cancel"}),primary:!1,onClick:T},"cancel"),Object(x.jsx)(i.a,{label:Object(x.jsx)(o.Trans,{id:"Ok"}),primary:!0,disabled:!oe,onClick:I,id:"ok-button"},"ok")],secondaryActions:["large"!==re&&"object-or-free-instructions"!==Z?Object(x.jsx)(s.a,{label:Object(x.jsx)(o.Trans,{id:"Back"}),primary:!1,onClick:function(){return function(e,t){Q("parameters"===e&&U?"medium"===t?"object-or-free-instructions":"object-instructions":"object-or-free-instructions")}(Z,re)}},"back"):null,Object(x.jsx)(d.a,{helpPagePath:je||"/events",label:je&&"small"!==re&&"object-or-free-instructions"!==Z?w?Object(x.jsx)(o.Trans,{id:"Help for this condition"}):Object(x.jsx)(o.Trans,{id:"Help for this action"}):Object(x.jsx)(o.Trans,{id:"Help"})},"help")],open:E,onRequestClose:T,onApply:oe?I:null,maxWidth:!1,noMargin:!0,flexBody:!0,fullHeight:!0,id:"instruction-editor-dialog",children:Object(x.jsx)(p.a,{columnsRenderer:{"instruction-or-object-selector":function(){return Object(x.jsx)(l.a,{style:y.fullHeightSelector,project:t,scope:P,ref:X,currentTab:te,onChangeTab:ne,globalObjectsContainer:n,objectsContainer:C,isCondition:w,chosenInstructionType:U?void 0:oe,onChooseInstruction:function(e){G(e),Q("parameters")},chosenObjectName:U,onChooseObject:function(e){z(e),Q("object-instructions")},focusOnMount:!oe,onSearchStartOrReset:L,onClickMore:function(){return pe(!0)}},"instruction-or-object-selector")},"object-instruction-selector":function(){return W&&V?Object(x.jsx)(u.a,{style:y.fullHeightSelector,instructionsInfo:V,instructionsInfoTree:W,iconSize:24,onChoose:function(e){H(e),Q("parameters")},selectedType:oe,useSubheaders:!0,focusOnMount:!oe,searchPlaceholderObjectName:U,searchPlaceholderIsCondition:w,onClickMore:function(){return ce(!0)},id:"object-instruction-selector"},"object-instruction-selector"):null},parameters:function(){return Object(x.jsx)(c.a,{project:t,scope:P,globalObjectsContainer:n,objectsContainer:C,objectName:U,isCondition:w,instruction:k,resourceSources:_,onChooseResource:A,resourceExternalEditors:N,openInstructionOrExpression:R,ref:be,focusOnMount:!!oe,noHelpButton:!0},"parameters")}},getColumns:function(){return"large"===re?U?["instruction-or-object-selector","object-instruction-selector","parameters"]:["instruction-or-object-selector","parameters"]:"medium"===re?"object-or-free-instructions"===Z?["instruction-or-object-selector"]:U?["object-instruction-selector","parameters"]:["parameters"]:"object-or-free-instructions"===Z?["instruction-or-object-selector"]:"object-instructions"===Z?["object-instruction-selector"]:["parameters"]}})}),se&&q&&Object(x.jsx)(j.a,{project:t,open:se,objectType:q.getType(),objectBehaviorsTypes:Object(m.b)(q),onClose:function(){return ce(!1)},onChoose:function(e,n){q&&(Object(m.a)(t,q,e,n)&&(ce(!1),Object(v.e)({behaviorType:e,parentEditor:"instruction-editor-dialog"})),z(q.getName()))}}),de&&Object(x.jsx)(O.a,{project:t,onClose:function(){return pe(!1)},onInstallExtension:function(){},onExtensionInstalled:function(){pe(!1),X.current&&X.current.reEnumerateInstructions()}})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n){var r=[".","=","-"],o="-";return"undefined"!=typeof n&&(r=n),"undefined"!=typeof t&&(o=t),e.replace(/\xfc/g,"ue").replace(/\xe4/g,"ae").replace(/\xf6/g,"oe").replace(/\xdf/g,"ss").replace(new RegExp("["+r.join("")+"]","g")," ").replace(/-{2,}/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/[^\w ]/gi,"").replace(/[ ]/gi,o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(465),o=function(e){return Object(r.mapVector)(e,(function(e){return{name:e.getName(),type:e.getType(),description:e.getDescription(),group:e.getGroup(),label:e.getLabel(),value:e.getValue(),extraInfo:e.getExtraInfo().toJSArray(),isHidden:e.isHidden()}}))},a=function(e,t){return t.setType(e.type).setDescription(e.description).setGroup(e.group).setLabel(e.label).setValue(e.value).setHidden(e.isHidden),e.extraInfo.forEach((function(e){t.addExtraInfo(e)})),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(1);var r=n(485),o=n(513),a=n(612),i=n(645),s=n(7),c=function(e){var t=e.groupWithContext,n=e.iconSize,c=e.onClick,l=e.selectedValue,u=e.matchesCoordinates,d=t.group.getName();return Object(s.jsx)(r.b,{selected:l===Object(a.e)(d),primaryText:Object(s.jsx)(i.a,{text:d,matchesCoordinates:u}),leftIcon:Object(s.jsx)(o.a,{iconSize:n,src:"res/ribbon_default/objectsgroups64.png"}),onClick:c,disableAutoTranslate:!0},Object(a.c)(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(1);var r=n(485),o=n(513),a=n(530),i=n(612),s=n(645),c=n(7),l=function(e){var t=e.project,n=e.objectWithContext,l=e.iconSize,u=e.onClick,d=e.selectedValue,p=e.matchesCoordinates,b=e.id,h=n.object.getName();return Object(c.jsx)(r.b,{id:b,selected:d===Object(i.e)(h),primaryText:Object(c.jsx)(s.a,{text:h,matchesCoordinates:p}),leftIcon:Object(c.jsx)(o.a,{iconSize:l,src:a.a.getThumbnail(t,n.object)}),onClick:u,disableAutoTranslate:!0},Object(i.d)(n))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(26),o=n(12),a=n(2164),i=n(1),s=n(828),c=n(1029),l=n(705),u=n(1030),d=n(139),p=n(829),b=n(559),h=n(918),j=n(30),f=n(7),g={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column",height:"400px",width:"400px"}};function m(e){var t=e.project,n=e.globalObjectsContainer,m=e.objectsContainer,O=e.onCancel,v=e.open,x=e.instruction,y=e.isCondition,C=e.isNewInstruction,T=e.anchorEl,E=e.scope,k=e.onSubmit,w=e.canPasteInstructions,S=e.onPasteInstructions,P=Object(d.a)(),I=Object(s.b)({instruction:x,isCondition:y,project:t,isNewInstruction:C,scope:E,globalObjectsContainer:n,objectsContainer:m}),_=Object(r.a)(I,2),A=_[0],N=_[1],R=A.chosenObjectName,L=A.chosenObjectInstructionsInfo,M=A.chosenObjectInstructionsInfoTree,F=N.chooseInstruction,D=N.chooseObject,B=N.chooseObjectInstruction,U=i.useState("object-or-free-instructions"),V=Object(r.a)(U,2),W=V[0],G=V[1],z=i.useState("objects"),H=Object(r.a)(z,2),Y=H[0],q=H[1],X=x.getType(),K=function(e){var r=e.instruction,o=e.chosenObjectName,a=Object(s.a)({instructionType:r.getType(),isCondition:y,project:t});a&&Object(p.a)(n,m,r,a,o),k()};return Object(f.jsxs)(a.a,{open:v,onClose:O,anchorEl:T,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[Object(f.jsx)(u.a,{columnsRenderer:{"instruction-or-object-selector":function(){return Object(f.jsx)(c.a,{style:g.fullHeightSelector,project:t,scope:E,currentTab:Y,onChangeTab:q,globalObjectsContainer:n,objectsContainer:m,isCondition:y,chosenInstructionType:R?void 0:X,onChooseInstruction:function(e){var t=F(e),n=t.instruction,r=t.chosenObjectName;K({instruction:n,chosenObjectName:r})},chosenObjectName:R,onChooseObject:function(e){D(e),G("object-instructions")},focusOnMount:!X,onSearchStartOrReset:P},"instruction-or-object-selector")},"object-instruction-selector":function(){return M&&L?Object(f.jsx)(l.a,{style:g.fullHeightSelector,instructionsInfo:L,instructionsInfoTree:M,iconSize:24,onChoose:function(e){var t=B(e),n=t.instruction,r=t.chosenObjectName;K({instruction:n,chosenObjectName:r})},selectedType:X,useSubheaders:!0,focusOnMount:!X,searchPlaceholderObjectName:R,searchPlaceholderIsCondition:y},"object-instruction-selector"):null}},getColumns:function(){return"object-or-free-instructions"===W?["instruction-or-object-selector"]:["object-instruction-selector"]}}),Object(f.jsx)(j.c,{noMargin:!0,justifyContent:"flex-end",children:Object(f.jsx)(b.a,{label:y?Object(f.jsx)(o.Trans,{id:"Paste condition(s)"}):Object(f.jsx)(o.Trans,{id:"Paste action(s)"}),icon:Object(f.jsx)(h.a,{}),disabled:!w,onClick:function(){return S()}})})]})}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return g}));var r=n(26),o=n(12),a=n(1),i=n(100),s=n(136),c=n(30),l=n(604),u=n(532),d=n(476),p=n(7),b=e.gd,h={sizeTextField:{width:90}},j={r:255,g:255,b:255},f={r:0,g:0,b:0},g=function(e){return e.filter((function(e){return["BuiltinCommonInstructions::Group","BuiltinCommonInstructions::Comment"].includes(e.getType())}))};t.a=function(e){var t=e.event,n=e.onClose,g=a.useState(""),m=Object(r.a)(g,2),O=m[0],v=m[1],x=a.useState(f),y=Object(r.a)(x,2),C=y[0],T=y[1],E=a.useState(f),k=Object(r.a)(E,2),w=k[0],S=k[1],P=t.getType();a.useEffect((function(){if("BuiltinCommonInstructions::Comment"===P){var e=b.asCommentEvent(t);T({r:e.getTextColorRed(),g:e.getTextColorGreen(),b:e.getTextColorBlue()}),S({r:e.getBackgroundColorRed(),g:e.getBackgroundColorGreen(),b:e.getBackgroundColorBlue()}),v(b.asCommentEvent(t).getComment())}else if("BuiltinCommonInstructions::Group"===P){var n=b.asGroupEvent(t),r=n.getBackgroundColorR(),o=n.getBackgroundColorG(),a=n.getBackgroundColorB();T((function(){return(r+o+a)/3>200?f:j})),S({r:n.getBackgroundColorR(),g:n.getBackgroundColorG(),b:n.getBackgroundColorB()}),v(b.asGroupEvent(t).getName())}else console.error("Dialog was opened for an unsupported event type: "+P)}),[t,P]);var I=a.useCallback((function(){"BuiltinCommonInstructions::Comment"===P?(b.asCommentEvent(t).setComment(O),b.asCommentEvent(t).setTextColor(C.r,C.g,C.b),b.asCommentEvent(t).setBackgroundColor(w.r,w.g,w.b)):"BuiltinCommonInstructions::Group"===P&&(b.asGroupEvent(t).setName(O),b.asGroupEvent(t).setBackgroundColor(w.r,w.g,w.b)),e.onApply()}),[e,t,P,O,C,w]);return Object(p.jsx)(i.b,{title:Object(p.jsx)(o.Trans,{id:"Edit the event text"}),open:!0,noMargin:!0,actions:[Object(p.jsx)(s.a,{label:Object(p.jsx)(o.Trans,{id:"Cancel"}),primary:!1,onClick:n},"close"),Object(p.jsx)(i.a,{label:Object(p.jsx)(o.Trans,{id:"Apply"}),primary:!0,onClick:I},"Apply")],onRequestClose:n,onApply:I,children:Object(p.jsxs)(c.a,{noMargin:!0,children:[Object(p.jsxs)(u.b,{children:[Object(p.jsx)(u.a,{firstChild:!0,children:Object(p.jsx)(o.Trans,{id:"Background color:"})}),Object(p.jsx)(l.a,{style:h.sizeTextField,disableAlpha:!0,color:w,onChangeComplete:function(e){S(e.rgb)}}),"BuiltinCommonInstructions::Comment"===P&&Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(u.a,{children:Object(p.jsx)(o.Trans,{id:"Text color:"})}),Object(p.jsx)(l.a,{style:h.sizeTextField,disableAlpha:!0,color:C,onChangeComplete:function(e){T(e.rgb)}})]})]}),Object(p.jsx)(c.c,{noMargin:!0,children:Object(p.jsx)(c.a,{expand:!0,children:Object(p.jsx)(c.c,{children:Object(p.jsx)(d.a,{commitOnBlur:!0,hintText:{id:"Enter the text to be displayed"},fullWidth:!0,multiline:!0,rows:8,rowsMax:30,value:O,onChange:function(e){v(e)}})})})})]})})}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(1),c=n(613),l=n(814),u=n(829),d=n(578),p=n(7),b=e.gd,h=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={parameterMetadata:null,instructionMetadata:null,ParameterComponent:null},e._onApply=function(){var t=e.props.instruction,n=e.state.instructionMetadata;if(t&&n){var r=Object(d.f)(n);Object(u.a)(e.props.globalObjectsContainer,e.props.objectsContainer,t,n,-1!==r?t.getParameter(r).getPlainString():null)}e.props.onApply()},e}return Object(o.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){(e.open&&!this.props.open||e.instruction!==this.props.instruction)&&this._loadComponentFromInstruction(e)}},{key:"_unload",value:function(){this.setState({ParameterComponent:null,parameterMetadata:null,instructionMetadata:null})}},{key:"_loadComponentFromInstruction",value:function(e){var t=this,n=e.project,r=e.isCondition,o=e.instruction,a=e.parameterIndex;if(!o)return this._unload();var i=o.getType(),s=r?b.MetadataProvider.getConditionMetadata(n.getCurrentPlatform(),i):b.MetadataProvider.getActionMetadata(n.getCurrentPlatform(),i);if(a>=s.getParametersCount())return this._unload();var c=s.getParameter(a),u=l.a.getParameterComponent(c.getType());this.setState({ParameterComponent:u,parameterMetadata:c,instructionMetadata:s},(function(){setTimeout((function(){t._field&&t._field.focus&&t._field.focus(!0)}),10)}))}},{key:"render",value:function(){var e=this;if(!this.state.ParameterComponent||!this.props.open)return null;var t=this.props.instruction;if(!t)return null;var n=this.state.ParameterComponent;return Object(p.jsx)(c.a,{open:this.props.open,anchorEl:this.props.anchorEl,onRequestClose:this.props.onRequestClose,onApply:this._onApply,children:Object(p.jsx)(n,{instruction:t,instructionMetadata:this.state.instructionMetadata,parameterMetadata:this.state.parameterMetadata,parameterIndex:this.props.parameterIndex,value:t.getParameter(this.props.parameterIndex).getPlainString(),onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,onApply:this._onApply,project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,ref:function(t){return e._field=t},parameterRenderingService:l.a,isInline:!0,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors},t.ptr)})}}]),n}(s.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=e.gd,o=function(e){for(var t=!1,n=!1,o=e.size()-1;o>=0;--o){var a=e.get(o);o===e.size()-1?"BuiltinCommonInstructions::Once"===a.getType()&&(t=!0):"BuiltinCommonInstructions::Once"===a.getType()&&(e.removeAt(o),n=!0)}if(n&&!t){var i=new r.Instruction;i.setType("BuiltinCommonInstructions::Once"),e.insert(i,e.size()),i.delete()}return n}}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(100),u=n(136),d=n(463),p=n(7),b=function(e){var t=e.getObjectNames().toNewVectorString().toJSArray(),n=e.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),r={};return n.forEach((function(t){var n=e.getBehaviorNamesOfObjectOrGroup(t).toNewVectorString().toJSArray();n.length&&(r[t]=n)})),{objectsNames:t,objectOrGroupNames:n,objectOrGroupBehaviorNames:r}},h=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.eventsContextResult,r=[Object(p.jsx)(u.a,{label:Object(p.jsx)(s.Trans,{id:"Close"}),primary:!0,onClick:this.props.onClose},"close")];return Object(p.jsxs)(l.b,{actions:r,open:!0,onRequestClose:t,children:[Object(p.jsx)(d.a,{children:Object(p.jsx)(s.Trans,{id:"Objects or groups being directly referenced in the events: {0}",values:{0:n.objectOrGroupNames.join(", ")}})}),Object(p.jsx)(d.a,{children:Object(p.jsx)(s.Trans,{id:"All objects potentially used in events: {0}",values:{0:n.objectsNames.join(", ")}})}),Object(p.jsxs)(d.a,{children:[Object(p.jsx)(s.Trans,{id:"All behaviors being directly referenced in the events:"})," ",Object.keys(n.objectOrGroupBehaviorNames).map((function(e){return Object(p.jsx)(s.Trans,{id:"Behaviors of {objectOrGroupName}: {0} ;",values:{0:n.objectOrGroupBehaviorNames[e].join(", "),objectOrGroupName:e}},e)}))]})]})}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(26),o=n(12),a=n(1),i=n(488),s=n(469),c=n(30),l=n(1588),u=n.n(l),d=n(637),p=n.n(d),b=n(471),h=n(136),j=n(571),f=n(463),g=n(137),m=n(80),O=n(101),v=n(495),x=n(7),y=function(e,t){var n=e.onSearchInEvents,l=e.onReplaceInEvents,d=e.onCloseSearchPanel,y=e.resultsCount,C=e.hasEventSelected,T=e.onGoToPreviousSearchResult,E=e.onGoToNextSearchResult,k=e.searchFocusOffset,w=a.useRef(null),S=a.useState(""),P=Object(r.a)(S,2),I=P[0],_=P[1],A=a.useState(""),N=Object(r.a)(A,2),R=N[0],L=N[1],M=a.useState(!1),F=Object(r.a)(M,2),D=F[0],B=F[1],U=a.useState(!0),V=Object(r.a)(U,2),W=V[0],G=V[1],z=a.useState(!0),H=Object(r.a)(z,2),Y=H[0],q=H[1],X=a.useState(!0),K=Object(r.a)(X,2),J=K[0],Z=K[1],Q=a.useState(!1),$=Object(r.a)(Q,2),ee=$[0],te=($[1],a.useState(!1)),ne=Object(r.a)(te,2),re=ne[0],oe=ne[1],ae=a.useState("search-and-replace"),ie=Object(r.a)(ae,2),se=ie[0],ce=ie[1],le=a.useCallback((function(){return!!I&&!re}),[I,re]),ue=a.useCallback((function(){w.current&&w.current.focus()}),[]),de=a.useCallback((function(){oe(!0)}),[]);a.useImperativeHandle(t,(function(){return{isSearchOngoing:le,focus:ue,markSearchResultsDirty:de}})),a.useEffect((function(){oe(!0)}),[I,W,Y,J,D]),a.useEffect(ue,[se]),a.useEffect(de,[se]);var pe=function(){l({searchInSelection:ee,searchText:I,replaceText:R,matchCase:D,searchInActions:W,searchInConditions:Y,searchInEventStrings:J})},be=function(){re&&(n({searchInSelection:ee,searchText:I,matchCase:D,searchInActions:W,searchInConditions:Y,searchInEventStrings:J,searchInEventSentences:!he()}),oe(!1))},he=a.useCallback((function(){return"search-and-replace"===se}),[se]);return Object(x.jsxs)(i.a,{noFullHeight:!0,noExpand:!0,children:[Object(x.jsxs)(v.b,{value:se,onChange:ce,children:[Object(x.jsx)(v.a,{label:Object(x.jsx)(o.Trans,{id:"Search and replace in parameters"}),value:"search-and-replace"}),Object(x.jsx)(v.a,{label:Object(x.jsx)(o.Trans,{id:"Search in event sentences"}),value:"search-in-event-sentences"})]}),Object(x.jsx)(c.c,{children:Object(x.jsxs)(m.a,{expand:!0,children:[Object(x.jsxs)(c.c,{alignItems:"baseline",noMargin:!0,children:[Object(x.jsx)(s.b,{ref:w,type:"search",margin:"dense",hintText:he()?{id:"Text to search in parameters"}:{id:"Text to search in event sentences"},onChange:function(e,t){_(t)},onKeyPress:function(e){Object(O.b)(e)?T():Object(O.g)(e)&&(re?be():E())},onKeyUp:function(e){Object(O.c)(e)&&d()},value:I,fullWidth:!0}),Object(x.jsx)(c.d,{}),Object(x.jsx)(g.a,{disabled:!I,primary:!0,label:Object(x.jsx)(o.Trans,{id:"Search"}),onClick:function(){re?be():E()}})]}),he()&&Object(x.jsxs)(c.c,{alignItems:"baseline",noMargin:!0,children:[Object(x.jsx)(s.b,{type:"search",margin:"dense",hintText:{id:"Text to replace in parameters"},onChange:function(e,t){L(t)},onKeyPress:function(e){Object(O.g)(e)&&pe()},onKeyUp:function(e){Object(O.c)(e)&&d()},value:R,fullWidth:!0}),Object(x.jsx)(c.d,{}),Object(x.jsx)(g.a,{disabled:!R||!I||!C&&ee,label:Object(x.jsx)(o.Trans,{id:"Replace"}),onClick:pe})]}),Object(x.jsxs)(c.c,{noMargin:!0,alignItems:"center",justifyContent:"space-between",children:[Object(x.jsxs)(c.c,{noMargin:!0,alignItems:"center",children:[Object(x.jsx)(j.a,{label:Object(x.jsx)(o.Trans,{id:"Case insensitive"}),checked:!D,onCheck:function(e,t){B(!t)}}),Object(x.jsx)(f.a,{children:Object(x.jsx)(o.Trans,{id:"Search in:"})}),Object(x.jsx)(c.d,{}),Object(x.jsx)(j.a,{label:Object(x.jsx)(o.Trans,{id:"Conditions"}),checked:Y,onCheck:function(e,t){q(t)}}),Object(x.jsx)(j.a,{label:Object(x.jsx)(o.Trans,{id:"Actions"}),checked:W,onCheck:function(e,t){G(t)}}),Object(x.jsx)(j.a,{label:Object(x.jsx)(o.Trans,{id:"Texts"}),checked:J,onCheck:function(e,t){Z(t)}})]}),Object(x.jsxs)(c.c,{noMargin:!0,alignItems:"center",children:[Object(x.jsx)(f.a,{children:null===y||void 0===y?"":0===y?Object(x.jsx)(o.Trans,{id:"No results"}):null===k||void 0===k?Object(x.jsx)(o.Trans,{id:"{resultsCount} results",values:{resultsCount:y}}):Object(x.jsx)(o.Trans,{id:"Showing {0} of {resultsCount}",values:{0:k+1,resultsCount:y}})}),Object(x.jsx)(b.a,{disabled:!y,onClick:function(){T()},children:Object(x.jsx)(u.a,{})}),Object(x.jsx)(b.a,{disabled:!y,onClick:function(){E()},children:Object(x.jsx)(p.a,{})}),Object(x.jsx)(h.a,{label:Object(x.jsx)(o.Trans,{id:"Close"}),primary:!1,onClick:function(){d()}},"close")]})]})]})})]})};t.a=a.forwardRef(y)},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(811),c=n(18),l=n(1),u=n(647),d=n(465),p=n(987),b=n.n(p),h=e.gd,j=function(e,t,n){var r=Object(u.d)(n);if(!r.length)return 0;var o=[r[0]].concat(Object(c.a)(t)),a=new h.EventsPositionFinder;o.forEach((function(e){return a.addEventToSearch(e)})),a.launch(e);for(var i=a.getPositions().toJSArray(),l=Object(s.a)(i),d=l[0],p=l.slice(1),b=0;b<p.length;b++)if(p[b]>=d)return b;return 0},f=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={eventsSearchResults:null,searchFocusOffset:null},e._resultEvents=null,e.reset=function(){e.state.eventsSearchResults&&e.state.eventsSearchResults.delete(),e._resultEvents=null,e.setState({eventsSearchResults:null,searchFocusOffset:null})},e._deduplicateEventSearchResults=function(e){var t=Object(d.mapFor)(0,e.size(),(function(t){var n=e.at(t);return n.isEventValid()?n.getEvent():null})).filter(Boolean);return b()(t,(function(e){return e.ptr}))},e._doReplaceInEvents=function(t,n){var r=t.searchInSelection,o=t.searchText,a=t.replaceText,i=t.matchCase,s=t.searchInConditions,c=t.searchInActions,l=t.searchInEventStrings,u=e.props,d=u.globalObjectsContainer,p=u.objectsContainer,b=u.events;if(r&&console.error("Replace in selection is not implemented yet"),!a)return[];var j=h.EventsRefactorer.replaceStringInEvents(d,p,b,o,a,i,s,c,l);return e.state.eventsSearchResults&&e.state.eventsSearchResults.delete(),e.setState({eventsSearchResults:j.clone(),searchFocusOffset:null},(function(){e._updateListOfResultEvents(),n()})),e._deduplicateEventSearchResults(j)},e._doSearchInEvents=function(t,n){var r=t.searchInSelection,o=t.searchText,a=t.matchCase,i=t.searchInConditions,s=t.searchInActions,c=t.searchInEventStrings,l=t.searchInEventSentences,u=e.props.events;r&&console.error("Search in selection is not implemented yet");var d=h.EventsRefactorer.searchInEvents(e.props.project.getCurrentPlatform(),u,o,a,i,s,c,l);e.state.eventsSearchResults&&e.state.eventsSearchResults.delete(),e.setState({eventsSearchResults:d.clone(),searchFocusOffset:null},(function(){e._updateListOfResultEvents(),n()}))},e._updateListOfResultEvents=function(){var t=e.state.eventsSearchResults;e._resultEvents=t?e._deduplicateEventSearchResults(t):null},e._goToSearchResults=function(t){if(e._updateListOfResultEvents(),!e._resultEvents||0===e._resultEvents.length)return e.setState({searchFocusOffset:null}),null;var n=e.state.searchFocusOffset,r=null===n||void 0===n?j(e.props.events,e._resultEvents,e.props.selection):(n+t)%e._resultEvents.length;r<0&&(r+=e._resultEvents.length);var o=e._resultEvents[r];return setTimeout((function(){return e.setState({searchFocusOffset:r})}),0),o},e._goToPreviousSearchResult=function(){return e._goToSearchResults(-1)},e._goToNextSearchResult=function(){return e._goToSearchResults(1)},e}return Object(o.a)(n,[{key:"componentWillUnmount",value:function(){this.reset()}},{key:"render",value:function(){return this.props.children({eventsSearchResultEvents:this._resultEvents,searchFocusOffset:this.state.searchFocusOffset,searchInEvents:this._doSearchInEvents,replaceInEvents:this._doReplaceInEvents,goToNextSearchResult:this._goToNextSearchResult,goToPreviousSearchResult:this._goToPreviousSearchResult,clearSearchResults:this.reset})}}]),n}(l.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=e.gd,o=function e(t,n){var o=t.getSubInstructions();if(r.compare(o,n))return!0;for(var a=0;a<o.size();++a){if(e(o.get(a),n))return!0}return!1}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(18),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(100),d=n(136),p=n(607),b=n(30),h=n(476),j=n(474),f=n(475),g=n(1034),m=n(478),O=n(512),v=n(1035),x=n(1039),y=n(472),C=n(80),T=n(7),E=e.gd,k="<create a new extension>",w=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={eventsFunction:null,extensionName:"",createNewExtension:!1},e._getFunctionGroupNames=function(){var t=e.state,n=t.createNewExtension,o=t.extensionName;if(n||!o)return[];for(var a=new Set,i=e.props.project.getEventsFunctionsExtension(o),s=0;s<i.getEventsFunctionsCount();s++){var c=i.getEventsFunctionAt(s).getGroup();c&&a.add(c)}return Object(r.a)(a).sort((function(e,t){return e.localeCompare(t)}))},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.project,n=e.globalObjectsContainer,r=e.objectsContainer,o=e.serializedEvents,a=new E.EventsFunction;Object(g.d)({project:t,globalObjectsContainer:n,objectsContainer:r,serializedEvents:o,eventsFunction:a}),this.setState({eventsFunction:a}),0===Object(p.a)(t).length&&this.setState({createNewExtension:!0})}},{key:"componentWillUnmount",value:function(){var e=this.state.eventsFunction;e&&e.delete()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.onClose,o=t.onCreate,a=this.state,i=a.eventsFunction,s=a.extensionName,l=a.createNewExtension;if(!i)return null;var E=Object(p.a)(n),w=Object(g.c)(i),S=function(){Object(g.a)(n,s,i)?o(s,i):r()};return Object(T.jsx)(u.b,{title:Object(T.jsx)(c.Trans,{id:"Extract the events in a function"}),secondaryActions:[Object(T.jsx)(y.a,{helpPagePath:"/events/functions/extract-events"},"help")],actions:[Object(T.jsx)(d.a,{label:Object(T.jsx)(c.Trans,{id:"Cancel"}),onClick:r},"cancel"),Object(T.jsx)(u.a,{label:Object(T.jsx)(c.Trans,{id:"Create"}),primary:!0,disabled:!Object(g.a)(n,s,i),onClick:S},"create")],open:!0,cannotBeDismissed:!0,onRequestClose:r,onApply:S,noMargin:!0,children:Object(T.jsxs)(b.a,{noMargin:!0,children:[Object(T.jsxs)(b.a,{children:[Object(T.jsx)(O.a,{identifier:"function-extractor-explanation",kind:"info",children:"After creating a function, it will be usable in the events sheet. Functions are grouped by extensions. Choose, or enter the name of a new extension, and a function name, then configure the function and its parameters."}),Object(T.jsxs)(C.c,{noMargin:!0,expand:!0,children:[Object(T.jsxs)(j.a,{floatingLabelText:Object(T.jsx)(c.Trans,{id:"Extension (storing the function)"}),value:l?k:s,onChange:function(t,n,r){r===k?e.setState({createNewExtension:!0,extensionName:""}):e.setState({createNewExtension:!1,extensionName:r})},fullWidth:!0,children:[E.map((function(e){return Object(T.jsx)(f.a,{value:e.getName(),primaryText:e.getFullName()||e.getName()},e.getName())})),Object(T.jsx)(f.a,{value:k,primaryText:{id:"<Create a New Extension>"}})]}),l?Object(T.jsx)(h.a,{commitOnBlur:!0,value:s,floatingLabelText:Object(T.jsx)(c.Trans,{id:"New extension name"}),onChange:function(t){return e.setState({extensionName:t})},fullWidth:!0,errorText:Object(g.h)(n,s)?Object(g.g)(s)?void 0:Object(T.jsx)(c.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):Object(T.jsx)(c.Trans,{id:"This name is already taken by another extension."})}):null]}),Object(T.jsx)(b.c,{children:Object(T.jsx)(h.a,{commitOnBlur:!0,value:i.getName(),floatingLabelText:Object(T.jsx)(c.Trans,{id:"Function name"}),onChange:function(t){i.setName(t),e.forceUpdate()},fullWidth:!0,errorText:Object(g.f)(n,s,i)?Object(g.e)(i.getName())?void 0:Object(T.jsx)(c.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):Object(T.jsx)(c.Trans,{id:"This name is already taken by another function. Choose another name."})})}),w?Object(T.jsx)(b.c,{children:Object(T.jsx)(m.a,{kind:"warning",children:Object(T.jsx)(c.Trans,{id:"This function will have a lot of parameters. Consider creating groups or functions for a smaller set of objects so that the function is easier to reuse."})})}):null]}),Object(T.jsx)(x.a,{eventsFunction:i,eventsBasedBehavior:null,onConfigurationUpdated:function(){e.forceUpdate()},freezeEventsFunctionType:!0,getFunctionGroupNames:this._getFunctionGroupNames}),Object(T.jsx)(b.d,{}),Object(T.jsx)(v.a,{project:n,eventsFunction:i,eventsBasedBehavior:null,onParametersUpdated:function(){e.forceUpdate()},freezeParameters:!0})]})})}}]),n}(l.Component)}).call(this,n(28))},function(e,t,n){"use strict";function r(e,t,n){return t.getObjectGroups().has(n)?t.getObjectGroups().get(n):e.getObjectGroups().has(n)?e.getObjectGroups().get(n):null}n.d(t,"a",(function(){return r}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return W}));var r=n(18),o=n(3),a=n(9),i=n(8),s=n(13),c=n(14),l=n(0),u=n.n(l),d=n(12),p=n(1),b=n(812),h=n(614),j=n(470),f=n(1739),g=n(1742),m=n(2111),O=n(488),v=n(2100),x=n(62),y=n(1746),C=n(1749),T=n(1750),E=n(706),k=n(136),w=n(30),S=n(2166),P=n(86),I=n(1751),_=n(1752),A=n(1753),N=n.n(A),R=n(1098),L=n.n(R),M=n(43),F=n(580),D=n(81),B=n(7),U=e.gd,V={direction:"row",first:{direction:"column",first:"free-functions-list",second:"behaviors-list",splitPercentage:50},second:{direction:"column",first:"parameters",second:"events-sheet",splitPercentage:25},splitPercentage:25},W=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={selectedEventsFunction:null,selectedEventsBasedBehavior:null,editedEventsBasedBehavior:null,editOptionsDialogOpen:!1,behaviorMethodSelectorDialogOpen:!1,extensionFunctionSelectorDialogOpen:!1,onAddEventsFunctionCb:null},e._loadEventsFunctionFrom=function(t,n,r){e._globalObjectsContainer||(e._globalObjectsContainer=new U.ObjectsContainer),e._objectsContainer||(e._objectsContainer=new U.ObjectsContainer),r?U.EventsFunctionTools.behaviorEventsFunctionToObjectsContainer(t,r,n,e._globalObjectsContainer,e._objectsContainer):U.EventsFunctionTools.freeEventsFunctionToObjectsContainer(t,n,e._globalObjectsContainer,e._objectsContainer)},e.updateToolbar=function(){e.editor?e.editor.updateToolbar():e.props.setToolbar(null)},e.selectEventsFunctionByName=function(t,n){var r=e.props.eventsFunctionsExtension;if(n){var o=r.getEventsBasedBehaviors();if(o.has(n)){var a=o.get(n),i=a.getEventsFunctions();i.hasEventsFunctionNamed(t)&&e._selectEventsFunction(i.getEventsFunction(t),a)}}else r.hasEventsFunctionNamed(t)&&e._selectEventsFunction(r.getEventsFunction(t),null)},e._selectEventsFunction=function(t,n){t?(e._loadEventsFunctionFrom(e.props.project,t,n),e.setState({selectedEventsFunction:t,selectedEventsBasedBehavior:n},(function(){e.updateToolbar(),e._editorNavigator&&(t&&!t.getEvents().getEventsCount()?e._editorNavigator.openEditor("parameters"):e._editorNavigator.openEditor("events-sheet"))}))):e.setState({selectedEventsFunction:null,selectedEventsBasedBehavior:n},(function(){return e.updateToolbar()}))},e._makeRenameFreeEventsFunction=function(t){return function(n,r,o){if(U.Project.validateName(r)){if(Object(E.h)(r))return Object(x.c)(t._({id:"This name is reserved for a lifecycle function of the extension. Choose another name for your function."}),{delayToNextTick:!0}),o(!1);var a=e.props,i=a.project,s=a.eventsFunctionsExtension;U.WholeProjectRefactorer.renameEventsFunction(i,s,n.getName(),r),o(!0)}else Object(x.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0})}},e._makeRenameBehaviorEventsFunction=function(t){return function(n,r,o,a){if(!U.Project.validateName(o))return Object(x.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),a(!1);if(Object(E.g)(o))return Object(x.c)(t._({id:"This name is reserved for a lifecycle method of the behavior. Choose another name for your custom function."}),{delayToNextTick:!0}),a(!1);var i=e.props,s=i.project,c=i.eventsFunctionsExtension;U.WholeProjectRefactorer.renameBehaviorEventsFunction(s,c,n,r.getName(),o),a(!0)}},e._makeMoveFreeEventsParameter=function(t){return function(t,n,r,o){var a=e.props,i=a.project,s=a.eventsFunctionsExtension;U.WholeProjectRefactorer.moveEventsFunctionParameter(i,s,t.getName(),n+Object(F.c)(!1),r+Object(F.c)(!1)),o(!0)}},e._makeMoveBehaviorEventsParameter=function(t){return function(t,n,r,o,a){var i=e.props,s=i.project,c=i.eventsFunctionsExtension;U.WholeProjectRefactorer.moveBehaviorEventsFunctionParameter(s,c,t,n.getName(),r,o),a(!0)}},e._onDeleteEventsFunction=function(t,n){e.state.selectedEventsFunction&&U.compare(t,e.state.selectedEventsFunction)&&e._selectEventsFunction(null,e.state.selectedEventsBasedBehavior),n(!0)},e._selectEventsBasedBehavior=function(t){e.setState({selectedEventsBasedBehavior:t,selectedEventsFunction:null},(function(){e.updateToolbar(),t&&(e._editorMosaic&&e._editorMosaic.openEditor("behavior-functions-list","end",75,"column"),e._editorNavigator&&e._editorNavigator.openEditor("behavior-functions-list"))}))},e._makeRenameEventsBasedBehavior=function(t){return function(n,r,o){if(U.Project.validateName(r)){var a=e.props,i=a.project,s=a.eventsFunctionsExtension;U.WholeProjectRefactorer.renameEventsBasedBehavior(i,s,n.getName(),r),o(!0)}else Object(x.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0})}},e._onEventsBasedBehaviorRenamed=function(){e.props.onBehaviorEdited&&e.props.onBehaviorEdited(),e.state.selectedEventsFunction&&e._loadEventsFunctionFrom(e.props.project,e.state.selectedEventsFunction,e.state.selectedEventsBasedBehavior)},e._onDeleteEventsBasedBehavior=function(t,n){e.state.selectedEventsBasedBehavior&&U.compare(t,e.state.selectedEventsBasedBehavior)&&e._selectEventsBasedBehavior(null),n(!0)},e._onAddFreeEventsFunction=function(t){e.setState({extensionFunctionSelectorDialogOpen:!0,onAddEventsFunctionCb:t})},e._onCloseExtensionFunctionSelectorDialog=function(t){var n=e.state.onAddEventsFunctionCb;e.setState({extensionFunctionSelectorDialogOpen:!1,onAddEventsFunctionCb:null},(function(){n&&n(t)}))},e._onAddBehaviorEventsFunction=function(t){e.setState({behaviorMethodSelectorDialogOpen:!0,onAddEventsFunctionCb:t})},e._onCloseBehaviorMethodSelectorDialog=function(t){var n=e.state.onAddEventsFunctionCb;e.setState({behaviorMethodSelectorDialogOpen:!1,onAddEventsFunctionCb:null},(function(){n&&n(t)}))},e._onBehaviorEventsFunctionAdded=function(t,n){U.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(e.props.eventsFunctionsExtension,t)},e._onBehaviorPropertyRenamed=function(t,n,r){var o=e.props,a=o.project,i=o.eventsFunctionsExtension;U.WholeProjectRefactorer.renameEventsBasedBehaviorProperty(a,i,t,n,r)},e._editOptions=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({editOptionsDialogOpen:t})},e._editBehavior=function(t){e.setState((function(n){return n.editedEventsBasedBehavior&&!t&&U.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(e.props.eventsFunctionsExtension,n.editedEventsBasedBehavior),{editedEventsBasedBehavior:t}}),Object(o.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=6;break}if(!e.props.onBehaviorEdited){n.next=5;break}return n.next=4,e.props.onBehaviorEdited();case 4:U.WholeProjectRefactorer.fixInvalidRequiredBehaviorProperties(e.props.project);case 5:e.state.selectedEventsFunction&&e._loadEventsFunctionFrom(e.props.project,e.state.selectedEventsFunction,e.state.selectedEventsBasedBehavior);case 6:case"end":return n.stop()}}),n)}))))},e._openFreeFunctionsListEditor=function(){e._editorNavigator&&e._editorNavigator.openEditor("free-functions-list")},e._openBehaviorsListEditor=function(){e._editorNavigator&&e._editorNavigator.openEditor("behaviors-list")},e._onEditorNavigatorEditorChanged=function(t){e.updateToolbar(),"behaviors-list"===t?e._selectEventsBasedBehavior(null):"free-functions-list"!==t&&"behavior-functions-list"!==t||e._selectEventsFunction(null,e.state.selectedEventsBasedBehavior)},e._getFunctionGroupNames=function(){var t=new Set,n=e.state.selectedEventsBasedBehavior;if(n)for(var o=n.getEventsFunctions(),a=0;a<o.getEventsFunctionsCount();a++){var i=o.getEventsFunctionAt(a).getGroup();i&&t.add(i)}else for(var s=e.props.eventsFunctionsExtension,c=0;c<s.getEventsFunctionsCount();c++){var l=s.getEventsFunctionAt(c).getGroup();l&&t.add(l)}return Object(r.a)(t).sort((function(e,t){return e.localeCompare(t)}))},e._onConfigurationUpdated=function(t){"type"===t&&e.forceUpdate()},e.onBeginCreateEventsFunction=function(){Object(D.i)({step:"begin",parentEditor:"extension-events-editor"})},e.onCreateEventsFunction=function(t,n){e.props.onCreateEventsFunction(t,n,"extension-events-editor")},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initiallyFocusedFunctionName&&this.selectEventsFunctionByName(this.props.initiallyFocusedFunctionName,this.props.initiallyFocusedBehaviorName)}},{key:"componentWillUnmount",value:function(){this._globalObjectsContainer&&this._globalObjectsContainer.delete(),this._objectsContainer&&this._objectsContainer.delete()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsFunctionsExtension,o=this.state,a=o.selectedEventsFunction,i=o.selectedEventsBasedBehavior,s=o.editOptionsDialogOpen,c=o.behaviorMethodSelectorDialogOpen,l=o.extensionFunctionSelectorDialogOpen,u=o.editedEventsBasedBehavior,x={"choose-editor":{type:"primary",noTitleBar:!0,renderEditor:function(){return Object(B.jsx)(_.a,{eventsFunctionsExtension:r,onEditFreeFunctions:e._openFreeFunctionsListEditor,onEditBehaviors:e._openBehaviorsListEditor,onEditExtensionOptions:e._editOptions})}},parameters:{type:"primary",title:{id:"Function Configuration"},toolbarControls:[],renderEditor:function(){return Object(B.jsx)(d.I18n,{children:function(t){var r=t.i18n;return Object(B.jsx)(O.a,{children:a&&e._globalObjectsContainer&&e._objectsContainer?Object(B.jsx)(f.a,{project:n,eventsFunction:a,eventsBasedBehavior:i,globalObjectsContainer:e._globalObjectsContainer,objectsContainer:e._objectsContainer,onConfigurationUpdated:e._onConfigurationUpdated,helpPagePath:i?"/behaviors/events-based-behaviors":"/events/functions",onParametersOrGroupsUpdated:function(){e._loadEventsFunctionFrom(n,a,i),e.forceUpdate()},onMoveFreeEventsParameter:e._makeMoveFreeEventsParameter(r),onMoveBehaviorEventsParameter:e._makeMoveBehaviorEventsParameter(r),unsavedChanges:e.props.unsavedChanges,getFunctionGroupNames:e._getFunctionGroupNames}):Object(B.jsx)(j.a,{children:Object(B.jsx)(d.Trans,{id:"Choose a function, or a function of a behavior, to set the parameters that it accepts."})})})}})}},"events-sheet":{type:"primary",noTitleBar:!0,renderEditor:function(){return a&&e._globalObjectsContainer&&e._objectsContainer?Object(B.jsx)(O.a,{children:Object(B.jsx)(b.a,{ref:function(t){return e.editor=t},project:n,scope:{layout:null,externalEvents:null,eventsFunctionsExtension:r,eventsBasedBehavior:i,eventsFunction:a},globalObjectsContainer:e._globalObjectsContainer,objectsContainer:e._objectsContainer,events:a.getEvents(),onOpenExternalEvents:function(){},onOpenLayout:function(){},resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,openInstructionOrExpression:e.props.openInstructionOrExpression,setToolbar:e.props.setToolbar,onBeginCreateEventsFunction:e.onBeginCreateEventsFunction,onCreateEventsFunction:e.onCreateEventsFunction,onOpenSettings:e._editOptions,unsavedChanges:e.props.unsavedChanges,isActive:!0},a.ptr)}):Object(B.jsx)(O.a,{children:Object(B.jsx)(j.a,{children:Object(B.jsx)(d.Trans,{id:"Choose a function, or a function of a behavior, to edit its events."})})})}},"free-functions-list":{type:"primary",title:{id:"Functions"},toolbarControls:[],renderEditor:function(){return Object(B.jsx)(d.I18n,{children:function(t){var o=t.i18n;return Object(B.jsx)(g.a,{project:n,eventsFunctionsContainer:r,selectedEventsFunction:a,onSelectEventsFunction:function(t){return e._selectEventsFunction(t,null)},onDeleteEventsFunction:e._onDeleteEventsFunction,canRename:function(e){return!Object(E.h)(e.getName())},onRenameEventsFunction:e._makeRenameFreeEventsFunction(o),onAddEventsFunction:e._onAddFreeEventsFunction,onEventsFunctionAdded:function(){},renderHeader:function(){return Object(B.jsxs)(p.Fragment,{children:[Object(B.jsx)(w.c,{justifyContent:"center",children:Object(B.jsx)(k.a,{label:Object(B.jsx)(d.Trans,{id:"Edit extension options"}),primary:!0,onClick:function(){return e._editOptions()}})}),Object(B.jsx)(S.a,{})]})},unsavedChanges:e.props.unsavedChanges})}})}},"behavior-functions-list":{type:"primary",title:{id:"Behavior functions"},renderEditor:function(){return i?Object(B.jsx)(d.I18n,{children:function(t){var r=t.i18n;return Object(B.jsx)(g.a,{project:n,eventsFunctionsContainer:i.getEventsFunctions(),selectedEventsFunction:a,onSelectEventsFunction:function(t){return e._selectEventsFunction(t,i)},onDeleteEventsFunction:e._onDeleteEventsFunction,canRename:function(e){return!Object(E.g)(e.getName())},onRenameEventsFunction:function(t,n,o){return e._makeRenameBehaviorEventsFunction(r)(i,t,n,o)},onAddEventsFunction:e._onAddBehaviorEventsFunction,onEventsFunctionAdded:function(t){return e._onBehaviorEventsFunctionAdded(i,t)},renderHeader:function(){return Object(B.jsxs)(p.Fragment,{children:[Object(B.jsx)(w.c,{justifyContent:"center",children:Object(B.jsx)(k.a,{label:Object(B.jsx)(d.Trans,{id:"Edit behavior properties"}),primary:!0,onClick:function(){return e._editBehavior(i)}})}),Object(B.jsx)(S.a,{})]})},unsavedChanges:e.props.unsavedChanges})}}):Object(B.jsx)(O.a,{children:Object(B.jsx)(j.a,{children:Object(B.jsx)(d.Trans,{id:"Select a behavior to display the functions inside this behavior."})})})}},"behaviors-list":{type:"secondary",title:{id:"Behaviors"},toolbarControls:[],renderEditor:function(){return Object(B.jsx)(d.I18n,{children:function(t){var o=t.i18n;return Object(B.jsx)(m.a,{project:n,eventsBasedBehaviorsList:r.getEventsBasedBehaviors(),selectedEventsBasedBehavior:i,onSelectEventsBasedBehavior:e._selectEventsBasedBehavior,onDeleteEventsBasedBehavior:e._onDeleteEventsBasedBehavior,onRenameEventsBasedBehavior:e._makeRenameEventsBasedBehavior(o),onEventsBasedBehaviorRenamed:e._onEventsBasedBehaviorRenamed,onEditProperties:e._editBehavior,unsavedChanges:e.props.unsavedChanges})}})}}};return Object(B.jsxs)(p.Fragment,{children:[Object(B.jsx)(P.a,{children:function(t){return"small"===t?Object(B.jsx)(I.a,{ref:function(t){return e._editorNavigator=t},editors:x,initialEditorName:"choose-editor",transitions:{"behaviors-list":{previousEditor:"choose-editor"},"behavior-functions-list":{previousEditor:"behaviors-list"},"free-functions-list":{previousEditor:"choose-editor"},"events-sheet":{nextIcon:Object(B.jsx)(L.a,{}),nextLabel:Object(B.jsx)(d.Trans,{id:"Parameters"}),nextEditor:"parameters",previousEditor:function(){return i?"behavior-functions-list":"free-functions-list"}},parameters:{nextIcon:Object(B.jsx)(N.a,{}),nextLabel:Object(B.jsx)(d.Trans,{id:"Validate these parameters"}),nextEditor:"events-sheet"}},onEditorChanged:e._onEditorNavigatorEditorChanged}):Object(B.jsx)(M.a.Consumer,{children:function(t){var n=t.getDefaultEditorMosaicNode,r=t.setDefaultEditorMosaicNode;return Object(B.jsx)(h.a,{ref:function(t){return e._editorMosaic=t},editors:x,onPersistNodes:function(e){return r("events-functions-extension-editor",e)},initialNodes:n("events-functions-extension-editor")||V})}})}}),s&&Object(B.jsx)(v.a,{eventsFunctionsExtension:r,open:!0,onClose:function(){return e._editOptions(!1)}}),c&&i&&Object(B.jsx)(C.a,{eventsBasedBehavior:i,onCancel:function(){return e._onCloseBehaviorMethodSelectorDialog(null)},onChoose:function(t){return e._onCloseBehaviorMethodSelectorDialog(t)}}),l&&r&&Object(B.jsx)(T.a,{eventsFunctionsExtension:r,onCancel:function(){return e._onCloseExtensionFunctionSelectorDialog(null)},onChoose:function(t){return e._onCloseExtensionFunctionSelectorDialog(t)}}),u&&Object(B.jsx)(y.a,{project:n,eventsFunctionsExtension:r,eventsBasedBehavior:u,onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._editBehavior(null)},onRenameProperty:function(t,n){return e._onBehaviorPropertyRenamed(u,t,n)}})]})}}]),n}(p.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(1740),u=n(495),d=n(1035),p=n(1039),b=n(484),h=n(30),j=n(62),f=n(35),g=n(7),m=e.gd,O=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={currentTab:"config"},e._canObjectOrGroupUseNewName=function(t){var n=e.props,r=n.objectsContainer,o=n.globalObjectsContainer;return r.hasObjectNamed(t)||o.hasObjectNamed(t)||r.getObjectGroups().has(t)||o.getObjectGroups().has(t)?(Object(j.c)("Another object or group with this name already exists in this function.",{delayToNextTick:!0}),!1):!!m.Project.validateName(t)||(Object(j.c)("This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character.",{delayToNextTick:!0}),!1)},e._onDeleteGroup=function(t,n){var r=t.group,o=e.props,a=o.project,i=o.eventsFunction,s=o.globalObjectsContainer,c=o.objectsContainer,l=f.b.showConfirmDialog("Do you want to remove all references to this group in events (actions and conditions using the group)?");m.WholeProjectRefactorer.objectOrGroupRemovedInEventsFunction(a,i,s,c,r.getName(),!0,!!l),n(!0)},e._onRenameGroup=function(t,n,r){var o=t.group,a=e.props,i=a.project,s=a.eventsFunction,c=a.globalObjectsContainer,l=a.objectsContainer;o.getName()!==n&&m.WholeProjectRefactorer.objectOrGroupRenamedInEventsFunction(i,s,c,l,o.getName(),n,!0),r(!0)},e._chooseTab=function(t){return e.setState({currentTab:t})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.project,n=e.globalObjectsContainer,r=e.objectsContainer,o=e.eventsFunction,a=e.eventsBasedBehavior,i=e.freezeEventsFunctionType,c=e.onConfigurationUpdated,j=e.onParametersOrGroupsUpdated,f=e.freezeParameters,m=e.helpPagePath,O=e.renderConfigurationHeader,v=e.onMoveFreeEventsParameter,x=e.onMoveBehaviorEventsParameter,y=e.getFunctionGroupNames;return Object(g.jsxs)(h.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(g.jsxs)(u.b,{value:this.state.currentTab,onChange:this._chooseTab,children:[Object(g.jsx)(u.a,{label:Object(g.jsx)(s.Trans,{id:"Configuration"}),value:"config"}),Object(g.jsx)(u.a,{label:Object(g.jsx)(s.Trans,{id:"Parameters"}),value:"parameters"}),Object(g.jsx)(u.a,{label:Object(g.jsx)(s.Trans,{id:"Object groups"}),value:"groups"})]}),"config"===this.state.currentTab?Object(g.jsx)(b.a,{children:Object(g.jsx)(h.c,{children:Object(g.jsx)(p.a,{eventsFunction:o,eventsBasedBehavior:a,helpPagePath:m,onConfigurationUpdated:c,renderConfigurationHeader:O,freezeEventsFunctionType:i,getFunctionGroupNames:y})})}):null,"parameters"===this.state.currentTab?Object(g.jsx)(b.a,{children:Object(g.jsx)(h.c,{children:Object(g.jsx)(d.a,{project:t,eventsFunction:o,eventsBasedBehavior:a,onParametersUpdated:j,helpPagePath:m,freezeParameters:f,onMoveFreeEventsParameter:v,onMoveBehaviorEventsParameter:x},o?o.ptr:null)})}):null,"groups"===this.state.currentTab?Object(g.jsx)(l.a,{project:t,globalObjectsContainer:n,objectsContainer:r,globalObjectGroups:n.getObjectGroups(),objectGroups:o.getObjectGroups(),canRenameGroup:this._canObjectOrGroupUseNewName,onRenameGroup:this._onRenameGroup,onDeleteGroup:this._onDeleteGroup,onGroupsUpdated:j,canSetAsGlobalGroup:!1,unsavedChanges:this.props.unsavedChanges}):null]})}}]),n}(c.Component)}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(1),c=n(1082),l=n(1083),u=n(7),d=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={editedGroup:null},e.editGroup=function(t){return e.setState({editedGroup:t})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.objectsContainer,o=t.globalObjectsContainer,a=t.objectGroups,i=t.globalObjectGroups;return Object(u.jsxs)(s.Fragment,{children:[Object(u.jsx)(c.a,{globalObjectGroups:i,objectGroups:a,onEditGroup:this.editGroup,onDeleteGroup:this.props.onDeleteGroup,onRenameGroup:this.props.onRenameGroup,canRenameGroup:this.props.canRenameGroup,onGroupAdded:this.props.onGroupsUpdated,onGroupRemoved:this.props.onGroupsUpdated,onGroupRenamed:this.props.onGroupsUpdated,canSetAsGlobalGroup:this.props.canSetAsGlobalGroup,unsavedChanges:this.props.unsavedChanges}),this.state.editedGroup&&Object(u.jsx)(l.a,{project:n,group:this.state.editedGroup,globalObjectsContainer:o,objectsContainer:r,onCancel:function(){return e.editGroup(null)},onApply:function(){e.props.onGroupsUpdated&&e.props.onGroupsUpdated(),e.editGroup(null)}},o.ptr+";"+r.ptr)]})}}]),n}(s.Component)},function(e,t,n){"use strict";(function(e){var r=n(26),o=n(1),a=n(485),i=n(1010),s=n(470),c=n(30),l=n(423),u=n(7),d=e.gd,p={objectSelector:{position:"sticky",bottom:0}};t.a=function(e){var t=e.project,n=e.group,b=e.globalObjectsContainer,h=e.objectsContainer,j=e.onSizeUpdated,f=o.useState(""),g=Object(r.a)(f,2),m=g[0],O=g[1];return Object(u.jsxs)(c.a,{children:[Object(u.jsxs)("div",{children:[function(){var e=void 0;n.getAllObjectsNames().toJSArray().forEach((function(t){var n=d.getTypeOfObject(b,h,t,!1);e=void 0===e||n===e?n:""}));var t="";return t=void 0===e?"This group is empty":""===e?"This group contains objects of different kinds. You'll only be able to use actions and conditions common to all objects with this group.":"This group contains objects of the same kind (".concat(e,"). You can use actions and conditions related to this kind of objects in events with this group."),Object(u.jsx)(s.a,{children:t})}(),Object(u.jsx)(a.a,{children:n.getAllObjectsNames().toJSArray().map((function(e){return Object(u.jsx)(a.b,{primaryText:e,displayRemoveButton:!0,onRemove:function(){return function(e){n.removeObject(e),j&&j()}(e)}},e)}))})]}),Object(u.jsx)(l.a,{style:p.objectSelector,children:Object(u.jsx)(c.a,{children:Object(u.jsx)(i.a,{project:t,globalObjectsContainer:b,objectsContainer:h,value:m,onChange:O,onChoose:function(e){n.addObject(e),O(""),j&&j()},openOnFocus:!0,noGroups:!0,hintText:{id:"Choose an object to add to the group"},fullWidth:!0})})})]})}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(511),u=n(664),d=n(501),p=n(62),b=n(488),h=n(486),j=n(2159),f=n(1743),g=n(567),m=n(551),O=n.n(m),v=n(35),x=n(492),y=n(7),C="Events Function",T=e.gd,E={listContainer:{flex:1}},k=function(e){return e.isPrivate()?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(j.a,{title:"This function won't be visible in the events editor",children:Object(y.jsx)(O.a,{fontSize:"small",style:{marginRight:5,verticalAlign:"bottom"}})}),Object(y.jsx)("span",{title:e.getName(),children:e.getName()})]}):e.getName()},w=function(e){return e.getName()},S=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={renamedEventsFunction:null,searchText:""},e._togglePrivate=function(t){t.setPrivate(!t.isPrivate()),e.forceUpdate()},e._deleteEventsFunction=function(t,n){var r=n.askForConfirmation,o=e.props.eventsFunctionsContainer;if(r&&!v.b.showConfirmDialog("Are you sure you want to remove this function? This can't be undone."))return;e.props.onDeleteEventsFunction(t,(function(n){n&&(o.removeEventsFunction(t.getName()),e._onEventsFunctionModified())}))},e._editName=function(t){e.setState({renamedEventsFunction:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._getFunctionThumbnail=function(e){switch(e.getFunctionType()){default:return"res/functions/function.svg";case T.EventsFunction.Action:switch(e.getName()){default:return"res/functions/action.svg";case"onSceneUnloading":case"onDestroy":return"res/functions/destroy.svg";case"onSceneResumed":case"onActivate":return"res/functions/activate.svg";case"onScenePaused":case"onDeActivate":return"res/functions/deactivate.svg";case"onScenePreEvents":case"onScenePostEvents":case"doStepPreEvents":case"doStepPostEvents":return"res/functions/step.svg";case"onSceneLoaded":case"onFirstSceneLoaded":case"onCreated":return"res/functions/create.svg"}case T.EventsFunction.Condition:return"res/functions/condition.svg";case T.EventsFunction.Expression:case T.EventsFunction.StringExpression:return"res/functions/expression.svg"}},e._rename=function(t,n){var r=e.props.eventsFunctionsContainer;e.setState({renamedEventsFunction:null}),t.getName()!==n&&(r.hasEventsFunctionNamed(n)?Object(p.c)("Another function with this name already exists.",{delayToNextTick:!0}):e.props.onRenameEventsFunction(t,n,(function(r){r&&(t.setName(n),e._onEventsFunctionModified())})))},e._moveSelectionTo=function(t){var n=e.props,r=n.eventsFunctionsContainer,o=n.selectedEventsFunction;o&&(r.moveEventsFunction(r.getEventsFunctionPosition(o),r.getEventsFunctionPosition(t)),e.forceUpdateList())},e.forceUpdateList=function(){e._onEventsFunctionModified(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._copyEventsFunction=function(e){g.b.set(C,{eventsFunction:Object(x.b)(e),name:e.getName()})},e._cutEventsFunction=function(t){e._copyEventsFunction(t),e._deleteEventsFunction(t,{askForConfirmation:!1})},e._pasteEventsFunction=function(t){if(g.b.has(C)){var n=g.b.get(C),r=g.a.extractObjectProperty(n,"eventsFunction"),o=g.a.extractStringProperty(n,"name");if(o&&r){var a=e.props,i=a.project,s=a.eventsFunctionsContainer,c=Object(h.a)(o,(function(e){return s.hasEventsFunctionNamed(e)})),l=s.insertNewEventsFunction(c,t);Object(x.c)(l,r,"unserializeFrom",i),l.setName(c),e.props.onEventsFunctionAdded(l),e._onEventsFunctionModified()}}},e._renderEventsFunctionMenuTemplate=function(t){return function(n,r){return[{label:t._({id:"Rename"}),click:function(){return e._editName(n)},enabled:e.props.canRename(n)},{label:n.isPrivate()?t._({id:"Make public"}):t._({id:"Make private"}),enabled:e.props.canRename(n),click:function(){return e._togglePrivate(n)}},{label:t._({id:"Delete"}),click:function(){return e._deleteEventsFunction(n,{askForConfirmation:!0})}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e._copyEventsFunction(n)}},{label:t._({id:"Cut"}),click:function(){return e._cutEventsFunction(n)}},{label:t._({id:"Paste"}),enabled:g.b.has(C),click:function(){return e._pasteEventsFunction(r)}}]}},e._addNewEventsFunction=function(){var t=e.props.eventsFunctionsContainer;e.props.onAddEventsFunction((function(n){if(n){var r=n.name||Object(h.a)("Function",(function(e){return t.hasEventsFunctionNamed(e)})),o=t.insertNewEventsFunction(r,t.getEventsFunctionsCount());o.setFunctionType(n.functionType),e.props.onEventsFunctionAdded(o),e._onEventsFunctionModified()}}))},e}return Object(o.a)(n,[{key:"_onEventsFunctionModified",value:function(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsFunctionsContainer,o=t.selectedEventsFunction,a=t.onSelectEventsFunction,i=t.renderHeader,c=this.state.searchText,p=Object(f.b)(Object(f.a)(r),c),h=n.ptr+";"+r.ptr;return Object(y.jsxs)(b.a,{children:[i?i():null,Object(y.jsx)("div",{style:E.listContainer,children:Object(y.jsx)(l.a,{children:function(t){var n=t.height,r=t.width;return Object(y.jsx)(s.I18n,{children:function(t){var i=t.i18n;return Object(y.jsx)(u.a,{ref:function(t){return e.sortableList=t},fullList:p,width:r,height:n,onAddNewItem:e._addNewEventsFunction,addNewItemLabel:Object(y.jsx)(s.Trans,{id:"Add a new function"}),renderItemLabel:k,getItemName:w,getItemThumbnail:e._getFunctionThumbnail,selectedItems:o?[o]:[],onItemSelected:a,renamedItem:e.state.renamedEventsFunction,onRename:e._rename,onMoveSelectionToItem:e._moveSelectionTo,buildMenuTemplate:e._renderEventsFunctionMenuTemplate(i),reactDndType:"GD_EVENTS_FUNCTION"},h)}})}})}),Object(y.jsx)(d.a,{value:c,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})},aspect:"integrated-search-bar",placeholder:{id:"Search functions"}})]})}}]),n}(c.Component);S.defaultProps={onDeleteEventsFunction:function(e,t){return t(!0)},onRenameEventsFunction:function(e,t,n){return n(!0)}}}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(465),o=function(e){return Object(r.mapFor)(0,e.getEventsFunctionsCount(),(function(t){return e.getEventsFunctionAt(t)}))},a=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(100),u=n(1747),d=n(472),p=n(7),b=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onApply,r=t.eventsBasedBehavior,o=t.eventsFunctionsExtension,a=t.project;return Object(p.jsx)(l.b,{noMargin:!0,secondaryActions:[Object(p.jsx)(d.a,{helpPagePath:"/behaviors/events-based-behaviors"},"help")],actions:[Object(p.jsx)(l.a,{label:Object(p.jsx)(s.Trans,{id:"Apply"}),primary:!0,onClick:n},"Apply")],open:!0,onRequestClose:n,onApply:n,title:Object(p.jsx)(s.Trans,{id:"Edit the behavior"}),children:Object(p.jsx)(u.a,{project:a,eventsFunctionsExtension:o,eventsBasedBehavior:r,onTabChanged:function(){return e.forceUpdate()},onPropertiesUpdated:function(){return e.forceUpdate()},onRenameProperty:this.props.onRenameProperty})})}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(469),u=n(476),d=n(1036),p=n(495),b=n(512),h=n(478),j=n(1748),f=n(80),g=n(30),m=n(7),O=e.gd,v=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={currentTab:"configuration"},e._allObjectTypes=O.WholeProjectRefactorer.getAllObjectTypesUsingEventsBasedBehavior(e.props.project,e.props.eventsFunctionsExtension,e.props.eventsBasedBehavior).toNewVectorString().toJSArray(),e._changeTab=function(t){return e.setState({currentTab:t},(function(){return e.props.onTabChanged()}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state.currentTab,n=this.props,r=n.eventsBasedBehavior,o=n.project;return Object(m.jsxs)(c.Fragment,{children:[Object(m.jsxs)(p.b,{value:t,onChange:this._changeTab,children:[Object(m.jsx)(p.a,{label:Object(m.jsx)(s.Trans,{id:"Configuration"}),value:"configuration"}),Object(m.jsx)(p.a,{label:Object(m.jsx)(s.Trans,{id:"Properties"}),value:"properties"})]}),Object(m.jsxs)(g.c,{children:["configuration"===t&&Object(m.jsxs)(f.a,{expand:!0,children:[Object(m.jsx)(b.a,{identifier:"events-based-behavior-explanation",kind:"info",children:Object(m.jsx)(s.Trans,{id:"This is the configuration of your behavior. Make sure to choose a proper internal name as it's hard to change it later. Enter a description explaining what the behavior is doing to the object."})}),Object(m.jsx)(l.b,{floatingLabelText:Object(m.jsx)(s.Trans,{id:"Internal Name"}),value:r.getName(),disabled:!0,fullWidth:!0}),Object(m.jsx)(u.a,{commitOnBlur:!0,floatingLabelText:Object(m.jsx)(s.Trans,{id:"Name displayed in editor"}),value:r.getFullName(),onChange:function(t){r.setFullName(t),e.forceUpdate()},fullWidth:!0}),Object(m.jsx)(u.a,{commitOnBlur:!0,floatingLabelText:Object(m.jsx)(s.Trans,{id:"Description"}),floatingLabelFixed:!0,hintText:{id:"The description of the behavior should explain what the behavior is doing to the object, and, briefly, how to use it."},value:r.getDescription(),onChange:function(t){r.setDescription(t),e.forceUpdate()},multiline:!0,fullWidth:!0,rows:3}),Object(m.jsx)(d.a,{floatingLabelText:Object(m.jsx)(s.Trans,{id:"Object on which this behavior can be used"}),project:o,value:r.getObjectType(),onChange:function(t){r.setObjectType(t),e.forceUpdate()},allowedObjectTypes:0===this._allObjectTypes.length?void 0:1===this._allObjectTypes.length?["",this._allObjectTypes[0]]:[""]}),this._allObjectTypes.length>1&&Object(m.jsx)(h.a,{kind:"info",children:Object(m.jsx)(s.Trans,{id:"This behavior is being used by multiple types of objects. Thus, you can't restrict its usage to any particular object type. All the object types using this behavior are listed here: {0}",values:{0:this._allObjectTypes.join(", ")}})}),0===r.getEventsFunctions().getEventsFunctionsCount()&&Object(m.jsx)(b.a,{identifier:"empty-events-based-behavior-explanation",kind:"info",children:Object(m.jsx)(s.Trans,{id:"Once you're done, close this dialog and start adding some functions to the behavior. Then, test the behavior by adding it to an object in a scene."})})]}),"properties"===t&&Object(m.jsx)(j.a,{project:o,eventsBasedBehavior:r,onPropertiesUpdated:this.props.onPropertiesUpdated,onRenameProperty:this.props.onRenameProperty})]})]})}}]),n}(c.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return U}));var r=n(18),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(30),d=n(474),p=n(475),b=n(465),h=n(137),j=n(471),f=n(470),g=n(505),m=n(629),O=n.n(m),v=n(476),x=n(532),y=n(62),C=n(486),T=n(571),E=n(574),k=n.n(E),w=n(551),S=n.n(w),P=n(489),I=n.n(P),_=n(80),A=n(1038),N=n(549),R=n(1037),L=n(514),M=n(7),F=e.gd,D={propertiesContainer:{flex:1}},B=function(e){return e.getExtraInfo().toJSArray()},U=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i)))._addProperty=function(){var t=e.props.eventsBasedBehavior.getPropertyDescriptors(),n=Object(C.a)("Property",(function(e){return t.has(e)}));t.insertNew(n,t.getCount()).setType("Number"),e.forceUpdate(),e.props.onPropertiesUpdated()},e._removeProperty=function(t){e.props.eventsBasedBehavior.getPropertyDescriptors().remove(t),e.forceUpdate(),e.props.onPropertiesUpdated()},e._moveProperty=function(t,n){e.props.eventsBasedBehavior.getPropertyDescriptors().move(t,n),e.forceUpdate(),e.props.onPropertiesUpdated()},e._setChoiceExtraInfo=function(t){return function(n){var r=B(t).indexOf(t.getValue()),o=new F.VectorString;n.forEach((function(e){return o.push_back(e)})),t.setExtraInfo(o),o.delete(),t.setValue(n[r]||""),e.forceUpdate()}},e._getPropertyGroupNames=function(){for(var t=e.props.eventsBasedBehavior.getPropertyDescriptors(),n=new Set,o=0;o<t.size();o++){var a=t.at(o).getGroup()||"";n.add(a)}return Object(r.a)(n).sort((function(e,t){return e.localeCompare(t)}))},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props.eventsBasedBehavior.getPropertyDescriptors();return Object(M.jsx)(c.I18n,{children:function(n){var r=n.i18n;return Object(M.jsx)(u.a,{noMargin:!0,expand:!0,children:Object(M.jsx)(u.c,{noMargin:!0,children:Object(M.jsxs)("div",{style:D.propertiesContainer,children:[Object(b.mapVector)(t,(function(n,o){return Object(M.jsxs)(l.Fragment,{children:[Object(M.jsxs)(x.b,{children:[Object(M.jsx)(u.a,{expand:!0,noMargin:!0,children:Object(M.jsx)(v.a,{margin:"none",commitOnBlur:!0,hintText:{id:"Enter the property name"},value:n.getName(),onChange:function(o){o!==n.getName()&&function(e,t,n){return n?"name"===n||"type"===n?(Object(y.c)(e._({id:'The name of a property cannot be "name" or "type", as they are used by GDevelop internally.'}),{delayToNextTick:!0}),!1):t.has(n)?(Object(y.c)(e._({id:"This name is already used by another property. Choose a unique name for each property."}),{delayToNextTick:!0}),!1):!!F.Project.validateName(n)||(Object(y.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1):(Object(y.c)(e._({id:"The name of a property cannot be empty."}),{delayToNextTick:!0}),!1)}(r,t,o)&&(e.props.onRenameProperty(n.getName(),o),n.setName(o),e.forceUpdate(),e.props.onPropertiesUpdated())},fullWidth:!0})}),Object(M.jsx)(T.a,{label:n.isHidden()?Object(M.jsx)(c.Trans,{id:"Hidden"}):Object(M.jsx)(c.Trans,{id:"Visible in editor"}),checked:!n.isHidden(),onCheck:function(t,r){n.setHidden(!r),e.forceUpdate(),e.props.onPropertiesUpdated()},checkedIcon:Object(M.jsx)(k.a,{}),uncheckedIcon:Object(M.jsx)(S.a,{})}),Object(M.jsx)(g.a,{element:Object(M.jsx)(j.a,{children:Object(M.jsx)(O.a,{})}),buildMenuTemplate:function(r){return[{label:r._({id:"Delete"}),click:function(){return e._removeProperty(n.getName())}},{type:"separator"},{label:r._({id:"Move up"}),click:function(){return e._moveProperty(o,o-1)},enabled:o-1>=0},{label:r._({id:"Move down"}),click:function(){return e._moveProperty(o,o+1)},enabled:o+1<t.getCount()}]}})]}),Object(M.jsx)(u.c,{children:Object(M.jsxs)(_.a,{expand:!0,children:[Object(M.jsxs)(_.c,{noMargin:!0,children:[Object(M.jsxs)(d.a,{floatingLabelText:Object(M.jsx)(c.Trans,{id:"Type"}),value:n.getType(),onChange:function(t,r,o){n.setType(o),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0,children:[Object(M.jsx)(p.a,{value:"Number",primaryText:{id:"Number"}}),Object(M.jsx)(p.a,{value:"String",primaryText:{id:"String"}}),Object(M.jsx)(p.a,{value:"Boolean",primaryText:{id:"Boolean (checkbox)"}}),Object(M.jsx)(p.a,{value:"Choice",primaryText:{id:"String from a list of options (text)"}}),Object(M.jsx)(p.a,{value:"Color",primaryText:{id:"Color (text)"}}),Object(M.jsx)(p.a,{value:"Behavior",primaryText:{id:"Required behavior"}})]}),("String"===n.getType()||"Number"===n.getType())&&Object(M.jsx)(v.a,{commitOnBlur:!0,floatingLabelText:Object(M.jsx)(c.Trans,{id:"Default value"}),hintText:"Number"===n.getType()?"123":"ABC",value:n.getValue(),onChange:function(t){n.setValue(t),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0}),"Boolean"===n.getType()&&Object(M.jsxs)(d.a,{floatingLabelText:Object(M.jsx)(c.Trans,{id:"Default value"}),value:"true"===n.getValue()?"true":"false",onChange:function(t,r,o){n.setValue(o),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0,children:[Object(M.jsx)(p.a,{value:"true",primaryText:{id:"True (checked)"}}),Object(M.jsx)(p.a,{value:"false",primaryText:{id:"False (not checked)"}})]}),"Behavior"===n.getType()&&Object(M.jsx)(R.a,{project:e.props.project,objectType:e.props.eventsBasedBehavior.getObjectType(),value:0===n.getExtraInfo().size()?"":n.getExtraInfo().at(0),onChange:function(t){var r=n.getExtraInfo();0===r.size()?r.push_back(t):r.set(0,t),e.forceUpdate(),e.props.onPropertiesUpdated()},disabled:!1}),"Choice"===n.getType()&&Object(M.jsx)(d.a,{floatingLabelText:Object(M.jsx)(c.Trans,{id:"Default value"}),value:n.getValue(),onChange:function(t,r,o){n.setValue(o),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0,children:B(n).map((function(e,t){return Object(M.jsx)(p.a,{value:e,primaryText:e},t)}))})]}),"Choice"===n.getType()&&Object(M.jsx)(A.a,{extraInfo:B(n),setExtraInfo:e._setChoiceExtraInfo(n)}),"Color"===n.getType()&&Object(M.jsx)(N.a,{floatingLabelText:Object(M.jsx)(c.Trans,{id:"Color"}),disableAlpha:!0,fullWidth:!0,color:n.getValue(),onChange:function(t){n.setValue(t),e.forceUpdate(),e.props.onPropertiesUpdated()}}),Object(M.jsx)(L.a,{floatingLabelText:Object(M.jsx)(c.Trans,{id:"Group name"}),hintText:{id:"Leave it empty to use the default group."},fullWidth:!0,value:n.getGroup(),onChange:function(t){n.setGroup(t),e.forceUpdate(),e.props.onPropertiesUpdated()},dataSource:e._getPropertyGroupNames().map((function(e){return{text:e,value:e}})),openOnFocus:!0}),Object(M.jsx)(v.a,{commitOnBlur:!0,floatingLabelText:Object(M.jsx)(c.Trans,{id:"Label, shown in the editor"}),hintText:{id:"This should make the purpose of the property easy to understand"},floatingLabelFixed:!0,value:n.getLabel(),onChange:function(t){n.setLabel(t),e.forceUpdate()},fullWidth:!0})]})})]},o)})),0===t.getCount()?Object(M.jsx)(f.a,{children:Object(M.jsx)(c.Trans,{id:"No properties for this behavior. Add one to store data inside this behavior (for example: health, ammo, speed, etc...)"})}):null,Object(M.jsx)(u.a,{children:Object(M.jsx)(u.c,{justifyContent:"flex-end",expand:!0,children:Object(M.jsx)(h.a,{primary:!0,label:Object(M.jsx)(c.Trans,{id:"Add a property"}),onClick:e._addProperty,icon:Object(M.jsx)(I.a,{})})})})]})})})}})}}]),n}(l.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(26),o=n(12),a=n(1),i=n(136),s=n(528),c=n(485),l=n(100),u=n(472),d=n(1089),p=n(1090),b=n(1091),h=n(1092),j=n(1093),f=n(1094),g=n(1095),m=n(1096),O=n(30),v=n(574),x=n.n(v),y=n(551),C=n.n(y),T=n(7),E=e.gd,k={icon:{width:40,height:40},disabledItem:{opacity:.6}},w=function(e){var t=e.icon,n=e.disabled,r=e.onChoose,o=e.name,a=e.description;return Object(T.jsx)(c.b,{leftIcon:t,primaryText:o,secondaryText:a,secondaryTextLines:2,onClick:function(){return r({functionType:E.EventsFunction.Action,name:o})},style:n?k.disabledItem:void 0,disabled:n})};function S(e){var t=e.eventsBasedBehavior,n=e.onChoose,v=e.onCancel,y=t.getEventsFunctions(),S=a.useState(!1),P=Object(r.a)(S,2),I=P[0],_=P[1];return Object(T.jsxs)(l.b,{secondaryActions:[Object(T.jsx)(u.a,{helpPagePath:"/behaviors/events-based-behaviors"},"help")],actions:[Object(T.jsx)(i.a,{label:Object(T.jsx)(o.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:v},"close")],open:!0,noMargin:!0,title:Object(T.jsx)(o.Trans,{id:'Choose a new behavior function ("method")'}),onRequestClose:v,children:[Object(T.jsxs)(c.a,{children:[Object(T.jsx)(c.b,{leftIcon:Object(T.jsx)(h.a,{style:k.icon}),primaryText:Object(T.jsx)(o.Trans,{id:"Action"}),secondaryText:Object(T.jsx)(o.Trans,{id:"An action that can be used on objects with the behavior. You can define the action parameters: objects, texts, numbers, layers, etc..."}),onClick:function(){return n({functionType:E.EventsFunction.Action,name:null})}}),Object(T.jsx)(c.b,{leftIcon:Object(T.jsx)(j.a,{style:k.icon}),primaryText:Object(T.jsx)(o.Trans,{id:"Condition"}),secondaryText:Object(T.jsx)(o.Trans,{id:"A condition that can be used on objects with the behavior. You can define the condition parameters: objects, texts, numbers, layers, etc..."}),onClick:function(){return n({functionType:E.EventsFunction.Condition,name:null})}}),Object(T.jsx)(c.b,{leftIcon:Object(T.jsx)(f.a,{style:k.icon}),primaryText:Object(T.jsx)(o.Trans,{id:"Expression"}),secondaryText:Object(T.jsx)(o.Trans,{id:"An expression that can be used on objects with the behavior. Can either return a number or a string, and take some parameters."}),onClick:function(){return n({functionType:E.EventsFunction.Expression,name:null})}}),Object(T.jsx)(s.a,{children:Object(T.jsx)(o.Trans,{id:"Lifecycle methods"})}),Object(T.jsx)(w,{icon:Object(T.jsx)(d.a,{style:k.icon}),name:"onCreated",disabled:y.hasEventsFunctionNamed("onCreated"),onChoose:n,description:Object(T.jsx)(o.Trans,{id:"Events that will be run once, when an object is created with this behavior being attached to it."})}),Object(T.jsx)(w,{icon:Object(T.jsx)(p.a,{style:k.icon}),name:"doStepPreEvents",disabled:y.hasEventsFunctionNamed("doStepPreEvents"),onChoose:n,description:Object(T.jsx)(o.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, before the events from the events sheet are launched."})}),Object(T.jsx)(w,{icon:Object(T.jsx)(b.a,{style:k.icon}),name:"onDestroy",disabled:y.hasEventsFunctionNamed("onOwnerRemovedFromScene")||y.hasEventsFunctionNamed("onDestroy"),onChoose:n,description:Object(T.jsx)(o.Trans,{id:"Events that will be run once, after the object is removed from the scene and before it is entirely removed from memory."})}),I&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(s.a,{children:Object(T.jsx)(o.Trans,{id:"Other lifecycle methods"})}),Object(T.jsx)(w,{icon:Object(T.jsx)(m.a,{style:k.icon}),name:"onDeActivate",disabled:y.hasEventsFunctionNamed("onDeActivate"),onChoose:n,description:Object(T.jsx)(o.Trans,{id:"Events that will be run once when the behavior is deactivated on an object (step events won't be run until the behavior is activated again)."})}),Object(T.jsx)(w,{icon:Object(T.jsx)(g.a,{style:k.icon}),name:"onActivate",disabled:y.hasEventsFunctionNamed("onActivate"),onChoose:n,description:Object(T.jsx)(o.Trans,{id:"Events that will be run once when the behavior is re-activated on an object (after it was previously deactivated)."})}),Object(T.jsx)(w,{icon:Object(T.jsx)(p.a,{style:k.icon}),name:"doStepPostEvents",disabled:y.hasEventsFunctionNamed("doStepPostEvents"),onChoose:n,description:Object(T.jsx)(o.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, after the events from the events sheet."})})]})]}),Object(T.jsx)(O.c,{justifyContent:"center",alignItems:"center",children:I?Object(T.jsx)(i.a,{icon:Object(T.jsx)(C.a,{}),primary:!1,onClick:function(){return _(!1)},label:Object(T.jsx)(o.Trans,{id:"Hide other lifecycle functions (advanced)"})}):Object(T.jsx)(i.a,{icon:Object(T.jsx)(x.a,{}),primary:!1,onClick:function(){return _(!0)},label:Object(T.jsx)(o.Trans,{id:"Show other lifecycle functions (advanced)"})})})]})}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(26),o=n(12),a=n(1),i=n(136),s=n(528),c=n(485),l=n(100),u=n(472),d=n(1089),p=n(1090),b=n(1091),h=n(1092),j=n(1093),f=n(1094),g=n(1095),m=n(1096),O=n(574),v=n.n(O),x=n(551),y=n.n(x),C=n(30),T=n(7),E=e.gd,k={icon:{width:40,height:40},disabledItem:{opacity:.6}},w=function(e){var t=e.icon,n=e.disabled,r=e.onChoose,o=e.name,a=e.description;return Object(T.jsx)(c.b,{leftIcon:t,primaryText:o,secondaryText:a,secondaryTextLines:2,onClick:r,style:n?k.disabledItem:void 0,disabled:n})};function S(e){var t=e.eventsFunctionsExtension,n=e.onChoose,O=e.onCancel,x=a.useState(!1),S=Object(r.a)(x,2),P=S[0],I=S[1];return Object(T.jsxs)(l.b,{secondaryActions:[Object(T.jsx)(u.a,{helpPagePath:"/events/functions"},"help")],actions:[Object(T.jsx)(i.a,{label:Object(T.jsx)(o.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:O},"close")],open:!0,noMargin:!0,title:Object(T.jsx)(o.Trans,{id:"Choose a new extension function"}),onRequestClose:O,children:[Object(T.jsxs)(c.a,{children:[Object(T.jsx)(w,{icon:Object(T.jsx)(h.a,{style:k.icon}),name:Object(T.jsx)(o.Trans,{id:"Action"}),onChoose:function(){return n({functionType:E.EventsFunction.Action,name:null})},description:Object(T.jsx)(o.Trans,{id:"An action that can be used in other events sheet. You can define the action parameters: objects, texts, numbers, layers, etc..."})}),Object(T.jsx)(w,{icon:Object(T.jsx)(j.a,{style:k.icon}),name:Object(T.jsx)(o.Trans,{id:"Condition"}),onChoose:function(){return n({functionType:E.EventsFunction.Condition,name:null})},description:Object(T.jsx)(o.Trans,{id:"A condition that can be used in other events sheet. You can define the condition parameters: objects, texts, numbers, layers, etc..."})}),Object(T.jsx)(w,{icon:Object(T.jsx)(f.a,{style:k.icon}),name:Object(T.jsx)(o.Trans,{id:"Expression"}),onChoose:function(){return n({functionType:E.EventsFunction.Expression,name:null})},description:Object(T.jsx)(o.Trans,{id:"An expression that can be used in formulas. Can either return a number or a string, and take some parameters."})}),P&&Object(T.jsxs)(a.Fragment,{children:[Object(T.jsx)(s.a,{children:Object(T.jsx)(o.Trans,{id:"Lifecycle functions (advanced)"})}),Object(T.jsx)(w,{icon:Object(T.jsx)(d.a,{style:k.icon}),name:"onFirstSceneLoaded",disabled:t.hasEventsFunctionNamed("onFirstSceneLoaded"),onChoose:function(){return n({functionType:E.EventsFunction.Action,name:"onFirstSceneLoaded"})},description:Object(T.jsx)(o.Trans,{id:"Events that will be run once when the first scene of the game is loaded, before any other events."})}),Object(T.jsx)(w,{icon:Object(T.jsx)(d.a,{style:k.icon}),name:"onSceneLoaded",disabled:t.hasEventsFunctionNamed("onSceneLoaded"),onChoose:function(){return n({functionType:E.EventsFunction.Action,name:"onSceneLoaded"})},description:Object(T.jsx)(o.Trans,{id:"Events that will be run once when a scene of the game is loaded, before the scene events."})}),Object(T.jsx)(w,{icon:Object(T.jsx)(p.a,{style:k.icon}),name:"onScenePreEvents",disabled:t.hasEventsFunctionNamed("onScenePreEvents"),onChoose:function(){return n({functionType:E.EventsFunction.Action,name:"onScenePreEvents"})},description:Object(T.jsx)(o.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), before the events from the events sheet of the scene."})}),Object(T.jsx)(w,{icon:Object(T.jsx)(p.a,{style:k.icon}),name:"onScenePostEvents",disabled:t.hasEventsFunctionNamed("onScenePostEvents"),onChoose:function(){return n({functionType:E.EventsFunction.Action,name:"onScenePostEvents"})},description:Object(T.jsx)(o.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), after the events from the events sheet of the scene."})}),Object(T.jsx)(w,{icon:Object(T.jsx)(m.a,{style:k.icon}),name:"onScenePaused",disabled:t.hasEventsFunctionNamed("onScenePaused"),onChoose:function(){return n({functionType:E.EventsFunction.Action,name:"onScenePaused"})},description:Object(T.jsx)(o.Trans,{id:"Events that will be run once when a scene is paused (another scene is run on top of it)."})}),Object(T.jsx)(w,{icon:Object(T.jsx)(g.a,{style:k.icon}),name:"onSceneResumed",disabled:t.hasEventsFunctionNamed("onSceneResumed"),onChoose:function(){return n({functionType:E.EventsFunction.Action,name:"onSceneResumed"})},description:Object(T.jsx)(o.Trans,{id:"Events that will be run once when a scene is resumed (after it was previously paused)."})}),Object(T.jsx)(w,{icon:Object(T.jsx)(b.a,{style:k.icon}),name:"onSceneUnloading",disabled:t.hasEventsFunctionNamed("onSceneUnloading"),onChoose:function(){return n({functionType:E.EventsFunction.Action,name:"onSceneUnloading"})},description:Object(T.jsx)(o.Trans,{id:"Events that will be run once when a scene is about to be unloaded from memory. The previous scene that was paused will be resumed after this."})})]})]}),Object(T.jsx)(C.c,{justifyContent:"center",alignItems:"center",children:P?Object(T.jsx)(i.a,{icon:Object(T.jsx)(y.a,{}),primary:!1,onClick:function(){return I(!1)},label:Object(T.jsx)(o.Trans,{id:"Hide lifecycle functions (advanced)"})}):Object(T.jsx)(i.a,{icon:Object(T.jsx)(v.a,{}),primary:!1,onClick:function(){return I(!0)},label:Object(T.jsx)(o.Trans,{id:"Show lifecycle functions (advanced)"})})})]})}}).call(this,n(28))},function(e,t,n){"use strict";var r=n(26),o=n(12),a=n(1),i=n(30),s=n(136),c=n(1097),l=n.n(c),u=n(488),d=n(7);t.a=a.forwardRef((function(e,t){var n=e.initialEditorName,c=e.editors,p=e.transitions,b=e.onEditorChanged,h=a.useState(n),j=Object(r.a)(h,2),f=j[0],g=j[1];a.useImperativeHandle(t,(function(){return{openEditor:function(e){g(e)}}})),a.useEffect((function(){b(f)}),[f,b]);var m=p[f],O="space-between";return m&&(m.previousEditor&&!m.nextEditor&&(O="flex-start"),!m.previousEditor&&m.nextEditor&&(O="flex-end")),Object(d.jsxs)(i.a,{noMargin:!0,expand:!0,children:[m&&Object(d.jsx)(u.a,{maxWidth:!0,noExpand:!0,noFullHeight:!0,children:Object(d.jsx)(i.a,{children:Object(d.jsxs)(i.c,{justifyContent:O,children:[m.previousEditor&&Object(d.jsx)(s.a,{label:Object(d.jsx)(o.Trans,{id:"Back"}),onClick:function(){m.previousEditor&&g(m.previousEditor)},icon:Object(d.jsx)(l.a,{})}),m.nextLabel&&m.nextEditor&&Object(d.jsx)(s.a,{label:m.nextLabel,onClick:function(){m.nextEditor&&g(m.nextEditor)},icon:m.nextIcon})]})})}),c[f]?c[f].renderEditor():null]})}))},function(e,t,n){"use strict";var r=n(12),o=(n(1),n(488)),a=n(30),i=n(463),s=n(137),c=n(136),l=n(7);t.a=function(e){var t=e.eventsFunctionsExtension.getEventsFunctionsCount(),n=e.eventsFunctionsExtension.getEventsBasedBehaviors().getCount();return Object(l.jsx)(r.I18n,{children:function(u){var d=u.i18n;return Object(l.jsx)(o.a,{children:Object(l.jsxs)(a.a,{children:[Object(l.jsx)(i.a,{children:Object(l.jsx)(r.Trans,{id:"Extensions can provide functions (which can be actions, conditions or expressions) or new behaviors."})}),Object(l.jsx)(s.a,{label:d._({id:"Edit functions (not attached to behaviors) ({eventsFunctionsCount})",values:{eventsFunctionsCount:t}}),onClick:e.onEditFreeFunctions,primary:!0}),Object(l.jsx)(a.d,{}),Object(l.jsx)(s.a,{label:d._({id:"Edit behaviors ({eventsBasedBehaviorsCount})",values:{eventsBasedBehaviorsCount:n}}),onClick:e.onEditBehaviors,primary:!0}),Object(l.jsx)(a.d,{}),Object(l.jsx)(c.a,{label:Object(l.jsx)(r.Trans,{id:"Edit extension options"}),onClick:e.onEditExtensionOptions})]})})}})}},,,function(e,t,n){"use strict";n(1);var r=n(2289),o=n(7);t.a=function(e){return Object(o.jsx)(r.a,{value:e.value,track:!1,onChange:function(t,n){return e.onChange(n)},min:e.min,max:e.max,step:e.step})}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="Object"},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(100),u=n(469),d=n(136),p=n(596),b=n(101),h=n(7),j=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={tagsString:e.props.tagsString},e._tagsField=c.createRef(),e._canEdit=function(){var t=e.state.tagsString,n=Object(p.c)(t);return!!e.props.tagsString||!!n.length},e._onEdit=function(t){e._canEdit()&&e.props.onEdit(t)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e._tagsField&&e._tagsField.current&&e._tagsField.current.focus()}),10)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onCancel,r=t.onEdit,o=this.state.tagsString,a=Object(p.c)(o);return Object(h.jsx)(l.b,{actions:[Object(h.jsx)(d.a,{label:Object(h.jsx)(s.Trans,{id:"Cancel"}),primary:!1,onClick:n},"close"),Object(h.jsx)(l.a,{label:this.props.tagsString&&!a.length?Object(h.jsx)(s.Trans,{id:"Remove all tags"}):Object(h.jsx)(s.Trans,{id:"Add/update {0} tag(s)",values:{0:a.length}}),primary:!0,onClick:function(){return e._onEdit(a)},disabled:!this._canEdit()},"add")],onRequestClose:n,onApply:function(){return e._onEdit(a)},open:!0,children:Object(h.jsx)(u.b,{fullWidth:!0,value:o,onChange:function(t,n){return e.setState({tagsString:n})},floatingLabelText:"Tag(s) (comma-separated)",hintText:{id:"For example: player, spaceship, inventory..."},onKeyPress:function(e){Object(b.g)(e)&&r(a)},ref:this._tagsField})})}}]),n}(c.Component)},,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n(9),o=n(8),a=n(861),i=n.n(a),s=n(530),c=(n(546),n(521)),l=(n(585),n(479)),u=n(1111),d=n(1766),p=n(617),b=n(1767),h=e.gd,j=function(){function e(t){var n=this,o=t.project,a=t.layout,b=t.layer,j=t.viewPosition,f=t.instances,g=t.onInstanceClicked,m=t.onInstanceRightClicked,O=t.onInstanceDoubleClicked,v=t.onOverInstance,x=t.onOutInstance,y=t.onMoveInstance,C=t.onMoveInstanceEnd,T=t.onDownInstance;Object(r.a)(this,e),this.renderedInstances={},this.wasUsed=!1,this._temporaryRectangle=new p.a,this._temporaryRectanglePath=[[0,0],[0,0],[0,0],[0,0]],this.getUnrotatedInstanceLeft=function(e){return e.getX()-(n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getOriginX():0)},this.getUnrotatedInstanceTop=function(e){return e.getY()-(n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getOriginY():0)},this.getUnrotatedInstanceWidth=function(e){return e.hasCustomSize()?e.getCustomWidth():n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getDefaultWidth():0},this.getUnrotatedInstanceHeight=function(e){return e.hasCustomSize()?e.getCustomHeight():n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getDefaultHeight():0},this.getRendererOfInstance=function(e){var t=n.renderedInstances[e.ptr];if(void 0===t){var r=e.getObjectName(),o=Object(c.a)(n.project,n.layout,r);if(!o)return null;(t=n.renderedInstances[e.ptr]=s.a.createNewInstanceRenderer(n.project,n.layout,e,o,n.pixiContainer))._pixiObject.interactive=!0,i.a.panable(t._pixiObject),Object(d.a)(t._pixiObject),t._pixiObject.on("click",(function(t){0===t.data.originalEvent.button&&n.onInstanceClicked(e)})),t._pixiObject.on("doubleclick",(function(){n.onInstanceDoubleClicked(e)})),t._pixiObject.on("mouseover",(function(){n.onOverInstance(e)})),t._pixiObject.on("mousedown",(function(t){if(0===t.data.originalEvent.button){var r=t.data.global,o=n.viewPosition.toSceneCoordinates(r.x,r.y);n.onDownInstance(e,o[0],o[1])}})),t._pixiObject.on("rightclick",(function(t){var r=t.data,o=r.global,a=r.originalEvent,i=n.viewPosition.toSceneCoordinates(o.x,o.y);return n.onDownInstance(e,i[0],i[1]),n.onInstanceRightClicked&&n.onInstanceRightClicked({offsetX:a.offsetX,offsetY:a.offsetY,x:a.clientX,y:a.clientY}),!1})),t._pixiObject.on("touchstart",(function(t){if(Object(u.b)(t.data&&t.data.originalEvent))return null;var r=t.data.global,o=n.viewPosition.toSceneCoordinates(r.x,r.y);n.onDownInstance(e,o[0],o[1])})),t._pixiObject.on("mouseout",(function(){n.onOutInstance(e)})),t._pixiObject.on("panmove",(function(t){if(Object(u.b)(t.data&&t.data.originalEvent))return null;n.onMoveInstance(e,t.deltaX,t.deltaY)})),t._pixiObject.on("panend",(function(e){n.onMoveInstanceEnd()}))}return t},this.project=o,this.instances=f,this.layout=a,this.layer=b,this.viewPosition=j,this.onInstanceClicked=g,this.onInstanceRightClicked=m,this.onInstanceDoubleClicked=O,this.onOverInstance=v,this.onOutInstance=x,this.onMoveInstance=y,this.onMoveInstanceEnd=C,this.onDownInstance=T,this.viewTopLeft=[0,0],this.viewBottomRight=[0,0],this.pixiContainer=new l.Container,this.instancesRenderer=new h.InitialInstanceJSFunctor,this.instancesRenderer.invoke=function(e){var t=h.wrapPointer(e,h.InitialInstance),r=n.getRendererOfInstance(t);if(r){var o=r.getPixiObject();o&&(o.zOrder=t.getZOrder());var a=n._isInstanceVisible(t);o&&(o.visible=a),a&&r.update(),r.wasUsed=!0}}}return Object(o.a)(e,[{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"getUnrotatedInstanceAABB",value:function(e,t){var n=this.getUnrotatedInstanceLeft(e),r=this.getUnrotatedInstanceTop(e),o=n+this.getUnrotatedInstanceWidth(e),a=r+this.getUnrotatedInstanceHeight(e);return t.left=n,t.right=o,t.top=r,t.bottom=a,t}},{key:"_getInstanceRotatedRectangle",value:function(e){var t=this.getUnrotatedInstanceLeft(e),n=this.getUnrotatedInstanceTop(e),r=t+this.getUnrotatedInstanceWidth(e),o=n+this.getUnrotatedInstanceHeight(e),a=this._temporaryRectanglePath;a[0][0]=t,a[0][1]=n,a[1][0]=t,a[1][1]=o,a[2][0]=r,a[2][1]=o,a[3][0]=r,a[3][1]=n;var i=(a[0][0]+a[2][0])/2,s=(a[0][1]+a[2][1])/2,c=e.getAngle()*Math.PI/180;return Object(b.a)(a,i,s,c),a}},{key:"getInstanceAABB",value:function(e,t){if(0===e.getAngle()*Math.PI/180)return this.getUnrotatedInstanceAABB(e,t);for(var n=this._getInstanceRotatedRectangle(e),r=Number.MAX_VALUE,o=-Number.MAX_VALUE,a=Number.MAX_VALUE,i=-Number.MAX_VALUE,s=0,c=n.length;s<c;++s)r=Math.min(r,n[s][0]),o=Math.max(o,n[s][0]),a=Math.min(a,n[s][1]),i=Math.max(i,n[s][1]);return t.left=r,t.right=o,t.top=a,t.bottom=i,t}},{key:"_isInstanceVisible",value:function(e){var t=this.getInstanceAABB(e,this._temporaryRectangle);return!(t.left+t.width()<this.viewTopLeft[0]||t.top+t.height()<this.viewTopLeft[1]||t.left>this.viewBottomRight[0]||t.top>this.viewBottomRight[1])}},{key:"_computeViewBounds",value:function(){var e=100;this.viewTopLeft=this.viewPosition.toSceneCoordinates(-100,-100),this.viewBottomRight=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth()+e,this.viewPosition.getHeight()+e)}},{key:"render",value:function(){this._computeViewBounds(),this.instances.iterateOverInstancesWithZOrdering(this.instancesRenderer,this.layer.getName()),this._updatePixiObjectsZOrder(),this._updateVisibility(),this._destroyUnusedInstanceRenderers()}},{key:"_updatePixiObjectsZOrder",value:function(){this.pixiContainer.children.sort((function(e,t){return e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder}))}},{key:"_updateVisibility",value:function(){this.pixiContainer.visible=this.layer.getVisibility()}},{key:"resetInstanceRenderersFor",value:function(e){for(var t in this.renderedInstances){var n=Number(t);if(this.renderedInstances.hasOwnProperty(n)){var r=this.renderedInstances[n];r.getInstance().getObjectName()===e&&(r.onRemovedFromScene(),delete this.renderedInstances[n])}}}},{key:"_destroyUnusedInstanceRenderers",value:function(){for(var e in this.renderedInstances){var t=Number(e);if(this.renderedInstances.hasOwnProperty(t)){var n=this.renderedInstances[t];n.wasUsed?n.wasUsed=!1:(n.onRemovedFromScene(),delete this.renderedInstances[t])}}}},{key:"delete",value:function(){for(var e in this.renderedInstances){var t=Number(e);if(this.renderedInstances.hasOwnProperty(t))this.renderedInstances[t].onRemovedFromScene(),delete this.renderedInstances[t]}this.pixiContainer.destroy(),this.instancesRenderer.delete()}}]),e}()}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(479);var r=function(e){var t=0,n=0,r=0,o=function(o){var a=o.data.global,i=a.x,s=a.y,c=Date.now();c-t<500&&Math.abs(i-n)<=10&&Math.abs(s-r)<=10&&setTimeout((function(){e.emit("doubleclick",o)})),t=c,n=i,r=s};e.interactive=!0,e.on("click",o),e.on("touchend",o)}},function(e,t,n){"use strict";function r(e,t,n,r){for(var o=Math.cos(-r),a=Math.sin(-r),i=0,s=e.length;i<s;++i){var c=e[i][0]-t,l=e[i][1]-n;e[i][0]=t+c*o+l*a,e[i][1]=n-c*a+l*o}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(9),o=n(8),a=n(479),i=n(617),s=e.gd,c=function(){function e(t){var n=this,o=t.instances,c=t.instanceMeasurer,l=t.toSceneCoordinates;Object(r.a)(this,e),this.startSelectionRectangle=function(e,t){n.selectionRectangleStart={x:e,y:t},n.selectionRectangleEnd={x:e,y:t}},this.updateSelectionRectangle=function(e,t){n.selectionRectangleStart||(n.selectionRectangleStart={x:e,y:t}),n.selectionRectangleEnd={x:e,y:t}},this.endSelectionRectangle=function(){if(!n.selectionRectangleStart)return[];if(n._instancesInSelectionRectangle.length=0,n.selectionRectangleStart.x>n.selectionRectangleEnd.x){var e=n.selectionRectangleStart.x;n.selectionRectangleStart.x=n.selectionRectangleEnd.x,n.selectionRectangleEnd.x=e}if(n.selectionRectangleStart.y>n.selectionRectangleEnd.y){var t=n.selectionRectangleStart.y;n.selectionRectangleStart.y=n.selectionRectangleEnd.y,n.selectionRectangleEnd.y=t}return n.instances.iterateOverInstances(n.selector),n.selectionRectangleStart=null,n._instancesInSelectionRectangle},this.instances=o,this.instanceMeasurer=c,this.toSceneCoordinates=l,this.pixiRectangle=new a.Graphics,this.pixiRectangle.hitArea=new a.Rectangle(0,0,0,0),this.selectionRectangleStart=null,this.selectionRectangleEnd=null,this._instancesInSelectionRectangle=[],this._temporaryAABB=new i.a,this.selector=new s.InitialInstanceJSFunctor,this.selector.invoke=function(e){var t=s.wrapPointer(e,s.InitialInstance),r=n.instanceMeasurer.getInstanceAABB(t,n._temporaryAABB);if(n.selectionRectangleStart&&n.selectionRectangleEnd){var o=l(n.selectionRectangleStart.x,n.selectionRectangleStart.y),a=l(n.selectionRectangleEnd.x,n.selectionRectangleEnd.y);o[0]<=r.left&&r.right<=a[0]&&o[1]<=r.top&&r.bottom<=a[1]&&n._instancesInSelectionRectangle.push(t)}}}return Object(o.a)(e,[{key:"hasStartedSelectionRectangle",value:function(){return this.selectionRectangleStart}},{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){if(this.selectionRectangleStart){var e=this.selectionRectangleStart.x,t=this.selectionRectangleStart.y,n=this.selectionRectangleEnd.x,r=this.selectionRectangleEnd.y;this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(6842600),this.pixiRectangle.lineStyle(1,6842600,1),this.pixiRectangle.fill.alpha=.1,this.pixiRectangle.alpha=.8,this.pixiRectangle.drawRect(Math.min(e,n),Math.min(t,r),Math.abs(n-e),Math.abs(r-t)),this.pixiRectangle.endFill()}else this.pixiRectangle.visible=!1}},{key:"delete",value:function(){this.selector.delete()}}]),e}()}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(9),o=n(8),a=n(862),i=e.gd,s=function(e,t){var n=e;return t.grid&&t.snap?Object(a.a)(n,t.gridWidth,t.gridHeight,t.gridOffsetX,t.gridOffsetY,t.gridType):(n[0]=Math.round(n[0]),n[1]=Math.round(n[1])),n},c=function(){function e(t){var n=this,o=t.instances,a=t.instancesEditorSettings;Object(r.a)(this,e),this._zOrderFinder=new i.HighestZOrderFinder,this.addInstances=function(e,t){n._instances.iterateOverInstances(n._zOrderFinder);var r=n._zOrderFinder.getHighestZOrder()+1,o=s(e,n._instancesEditorSettings);return t.map((function(e){var t=n._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(o[0]),t.setY(o[1]),t.setZOrder(r),t}))},this.createOrUpdateTemporaryInstancesFromObjectNames=function(e,t){t.length&&(n._temporaryInstances.length?n.updateTemporaryInstancePositions(e):n._createTemporaryInstancesFromObjectNames(e,t))},this._createTemporaryInstancesFromObjectNames=function(e,t){n.deleteTemporaryInstances(),n._instances.iterateOverInstances(n._zOrderFinder);var r=n._zOrderFinder.getHighestZOrder()+1,o=s(e,n._instancesEditorSettings);n._temporaryInstances=t.map((function(e){var t=n._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(o[0]),t.setY(o[1]),t.setZOrder(r),t}))},this.updateTemporaryInstancePositions=function(e){var t=s(e,n._instancesEditorSettings);return n._temporaryInstances.forEach((function(e){e.setX(t[0]),e.setY(t[1])})),n._temporaryInstances},this._instances=o,this._instancesEditorSettings=a,this._temporaryInstances=[]}return Object(o.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this._instancesEditorSettings=e}},{key:"deleteTemporaryInstances",value:function(){var e=this;this._temporaryInstances.forEach((function(t){e._instances.removeInstance(t)})),this._temporaryInstances=[]}},{key:"commitTemporaryInstances",value:function(){this._temporaryInstances=[]}},{key:"unmount",value:function(){this._zOrderFinder.delete()}}]),e}()}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(488),u=n(1112),d=n(470),p=n(570),b=n(606),h=n(521),j=n(471),f=n(30),g=n(561),m=n.n(g),O=n(463),v=n(484),x=n(576),y=n(757),C=n(7),T=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).schema=[{name:e.props.i18n._({id:"Object"}),getValue:function(e){return e.getObjectName()},nonFieldType:"sectionTitle",defaultValue:e.props.i18n._({id:"Different objects"})},{label:e.props.i18n._({id:"Edit object"}),disabled:"onValuesDifferent",nonFieldType:"button",getValue:function(e){return e.getObjectName()},onClick:function(t){return e.props.onEditObjectByName(t.getObjectName())}},{name:e.props.i18n._({id:"Instance"}),nonFieldType:"sectionTitle"},{name:e.props.i18n._({id:"Position"}),type:"row",children:[{name:e.props.i18n._({id:"X"}),valueType:"number",getValue:function(e){return e.getX()},setValue:function(e,t){return e.setX(t)}},{name:e.props.i18n._({id:"Y"}),valueType:"number",getValue:function(e){return e.getY()},setValue:function(e,t){return e.setY(t)}}]},{name:e.props.i18n._({id:"Angle"}),valueType:"number",getValue:function(e){return e.getAngle()},setValue:function(e,t){return e.setAngle(t)}},{name:e.props.i18n._({id:"Lock position/angle in the editor"}),valueType:"boolean",getValue:function(e){return e.isLocked()},setValue:function(e,t){return e.setLocked(t)}},{name:e.props.i18n._({id:"Z Order"}),valueType:"number",getValue:function(e){return e.getZOrder()},setValue:function(e,t){return e.setZOrder(t)}},{name:e.props.i18n._({id:"Layer"}),valueType:"string",getChoices:function(){return Object(u.a)(e.props.layout)},getValue:function(e){return e.getLayer()},setValue:function(e,t){return e.setLayer(t)}},{name:e.props.i18n._({id:"Custom size"}),valueType:"boolean",getValue:function(e){return e.hasCustomSize()},setValue:function(e,t){return e.setHasCustomSize(t)}},{name:"custom-size-row",type:"row",children:[{name:e.props.i18n._({id:"Width"}),valueType:"number",getValue:function(e){return e.getCustomWidth()},setValue:function(e,t){return e.setCustomWidth(Math.max(t,0))}},{name:e.props.i18n._({id:"Height"}),valueType:"number",getValue:function(e){return e.getCustomHeight()},setValue:function(e,t){return e.setCustomHeight(Math.max(t,0))}}]}],e}return Object(o.a)(n,[{key:"_renderEmpty",value:function(){return Object(C.jsx)(d.a,{children:Object(C.jsx)(s.Trans,{id:"Click on an instance in the scene to display its properties"})})}},{key:"_renderInstancesProperties",value:function(){var e=this,t=this.props,n=t.project,r=t.layout,o=t.instances,a=o[0],i=a.getObjectName(),c=Object(h.a)(n,r,i),l=a.getCustomProperties(n,r),u=Object(b.a)(l,(function(e){return e.getCustomProperties(n,r)}),(function(e,t,o){return e.updateCustomProperty(t,o,n,r)}));return Object(C.jsx)(v.a,{autoHideScrollbar:!0,children:Object(C.jsxs)(f.a,{expand:!0,noMargin:!0,children:[Object(C.jsxs)(f.a,{children:[Object(C.jsx)(p.a,{unsavedChanges:this.props.unsavedChanges,schema:this.schema.concat(u),instances:o,onInstancesModified:this.props.onInstancesModified}),Object(C.jsxs)(f.c,{alignItems:"center",justifyContent:"space-between",children:[Object(C.jsx)(O.a,{children:Object(C.jsx)(s.Trans,{id:"Instance Variables"})}),Object(C.jsx)(j.a,{size:"small",onClick:function(){e.props.editInstanceVariables(a)},children:Object(C.jsx)(m.a,{})})]})]}),c?Object(C.jsx)(y.a,{commitChangesOnBlur:!1,inheritedVariablesContainer:c.getVariables(),variablesContainer:a.getVariables(),size:"small",onComputeAllVariableNames:function(){return c?x.a.findAllObjectVariables(n.getCurrentPlatform(),n,r,c):[]},historyHandler:this.props.historyHandler}):null]})},o.map((function(e){return""+e.ptr})).join(";"))}},{key:"render",value:function(){var e=this.props.instances;return Object(C.jsx)(l.a,{children:e&&e.length?this._renderInstancesProperties():this._renderEmpty()})}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n.n(c),u=n(511),d=n(471),p=n(762),b=n(500),h=n(501),j=n(998),f=n.n(j),g=n(1772),m=n.n(g),O=n(7),v=e.gd,x={container:{flex:1,display:"flex",flexDirection:"column",alignItems:"stretch"}},y=function(e,t,n){return(e=e.toLowerCase())<(t=t.toLowerCase())?1*n:e>t?-1*n:0},C=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={searchText:"",sortBy:"",sortDirection:u.g.ASC},e.renderedRows=[],e._searchBar=l.a.createRef(),e._keyboardShortcuts=new p.a({isActive:function(){return!1},shortcutCallbacks:{}}),e._onRowClick=function(t){var n=t.index;e.renderedRows[n]&&e.props.onSelectInstances([e.renderedRows[n].instance],e._keyboardShortcuts.shouldMultiSelect())},e._rowGetter=function(t){var n=t.index;return e.renderedRows[n]},e._rowClassName=function(t){var n=t.index;if(n<0)return"tableHeaderRow";var r=e.renderedRows[n];return r&&-1!==e.props.selectedInstances.indexOf(r.instance)?"tableSelectedRow":n%2===0?"tableEvenRow":"tableOddRow"},e._renderLockCell=function(e){var t=e.rowData;return Object(O.jsx)(d.a,{size:"small",onClick:function(){t.instance.setLocked(!t.instance.isLocked())},children:t.instance.isLocked()?Object(O.jsx)(f.a,{}):Object(O.jsx)(m.a,{})})},e._selectFirstInstance=function(){e.renderedRows.length&&e.props.onSelectInstances([e.renderedRows[0].instance],!1)},e._sort=function(t){var n=t.sortBy,r=t.sortDirection;e.setState({sortBy:n,sortDirection:r})},e._orderRenderedRows=function(){e.renderedRows.sort((function(t,n){var r=e.state.sortDirection===u.g.ASC?1:-1;switch(e.state.sortBy){case"name":return y(t.name,n.name,r);case"x":return r*(parseFloat(t.x)-parseFloat(n.x));case"y":return r*(parseFloat(t.y)-parseFloat(n.y));case"angle":return r*(parseFloat(t.angle)-parseFloat(n.angle));case"layer":return y(t.layer,n.layer,r);case"locked":return r*(Number(t.locked)-Number(n.locked));case"zOrder":return r*(parseFloat(t.zOrder)-parseFloat(n.zOrder));default:return 0}}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){Object(h.b)()&&this._searchBar.current&&this._searchBar.current.focus()}},{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.instanceRowRenderer=new v.InitialInstanceJSFunctor,this.instanceRowRenderer.invoke=function(t){var n=e.state.searchText,r=v.wrapPointer(t,v.InitialInstance),o=r.getObjectName();n&&-1===o.toLowerCase().indexOf(n.toLowerCase())||e.renderedRows.push({instance:r,name:o,locked:r.isLocked(),x:r.getX().toFixed(2),y:r.getY().toFixed(2),angle:r.getAngle().toFixed(2),layer:r.getLayer(),zOrder:r.getZOrder()})}}},{key:"componentWillUnmount",value:function(){this.instanceRowRenderer&&this.instanceRowRenderer.delete()}},{key:"render",value:function(){var e=this,t=this.state,n=t.searchText,r=t.sortBy,o=t.sortDirection,a=this.props.instances;if(!this.instanceRowRenderer)return null;this.renderedRows.length=0,a.iterateOverInstances(this.instanceRowRenderer),this._orderRenderedRows();var i=a.ptr;return Object(O.jsx)(b.a,{children:function(t){return Object(O.jsxs)("div",{style:x.container,children:[Object(O.jsx)("div",{style:{flex:1},onKeyDown:e._keyboardShortcuts.onKeyDown,onKeyUp:e._keyboardShortcuts.onKeyUp,children:Object(O.jsx)(u.a,{children:function(n){var a=n.height,c=n.width;return Object(O.jsxs)(u.h,{ref:function(t){return e.table=t},headerHeight:30,height:a,className:"gd-table ".concat(t.tableRootClassName),headerClassName:"tableHeaderColumn",rowCount:e.renderedRows.length,rowGetter:e._rowGetter,rowHeight:32,onRowClick:e._onRowClick,rowClassName:e._rowClassName,sort:e._sort,sortBy:r,sortDirection:o,width:c,children:[Object(O.jsx)(u.d,{label:Object(O.jsx)(s.Trans,{id:"Object name"}),dataKey:"name",width:.35*c,className:"tableColumn"}),Object(O.jsx)(u.d,{label:"",dataKey:"locked",width:.05*c,className:"tableColumn",cellRenderer:e._renderLockCell}),Object(O.jsx)(u.d,{label:Object(O.jsx)(s.Trans,{id:"X"}),dataKey:"x",width:.1*c,className:"tableColumn"}),Object(O.jsx)(u.d,{label:Object(O.jsx)(s.Trans,{id:"Y"}),dataKey:"y",width:.1*c,className:"tableColumn"}),Object(O.jsx)(u.d,{label:Object(O.jsx)(s.Trans,{id:"Angle"}),dataKey:"angle",width:.1*c,className:"tableColumn"}),Object(O.jsx)(u.d,{label:Object(O.jsx)(s.Trans,{id:"Layer"}),dataKey:"layer",width:.2*c,className:"tableColumn"}),Object(O.jsx)(u.d,{label:Object(O.jsx)(s.Trans,{id:"Z Order"}),dataKey:"zOrder",width:.1*c,className:"tableColumn"})]},i)}})}),Object(O.jsx)(h.a,{value:n,onChange:function(t){return e.setState({searchText:t})},onRequestSearch:e._selectFirstInstance,ref:e._searchBar,placeholder:{id:"Search instances"},aspect:"integrated-search-bar"})]})}})}}]),n}(c.Component)}).call(this,n(28))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(136),u=n(100),d=n(474),p=n(475),b=n(463),h=n(1112),j=n(7),f=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).state={selectedLayer:""},o}return Object(o.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.props.open&&e.open&&this.setState({selectedLayer:""})}},{key:"render",value:function(){var e=this;if(!this.props.layersContainer||!this.props.open)return null;var t=[Object(j.jsx)(l.a,{label:Object(j.jsx)(s.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:function(){return e.props.onClose(!1)}},"cancel"),Object(j.jsx)(l.a,{label:Object(j.jsx)(s.Trans,{id:"Remove objects"}),onClick:function(){return e.props.onClose(!0,null)}},"remove"),Object(j.jsx)(u.a,{label:Object(j.jsx)(s.Trans,{id:"Move objects"}),primary:!0,onClick:function(){return e.props.onClose(!0,e.state.selectedLayer)}},"move")],n=Object(h.a)(this.props.layersContainer).filter((function(t){return t.value!==e.props.layerRemoved})).map((function(e){var t=e.value,n=e.label;return Object(j.jsx)(p.a,{value:t,primaryText:n},t)}));return Object(j.jsxs)(u.b,{title:Object(j.jsx)(s.Trans,{id:"Objects on {0}",values:{0:this.props.layerRemoved}}),actions:t,open:this.props.open,onRequestClose:this.props.onCancel,onApply:function(){return e.props.onClose(!0,e.state.selectedLayer)},children:[Object(j.jsx)(b.a,{children:Object(j.jsx)(s.Trans,{id:"Move objects on layer {0} to:",values:{0:this.props.layerRemoved}})}),Object(j.jsx)(d.a,{value:this.state.selectedLayer,onChange:function(t,n,r){e.setState({selectedLayer:r})},children:n})]})}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){var r=n(4),o=n(26),a=n(12),i=n(1),s=n.n(i),c=n(136),l=n(100),u=n(549),d=n(80),p=n(571),b=n(497),h=n(631),j=n(512),f=n(463),g=n(139),m=n(632),O=n(472),v=n(495),x=n(1114),y=n(30),C=n(7),T=e.gd;t.a=function(e){var t=e.initialTab,n=e.layer,i=e.initialInstances,E=e.onClose,k=e.hotReloadPreviewButtonProps,w=Object(g.a)(),S=Object(h.a)({serializableObject:n,onCancel:E}),P=s.a.useState(t),I=Object(o.a)(P,2),_=I[0],A=I[1],N=s.a.useMemo((function(){var e=new T.HighestZOrderFinder;e.restrictSearchToLayer(n.getName()),i.iterateOverInstances(e);var t=e.getInstancesCount(),r=e.getHighestZOrder();return e.delete(),{instancesCount:t,highestZOrder:r}}),[n,i]),R=N.instancesCount,L=N.highestZOrder;return Object(C.jsx)(l.b,{noMargin:!0,open:!0,title:Object(C.jsx)(a.Trans,{id:"Edit Layer Properties"}),secondaryActions:[Object(C.jsx)(O.a,{helpPagePath:"/interface/scene-editor/layer-effects"},"help"),Object(C.jsx)(m.b,Object(r.a)({},k),"hot-reload-preview-button")],actions:[Object(C.jsx)(c.a,{label:Object(C.jsx)(a.Trans,{id:"Cancel"}),onClick:S},"Cancel"),Object(C.jsx)(l.a,{label:Object(C.jsx)(a.Trans,{id:"Apply"}),primary:!0,onClick:E},"Apply")],onRequestClose:S,onApply:E,fullHeight:!0,flexBody:!0,children:Object(C.jsxs)(y.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(C.jsxs)(v.b,{value:_,onChange:A,children:[Object(C.jsx)(v.a,{label:Object(C.jsx)(a.Trans,{id:"Properties"}),value:"properties"}),Object(C.jsx)(v.a,{label:Object(C.jsx)(a.Trans,{id:"Effects"}),value:"effects"})]}),"properties"===_&&Object(C.jsxs)(d.a,{children:[n.isLightingLayer()?Object(C.jsx)(j.a,{kind:"info",identifier:"lighting-layer-usage",children:Object(C.jsx)(a.Trans,{id:"The lighting layer renders an ambient light on the scene. All lights should be placed on this layer so that shadows are properly rendered. By default, the layer follows the base layer camera. Uncheck this if you want to manually move the camera using events."})}):null,Object(C.jsxs)(f.a,{children:["There are ",R," instances of objects on this layer."]}),!e.project.getUseDeprecatedZeroAsDefaultZOrder()&&Object(C.jsxs)(f.a,{children:['Objects created using events on this layer will be given a "Z order" of ',L+1,", so that they appear in front of all objects of this layer. You can change this using the action to change an object Z order, after using an action to create it."]}),Object(C.jsx)(p.a,{label:Object(C.jsx)(a.Trans,{id:"Hide the layer"}),checked:!n.getVisibility(),onCheck:function(e,t){n.setVisibility(!t),w()},tooltipOrHelperText:Object(C.jsx)(a.Trans,{id:'This setting changes the visibility of the entire layer. Objects on the layer will not be treated as "hidden" for event conditions or actions.'})}),n.isLightingLayer()?Object(C.jsxs)(s.a.Fragment,{children:[Object(C.jsx)(f.a,{size:"title",children:Object(C.jsx)(a.Trans,{id:"Lighting settings"})}),Object(C.jsx)(p.a,{label:Object(C.jsx)(a.Trans,{id:"Automatically follow the base layer."}),checked:n.isFollowingBaseLayerCamera(),onCheck:function(e,t){n.setFollowBaseLayerCamera(t),w()}}),Object(C.jsx)(u.a,{fullWidth:!0,floatingLabelText:Object(C.jsx)(a.Trans,{id:"Ambient light color"}),disableAlpha:!0,color:Object(b.e)({r:n.getAmbientLightColorRed(),g:n.getAmbientLightColorGreen(),b:n.getAmbientLightColorBlue()}),onChange:function(e){var t=Object(b.h)(e);t&&(n.setAmbientLightColor(t.r,t.g,t.b),w())}})]}):Object(C.jsxs)(s.a.Fragment,{children:[Object(C.jsx)(y.d,{}),Object(C.jsx)(y.d,{})]})]}),"effects"===_&&Object(C.jsx)(x.a,{target:"layer",project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,effectsContainer:n.getEffects(),onEffectsUpdated:w})]})})}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(4),c=n(26),l=n(12),u=n(1),d=n.n(u),p=n(136),b=n(724),h=n(100),j=n(472),f=n(1797),g=n(495),m=n(631),O=n(476),v=n(30),x=n(139),y=n(632),C=n(1114),T=n(757),E=n(81),k=n(598),w=n(7),S=e.gd,P=function(e){var t=d.a.useState(e.initialTab||"properties"),n=Object(c.a)(t,2),r=n[0],o=n[1],a=d.a.useState(e.objectName),i=Object(c.a)(a,2),b=i[0],P=i[1],I=Object(x.a)(),_=Object(m.a)({serializableObject:e.object,useProjectToUnserialize:e.project,onCancel:e.onCancel}),A=d.a.useMemo((function(){return S.MetadataProvider.getObjectMetadata(e.project.getCurrentPlatform(),e.object.getType())}),[e.project,e.object]),N=e.editorComponent,R=function(){e.onApply(),e.onRename(b)},L=Object(k.a)("intro-variables").DismissableTutorialMessage;return Object(u.useEffect)((function(){"behaviors"===r&&Object(E.f)({parentEditor:"object-editor-dialog"})}),[r]),Object(w.jsxs)(h.b,{actions:[Object(w.jsx)(p.a,{label:Object(w.jsx)(l.Trans,{id:"Cancel"}),onClick:_},"cancel"),Object(w.jsx)(h.a,{label:Object(w.jsx)(l.Trans,{id:"Apply"}),id:"apply-button",primary:!0,onClick:R},"apply")],secondaryActions:[Object(w.jsx)(j.a,{helpPagePath:e.helpPagePath},"help-button"),Object(w.jsx)(y.b,Object(s.a)({},e.hotReloadPreviewButtonProps),"hot-reload-preview-button")],onRequestClose:_,onApply:R,open:e.open,noMargin:!0,noTitleMargin:!0,fullHeight:!0,flexBody:!0,title:Object(w.jsx)("div",{children:Object(w.jsxs)(g.b,{value:r,onChange:o,children:[Object(w.jsx)(g.a,{label:Object(w.jsx)(l.Trans,{id:"Properties"}),value:"properties"},"properties"),Object(w.jsx)(g.a,{label:Object(w.jsx)(l.Trans,{id:"Behaviors"}),value:"behaviors",id:"behaviors-tab"},"behaviors"),Object(w.jsx)(g.a,{label:Object(w.jsx)(l.Trans,{id:"Variables"}),value:"variables"},"variables"),A.isUnsupportedBaseObjectCapability("effect")?null:Object(w.jsx)(g.a,{label:Object(w.jsx)(l.Trans,{id:"Effects"}),value:"effects"},"effects")]})}),id:"object-editor-dialog",children:["properties"===r&&N&&Object(w.jsxs)(v.a,{noMargin:!0,expand:!0,useFullHeight:!0,noOverflowParent:!0,children:[Object(w.jsx)(v.c,{children:Object(w.jsx)(v.a,{expand:!0,children:Object(w.jsx)(O.a,{fullWidth:!0,commitOnBlur:!0,floatingLabelText:Object(w.jsx)(l.Trans,{id:"Object name"}),floatingLabelFixed:!0,value:b,hintText:{id:"Object Name"},onChange:function(t){t!==b&&e.canRenameObject(t)&&P(t)}})})}),Object(w.jsx)(N,{object:e.object,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,onSizeUpdated:I,objectName:e.objectName})]}),"behaviors"===r&&Object(w.jsx)(f.a,{object:e.object,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,onSizeUpdated:I,onUpdateBehaviorsSharedData:e.onUpdateBehaviorsSharedData}),"variables"===r&&Object(w.jsxs)(v.a,{expand:!0,noMargin:!0,children:[e.object.getVariables().count()>0&&L&&Object(w.jsx)(v.c,{children:Object(w.jsx)(v.a,{expand:!0,children:L})}),Object(w.jsx)(T.a,{commitChangesOnBlur:!0,variablesContainer:e.object.getVariables(),emptyPlaceholderTitle:Object(w.jsx)(l.Trans,{id:"Add your first object variable"}),emptyPlaceholderDescription:Object(w.jsx)(l.Trans,{id:"These variables hold additional information on an object."}),helpPagePath:"/all-features/variables/object-variables",onComputeAllVariableNames:e.onComputeAllVariableNames})]}),"effects"===r&&Object(w.jsx)(C.a,{target:"object",project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,effectsContainer:e.object.getEffects(),onEffectsUpdated:I})]},e.object&&e.object.ptr)},I=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={editorComponent:null,castToObjectType:null,helpPagePath:null,objectName:""},e}return Object(o.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){this._loadFrom(this.props.object)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.object!==e.object)&&this._loadFrom(e.object)}},{key:"_loadFrom",value:function(e){if(e){var t=b.a.getEditorConfiguration(e.getType());if(!t)return this.setState({editorComponent:null,castToObjectType:null});this.setState({editorComponent:t.component,helpPagePath:t.helpPagePath,castToObjectType:t.castToObjectType,objectName:e.getName()})}}},{key:"render",value:function(){var e=this.props,t=e.object,n=e.initialTab,r=this.state,o=r.editorComponent,a=r.castToObjectType,i=r.helpPagePath;return t&&a?Object(u.createElement)(P,Object(s.a)(Object(s.a)({},this.props),{},{editorComponent:o,key:this.props.object&&this.props.object.ptr,helpPagePath:i,object:a(t),objectName:this.state.objectName,initialTab:n})):null}}]),n}(u.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(4),c=n(12),l=n(1),u=n(493),d=n(30),p=n(604),b=n(532),h=n(535),j=n(477),f=n(476),g=n(7),m=e.gd,O={marginRight:10},v={sizeTextField:Object(s.a)({width:90},O),resourcesSelector:{alignSelf:"center"},toolbarItem:O,checkbox:O},x=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,r=t.project,o=t.resourceSources,a=t.onChooseResource,i=t.resourceExternalEditors,s=m.asTextObject(n);return Object(g.jsxs)(d.a,{noMargin:!0,children:[Object(g.jsxs)(b.b,{children:[Object(g.jsx)(b.a,{firstChild:!0,children:Object(g.jsx)(c.Trans,{id:"Size:"})}),Object(g.jsx)(f.a,{commitOnBlur:!0,type:"number",margin:"none",style:v.sizeTextField,value:s.getCharacterSize(),onChange:function(t){s.setCharacterSize(parseInt(t,10)||0),e.forceUpdate()}}),Object(g.jsx)(b.a,{children:Object(g.jsx)(c.Trans,{id:"Color:"})}),Object(g.jsx)(p.a,{style:v.toolbarItem,disableAlpha:!0,color:{r:s.getColorR(),g:s.getColorG(),b:s.getColorB(),a:255},onChangeComplete:function(t){s.setColor(t.rgb.r,t.rgb.g,t.rgb.b),e.forceUpdate()}}),Object(g.jsx)(u.a,{label:Object(g.jsx)(c.Trans,{id:"Bold"}),checked:s.isBold(),onCheck:function(t,n){s.setBold(n),e.forceUpdate()},style:v.checkbox}),Object(g.jsx)(u.a,{label:Object(g.jsx)(c.Trans,{id:"Italic"}),checked:s.isItalic(),onCheck:function(t,n){s.setItalic(n),e.forceUpdate()},style:v.checkbox}),Object(g.jsx)(b.a,{children:Object(g.jsx)(c.Trans,{id:"Font:"})}),Object(g.jsx)(h.a,{margin:"none",project:r,resourceSources:o,onChooseResource:a,resourceExternalEditors:i,resourcesLoader:j.a,resourceKind:"font",fullWidth:!0,canBeReset:!0,initialResourceName:s.getFontName(),onChange:function(t){s.setFontName(t),e.forceUpdate()},hintText:Object(g.jsx)(c.Trans,{id:"Choose a font"}),style:v.resourcesSelector})]}),Object(g.jsx)(d.c,{noMargin:!0,children:Object(g.jsx)(d.a,{expand:!0,children:Object(g.jsx)(d.c,{children:Object(g.jsx)(f.a,{floatingLabelText:Object(g.jsx)(c.Trans,{id:"Initial text to display"}),floatingLabelFixed:!0,commitOnBlur:!0,hintText:{id:"Enter the text to be displayed by the object"},fullWidth:!0,multiline:!0,rows:8,rowsMax:8,value:s.getString(),onChange:function(t){s.setString(t),e.forceUpdate(),e.props.onSizeUpdated()}})})})})]})}}]),n}(l.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(476),u=n(663),d=n(80),p=n(7),b=e.gd,h=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,r=t.project,o=t.resourceSources,a=t.onChooseResource,i=t.resourceExternalEditors,c=b.asTiledSpriteObject(n);return Object(p.jsxs)(d.a,{children:[Object(p.jsx)(u.a,{project:r,resourceSources:o,onChooseResource:a,resourceKind:"image",resourceName:c.getTexture(),resourceExternalEditors:i,onChange:function(t){c.setTexture(t),e.forceUpdate()},floatingLabelText:Object(p.jsx)(s.Trans,{id:"Select an image"})}),Object(p.jsxs)(d.c,{noMargin:!0,children:[Object(p.jsx)(l.a,{commitOnBlur:!0,floatingLabelText:Object(p.jsx)(s.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:c.getWidth(),onChange:function(t){c.setWidth(parseInt(t,10)||0),e.forceUpdate()}}),Object(p.jsx)(l.a,{commitOnBlur:!0,floatingLabelText:Object(p.jsx)(s.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:c.getHeight(),onChange:function(t){c.setHeight(parseInt(t,10)||0),e.forceUpdate()}})]})]})}}]),n}(c.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(493),u=n(663),d=n(476),p=n(80),b=n(7),h=e.gd,j=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,r=t.project,o=t.resourceSources,a=t.onChooseResource,i=t.resourceExternalEditors,c=h.asPanelSpriteObject(n);return Object(b.jsxs)(p.a,{children:[Object(b.jsx)(u.a,{project:r,resourceSources:o,onChooseResource:a,resourceExternalEditors:i,resourceKind:"image",resourceName:c.getTexture(),onChange:function(t){c.setTexture(t),e.forceUpdate()},floatingLabelText:Object(b.jsx)(s.Trans,{id:"Select an image"})}),Object(b.jsx)(l.a,{label:Object(b.jsx)(s.Trans,{id:"Repeat borders and center textures (instead of stretching them)"}),checked:c.isTiled(),onCheck:function(t,n){c.setTiled(n),e.forceUpdate()}}),Object(b.jsxs)(p.c,{noMargin:!0,children:[Object(b.jsx)(d.a,{commitOnBlur:!0,floatingLabelText:Object(b.jsx)(s.Trans,{id:"Top margin"}),fullWidth:!0,type:"number",value:c.getTopMargin(),onChange:function(t){c.setTopMargin(parseInt(t,10)||0),e.forceUpdate()}}),Object(b.jsx)(d.a,{commitOnBlur:!0,floatingLabelText:Object(b.jsx)(s.Trans,{id:"Bottom margin"}),fullWidth:!0,type:"number",value:c.getBottomMargin(),onChange:function(t){c.setBottomMargin(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(b.jsxs)(p.c,{noMargin:!0,children:[Object(b.jsx)(d.a,{commitOnBlur:!0,floatingLabelText:Object(b.jsx)(s.Trans,{id:"Left margin"}),fullWidth:!0,type:"number",value:c.getLeftMargin(),onChange:function(t){c.setLeftMargin(parseInt(t,10)||0),e.forceUpdate()}}),Object(b.jsx)(d.a,{commitOnBlur:!0,floatingLabelText:Object(b.jsx)(s.Trans,{id:"Right margin"}),fullWidth:!0,type:"number",value:c.getRightMargin(),onChange:function(t){c.setRightMargin(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(b.jsxs)(p.c,{noMargin:!0,children:[Object(b.jsx)(d.a,{commitOnBlur:!0,floatingLabelText:Object(b.jsx)(s.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:c.getWidth(),onChange:function(t){c.setWidth(parseInt(t,10)||0),e.forceUpdate()}}),Object(b.jsx)(d.a,{commitOnBlur:!0,floatingLabelText:Object(b.jsx)(s.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:c.getHeight(),onChange:function(t){c.setHeight(parseInt(t,10)||0),e.forceUpdate()}})]})]})}}]),n}(c.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return q}));var r=n(26),o=n(2),a=n(4),i=n(9),s=n(8),c=n(13),l=n(14),u=n(12),d=n(1),p=n(673),b=n(1782),h=n(489),j=n.n(h),f=n(515),g=n.n(f),m=n(471),O=n(136),v=n(137),x=n(465),y=n(476),C=n(100),T=n(472),E=n(532),k=n(600),w=n(662),S=n(62),P=n(477),I=n(1784),_=n(1788),A=n(35),N=n(579),R=n(30),L=n(80),M=n(484),F=n(493),D=n(139),B=n(566),U=n(1792),V=n(7),W=e.gd,G=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.animation,n=e.id,r=e.project,o=e.resourceSources,a=e.onRemove,i=e.onChooseResource,s=e.resourceExternalEditors,c=e.resourcesLoader,l=e.onSpriteContextMenu,u=e.selectedSprites,d=e.onSelectSprite,p=e.onReplaceDirection,h=e.objectName,j=e.onChangeName,f=t.getName();return Object(V.jsxs)("div",{children:[Object(V.jsxs)(E.b,{children:[Object(V.jsx)(k.b,{}),Object(V.jsxs)(E.a,{children:["Animation #",n," "]}),Object(V.jsx)(R.a,{expand:!0,children:Object(V.jsx)(y.a,{commitOnBlur:!0,margin:"none",value:t.getName(),hintText:{id:"Optional animation name"},onChange:function(e){return j(e)},fullWidth:!0})}),Object(V.jsx)(m.a,{size:"small",onClick:a,children:Object(V.jsx)(g.a,{})})]}),Object(x.mapFor)(0,t.getDirectionsCount(),(function(e){var n=t.getDirection(e);return Object(V.jsx)(b.a,{direction:n,project:r,resourcesLoader:c,resourceSources:o,onChooseResource:i,resourceExternalEditors:s,onSpriteContextMenu:l,selectedSprites:u,onSelectSprite:d,onReplaceByDirection:function(t){return p(e,t)},objectName:h,animationName:f,onChangeName:j},e)}))]})}}]),n}(d.Component),z=Object(p.SortableElement)(G),H=Object(p.SortableContainer)((function(e){var t=e.spriteObject,n=e.objectName,r=(e.onAddAnimation,e.onRemoveAnimation),o=e.onChangeAnimationName,a=e.project,i=e.resourcesLoader,s=e.resourceSources,c=e.onChooseResource,l=e.resourceExternalEditors,u=(e.extraBottomTools,e.onSpriteContextMenu),d=e.selectedSprites,p=e.onSelectSprite,b=e.onReplaceDirection;return Object(V.jsx)(M.a,{children:Object(x.mapFor)(0,t.getAnimationsCount(),(function(e){var h=t.getAnimation(e);return Object(V.jsx)(z,{index:e,id:e,animation:h,project:a,resourcesLoader:i,resourceSources:s,onChooseResource:c,resourceExternalEditors:l,onRemove:function(){return r(e)},onChangeName:function(t){return o(e,t)},onSpriteContextMenu:u,selectedSprites:d,onSelectSprite:p,onReplaceDirection:function(t,n){return b(e,t,n)},objectName:n},e)}))})})),Y=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={selectedSprites:{}},e.onSortEnd=function(t){var n=t.oldIndex,r=t.newIndex;e.props.spriteObject.moveAnimation(n,r),e.forceUpdate()},e.addAnimation=function(){var t=new W.Animation;t.setDirectionsCount(1),e.props.spriteObject.addAnimation(t),e.forceUpdate(),e.props.onSizeUpdated()},e.removeAnimation=function(t){A.b.showConfirmDialog("Are you sure you want to remove this animation?")&&(e.props.spriteObject.removeAnimation(t),e.forceUpdate(),e.props.onSizeUpdated())},e.changeAnimationName=function(t,n){var r=e.props.spriteObject,o=Object(x.mapFor)(0,r.getAnimationsCount(),(function(e){return e===t?void 0:r.getAnimation(e).getName()}));""!==n&&o.filter((function(e){return e===n})).length?Object(S.c)("Another animation with this name already exists. Please use another name.",{delayToNextTick:!0}):(r.getAnimation(t).setName(n),e.forceUpdate())},e.deleteSelection=function(){var t=e.props.spriteObject;Object(x.mapFor)(0,t.getAnimationsCount(),(function(n){var r=t.getAnimation(n);Object(N.i)(r,e.state.selectedSprites)})),e.setState({selectedSprites:{}})},e.duplicateSelection=function(){var t=e.props.spriteObject;Object(x.mapFor)(0,t.getAnimationsCount(),(function(n){var r=t.getAnimation(n);Object(N.j)(r,e.state.selectedSprites)})),e.setState({selectedSprites:{}})},e.openSpriteContextMenu=function(t,n,r,o){e.selectSprite(r,!0),e.spriteContextMenu&&e.spriteContextMenu.open(t,n)},e.selectSprite=function(t,n){e.setState({selectedSprites:Object(a.a)(Object(a.a)({},e.state.selectedSprites),{},Object(o.a)({},t.ptr,n))})},e.replaceDirection=function(t,n,r){e.props.spriteObject.getAnimation(t).setDirection(r,n),e.forceUpdate()},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return Object(V.jsx)(R.a,{noMargin:!0,expand:!0,useFullHeight:!0,children:0===this.props.spriteObject.getAnimationsCount()?Object(V.jsx)(R.a,{noMargin:!0,expand:!0,justifyContent:"center",children:Object(V.jsx)(B.a,{title:Object(V.jsx)(u.Trans,{id:"Add your first animation"}),description:Object(V.jsx)(u.Trans,{id:"Animations are a sequence of images."}),actionLabel:Object(V.jsx)(u.Trans,{id:"Add an animation"}),helpPagePath:"/objects/sprite",tutorialId:"intermediate-changing-animations",onAction:this.addAnimation})}):Object(V.jsxs)(d.Fragment,{children:[Object(V.jsx)(U.a,{}),Object(V.jsx)(H,{spriteObject:this.props.spriteObject,objectName:this.props.objectName,helperClass:"sortable-helper",project:this.props.project,onSortEnd:this.onSortEnd,onChangeAnimationName:this.changeAnimationName,onRemoveAnimation:this.removeAnimation,onReplaceDirection:this.replaceDirection,onSpriteContextMenu:this.openSpriteContextMenu,selectedSprites:this.state.selectedSprites,onSelectSprite:this.selectSprite,resourcesLoader:this.props.resourcesLoader,resourceSources:this.props.resourceSources,resourceExternalEditors:this.props.resourceExternalEditors,onChooseResource:this.props.onChooseResource,useDragHandle:!0,lockAxis:"y",axis:"y"}),Object(V.jsx)(R.a,{children:Object(V.jsxs)(L.c,{justifyContent:"space-between",noColumnMargin:!0,children:[this.props.extraBottomTools,Object(V.jsx)(v.a,{label:Object(V.jsx)(u.Trans,{id:"Add an animation"}),primary:!0,onClick:this.addAnimation,icon:Object(V.jsx)(j.a,{})})]})}),Object(V.jsx)(w.a,{ref:function(t){return e.spriteContextMenu=t},buildMenuTemplate:function(t){return[{label:t._({id:"Delete selection"}),click:function(){return e.deleteSelection()}},{label:t._({id:"Duplicate selection"}),click:function(){return e.duplicateSelection()}}]}})]})})}}]),n}(d.Component);function q(e){var t=e.object,n=e.project,o=e.resourceSources,a=e.onChooseResource,i=e.resourceExternalEditors,s=e.onSizeUpdated,c=e.objectName,l=d.useState(!1),p=Object(r.a)(l,2),b=p[0],h=p[1],j=d.useState(!1),f=Object(r.a)(j,2),g=f[0],m=f[1],x=d.useState(!1),y=Object(r.a)(x,2),E=y[0],k=y[1],w=Object(D.a)(),S=W.asSpriteObject(t);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Y,{spriteObject:S,resourcesLoader:P.a,resourceSources:o,onChooseResource:a,resourceExternalEditors:i,project:n,objectName:c,onSizeUpdated:s,extraBottomTools:Object(V.jsxs)(L.c,{noMargin:!0,noColumnMargin:!0,children:[Object(V.jsx)(v.a,{label:Object(V.jsx)(u.Trans,{id:"Edit collision masks"}),primary:!1,onClick:function(){return k(!0)},disabled:0===S.getAnimationsCount()}),Object(V.jsx)(v.a,{label:Object(V.jsx)(u.Trans,{id:"Edit points"}),primary:!1,onClick:function(){return h(!0)},disabled:0===S.getAnimationsCount()}),Object(V.jsx)(O.a,{label:Object(V.jsx)(u.Trans,{id:"Advanced options"}),primary:!1,onClick:function(){return m(!0)},disabled:0===S.getAnimationsCount()})]})}),g&&Object(V.jsx)(C.b,{actions:[Object(V.jsx)(O.a,{label:Object(V.jsx)(u.Trans,{id:"Close"}),primary:!0,onClick:function(){return m(!1)}},"close")],maxWidth:"sm",flexBody:!0,onRequestClose:function(){return m(!1)},open:!0,children:Object(V.jsx)(R.a,{noMargin:!0,children:Object(V.jsx)(F.a,{label:Object(V.jsx)(u.Trans,{id:"Don't play the animation when the object is far from the camera or hidden (recommended for performance)"}),checked:!S.getUpdateIfNotVisible(),onCheck:function(e,t){S.setUpdateIfNotVisible(!t),w()}})})}),b&&Object(V.jsx)(C.b,{actions:[Object(V.jsx)(O.a,{label:Object(V.jsx)(u.Trans,{id:"Close"}),primary:!0,onClick:function(){return h(!1)}},"close")],secondaryActions:[Object(V.jsx)(T.a,{helpPagePath:"/objects/sprite/edit-points"},"help")],onRequestClose:function(){return h(!1)},noMargin:!0,maxWidth:"lg",flexBody:!0,fullHeight:!0,open:b,children:Object(V.jsx)(I.a,{object:S,resourcesLoader:P.a,project:n})}),E&&Object(V.jsx)(C.b,{actions:[Object(V.jsx)(O.a,{label:Object(V.jsx)(u.Trans,{id:"Close"}),primary:!0,onClick:function(){return k(!1)}},"close")],secondaryActions:[Object(V.jsx)(T.a,{helpPagePath:"/objects/sprite/collision-mask"},"help")],noMargin:!0,maxWidth:"lg",flexBody:!0,fullHeight:!0,onRequestClose:function(){return k(!1)},open:E,children:Object(V.jsx)(_.a,{object:S,resourcesLoader:P.a,project:n})})]})}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(18),c=n(4),l=n(12),u=n(1),d=n(673),p=n(465),b=n(489),h=n.n(b),j=n(1783),f=n(532),g=n(969),m=n(579),O=(n(477),n(536)),v=n(136),x=n(500),y=n(7),C=e.gd,T=n(146),E={spritesList:{whiteSpace:"nowrap",overflowY:"hidden"},thumbnailExtraStyle:{marginRight:10},spriteThumbnailImage:{maxWidth:100,maxHeight:100,verticalAlign:"middle"}},k=Object(d.SortableElement)((function(e){e.displayHint;var t=e.onAdd;return Object(y.jsx)(x.a,{children:function(e){return Object(y.jsx)("div",{style:Object(c.a)(Object(c.a)({},g.b),{},{backgroundColor:e.list.itemsBackgroundColor}),children:Object(y.jsx)(v.a,{onClick:t,label:Object(y.jsx)(l.Trans,{id:"Add"}),icon:Object(y.jsx)(h.a,{})})})}})})),w=Object(d.SortableElement)((function(e){var t=e.sprite,n=e.project,r=e.resourcesLoader,o=e.selected,a=e.onSelect,i=e.onContextMenu;return Object(y.jsx)(g.a,{selectable:!0,selected:o,onSelect:a,onContextMenu:i,resourceName:t.getImageName(),resourcesLoader:r,project:n,style:E.thumbnailExtraStyle})})),S=Object(d.SortableContainer)((function(e){var t=e.direction,n=e.project,r=e.resourcesLoader,o=e.onAddSprite,a=e.selectedSprites,i=e.onSelectSprite,c=e.onSpriteContextMenu,l=t.getSpritesCount();return Object(y.jsx)("div",{style:E.spritesList,children:[].concat(Object(s.a)(Object(p.mapFor)(0,l,(function(e){var o=t.getSprite(e);return Object(y.jsx)(w,{sprite:o,index:e,selected:!!a[o.ptr],onContextMenu:function(e,t){return c(e,t,o)},onSelect:function(e){return i(o,e)},resourcesLoader:r,project:n},o.ptr)}))),[Object(y.jsx)(k,{displayHint:!t.getSpritesCount(),disabled:!0,index:l,onAdd:o},"add-sprite-button")])})})),P=function(e){var t=!1,n=!1;return 0!==e.getSpritesCount()&&(t=Object(m.b)(e.getSprite(0),e),n=Object(m.a)(e.getSprite(0),e)),{allDirectionSpritesHaveSamePoints:t,allDirectionSpritesHaveSameCollisionMasks:n}},I=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onSortEnd=function(t){var n=t.oldIndex,r=t.newIndex;e.props.direction.moveSprite(n,r),e.forceUpdate()},e.onAddSprite=function(){var t=e.props,n=t.resourceSources,r=t.onChooseResource,o=t.project,a=t.direction;if(n){var i=n.filter((function(e){return"image"===e.kind}));if(i.length){var s=P(a),c=s.allDirectionSpritesHaveSameCollisionMasks,l=s.allDirectionSpritesHaveSamePoints;r({initialSourceName:i[0].name,multiSelection:!0,resourceKind:"image"}).then((function(t){t.forEach((function(e){Object(O.a)(o,e),o.getResourcesManager().addResource(e);var t=new C.Sprite;t.setImageName(e.getName()),l&&Object(m.g)(a.getSprite(0),t),c&&Object(m.h)(a.getSprite(0),t),a.addSprite(t)})),t.forEach((function(e){return e.delete()})),e.forceUpdate()}))}}},e.editWith=function(t){var n=e.props,r=n.project,o=n.direction,a=n.resourcesLoader,i=n.onReplaceByDirection,s=n.onChangeName,c=n.objectName,l=n.animationName,u=Object(p.mapFor)(0,o.getSpritesCount(),(function(e){return o.getSprite(e).getImageName()})),d=P(o),b=d.allDirectionSpritesHaveSameCollisionMasks,h=d.allDirectionSpritesHaveSamePoints,j={},f=o.getMetadata();if(f)try{j=JSON.parse(f)}catch(g){console.error("Malformed metadata",g)}t.edit({project:r,resourcesLoader:a,singleFrame:!1,resourceNames:u,extraOptions:{fps:o.getTimeBetweenFrames()>0?1/o.getTimeBetweenFrames():1,name:l||(u.length>0?T.basename(u[0],T.extname(u[0])):c),isLooping:o.isLooping(),externalEditorData:j},onChangesSaved:function(e){var t=new C.Direction;t.setTimeBetweenFrames(o.getTimeBetweenFrames()),t.setLoop(o.isLooping()),e.forEach((function(e){var n=new C.Sprite;if(n.setImageName(e.name),void 0!==e.originalIndex&&null!==e.originalIndex){var r=o.getSprite(e.originalIndex);Object(m.g)(r,n),Object(m.h)(r,n)}else h&&Object(m.g)(o.getSprite(0),n),b&&Object(m.h)(o.getSprite(0),n);t.addSprite(n),n.delete()})),e[0].metadata&&t.setMetadata(JSON.stringify(e[0].metadata)),a.burstUrlsCacheForResources(r,u),i(t),e[0].newAnimationName&&s(e[0].newAnimationName),t.delete()}})},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)(f.b,{justifyContent:"flex-end",smallest:!0,children:Object(y.jsx)(j.a,{direction:this.props.direction,resourcesLoader:this.props.resourcesLoader,project:this.props.project,resourceExternalEditors:this.props.resourceExternalEditors,onEditWith:this.editWith})}),Object(y.jsx)(S,{resourcesLoader:this.props.resourcesLoader,direction:this.props.direction,project:this.props.project,onSortEnd:this.onSortEnd,onAddSprite:this.onAddSprite,selectedSprites:this.props.selectedSprites,onSelectSprite:this.props.onSelectSprite,onSpriteContextMenu:this.props.onSpriteContextMenu,helperClass:"sortable-helper",lockAxis:"x",axis:"x"})]})}}]),n}(u.Component)}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(857),u=n.n(l),d=n(559),p=n(493),b=n(771),h=n.n(b),j=n(860),f=n.n(j),g=n(469),m=n(100),O=n(1106),v=(n(477),n(86)),x=n(616),y=n(7),C={container:{paddingLeft:12,paddingRight:12,display:"flex",alignItems:"center"},timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:6},spacer:{width:16}},T=function(e){return Number(e.toFixed(6))},E=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={timeBetweenFrames:T(e.props.direction.getTimeBetweenFrames()),timeError:!1,previewOpen:!1},e.saveTimeBetweenFrames=function(){var t=e.props.direction,n=Math.max(parseFloat(e.state.timeBetweenFrames),1e-5),r=!isNaN(n);r&&t.setTimeBetweenFrames(n),e.setState({timeBetweenFrames:T(e.props.direction.getTimeBetweenFrames()),timeError:r})},e.setLooping=function(t){e.props.direction.setLoop(!!t),e.forceUpdate()},e.openPreview=function(t){e.setState({previewOpen:t}),t||e.saveTimeBetweenFrames()},e}return Object(o.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({timeBetweenFrames:T(this.props.direction.getTimeBetweenFrames()),timeError:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.direction,r=t.resourcesLoader,o=t.project,a=t.resourceExternalEditors,i=t.onEditWith,c=a.filter((function(e){return"image"===e.kind}));return Object(y.jsxs)("div",{style:C.container,children:[Object(y.jsx)(v.a,{children:function(e){return"small"!==e&&!!c.length&&Object(y.jsx)(d.a,{label:c[0].displayName,icon:Object(y.jsx)(h.a,{}),onClick:function(){return i(c[0])}})}}),Object(y.jsx)(d.a,{label:Object(y.jsx)(s.Trans,{id:"Preview"}),icon:Object(y.jsx)(f.a,{}),onClick:function(){return e.openPreview(!0)}}),Object(y.jsx)(u.a,{style:C.timeIcon}),Object(y.jsx)(g.b,{value:this.state.timeBetweenFrames,onChange:function(t,n){return e.setState({timeBetweenFrames:parseFloat(n)||0})},onBlur:function(){return e.saveTimeBetweenFrames()},id:"direction-time-between-frames",margin:"none",style:C.timeField,type:"number",step:.005,precision:2,min:.01,max:5}),Object(y.jsx)("span",{style:C.spacer}),Object(y.jsx)(p.a,{checked:n.isLooping(),label:Object(y.jsx)(s.Trans,{id:"Loop"}),onCheck:function(t,n){return e.setLooping(n)}}),this.state.previewOpen&&Object(y.jsx)(m.b,{actions:[Object(y.jsx)(m.a,{label:Object(y.jsx)(s.Trans,{id:"Ok"}),primary:!0,onClick:function(){return e.openPreview(!1)}},"ok")],noMargin:!0,onRequestClose:function(){return e.openPreview(!1)},onApply:function(){return e.openPreview(!1)},open:this.state.previewOpen,fullHeight:!0,flexBody:!0,children:Object(y.jsx)(O.a,{resourceNames:n.getSpriteNames().toJSArray(),getImageResourceSource:function(e){return r.getResourceFullUrl(o,e,{})},isImageResourceSmooth:function(e){return Object(x.b)(o,e)},project:o,timeBetweenFrames:this.state.timeBetweenFrames,onChangeTimeBetweenFrames:function(t){return e.setState({timeBetweenFrames:t})},isLooping:n.isLooping()})})]})}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){var r=n(4),o=n(26),a=n(12),i=n(1),s=n.n(i),c=n(470),l=n(30),u=n(465),d=n(1785),p=n(1787),b=n(616),h=n(579),j=n(1116),f=n(35),g=n(822),m=n.n(g),O=(n(477),n(139)),v=n(614),x=n(86),y=n(488),C=n(484),T=n(7),E=e.gd,k={direction:"row",first:"preview",second:"properties",splitPercentage:50},w={direction:"column",first:"preview",second:"properties",splitPercentage:50};t.a=function(e){var t=s.a.useState(0),n=Object(o.a)(t,2),i=n[0],g=n[1],S=s.a.useState(0),P=Object(o.a)(S,2),I=P[0],_=P[1],A=s.a.useState(0),N=Object(o.a)(A,2),R=N[0],L=N[1],M=s.a.useState(null),F=Object(o.a)(M,2),D=F[0],B=F[1],U=s.a.useState(null),V=Object(o.a)(U,2),W=V[0],G=V[1],z=s.a.useState(!1),H=Object(o.a)(z,2),Y=H[0],q=H[1],X=s.a.useState(!1),K=Object(o.a)(X,2),J=K[0],Z=K[1],Q=Object(O.a)(),$=E.asSpriteObject(e.object),ee=Object(h.l)($,i,I,R),te=ee.animation,ne=ee.sprite,re=ee.hasValidSprite,oe=s.a.useCallback((function(){te&&ne&&(Y?Object(u.mapFor)(0,$.getAnimationsCount(),(function(e){var t=$.getAnimation(e);Object(h.f)(ne,t)})):J&&Object(h.f)(ne,te)),Q()}),[te,ne,$,Y,J,Q]),ae=function(e){g(e),_(0),L(0)},ie=function(e){_(e),L(0)},se=function(e){L(e)},ce=function(e){if(e&&!f.b.showConfirmDialog("Having the same points for all animations will erase and reset all the other animations points. This can't be undone. Are you sure you want to share these points amongst all the animations of the object?"))return;q(e),Z(e||J)},le=function(e){if(e&&!f.b.showConfirmDialog("Having the same points for all frames will erase and reset all the other frames points. This can't be undone. Are you sure you want to share these points amongst all the frames of the animation?"))return;q(e&&Y),Z(e)};s.a.useEffect((function(){te&&ne&&(q(m()(Object(u.mapFor)(0,$.getAnimationsCount(),(function(e){var t=$.getAnimation(e);return Object(h.d)(ne,t)})))),Z(Object(h.d)(ne,te)))}),[i]),s.a.useEffect(oe,[Y,J]);var ue="small"===Object(x.b)()?w:k;if(!e.object.getAnimationsCount())return null;var de=re?ne.getImageName():"",pe={preview:{type:"primary",noTitleBar:!0,renderEditor:function(){return Object(T.jsx)(y.a,{children:Object(T.jsx)(b.a,{resourceName:de,imageResourceSource:e.resourcesLoader.getResourceFullUrl(e.project,de,{}),isImageResourceSmooth:Object(b.b)(e.project,de),project:e.project,renderOverlay:function(e){return re&&Object(T.jsx)(p.a,Object(r.a)(Object(r.a)({},e),{},{pointsContainer:ne,onPointsUpdated:oe,selectedPointName:D,highlightedPointName:W,onClickPoint:B}))}})})}},properties:{type:"secondary",noTitleBar:!0,renderEditor:function(){return Object(T.jsx)(y.a,{children:Object(T.jsxs)(C.a,{children:[Object(T.jsx)(l.c,{children:Object(T.jsx)(l.a,{expand:!0,children:Object(T.jsx)(j.a,{spriteObject:$,animationIndex:i,directionIndex:I,spriteIndex:R,chooseAnimation:ae,chooseDirection:ie,chooseSprite:se,sameForAllAnimations:Y,sameForAllSprites:J,setSameForAllAnimations:ce,setSameForAllSprites:le,setSameForAllAnimationsLabel:Object(T.jsx)(a.Trans,{id:"Share same points for all animations"}),setSameForAllSpritesLabel:Object(T.jsx)(a.Trans,{id:"Share same points for all sprites of this animation"})})})}),!!ne&&Object(T.jsx)(d.a,{pointsContainer:ne,onPointsUpdated:oe,selectedPointName:D,onHoverPoint:G,onSelectPoint:B}),!ne&&Object(T.jsx)(c.a,{children:Object(T.jsx)(a.Trans,{id:"Choose an animation and frame to edit the points"})})]})})}}};return Object(T.jsx)("div",{style:{flex:1},children:Object(T.jsx)(v.a,{editors:pe,initialNodes:ue})})}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){var r=n(18),o=n(2),a=n(4),i=n(26),s=n(12),c=n(1),l=n(489),u=n.n(l),d=n(550),p=n(486),b=n(465),h=n(35),j=n(139),f=n(30),g=n(137),m=n(1786),O=n(1115),v=n(7),x=e.gd,y=function(e){var t=c.useState({}),n=Object(i.a)(t,2),s=n[0],l=n[1],u=e.pointsContainer,p=Object(j.a)(),f=function(){p(),e.onPointsUpdated()},g=u.getAllNonDefaultPoints(),O=Object(b.mapVector)(g,(function(t,n){var r=t.getName();return Object(v.jsx)(m.a,{pointX:t.getX(),pointY:t.getY(),onChangePointX:function(e){return function(e,t){e.setX(t),f()}(t,e)},onChangePointY:function(e){return function(e,t){e.setY(t),f()}(t,e)},pointName:r,selected:r===e.selectedPointName,nameError:s[r],onBlur:function(n){var i=n.target.value;if(r!==i){var s=!0;u.hasPoint(i)?s=!1:(t.setName(i),e.selectedPointName===r&&e.onSelectPoint(i),f()),l((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(o.a)({},r,!s))}))}},onPointerEnter:e.onHoverPoint,onPointerLeave:e.onHoverPoint,onClick:e.onSelectPoint,onRemove:function(){h.b.showConfirmDialog("Are you sure you want to remove this point? This can't be undone.")&&(u.delPoint(r),f())}},"point-"+t.ptr)})),x=u.getOrigin(),y=u.getCenter(),C=Object(v.jsx)(m.a,{pointName:"Origin",pointX:x.getX(),pointY:x.getY(),onChangePointX:function(e){u.getOrigin().setX(e),f()},onChangePointY:function(e){u.getOrigin().setY(e),f()},onPointerEnter:e.onHoverPoint,onPointerLeave:e.onHoverPoint,onClick:e.onSelectPoint,selected:"Origin"===e.selectedPointName},"origin-point-row"),T=Object(v.jsx)(m.a,{pointName:"Center",isAutomatic:u.isDefaultCenterPoint(),pointX:y.getX(),pointY:y.getY(),onChangePointX:function(e){u.getCenter().setX(e),f()},onChangePointY:function(e){u.getCenter().setY(e),f()},onPointerEnter:e.onHoverPoint,onPointerLeave:e.onHoverPoint,onClick:e.onSelectPoint,selected:"Center"===e.selectedPointName,onEdit:u.isDefaultCenterPoint()?function(){u.setDefaultCenterPoint(!1),f()}:null,onRemove:u.isDefaultCenterPoint()?null:function(){u.setDefaultCenterPoint(!0),f()}},"center-point-row");return Object(v.jsx)(d.b,{children:[C,T].concat(Object(r.a)(O))})};t.a=function(e){return Object(v.jsxs)(f.a,{expand:!0,children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(d.c,{children:Object(v.jsxs)(d.e,{children:[Object(v.jsx)(d.d,{style:O.a.nameColumn,children:Object(v.jsx)(s.Trans,{id:"Point name"})}),Object(v.jsx)(d.d,{style:O.a.coordinateColumn,children:"X"}),Object(v.jsx)(d.d,{style:O.a.coordinateColumn,children:"Y"}),Object(v.jsx)(d.d,{style:O.a.toolColumn})]})}),Object(v.jsx)(y,{pointsContainer:e.pointsContainer,onHoverPoint:e.onHoverPoint,onSelectPoint:e.onSelectPoint,selectedPointName:e.selectedPointName,onPointsUpdated:e.onPointsUpdated})]}),Object(v.jsx)(f.d,{}),Object(v.jsx)(f.c,{alignItems:"center",justifyContent:"center",children:Object(v.jsx)(g.a,{primary:!0,icon:Object(v.jsx)(u.a,{}),label:Object(v.jsx)(s.Trans,{id:"Add a point"}),onClick:function(){var t=Object(p.a)("Point",(function(t){return e.pointsContainer.hasPoint(t)})),n=new x.Point(t);e.pointsContainer.addPoint(n),n.delete(),e.onSelectPoint(t),e.onPointsUpdated()}})})]})}}).call(this,n(28))},function(e,t,n){"use strict";var r=n(11),o=n(12),a=(n(1),n(550)),i=n(471),s=n(515),c=n.n(s),l=n(636),u=n.n(l),d=n(469),p=n(476),b=n(1115),h=n(500),j=n(463),f=n(799),g=n(7),m=["pointX","pointY"];t.a=function(e){var t=e.pointX,n=e.pointY,s=Object(r.a)(e,m);return Object(g.jsx)(h.a,{children:function(e){return Object(g.jsxs)(a.e,{style:{backgroundColor:s.selected?e.listItem.selectedBackgroundColor:e.list.itemsBackgroundColor},onClick:function(){return s.onClick(s.pointName)},onPointerEnter:function(){return s.onPointerEnter(s.pointName)},onPointerLeave:s.onPointerEnter,children:[Object(g.jsx)(a.f,{style:b.a.nameColumn,children:Object(g.jsx)(d.b,{margin:"none",inputStyle:s.selected?{color:e.listItem.selectedTextColor}:void 0,defaultValue:s.pointName||"Unnamed point",id:s.pointName,fullWidth:!0,errorText:s.nameError?"This name is already taken":void 0,disabled:!s.onBlur,onBlur:s.onBlur})}),Object(g.jsx)(a.f,{style:b.a.coordinateColumn,children:s.isAutomatic?Object(g.jsx)(j.a,{noMargin:!0,children:Object(g.jsx)(o.Trans,{id:"(auto)"})}):Object(g.jsx)(p.a,{margin:"none",inputStyle:s.selected?{color:e.listItem.selectedTextColor}:void 0,value:Object(f.a)(t,4).toString(),type:"number",id:"point-x",onChange:function(e){var t=parseFloat(e);isNaN(t)||s.onChangePointX(t)},onBlur:function(e){s.onChangePointX(parseFloat(e.currentTarget.value)||0)}})}),Object(g.jsx)(a.f,{style:b.a.coordinateColumn,children:s.isAutomatic?Object(g.jsx)(j.a,{noMargin:!0,children:Object(g.jsx)(o.Trans,{id:"(auto)"})}):Object(g.jsx)(p.a,{margin:"none",inputStyle:s.selected?{color:e.listItem.selectedTextColor}:void 0,value:Object(f.a)(n,4).toString(),type:"number",id:"point-y",onChange:function(e){var t=parseFloat(e);isNaN(t)||s.onChangePointY(t)},onBlur:function(e){s.onChangePointY(parseFloat(e.currentTarget.value)||0)}})}),Object(g.jsxs)(a.f,{style:b.a.toolColumn,children:[!!s.onRemove&&Object(g.jsx)(i.a,{size:"small",onClick:s.onRemove,children:Object(g.jsx)(c.a,{})}),!!s.onEdit&&Object(g.jsx)(i.a,{size:"small",onClick:s.onEdit,children:Object(g.jsx)(u.a,{})})]})]})}})}},function(e,t,n){"use strict";var r=n(4),o=n(26),a=n(1),i=n(465),s=n(139),c=n(7),l={container:{position:"relative",width:"100%",height:"100%"},point:{position:"absolute",transform:"translate(-6px, -5px)",cursor:"move"},highlightedPoint:{outline:"1px solid black",background:"rgba(255, 255, 255, 0.5)",zIndex:1e3},selectedPoint:{outline:"1px solid blue",background:"rgba(255, 255, 255, 0.5)",zIndex:900}},u=1,d=2,p=3,b=function(e,t){return e===d?"Origin":e===p?"Center":t.getName()},h=function(e){return e===d?"res/originPoint.png":e===p?"res/centerPoint.png":"res/point.png"};t.a=function(e){var t=a.useRef(null),n=a.useState({draggedPoint:null,draggedPointKind:null}),j=Object(o.a)(n,2),f=j[0],g=j[1],m=e.pointsContainer,O=e.imageWidth,v=e.imageHeight,x=e.offsetTop,y=e.offsetLeft,C=e.imageZoomFactor,T=e.highlightedPointName,E=e.selectedPointName,k=Object(s.a)(),w=function(e,t,n,o,a){var i=b(o,a);return Object(c.jsx)("img",{src:h(o),title:i,style:Object(r.a)(Object(r.a)({left:t,top:n},l.point),i===E?l.selectedPoint:i===T?l.highlightedPoint:null),alt:"",onPointerDown:function(e){var t,n;e.preventDefault(),t=a,n=o,f.draggedPoint||g({draggedPoint:t,draggedPointKind:n})}},e)},S=m.getAllNonDefaultPoints(),P=Object(i.mapVector)(S,(function(e,t){return w(e.getName(),e.getX()*C,e.getY()*C,u,e)})),I=m.getOrigin(),_=m.getCenter(),A=m.isDefaultCenterPoint(),N={position:"absolute",top:x||0,left:y||0,width:O*C,height:v*C,overflow:"visible"};return Object(c.jsx)("div",{style:l.container,onPointerMove:function(n){var r=f.draggedPoint,o=f.draggedPointKind;if(r&&t.current){var a=t.current.getBoundingClientRect(),i=n.clientX-a.left,s=n.clientY-a.top;o===p&&e.pointsContainer.setDefaultCenterPoint(!1),r.setX(i/C),r.setY(s/C),k()}},onPointerUp:function(){!!f.draggedPoint&&(e.onPointsUpdated(),f.draggedPointKind&&f.draggedPoint&&e.onClickPoint(b(f.draggedPointKind,f.draggedPoint))),g({draggedPoint:null,draggedPointKind:null})},children:Object(c.jsxs)("div",{style:N,ref:t,children:[P,w("Origin",I.getX()*C,I.getY()*C,d,I),w("Center",(A?O/2:_.getX())*C,(A?v/2:_.getY())*C,p,_)]})})}},function(e,t,n){"use strict";(function(e){var r=n(4),o=n(26),a=n(12),i=n(1),s=n.n(i),c=n(136),l=n(470),u=n(30),d=n(465),p=n(1789),b=n(1791),h=n(616),j=n(579),f=n(1116),g=n(35),m=n(822),O=n.n(m),v=(n(477),n(139)),x=n(614),y=n(86),C=n(488),T=n(7),E=e.gd,k={direction:"row",first:"preview",second:"properties",splitPercentage:50},w={direction:"column",first:"preview",second:"properties",splitPercentage:50};t.a=function(e){var t=s.a.useState(0),n=Object(o.a)(t,2),i=n[0],m=n[1],S=s.a.useState(0),P=Object(o.a)(S,2),I=P[0],_=P[1],A=s.a.useState(0),N=Object(o.a)(A,2),R=N[0],L=N[1],M=s.a.useState(null),F=Object(o.a)(M,2),D=F[0],B=F[1],U=s.a.useState(null),V=Object(o.a)(U,2),W=V[0],G=V[1],z=s.a.useState(!1),H=Object(o.a)(z,2),Y=H[0],q=H[1],X=s.a.useState(!1),K=Object(o.a)(X,2),J=K[0],Z=K[1],Q=s.a.useState(0),$=Object(o.a)(Q,2),ee=$[0],te=$[1],ne=s.a.useState(0),re=Object(o.a)(ne,2),oe=re[0],ae=re[1],ie=Object(v.a)(),se=E.asSpriteObject(e.object),ce=Object(j.l)(se,i,I,R),le=ce.animation,ue=ce.sprite,de=ce.hasValidSprite,pe=s.a.useCallback((function(){le&&ue&&(Y?Object(d.mapFor)(0,se.getAnimationsCount(),(function(e){var t=se.getAnimation(e);Object(j.e)(ue,t)})):J&&Object(j.e)(ue,le)),ie()}),[le,ue,se,Y,J,ie]),be=function(e){m(e),_(0),L(0)},he=function(e){_(e),L(0)},je=function(e){L(e)},fe=s.a.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ue&&(ue.setCollisionMaskAutomatic(e),pe())}),[ue,pe]),ge=function(e){if(e&&!g.b.showConfirmDialog("Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?"))return;q(e),Z(e||J)},me=function(e){if(e&&!g.b.showConfirmDialog("Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?"))return;q(e&&Y),Z(e)},Oe=function(e,t){te(e),ae(t)};s.a.useEffect(pe,[Y,J]),s.a.useEffect((function(){le&&ue&&(q(O()(Object(d.mapFor)(0,se.getAnimationsCount(),(function(e){var t=se.getAnimation(e);return Object(j.c)(ue,t)})))),Z(Object(j.c)(ue,le)))}),[i]);var ve="small"===Object(y.b)()?w:k;if(!e.object.getAnimationsCount())return null;var xe=de?ue.getImageName():"",ye={preview:{type:"primary",noTitleBar:!0,renderEditor:function(){return Object(T.jsx)(C.a,{children:Object(T.jsx)(h.a,{resourceName:xe,imageResourceSource:e.resourcesLoader.getResourceFullUrl(e.project,xe,{}),isImageResourceSmooth:Object(h.b)(e.project,xe),project:e.project,onSize:Oe,renderOverlay:function(e){return de&&Object(T.jsx)(b.a,Object(r.a)(Object(r.a)({},e),{},{isDefaultBoundingBox:ue.isCollisionMaskAutomatic(),polygons:ue.getCustomCollisionMask(),onPolygonsUpdated:pe,highlightedVerticePtr:D,selectedVerticePtr:W,onClickVertice:G}))}})})}},properties:{type:"secondary",noTitleBar:!0,renderEditor:function(){return Object(T.jsxs)(C.a,{children:[Object(T.jsx)(u.c,{children:Object(T.jsx)(u.a,{expand:!0,children:Object(T.jsx)(f.a,{spriteObject:se,animationIndex:i,directionIndex:I,spriteIndex:R,chooseAnimation:be,chooseDirection:he,chooseSprite:je,sameForAllAnimations:Y,sameForAllSprites:J,setSameForAllAnimations:ge,setSameForAllSprites:me,setSameForAllAnimationsLabel:Object(T.jsx)(a.Trans,{id:"Share same collision masks for all animations"}),setSameForAllSpritesLabel:Object(T.jsx)(a.Trans,{id:"Share same collision masks for all sprites of this animation"})})})}),!!ue&&!ue.isCollisionMaskAutomatic()&&Object(T.jsx)(s.a.Fragment,{children:Object(T.jsx)(p.a,{polygons:ue.getCustomCollisionMask(),onPolygonsUpdated:pe,restoreCollisionMask:function(){return fe(!0)},onHoverVertice:B,onClickVertice:G,selectedVerticePtr:W,spriteWidth:ee,spriteHeight:oe})}),!!ue&&ue.isCollisionMaskAutomatic()&&Object(T.jsxs)(s.a.Fragment,{children:[Object(T.jsx)(l.a,{children:Object(T.jsx)(a.Trans,{id:"This sprite uses the default collision mask, a rectangle that is as large as the sprite."})}),Object(T.jsx)(u.c,{justifyContent:"center",children:Object(T.jsx)(c.a,{label:Object(T.jsx)(a.Trans,{id:"Use a custom collision mask"}),primary:!1,onClick:function(){return fe(!1)}})})]}),!ue&&Object(T.jsx)(l.a,{children:Object(T.jsx)(a.Trans,{id:"Choose an animation and frame to edit the collision masks"})})]})}}};return Object(T.jsx)("div",{style:{flex:1},children:Object(T.jsx)(x.a,{editors:ye,initialNodes:ve})})}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){var r=n(12),o=n(1),a=n(515),i=n.n(a),s=n(593),c=n.n(s),l=n(489),u=n.n(l),d=n(550),p=n(465),b=n(1117),h=n(1790),j=n(703),f=n(463),g=n(471),m=n(136),O=n(30),v=n(554),x=n(478),y=n(138),C=n(484),T=n(7),E=e.gd,k=function(e){var t=o.useRef(null);return Object(T.jsxs)(O.a,{expand:!0,children:[Object(T.jsxs)(d.a,{children:[Object(T.jsx)(d.c,{children:Object(T.jsxs)(d.e,{children:[Object(T.jsx)(d.d,{}),Object(T.jsx)(d.d,{style:b.a.coordinateColumn,children:"X"}),Object(T.jsx)(d.d,{style:b.a.coordinateColumn,children:"Y"}),Object(T.jsx)(d.f,{style:b.a.toolColumn})]})}),Object(T.jsx)(d.b,{children:Object(p.mapVector)(e.vertices,(function(n,r){return Object(T.jsx)(h.a,{parentVerticeId:e.vertices.ptr.toString(),setDragged:function(){t.current=r},drop:function(){var n,o,a=t.current;(a||0===a)&&((n=a)!==(o=r)&&(E.moveVector2fInVector(e.vertices,n,o>n?o-1:o),e.onUpdated()),t.current=null)},onPointerEnter:function(){return e.onHoverVertice(n.ptr)},onPointerLeave:e.onHoverVertice,selected:e.selectedVerticePtr===n.ptr,onClick:function(){return e.onClickVertice(n.ptr)},verticeX:n.get_x(),verticeY:n.get_y(),onChangeVerticeX:function(t){return function(t,n){t.set_x(Math.min(e.spriteWidth,Math.max(n,0))),e.onUpdated()}(n,t)},onChangeVerticeY:function(t){return function(t,n){t.set_y(Math.min(e.spriteHeight,Math.max(n,0))),e.onUpdated()}(n,t)},onRemove:function(){E.removeFromVectorVector2f(e.vertices,r),e.onUpdated()},canRemove:e.vertices.size()>3},n.ptr)}))})]}),Object(T.jsx)(O.d,{}),e.hasWarning&&Object(T.jsx)(x.a,{kind:"warning",children:Object(T.jsx)(r.Trans,{id:"The polygon is not convex. Ensure it is, otherwise the collision mask won't work."})}),Object(T.jsx)(O.c,{justifyContent:"center",children:Object(T.jsx)(m.a,{icon:Object(T.jsx)(u.a,{size:"small"}),label:Object(T.jsx)(r.Trans,{id:"Add a vertex"}),onClick:function(){var t=new E.Vector2f;e.vertices.push_back(t),t.delete(),e.onUpdated()}})})]})},w=function(e){var t=o.useContext(y.a).message.warning,n=e.polygon.getVertices(),r=n.size(),a=e.polygon.isConvex(),s=[a?null:Object(T.jsx)(g.a,{size:"small",tooltip:{id:"Polygon is not convex!"},children:Object(T.jsx)(c.a,{style:{color:t}})},"not-convex"),Object(T.jsx)(g.a,{size:"small",onClick:function(t){t.stopPropagation(),e.onRemove()},tooltip:{id:"Delete collision mask"},children:Object(T.jsx)(i.a,{})},"delete-mask")];return Object(T.jsxs)(j.a,{defaultExpanded:!0,children:[Object(T.jsx)(j.c,{actions:s,children:Object(T.jsxs)(f.a,{displayInlineAsSpan:!0,children:[3===r&&"Triangle",4===r&&"Quadrilateral",r>=5&&"Polygon with ".concat(r," vertices")]})}),Object(T.jsx)(j.b,{disableGutters:!0,children:Object(T.jsx)(k,{vertices:n,hasWarning:!a,onHoverVertice:e.onHoverVertice,onClickVertice:e.onClickVertice,selectedVerticePtr:e.selectedVerticePtr,onUpdated:e.onUpdated,spriteWidth:e.spriteWidth,spriteHeight:e.spriteHeight})})]})};t.a=function(e){var t=e.polygons,n=e.spriteHeight,a=e.spriteWidth,i=e.onPolygonsUpdated,s=e.restoreCollisionMask,c=e.onHoverVertice,l=e.onClickVertice,d=e.selectedVerticePtr,b=o.useCallback((function(){var e=E.Polygon2d.createRectangle(a,n);e.move(a/2,n/2),t.push_back(e),i()}),[n,a,t,i]);return o.useEffect((function(){0===t.size()&&b()}),[t,b]),Object(T.jsx)(o.Fragment,{children:Object(T.jsxs)(O.a,{noMargin:!0,expand:!0,useFullHeight:!0,children:[Object(T.jsx)(C.a,{children:Object(p.mapVector)(t,(function(e,r){return Object(T.jsx)(w,{polygon:e,onUpdated:i,onRemove:function(){E.removeFromVectorPolygon2d(t,r),0===t.size()&&s(),i()},onHoverVertice:c,onClickVertice:l,selectedVerticePtr:d,spriteWidth:a,spriteHeight:n},"polygon-".concat(r))}))}),Object(T.jsx)(O.a,{children:Object(T.jsx)(O.c,{alignItems:"center",justifyContent:"center",children:Object(T.jsx)(v.a,{primary:!0,icon:Object(T.jsx)(u.a,{}),label:Object(T.jsx)(r.Trans,{id:"Add collision mask"}),onClick:function(){b()},buildMenuTemplate:function(e){return[{label:e._({id:"Restore the default collision mask"}),click:s}]}})})})]})})}}).call(this,n(28))},function(e,t,n){"use strict";var r=n(11),o=n(1),a=n.n(o),i=n(515),s=n.n(i),c=n(550),l=n(471),u=n(476),d=n(563),p=n(600),b=n(1117),h=n(799),j=n(138),f=n(7),g=["verticeX","verticeY","parentVerticeId"];t.a=function(e){var t=e.verticeX,n=e.verticeY,o=e.parentVerticeId,i=Object(r.a)(e,g),m=a.a.useMemo((function(){return Object(d.a)("collision-mask-".concat(o))}),[o]),O=a.a.useContext(j.a);return Object(f.jsx)(m,{beginDrag:function(){return i.setDragged(),{}},canDrag:function(){return!0},canDrop:function(){return!0},drop:function(){i.drop()},children:function(e){var r=e.connectDragSource,o=e.connectDropTarget,a=e.isOver;e.canDrop;return o(Object(f.jsxs)("tr",{className:"MuiTableRow-root",style:{backgroundColor:i.selected?O.listItem.selectedBackgroundColor:O.list.itemsBackgroundColor},onPointerEnter:i.onPointerEnter,onPointerLeave:i.onPointerLeave,onClick:i.onClick,children:[r(Object(f.jsx)("td",{style:a?{borderTop:"2px solid ".concat(O.listItem.selectedBackgroundColor)}:void 0,children:Object(f.jsx)(p.b,{})})),Object(f.jsx)(c.f,{style:b.a.coordinateColumn,children:Object(f.jsx)(u.a,{margin:"none",inputStyle:i.selected?{color:O.listItem.selectedTextColor}:void 0,value:Object(h.a)(t,4).toString(),type:"number",id:"vertice-x",onChange:function(e){var t=parseFloat(e);isNaN(t)||i.onChangeVerticeX(t)},onBlur:function(e){i.onChangeVerticeX(parseFloat(e.currentTarget.value)||0)}})}),Object(f.jsx)(c.f,{style:b.a.coordinateColumn,children:Object(f.jsx)(u.a,{margin:"none",inputStyle:i.selected?{color:O.listItem.selectedTextColor}:void 0,value:Object(h.a)(n,4).toString(),type:"number",id:"vertice-y",onChange:function(e){var t=parseFloat(e);isNaN(t)||i.onChangeVerticeY(t)},onBlur:function(e){i.onChangeVerticeY(parseFloat(e.currentTarget.value)||0)}})}),Object(f.jsx)(c.f,{style:b.a.toolColumn,children:!!i.onRemove&&Object(f.jsx)(l.a,{size:"small",onClick:i.onRemove,disabled:!i.canRemove,children:Object(f.jsx)(s.a,{})})})]}))}})}},function(e,t,n){"use strict";var r=n(26),o=n(1),a=n(465),i=n(139),s=n(7),c={vertexCircle:{cursor:"move"}};t.a=function(e){var t=o.useRef(null),n=o.useState(null),l=Object(r.a)(n,2),u=l[0],d=l[1],p=e.polygons,b=e.imageZoomFactor,h=e.imageHeight,j=e.imageWidth,f=e.offsetTop,g=e.offsetLeft,m=e.isDefaultBoundingBox,O=Object(i.a)(),v=function(e,t){var n=j*b,r=h*b;return{frameX:Math.min(n,Math.max(e,0)),frameY:Math.min(r,Math.max(t,0))}},x={position:"absolute",top:f||0,left:g||0,width:j*b,height:h*b,overflow:"visible"};return Object(s.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},onPointerMove:function(e){if(u&&t.current){var n=t.current.createSVGPoint();n.x=e.clientX,n.y=e.clientY;var r=t.current.getScreenCTM().inverse(),o=n.matrixTransform(r),a=v(o.x,o.y),i=a.frameX,s=a.frameY;u.set_x(i/b),u.set_y(s/b),O()}},onPointerUp:function(){u&&(e.onPolygonsUpdated(),e.onClickVertice(u.ptr)),d(null)},children:Object(s.jsxs)("svg",{style:x,ref:t,children:[m&&Object(s.jsx)("polygon",{fill:"rgba(255,0,0,0.2)",stroke:"rgba(255,0,0,0.5)",strokeWidth:1,fillRule:"evenodd",points:"0,0 ".concat(j*b,",0 ").concat(j*b,",").concat(h*b," 0,").concat(h*b)}),!m&&Object(s.jsxs)(o.Fragment,{children:[Object(a.mapVector)(p,(function(e,t){var n=e.getVertices();return Object(s.jsx)("polygon",{fill:"rgba(255,0,0,0.2)",stroke:"rgba(255,0,0,0.5)",strokeWidth:1,fillRule:"evenodd",points:Object(a.mapVector)(n,(function(e,t){return"".concat(e.get_x()*b,",").concat(e.get_y()*b)})).join(" ")},"polygon-".concat(t))})),Object(a.mapVector)(p,(function(t,n){var r=t.getVertices();return Object(a.mapVector)(r,(function(t,r){return Object(s.jsx)("circle",{onPointerDown:function(){return function(e){u||d(e)}(t)},fill:t.ptr===e.selectedVerticePtr?"rgba(0,0,255,0.75)":"rgba(255,0,0,0.75)",stroke:t.ptr===e.highlightedVerticePtr?t.ptr===e.selectedVerticePtr?"white":"black":void 0,strokeWidth:1,cx:t.get_x()*b,cy:t.get_y()*b,r:5,style:c.vertexCircle},"polygon-".concat(n,"-vertex-").concat(r))}))}))]})]})})}},function(e,t,n){"use strict";n(1);var r=n(30),o=n(598),a=n(7);t.a=function(){var e=Object(o.a)("intermediate-changing-animations").DismissableTutorialMessage;return e?Object(a.jsxs)(r.a,{children:[e,Object(a.jsx)(r.d,{})]}):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),o=(n(1),n(30)),a=n(470),i=n(7);function s(){return Object(i.jsx)(o.a,{children:Object(i.jsx)(o.c,{children:Object(i.jsx)(a.a,{children:Object(i.jsx)(r.Trans,{id:"This object does not have any specific configuration. Add it on the scene and use events to interact with it."})})})})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(493),u=n(549),d=n(497),p=n(476),b=n(80),h=n(7),j=e.gd,f=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.object,n=j.asShapePainterObject(t);return Object(h.jsxs)(b.a,{children:[Object(h.jsx)(l.a,{label:Object(h.jsx)(s.Trans,{id:"Draw the shapes relative to the object position on the scene"}),checked:!n.areCoordinatesAbsolute(),onCheck:function(t,r){r?n.setCoordinatesRelative():n.setCoordinatesAbsolute(),e.forceUpdate()}}),Object(h.jsx)(l.a,{label:Object(h.jsx)(s.Trans,{id:"Clear the rendered image between each frame"}),checked:n.isClearedBetweenFrames(),onCheck:function(t,r){n.setClearBetweenFrames(r),e.forceUpdate()}}),Object(h.jsxs)(b.c,{noMargin:!0,children:[Object(h.jsx)(u.a,{floatingLabelText:Object(h.jsx)(s.Trans,{id:"Outline color"}),disableAlpha:!0,fullWidth:!0,color:Object(d.e)({r:n.getOutlineColorR(),g:n.getOutlineColorG(),b:n.getOutlineColorB()}),onChange:function(t){var r=Object(d.h)(t);r&&(n.setOutlineColor(r.r,r.g,r.b),e.forceUpdate())}}),Object(h.jsx)(p.a,{commitOnBlur:!0,floatingLabelText:Object(h.jsx)(s.Trans,{id:"Outline opacity (0-255)"}),fullWidth:!0,type:"number",value:n.getOutlineOpacity(),onChange:function(t){n.setOutlineOpacity(parseInt(t,10)||0),e.forceUpdate()}}),Object(h.jsx)(p.a,{commitOnBlur:!0,floatingLabelText:Object(h.jsx)(s.Trans,{id:"Outline size (in pixels)"}),fullWidth:!0,type:"number",value:n.getOutlineSize(),onChange:function(t){n.setOutlineSize(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(h.jsxs)(b.c,{noMargin:!0,children:[Object(h.jsx)(u.a,{floatingLabelText:Object(h.jsx)(s.Trans,{id:"Fill color"}),disableAlpha:!0,fullWidth:!0,color:Object(d.e)({r:n.getFillColorR(),g:n.getFillColorG(),b:n.getFillColorB()}),onChange:function(t){var r=Object(d.h)(t);r&&(n.setFillColor(r.r,r.g,r.b),e.forceUpdate())}}),Object(h.jsx)(p.a,{commitOnBlur:!0,floatingLabelText:Object(h.jsx)(s.Trans,{id:"Fill opacity (0-255)"}),fullWidth:!0,type:"number",value:n.getFillOpacity(),onChange:function(t){n.setFillOpacity(parseInt(t,10)||0),e.forceUpdate()}})]})]})}}]),n}(c.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(493),u=n(474),d=n(475),p=n(549),b=n(497),h=n(476),j=n(663),f=n(80),g=n(653),m=n(633),O=n(7),v=e.gd,x=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,r=t.project,o=t.resourceSources,a=t.onChooseResource,i=t.resourceExternalEditors,c=v.asParticleEmitterObject(n),x=Object(m.c)(n.getType());return Object(O.jsxs)(f.a,{children:[x.map((function(e){return Object(O.jsx)(g.a,{tutorialId:e},e)})),Object(O.jsxs)(u.a,{fullWidth:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle type"}),value:c.getRendererType(),onChange:function(t,n,r){var o=parseInt(r,10)||0;c.setRendererType(o),o!==v.ParticleEmitterObject.Quad&&c.setParticleTexture(""),e.forceUpdate()},children:[Object(O.jsx)(d.a,{value:v.ParticleEmitterObject.Point,primaryText:{id:"Circle"}}),Object(O.jsx)(d.a,{value:v.ParticleEmitterObject.Line,primaryText:{id:"Line"}}),Object(O.jsx)(d.a,{value:v.ParticleEmitterObject.Quad,primaryText:{id:"Image"}})]}),c.getRendererType()===v.ParticleEmitterObject.Point&&Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Size"}),fullWidth:!0,type:"number",value:c.getRendererParam1(),onChange:function(t){c.setRendererParam1(parseFloat(t)),e.forceUpdate()}}),c.getRendererType()===v.ParticleEmitterObject.Line&&Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Lines length"}),fullWidth:!0,type:"number",value:c.getRendererParam1(),onChange:function(t){c.setRendererParam1(parseFloat(t)),e.forceUpdate()}}),Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Lines thickness"}),fullWidth:!0,type:"number",value:c.getRendererParam2(),onChange:function(t){c.setRendererParam2(parseFloat(t)),e.forceUpdate()}})]}),c.getRendererType()===v.ParticleEmitterObject.Quad&&Object(O.jsx)(j.a,{project:r,resourceSources:o,onChooseResource:a,resourceKind:"image",resourceName:c.getParticleTexture(),resourceExternalEditors:i,onChange:function(t){c.setParticleTexture(t),e.forceUpdate()},floatingLabelText:Object(O.jsx)(s.Trans,{id:"Select an image"})}),c.getRendererType()===v.ParticleEmitterObject.Quad&&Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particles start width"}),fullWidth:!0,type:"number",value:c.getRendererParam1(),onChange:function(t){c.setRendererParam1(Math.max(0,parseFloat(t))),e.forceUpdate()}}),Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particles start height"}),fullWidth:!0,type:"number",value:c.getRendererParam2(),onChange:function(t){c.setRendererParam2(Math.max(0,parseFloat(t))),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(p.a,{floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particles start color"}),disableAlpha:!0,fullWidth:!0,color:Object(b.e)({r:c.getParticleRed1(),g:c.getParticleGreen1(),b:c.getParticleBlue1()}),onChange:function(t){var n=Object(b.h)(t);n&&(c.setParticleRed1(n.r),c.setParticleGreen1(n.g),c.setParticleBlue1(n.b),e.forceUpdate())}}),Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Start opacity (0-255)"}),fullWidth:!0,type:"number",value:c.getParticleAlpha1(),onChange:function(t){c.setParticleAlpha1(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(p.a,{floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particles end color"}),disableAlpha:!0,fullWidth:!0,color:Object(b.e)({r:c.getParticleRed2(),g:c.getParticleGreen2(),b:c.getParticleBlue2()}),onChange:function(t){var n=Object(b.h)(t);n&&(c.setParticleRed2(n.r),c.setParticleGreen2(n.g),c.setParticleBlue2(n.b),e.forceUpdate())}}),Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"End opacity (0-255)"}),fullWidth:!0,type:"number",value:c.getParticleAlpha2(),onChange:function(t){c.setParticleAlpha2(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(O.jsx)(l.a,{label:Object(O.jsx)(s.Trans,{id:"Additive rendering"}),checked:c.isRenderingAdditive(),onCheck:function(t,n){n?c.setRenderingAdditive():c.setRenderingAlpha(),e.forceUpdate()}}),Object(O.jsx)(l.a,{label:Object(O.jsx)(s.Trans,{id:"Delete when out of particles"}),checked:c.getDestroyWhenNoParticles(),onCheck:function(t,n){c.setDestroyWhenNoParticles(n),e.forceUpdate()}}),Object(O.jsx)(f.c,{noMargin:!0,children:Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Maximum number of particles displayed"}),fullWidth:!0,type:"number",value:c.getMaxParticleNb(),onChange:function(t){c.setMaxParticleNb(parseInt(t,10)||0),e.forceUpdate()}})}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Number of particles in tank (-1 for infinite)"}),fullWidth:!0,type:"number",value:c.getTank(),onChange:function(t){c.setTank(parseInt(t,10)||0),e.forceUpdate()}}),Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Flow of particles (particles/seconds)"}),fullWidth:!0,type:"number",value:c.getFlow(),onChange:function(t){c.setFlow(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Minimum emitter force applied on particles"}),fullWidth:!0,type:"number",value:c.getEmitterForceMin(),onChange:function(t){c.setEmitterForceMin(parseInt(t,10)||0),e.forceUpdate()}}),Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Maximum emitter force applied on particles"}),fullWidth:!0,type:"number",value:c.getEmitterForceMax(),onChange:function(t){c.setEmitterForceMax(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Spray cone angle (in degrees)"}),fullWidth:!0,type:"number",value:c.getConeSprayAngle(),onChange:function(t){c.setConeSprayAngle(parseInt(t,10)||0),e.forceUpdate()}}),Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Radius of the emitter"}),fullWidth:!0,type:"number",value:c.getZoneRadius(),onChange:function(t){c.setZoneRadius(parseInt(t,10)||0),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Gravity on particles on X axis"}),fullWidth:!0,type:"number",value:c.getParticleGravityX(),onChange:function(t){c.setParticleGravityX(parseFloat(t)),e.forceUpdate()}}),Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Gravity on particles on Y axis"}),fullWidth:!0,type:"number",value:c.getParticleGravityY(),onChange:function(t){c.setParticleGravityY(parseFloat(t)),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle minimum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:c.getParticleLifeTimeMin(),onChange:function(t){c.setParticleLifeTimeMin(parseFloat(t)),e.forceUpdate()}}),Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle maximum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:c.getParticleLifeTimeMax(),onChange:function(t){c.setParticleLifeTimeMax(parseFloat(t)),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle start size (in percents)"}),fullWidth:!0,type:"number",value:c.getParticleSize1(),onChange:function(t){c.setParticleSize1(parseFloat(t)),e.forceUpdate()}}),Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle end size (in percents)"}),fullWidth:!0,type:"number",value:c.getParticleSize2(),onChange:function(t){c.setParticleSize2(parseFloat(t)),e.forceUpdate()}})]}),Object(O.jsxs)(f.c,{noMargin:!0,children:[Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle minimum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:c.getParticleAngle1(),onChange:function(t){c.setParticleAngle1(parseFloat(t)),e.forceUpdate()}}),Object(O.jsx)(h.a,{commitOnBlur:!0,floatingLabelText:Object(O.jsx)(s.Trans,{id:"Particle maximum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:c.getParticleAngle2(),onChange:function(t){c.setParticleAngle2(parseFloat(t)),e.forceUpdate()}})]})]})}}]),n}(c.Component)}).call(this,n(28))},function(e,t,n){"use strict";(function(e){var r=n(12),o=n(1),a=n(570),i=n(606),s=n(470),c=n(30),l=n(827),u=n(633),d=n(478),p=n(80),b=n(653),h=n(7),j=e.gd;t.a=function(e){var t=e.object,n=e.project,f=e.resourceSources,g=e.onChooseResource,m=e.resourceExternalEditors,O=e.unsavedChanges,v=j.castObject(t,j.gdObject),x=v.getProperties(),y=Object(i.a)(x,(function(e){return e.getProperties()}),(function(e,t,n){return e.updateProperty(t,n)})),C=Object(l.c)()[v.getType()],T=Object(u.c)(v.getType());return Object(h.jsx)(r.I18n,{children:function(e){var t=e.i18n;return Object(h.jsxs)(p.a,{children:[T.map((function(e){return Object(h.jsx)(b.a,{tutorialId:e},e)})),y.length?Object(h.jsxs)(o.Fragment,{children:[C?Object(h.jsx)(c.c,{children:Object(h.jsx)(p.a,{noMargin:!0,children:C.map((function(e,n){var r=e.kind,o=e.message;return Object(h.jsx)(d.a,{kind:r,children:t._(o)},n)}))})}):null,Object(h.jsx)(a.a,{unsavedChanges:O,schema:y,instances:[v],project:n,resourceSources:f,onChooseResource:g,resourceExternalEditors:m})]}):Object(h.jsx)(s.a,{children:Object(h.jsx)(r.Trans,{id:"There is nothing to configure for this object. You can still use events to interact with the object."})})]})}})}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){var r=n(26),o=n(12),a=n(1),i=n(469),s=n(489),c=n.n(s),l=n(515),u=n.n(l),d=n(471),p=n(470),b=n(532),h=n(896),j=n(1031),f=n(2095),g=n(35),m=n(30),O=n(137),v=n(653),x=n(80),y=n(139),C=n(703),T=n(566),E=n(43),k=n(484),w=n(644),S=n(633),P=n(1033),I=n(81),_=n(7),A=e.gd;t.a=function(e){var t=a.useState(!1),n=Object(r.a)(t,2),s=n[0],l=n[1],N=e.object,R=e.project,L=N.getAllBehaviorNames().toJSArray(),M=Object(y.a)(),F=a.useContext(E.a).values,D=function(t){var n="Are you sure you want to remove this behavior? This can't be undone.",r=A.WholeProjectRefactorer.findDependentBehaviorNames(R,N,t).toJSArray();r.length>0&&(n+="\nDependent behaviors will be removed too: "+r.join(", ")),g.b.showConfirmDialog(n)&&(N.removeBehavior(t),r.forEach((function(e){return N.removeBehavior(e)})),e.onSizeUpdated&&e.onSizeUpdated())};return Object(_.jsxs)(m.a,{noMargin:!0,expand:!0,useFullHeight:!0,noOverflowParent:!0,children:[0===L.length?Object(_.jsx)(m.a,{noMargin:!0,expand:!0,justifyContent:"center",children:Object(_.jsx)(T.a,{title:Object(_.jsx)(o.Trans,{id:"Add your first behavior"}),description:Object(_.jsx)(o.Trans,{id:"Behaviors add features to objects in a matter of clicks."}),actionLabel:Object(_.jsx)(o.Trans,{id:"Add a behavior"}),helpPagePath:"/behaviors",tutorialId:"intro-behaviors-and-functions",actionButtonId:"add-behavior-button",onAction:function(){return l(!0)}})}):Object(_.jsxs)(a.Fragment,{children:[Object(_.jsx)(k.a,{children:L.map((function(t,n){var r=N.getBehavior(t),a=r.getTypeName(),s=A.MetadataProvider.getBehaviorMetadata(A.JsPlatform.get(),a);if(A.MetadataProvider.isBadBehaviorMetadata(s))return Object(_.jsxs)(C.a,{defaultExpanded:!0,children:[Object(_.jsxs)(C.c,{actions:[Object(_.jsx)(d.a,{onClick:function(e){e.stopPropagation(),D(t)},children:Object(_.jsx)(u.a,{})},"delete")],children:[Object(_.jsxs)(b.a,{firstChild:!0,children:[Object(_.jsx)(o.Trans,{id:"Unknown behavior"})," "]}),Object(_.jsx)(m.a,{noMargin:!0,expand:!0,children:Object(_.jsx)(i.b,{margin:"none",value:t,disabled:!0})})]}),Object(_.jsx)(C.b,{children:Object(_.jsx)(p.a,{children:Object(_.jsx)(o.Trans,{id:"This behavior is unknown. It might be a behavior that was defined in an extension and that was later removed. You should delete it."})})})]},t);var c=s.get(),l=f.a.getEditor(a),j=Object(S.a)(a),g=j.filter((function(e){return!F.hiddenTutorialHints[e]})),O=s.getIconFilename();return Object(_.jsxs)(C.a,{defaultExpanded:!0,children:[Object(_.jsxs)(C.c,{actions:[Object(_.jsx)(h.a,{size:"small",helpPagePath:s.getHelpPath()},"help"),Object(_.jsx)(d.a,{size:"small",onClick:function(e){e.stopPropagation(),D(t)},children:Object(_.jsx)(u.a,{})},"delete")],children:[O?Object(_.jsx)(w.a,{src:O,alt:s.getFullName(),size:20}):null,Object(_.jsx)(m.a,{expand:!0,children:Object(_.jsx)(i.b,{value:t,hintText:{id:"Behavior name"},margin:"none",fullWidth:!0,disabled:!0,onChange:function(e,t){return function(e,t){N.hasBehaviorNamed(t)||(N.renameBehavior(e.getName(),t),M())}(r,t)},id:"behavior-".concat(t,"-name-text-field")})})]}),Object(_.jsx)(C.b,{children:Object(_.jsxs)(m.a,{expand:!0,noMargin:!0,noOverflowParent:!0,children:[g.length?Object(_.jsx)(m.c,{children:Object(_.jsx)(x.a,{expand:!0,children:j.map((function(e){return Object(_.jsx)(v.a,{tutorialId:e},e)}))})}):null,Object(_.jsx)(m.c,{children:Object(_.jsx)(l,{behavior:c,behaviorContent:r,project:R,object:N,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors})})]})})]},t)}))}),Object(_.jsx)(m.a,{children:Object(_.jsx)(m.c,{justifyContent:"flex-end",expand:!0,children:Object(_.jsx)(O.a,{label:Object(_.jsx)(o.Trans,{id:"Add a behavior"}),primary:!0,onClick:function(){return l(!0)},icon:Object(_.jsx)(c.a,{}),id:"add-behavior-button"},"add-behavior-line")})})]}),s&&Object(_.jsx)(j.a,{open:s,objectType:N.getType(),objectBehaviorsTypes:Object(P.b)(N),onClose:function(){return l(!1)},onChoose:function(t,n){Object(P.a)(R,N,t,n)&&(l(!1),Object(I.e)({behaviorType:t,parentEditor:"behaviors-editor"})),M(),e.onSizeUpdated&&e.onSizeUpdated(),e.onUpdateBehaviorsSharedData()},project:R})]})}}).call(this,n(28))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(4),o=n(26),a=n(12),i=n(1),s=n(136),c=n(469),l=n(493),u=n(80),d=n(100),p=n(549),b=n(863),h=n(497),j=n(7);function f(e){var t=i.useState((function(){return Object(b.a)(e.instancesEditorSettings)})),n=Object(o.a)(t,1)[0],f=function(){e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridWidth:n.gridWidth,gridHeight:n.gridHeight,gridOffsetX:n.gridOffsetX,gridOffsetY:n.gridOffsetY,gridColor:n.gridColor,gridType:n.gridType})),e.onCancel()};return Object(j.jsx)(d.b,{title:Object(j.jsx)(a.Trans,{id:"Edit Grid Options"}),actions:[Object(j.jsx)(s.a,{label:Object(j.jsx)(a.Trans,{id:"Cancel"}),primary:!1,onClick:f},"cancel"),Object(j.jsx)(d.a,{label:Object(j.jsx)(a.Trans,{id:"Apply"}),primary:!0,onClick:e.onApply},"apply")],onRequestClose:f,onApply:e.onApply,open:!0,maxWidth:"sm",noMargin:!0,children:Object(j.jsxs)(u.a,{children:[Object(j.jsx)(u.c,{noMargin:!0,expand:!0,children:Object(j.jsx)(p.a,{floatingLabelText:Object(j.jsx)(a.Trans,{id:"Line color"}),fullWidth:!0,color:Object(h.b)(e.instancesEditorSettings.gridColor),alpha:e.instancesEditorSettings.gridAlpha,onChange:function(t,n){e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridColor:Object(h.i)(t),gridAlpha:void 0===n||null===n?1:n}))}})}),Object(j.jsxs)(u.c,{noMargin:!0,expand:!0,children:[Object(j.jsx)(c.b,{floatingLabelText:Object(j.jsx)(a.Trans,{id:"Cell width (in pixels)"}),fullWidth:!0,type:"number",value:e.instancesEditorSettings.gridWidth,onChange:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridWidth:Math.max(parseFloat(n),.01)}))}}),Object(j.jsx)(c.b,{floatingLabelText:Object(j.jsx)(a.Trans,{id:"Cell height (in pixels)"}),fullWidth:!0,type:"number",value:e.instancesEditorSettings.gridHeight,onChange:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridHeight:Math.max(parseFloat(n),.01)}))}})]}),Object(j.jsxs)(u.c,{noMargin:!0,expand:!0,children:[Object(j.jsx)(c.b,{floatingLabelText:Object(j.jsx)(a.Trans,{id:"X offset (in pixels)"}),fullWidth:!0,type:"number",value:e.instancesEditorSettings.gridOffsetX,onChange:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridOffsetX:parseFloat(n)}))}}),Object(j.jsx)(c.b,{floatingLabelText:Object(j.jsx)(a.Trans,{id:"Y offset (in pixels)"}),fullWidth:!0,type:"number",value:e.instancesEditorSettings.gridOffsetY,onChange:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridOffsetY:parseFloat(n)}))}})]}),Object(j.jsx)(u.c,{noMargin:!0,expand:!0,children:Object(j.jsx)(l.a,{checked:"isometric"===e.instancesEditorSettings.gridType,label:Object(j.jsx)(a.Trans,{id:"Isometric"}),onCheck:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridType:n?"isometric":"rectangular"}))}})})]})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(4),o=n(11),a=n(9),i=n(8),s=n(13),c=n(14),l=n(1),u=n(2289),d=(n(585),n(948)),p=n.n(d),b=n(1145),h=n(525),j=n(1113),f=n(7),g=["wrappedEditorRef"],m={container:{overflow:"hidden"},xScrollbar:{position:"absolute",top:-13,left:0,right:0},yScrollbar:{position:"absolute",top:0,bottom:0,left:-13,transform:"rotate(180deg)"}},O=function(){},v=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._editor=null,e.state={xValue:0,yValue:0,xMin:-5e3,xMax:5e3,yMin:-5e3,yMax:5e3},e._handleXChange=function(t,n){var r=e.state,o=r.xMin,a=o+(r.xMax-o)*n/100;e.setState({xValue:a},(function(){e._editor&&e._editor.scrollTo(e.state.xValue,e.state.yValue)}))},e._handleYChange=function(t,n){var r=e.state,o=r.yMin,a=o+(r.yMax-o)*(100-n)/100;e.setState({yValue:a},(function(){e._editor&&e._editor.scrollTo(e.state.xValue,e.state.yValue)}))},e._setAndAdjust=function(t){var n=t.xValue,r=t.yValue,o=Math.max(Math.abs(n)+100,e.state.xMax),a=Math.max(Math.abs(r)+100,e.state.yMax);e.setState({xMax:o,yMax:a,xMin:-o,yMin:-a,xValue:n,yValue:r})},e._handleViewPositionChange=p()((function(t){t&&e._setAndAdjust({xValue:t.getViewX(),yValue:t.getViewY()})}),500,{leading:!1,trailing:!0}),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this._editor&&this._handleViewPositionChange(this._editor.getViewPosition())}},{key:"render",value:function(){var e=this,t=this.props,n=t.wrappedEditorRef,a=Object(o.a)(t,g);return Object(f.jsx)(h.a,{children:function(t){return Object(f.jsx)(j.a,{children:function(o){var i=o.width,s=o.height;return Object(f.jsxs)("div",{style:m.container,children:[Object(f.jsx)(b.a,Object(r.a)({onViewPositionChanged:"touch"!==t?e._handleViewPositionChange:O,ref:function(t){n&&n(t),e._editor=t},width:i,height:s,screenType:t},a)),"touch"!==t&&Object(f.jsx)(u.a,{value:(e.state.xValue-e.state.xMin)/(e.state.xMax-e.state.xMin)*100,onChange:e._handleXChange,style:m.xScrollbar,orientation:"horizontal",onChangeCommitted:function(e){return e.target.blur()}}),"touch"!==t&&Object(f.jsx)(u.a,{value:(e.state.yValue-e.state.yMin)/(e.state.yMax-e.state.yMin)*100,onChange:e._handleYChange,style:m.yScrollbar,orientation:"vertical",onChangeCommitted:function(e){return e.target.blur()}})]})}})}})}}]),n}(l.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e.length>t?e.substring(0,t)+"...":e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(1);var r=n(471),o=n(755),a=n.n(o),i=n(505),s=n(7),c={container:{padding:0,width:32,height:32},icon:{width:16,height:16}};function l(e){return Object(s.jsx)(i.a,{element:Object(s.jsx)(r.a,{style:c.container,children:Object(s.jsx)(a.a,{htmlColor:"inherit",style:c.icon})}),buildMenuTemplate:e.buildMenuTemplate})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(486),o=function(e,t,n){var r=s[e.getType()];return r?(r.onObjectAdded(e,t,n),r.getInfoBarDetails("onObjectAdded")):null},a=function(e,t,n){var r=e.getObjectName(),o=null;t.hasObjectNamed(r)?o=t.getObject(r):n.hasObjectNamed(r)&&(o=n.getObject(r));var a=o?s[o.getType()]:null;return a?(a.onInstanceAdded(e,t,n),a.getInfoBarDetails("onInstanceAdded")):null},i=function(e){for(var t=0;t<e.getLayersCount();t++){var n=e.getLayerAt(t);if(n.isLightingLayer())return n}return null},s={"Lighting::LightObject":{onObjectAdded:function(e,t,n){if(null===i(t)){var o=Object(r.a)("Lighting",(function(e){return t.hasLayerNamed(e)}));t.insertNewLayer(o,t.getLayersCount());var a=t.getLayer("Lighting");a.setLightingLayer(!0),a.setFollowBaseLayerCamera(!0),a.setAmbientLightColor(128,128,128)}},onInstanceAdded:function(e,t,n){var r=i(t);r&&e.setLayer(r.getName())},getInfoBarDetails:function(e){return"onObjectAdded"===e?{identifier:"automatic-lighting-layer",message:{id:"A lighting layer was created. Lights will be placed on it automatically. You can change the ambient light color in the properties of this layer"},touchScreenMessage:{id:"A lighting layer was created. Lights will be placed on it automatically. You can change the ambient light color in the properties of this layer"}}:"onInstanceAdded"===e?{identifier:"object-moved-in-lighting-layer",message:{id:"The light object was automatically placed on the Lighting layer."},touchScreenMessage:{id:"The light object was automatically placed on the Lighting layer."}}:null}}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(1805),u=n(2101),d=n(1808),p=n(614),b=n(646),h=n(477),j=n(20),f=n.n(j),g=n(35),m=n(43),O=n(536),v=n(7),x=e.gd,y=f()("electron"),C=y?y.shell:null,T=f()("path"),E={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},k={direction:"row",first:"properties",second:"resources-list",splitPercentage:66},w=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).editorMosaic=null,e._propertiesEditor=null,e._resourcesList=null,e.resourcesLoader=h.a,e.state={showPropertiesInfoBar:!1,selectedResource:null},e.deleteResource=function(t){var n=e.props,r=n.project,o=n.onDeleteResource;t&&(g.b.showConfirmDialog("Are you sure you want to remove this resource? This can't be undone.")&&o(t,(function(n){n&&t&&(r.getResourcesManager().removeResource(t.getName()),e.setState({selectedResource:null},(function(){e._resourcesList&&e._resourcesList.forceUpdateList(),e.updateToolbar()})))})))},e._removeUnusedResources=function(t){var n=e.props.project,r=e.state.selectedResource?e.state.selectedResource.getName():null,o=x.ProjectResourcesAdder.getAllUseless(n,t).toJSArray();console.info("Removing ".concat(o.length," unused ").concat(t," resource(s):"),o),x.ProjectResourcesAdder.removeAllUseless(n,t),o.includes(r)&&e._onResourceSelected(null),e._resourcesList&&e._resourcesList.forceUpdateList()},e._removeAllResourcesWithInvalidPath=function(){var t=e.props.project,n=e.state.selectedResource?e.state.selectedResource.getName():null,r=t.getResourcesManager(),o=r.getAllResourceNames().toJSArray().filter((function(e){return"error"===Object(O.e)(t,e)}));o.forEach((function(e){r.removeResource(e),console.info("Removed due to invalid path: "+e)})),o.includes(n)&&e._onResourceSelected(null),e._resourcesList&&e._resourcesList.forceUpdateList()},e.openProjectFolder=function(){var t=e.props.project;C&&C.openPath(T.dirname(t.getProjectFile()))},e.openProperties=function(){e.editorMosaic&&(e.editorMosaic.openEditor("properties","start",66,"column")||e.setState({showPropertiesInfoBar:!0}))},e._onResourceSelected=function(t){e.setState({selectedResource:t},(function(){e._propertiesEditor&&e._propertiesEditor.forceUpdate(),e.updateToolbar()}))},e}return Object(o.a)(n,[{key:"refreshResourcesList",value:function(){this._resourcesList&&this._resourcesList.forceUpdate()}},{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar(Object(v.jsx)(d.a,{onOpenProjectFolder:this.openProjectFolder,onOpenProperties:this.openProperties,canDelete:!!this.state.selectedResource,onDeleteSelection:function(){return e.deleteResource(e.state.selectedResource)}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.onRenameResource,o=t.onChooseResource,a=t.resourceSources,i=this.state.selectedResource,c={properties:{type:"secondary",title:{id:"Properties"},renderEditor:function(){return Object(v.jsx)(u.a,{resources:i?[i]:[],project:n,resourcesLoader:e.resourcesLoader,ref:function(t){return e._propertiesEditor=t},onResourcePathUpdated:function(){e._resourcesList&&e._resourcesList.checkMissingPaths()},onChooseResource:o,resourceSources:a},i?i.ptr:void 0)}},"resources-list":{type:"primary",noTitleBar:!0,renderEditor:function(){return Object(v.jsx)(l.a,{project:n,onDeleteResource:e.deleteResource,onRenameResource:r,onSelectResource:e._onResourceSelected,selectedResource:i,ref:function(t){return e._resourcesList=t},onRemoveUnusedResources:e._removeUnusedResources,onRemoveAllResourcesWithInvalidPath:e._removeAllResourcesWithInvalidPath})}}};return Object(v.jsxs)("div",{style:E.container,children:[Object(v.jsx)(m.a.Consumer,{children:function(t){var n=t.getDefaultEditorMosaicNode,r=t.setDefaultEditorMosaicNode;return Object(v.jsx)(p.a,{editors:c,ref:function(t){return e.editorMosaic=t},initialNodes:n("resources-editor")||k,onPersistNodes:function(e){return r("resources-editor",e)}})}}),Object(v.jsx)(b.a,{message:Object(v.jsx)(s.Trans,{id:"Properties panel is already opened. After selecting a resource, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar,identifier:"resource-properties-panel-explanation"})]})}}]),n}(c.Component);w.defaultProps={setToolbar:function(){}}}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return A}));var r=n(18),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(511),d=n(664),p=n(488),b=n(501),h=n(62),j=n(1806),f=n(465),g=n(20),m=n.n(g),O=n(536),v=n(864),x=n(810),y=n(477),C=n(486),T=n(7),E=Object(x.a)("glob"),k=m()("path"),w=m()("electron"),S=!!w,P=e.gd,I={listContainer:{flex:1}},_=function(e){return e.getName()},A=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={renamedResource:null,searchText:"",resourcesWithErrors:{}},e._deleteResource=function(t){e.props.onDeleteResource(t)},e._locateResourceFile=function(t){var n=Object(O.d)(e.props.project,t.getName());w.shell.showItemInFolder(k.resolve(n))},e._openResourceFile=function(t){var n=Object(O.d)(e.props.project,t.getName());w.shell.openPath(k.resolve(n))},e._copyResourceFilePath=function(t){var n=Object(O.d)(e.props.project,t.getName());w.clipboard.writeText(k.resolve(n))},e._scanForNewResources=function(t,n){var o=E();if(o){var a,i=e.props.project,s=i.getResourcesManager(),c=k.dirname(i.getProjectFile()),l=[].concat(Object(r.a)(t),Object(r.a)(t.map((function(e){return e.toUpperCase()}))));a=function(t,r){if(t)console.error("Error finding files inside ".concat(c,":"),t);else{var o=new P.VectorString;r.forEach((function(e){return o.push_back(k.relative(c,e))}));var a=i.getResourcesManager().findFilesNotInResources(o);o.delete(),Object(f.mapVector)(a,(function(e){var t=Object(C.a)(e,(function(e){return s.hasResource(e)})),r=n();r.setFile(e),r.setName(t),Object(O.a)(i,r),s.addResource(r),r.delete(),console.info('"'.concat(e,'" added to project as resource named "').concat(t,'".'))})),e.forceUpdate()}},o(c+"/**/*.{"+l.join(",")+"}",a)}},e._editName=function(t){e.setState({renamedResource:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._getResourceThumbnail=function(t){switch(t.getKind()){case"image":return y.a.getResourceFullUrl(e.props.project,t.getName(),{});case"audio":return"res/actions/music24.png";case"json":return"res/actions/fichier24.png";case"video":return"JsPlatform/Extensions/videoicon24.png";case"font":return"res/actions/font24.png";case"bitmapFont":return"JsPlatform/Extensions/bitmapfont32.png";default:return"res/unknown32.png"}},e._rename=function(t,n){var r=e.props.project;e.setState({renamedResource:null}),t.getName()!==n&&(r.getResourcesManager().hasResource(n)?Object(h.c)("Another resource with this name already exists",{delayToNextTick:!0}):e.props.onRenameResource(t,n,(function(r){r&&(t.setName(n),e.forceUpdate())})))},e._moveSelectionTo=function(t){var n=e.props,r=n.project,o=n.selectedResource;if(o){var a=r.getResourcesManager();a.moveResource(a.getResourcePosition(o.getName()),a.getResourcePosition(t.getName())),e.forceUpdateList()}},e.forceUpdateList=function(){e.forceUpdate(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._renderResourceMenuTemplate=function(t){return function(n,r){return[{label:t._({id:"Rename"}),click:function(){return e._editName(n)}},{label:t._({id:"Delete"}),click:function(){return e._deleteResource(n)}},{type:"separator"},{label:t._({id:"Open File"}),click:function(){return e._openResourceFile(n)},enabled:S},{label:t._({id:"Locate File"}),click:function(){return e._locateResourceFile(n)},enabled:S},{label:t._({id:"Copy File Path"}),click:function(){return e._copyResourceFilePath(n)},enabled:S},{type:"separator"},{label:t._({id:"Scan in the project folder for..."}),submenu:v.a.map((function(n){var r=n.displayName,o=n.fileExtensions,a=n.createNewResource;return{label:t._(r),click:function(){e._scanForNewResources(o,a)},enabled:S}}))},{type:"separator"},{label:t._({id:"Remove unused..."}),submenu:v.a.map((function(n){var r=n.displayName,o=n.kind;return{label:t._(r),click:function(){e.props.onRemoveUnusedResources(o)}}})).concat([{label:t._({id:"Resources (any kind)"}),click:function(){v.a.forEach((function(t){e.props.onRemoveUnusedResources(t.kind)}))}}])},{label:t._({id:"Remove Resources with Invalid Path"}),click:function(){e.props.onRemoveAllResourcesWithInvalidPath()},enabled:S}]}},e.checkMissingPaths=function(){var t=e.props.project,n=t.getResourcesManager().getAllResourceNames().toJSArray(),r={};n.forEach((function(e){r[e]=Object(O.e)(t,e)})),e.setState({resourcesWithErrors:r}),e.forceUpdateList()},e}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.renamedResource!==t.renamedResource||this.state.searchText!==t.searchText||(this.props.project!==e.project||this.props.selectedResource!==e.selectedResource)}},{key:"componentDidMount",value:function(){this.checkMissingPaths()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.selectedResource,o=t.onSelectResource,a=this.state.searchText,i=n.getResourcesManager(),s=i.getAllResourceNames().toJSArray().map((function(e){return i.getResource(e)})),l=Object(j.a)(s,a),h=n.ptr;return Object(T.jsxs)(p.a,{children:[Object(T.jsx)("div",{style:I.listContainer,children:Object(T.jsx)(u.a,{children:function(t){var n=t.height,a=t.width;return Object(T.jsx)(c.I18n,{children:function(t){var i=t.i18n;return Object(T.jsx)(d.a,{ref:function(t){return e.sortableList=t},fullList:l,width:a,height:n,getItemName:_,getItemThumbnail:e._getResourceThumbnail,selectedItems:r?[r]:[],onItemSelected:o,renamedItem:e.state.renamedResource,onRename:e._rename,onMoveSelectionToItem:e._moveSelectionTo,buildMenuTemplate:e._renderResourceMenuTemplate(i),erroredItems:e.state.resourcesWithErrors,reactDndType:"GD_RESOURCE"},h)}})}})}),Object(T.jsx)(b.a,{value:a,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})},placeholder:{id:"Search resources"},aspect:"integrated-search-bar"})]})}}]),n}(l.Component)}).call(this,n(28))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}},,function(e,t,n){"use strict";var r=n(9),o=n(8),a=n(13),i=n(14),s=n(1),c=n(624),l=n(588),u=n(625),d=n(7),p=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.canDelete;return Object(d.jsxs)(c.b,{lastChild:!0,children:[Object(d.jsx)(l.a,{onClick:this.props.onOpenProjectFolder,src:"res/ribbon_default/open32.png",tooltip:{id:"Open the project folder"}}),Object(d.jsx)(u.a,{}),Object(d.jsx)(l.a,{onClick:this.props.onOpenProperties,src:"res/ribbon_default/editprop32.png",tooltip:{id:"Open the properties panel"}}),Object(d.jsx)(u.a,{}),Object(d.jsx)(l.a,{onClick:this.props.onDeleteSelection,src:"res/ribbon_default/deleteselected32.png",disabled:!e,tooltip:{id:"Delete the selected resource"}})]})}}]),n}(s.PureComponent);t.a=p},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(26),o=n(1),a=n(136),i=n(100),s=n(35),c=n(43),l=n(12),u=n(892),d=n(7);t.a=function(e){var t=e.open,n=e.onClose,p=o.useContext(c.a).values,b=o.useState(!1),h=Object(r.a)(b,2),j=h[0],f=h[1];return t?Object(d.jsx)(l.I18n,{children:function(e){var r=e.i18n.language!==p.language.replace("_","-");return Object(d.jsx)(i.b,{actions:[Object(d.jsx)(a.a,{label:r?Object(d.jsx)(l.Trans,{id:"Loading..."}):Object(d.jsx)(l.Trans,{id:"Close"}),primary:!1,onClick:function(){n(j)},disabled:r},"close")],secondaryActions:[Object(d.jsx)(a.a,{label:Object(d.jsx)(l.Trans,{id:"Report a wrong translation"}),primary:!1,onClick:function(){return s.b.openExternalURL("https://github.com/4ian/GDevelop/issues/969")}},"report-wrong-translation")],cannotBeDismissed:r,onRequestClose:function(){return n(j)},open:t,title:Object(d.jsx)(l.Trans,{id:"Language"}),children:Object(d.jsx)(u.a,{onLanguageChanged:function(){return f(!0)}})})}}):null}},function(e,t,n){"use strict";var r=n(12),o=(n(1),n(100)),a=n(136),i=n(485),s=n(20),c=n.n(s),l=n(506),u=n(30),d=n(7),p=c()("electron");t.a=function(e){var t=e.onClose,n=e.storageProviders,s=e.onChooseProvider;return Object(d.jsx)(r.I18n,{children:function(e){var c=e.i18n;return Object(d.jsxs)(o.b,{title:Object(d.jsx)(r.Trans,{id:"Choose where to load the project from"}),actions:[Object(d.jsx)(a.a,{label:Object(d.jsx)(r.Trans,{id:"Cancel"}),primary:!1,onClick:t},"close")],onRequestClose:t,open:!0,noMargin:!0,maxWidth:"sm",children:[Object(d.jsx)(i.a,{children:n.filter((function(e){return!e.hiddenInOpenDialog})).map((function(e){return Object(d.jsx)(i.b,{disabled:!!e.disabled,primaryText:c._(e.name),leftIcon:e.renderIcon?e.renderIcon():void 0,onClick:function(){return s(e)}},e.internalName)}))}),!p&&Object(d.jsx)(u.c,{children:Object(d.jsx)(u.a,{children:Object(d.jsx)(l.a,{children:Object(d.jsx)(r.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."})})})})]})}})}},function(e,t,n){"use strict";var r=n(12),o=(n(1),n(100)),a=n(136),i=n(485),s=n(7);t.a=function(e){var t=e.onClose,n=e.storageProviders,c=e.onChooseProvider;return Object(s.jsx)(r.I18n,{children:function(e){var l=e.i18n;return Object(s.jsx)(o.b,{title:Object(s.jsx)(r.Trans,{id:"Choose where to save the project to"}),actions:[Object(s.jsx)(a.a,{label:Object(s.jsx)(r.Trans,{id:"Cancel"}),primary:!1,onClick:t},"close")],onRequestClose:t,open:!0,noMargin:!0,maxWidth:"sm",children:Object(s.jsx)(i.a,{children:n.filter((function(e){return!e.hiddenInSaveDialog})).map((function(e){return Object(s.jsx)(i.b,{disabled:!!e.disabled,primaryText:l._(e.name),leftIcon:e.renderIcon?e.renderIcon():void 0,onClick:function(){return c(e)}},e.internalName)}))})})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(26),o=n(12),a=n(1),i=n(100),s=n(136),c=n(506),l=n(30),u=n(463),d=n(7),p=function(e){var t=e.onClose,n=e.onConfirm;return Object(d.jsxs)(i.b,{title:Object(d.jsx)(o.Trans,{id:"Confirm the opening"}),actions:[Object(d.jsx)(s.a,{label:Object(d.jsx)(o.Trans,{id:"Cancel"}),primary:!1,onClick:t},"close"),Object(d.jsx)(i.a,{label:Object(d.jsx)(o.Trans,{id:"Open the project"}),primary:!0,onClick:n},"open-project")],onRequestClose:t,onApply:n,open:!0,maxWidth:"sm",children:[Object(d.jsx)(l.c,{children:Object(d.jsx)(l.a,{children:Object(d.jsx)(u.a,{children:Object(d.jsx)(o.Trans,{id:'You\'re about to open (or re-open) a project. Click on "Open the Project" to continue.'})})})}),Object(d.jsx)(l.c,{children:Object(d.jsx)(l.a,{children:Object(d.jsx)(c.a,{children:Object(d.jsx)(o.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."})})})})]})},b=function(){var e=a.useRef(!1),t=a.useRef(null),n=a.useState(!1),o=Object(r.a)(n,2),i=o[0],s=o[1];return{ensureInteractionHappened:function(n){return new Promise((function(r){!e.current&&n.doesInitialOpenRequireUserInteraction?(console.info("Displaying confirmation dialog to ensure an interaction is made before continuing."),t.current=r,s(!0)):r(!0)}))},renderOpenConfirmDialog:function(){if(!i)return null;var n=function(n){e.current=!0,s(!1);var r=t.current;r&&(r(n),t.current=null)};return Object(d.jsx)(p,{onClose:function(){return n(!1)},onConfirm:function(){return n(!0)}})}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(62);function o(e,t){return!t.gdVersion&&t.eventsFunctions?(Object(r.a)({message:[e._({id:"Unable to open this file."}),e._({id:"This file is an extension file for GDevelop 5. You should instead import it, using the window to add a new extension to your project."})].join("\n"),rawError:void 0,errorId:"extension-opened-as-project-error",doNotReport:!0}),!1):!(!t.gdVersion&&!t.eventsFunctions)||(Object(r.a)({message:[e._({id:"Unable to open this file."}),e._({id:"This file is not recognized as a GDevelop 5 project. Be sure to open a file that was saved using GDevelop."})].join("\n"),rawError:void 0,errorId:"malformed-project-error",doNotReport:!0}),!1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(26),o=n(1),a=n.n(o);function i(e){var t=a.a.useState(e),n=Object(r.a)(t,2),o=n[0],i=n[1],s=a.a.useRef(null),c=a.a.useCallback((function(e){return new Promise((function(t){s.current=t,i(e)}))}),[i]);return a.a.useEffect((function(){null!==s.current&&(s.current(o),s.current=null)}),[o]),[o,c]}},function(e,t,n){"use strict";var r=n(1),o=n(545),a=n(607),i=function(e,t,n){return e?t(e).map((function(e){return{text:e.getName(),handler:function(){return n(e.getName())}}})):[]};t.a=function(e){Object(o.a)("QUIT_APP",!0,{handler:e.onCloseApp}),Object(o.a)("OPEN_PROFILE",!!e.project,{handler:e.onOpenProfile}),Object(o.a)("OPEN_GAMES_DASHBOARD",!!e.project,{handler:e.onOpenGamesDashboard}),Object(o.a)("OPEN_PROJECT_MANAGER",!!e.project,{handler:e.onOpenProjectManager}),Object(o.a)("LAUNCH_NEW_PREVIEW",e.previewEnabled,{handler:e.onLaunchPreview}),Object(o.a)("HOT_RELOAD_PREVIEW",e.hasPreviewsRunning,{handler:e.onHotReloadPreview}),Object(o.a)("LAUNCH_DEBUG_PREVIEW",e.previewEnabled&&e.allowNetworkPreview,{handler:e.onLaunchDebugPreview}),Object(o.a)("LAUNCH_NETWORK_PREVIEW",e.previewEnabled&&e.allowNetworkPreview,{handler:e.onLaunchNetworkPreview}),Object(o.a)("OPEN_HOME_PAGE",!0,{handler:e.onOpenHomePage}),Object(o.a)("CREATE_NEW_PROJECT",!0,{handler:e.onCreateProject}),Object(o.a)("OPEN_PROJECT",!0,{handler:e.onOpenProject}),Object(o.a)("SAVE_PROJECT",!!e.project,{handler:e.onSaveProject}),Object(o.a)("SAVE_PROJECT_AS",!!e.project,{handler:e.onSaveProjectAs}),Object(o.a)("CLOSE_PROJECT",!!e.project,{handler:e.onCloseProject}),Object(o.a)("EXPORT_GAME",!!e.project,{handler:e.onExportGame}),Object(o.a)("OPEN_COMMAND_PALETTE",!0,{handler:e.onOpenCommandPalette}),Object(o.b)("OPEN_LAYOUT",!!e.project,{generateOptions:r.useCallback((function(){return i(e.project,a.d,e.onOpenLayout)}),[e.project,e.onOpenLayout])}),Object(o.b)("OPEN_EXTERNAL_EVENTS",!!e.project,{generateOptions:r.useCallback((function(){return i(e.project,a.b,e.onOpenExternalEvents)}),[e.project,e.onOpenExternalEvents])}),Object(o.b)("OPEN_EXTERNAL_LAYOUT",!!e.project,{generateOptions:r.useCallback((function(){return i(e.project,a.c,e.onOpenExternalLayout)}),[e.project,e.onOpenExternalLayout])}),Object(o.b)("OPEN_EXTENSION",!!e.project,{generateOptions:r.useCallback((function(){return i(e.project,a.a,e.onOpenEventsFunctionsExtension)}),[e.project,e.onOpenEventsFunctionsExtension])})}},function(e,t,n){"use strict";var r=n(4),o=n(8),a=n(9),i=n(1),s=(n(994),n(702)),c=n(995),l=n(7),u=Object(o.a)((function e(t){var n=this;Object(a.a)(this,e),this.setActive=function(e){n._isActive=e},this.registerCommand=function(e,t){n._commands[e]=t,n._isActive&&n._centralManager.registerCommand(e,t)},this.deregisterCommand=function(e){delete n._commands[e],n._isActive&&n._centralManager.deregisterCommand(e)},this.registerAllCommandsToCentralManager=function(){Object.keys(n._commands).forEach((function(e){n._centralManager.registerCommand(e,n._commands[e])}))},this.deregisterAllCommandsFromCentralManager=function(){Object.keys(n._commands).forEach((function(e){n._centralManager.deregisterCommand(e)}))},this.getAllNamedCommands=function(){return Object.keys(n._commands).map((function(e){var t=n._commands[e];return Object(r.a)(Object(r.a)({},t),{},{name:e})}))},this.getNamedCommand=function(e){var t=n._commands[e];return t?Object(r.a)({name:e},t):n._centralManager.getNamedCommand(e)},this._commands={},this._isActive=!1,this._centralManager=t}));t.a=function(e){var t=i.useContext(s.b),n=Object(c.a)((function(){return new u(t)}));return i.useEffect((function(){if(e.active)return n.setActive(!0),n.registerAllCommandsToCentralManager(),function(){n.setActive(!1),n.deregisterAllCommandsFromCentralManager()}}),[e.active,n]),Object(l.jsx)(s.b.Provider,{value:n,children:e.children})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18),o=n(26),a=n(1),i=function(e){var t=a.useState([]),n=Object(o.a)(t,2),i=n[0],s=n[1],c=a.useState([]),l=Object(o.a)(c,2),u=l[0],d=l[1];return a.useEffect((function(){if(e){var t=e.registerCallbacks({onErrorReceived:function(e){},onConnectionClosed:function(e){e.id;var t=e.debuggerIds;s(Object(r.a)(t))},onConnectionOpened:function(e){e.id;var t=e.debuggerIds;s(Object(r.a)(t))},onServerStateChanged:function(){},onHandleParsedMessage:function(e){e.id;var t=e.parsedMessage;"hotReloader.logs"===t.command&&d(t.payload)}});return function(){t()}}s([])}),[e]),{previewDebuggerIds:i,hotReloadLogs:u,clearHotReloadLogs:a.useCallback((function(){return d([])}),[d])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(12),o=(n(1),n(100)),a=n(472),i=n(136),s=n(80),c=n(463),l=n(632),u=n(7);function d(e){var t=e.onClose,n=e.onLaunchNewPreview;return function(e){return e.filter((function(e){return"error"===e.kind||"fatal"===e.kind})).length>0}(e.logs)?Object(u.jsx)(o.b,{title:Object(u.jsx)(r.Trans,{id:"Restarting the preview from scratch is required"}),actions:[Object(u.jsx)(i.a,{label:Object(u.jsx)(r.Trans,{id:"Close"}),primary:!1,onClick:t},"close"),Object(u.jsx)(o.a,{icon:Object(u.jsx)(l.a,{}),label:Object(u.jsx)(r.Trans,{id:"Close and launch a new preview"}),primary:!0,onClick:n},"new-preview")],secondaryActions:[Object(u.jsx)(a.a,{helpPagePath:"/interface/preview"},"help")],onRequestClose:t,open:!0,children:Object(u.jsx)(s.a,{noMargin:!0,children:Object(u.jsx)(c.a,{children:Object(u.jsx)(r.Trans,{id:"Your latest changes could not be applied to the preview(s) being run. You should start a new preview instead to make sure that all your changes are reflected in the game."})})})}):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(26),o=n(1),a=n(20),i=n.n(a)()("electron"),s=i?i.ipcRenderer:null,c=Date.now(),l=function(e){if(null!==s){var t={details:e?"Working on:":"Not working on",state:e?e.getName():"any game",startTimestamp:c,largeImageKey:"gdicon",largeImageText:"GDevelop"};s.send("update-discord-rich-presence",t)}},u=function(e){var t=Object(o.useState)(0),n=Object(r.a)(t,2),a=n[0],i=n[1];Object(o.useEffect)((function(){return l(e)})),Object(o.useEffect)((function(){performance.now()-a>6e4&&(i(performance.now()),l(e))}),[e,a])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),o=n(26),a=n(0),i=n.n(a),s=n(12),c=n(1),l=n(43),u=n(100),d=n(495),p=n(136),b=n(30),h=n(80),j=n(463),f=n(525),g=n(35),m=n(20),O=n.n(m),v=n(7),x=O()("electron"),y=function(e){var t=e.project,n=e.options,a=e.i18n,m=e.resourceSources,O=e.onClose,y=e.onChooseResources,C=Object(f.b)(),T=c.useContext(l.a),E=m.filter((function(e){return e.kind===n.resourceKind})),k=E.filter((function(e){return"standalone"===e.displayTab})),w=E.filter((function(e){return"import"===e.displayTab})),S=E.find((function(e){return e.name===n.initialSourceName})),P=S&&S.selectResourcesHeadless,I=c.useState((function(){return S?"import"===S.displayTab?"import":"standalone"===S.displayTab?"standalone-"+S.name:"import":"import"})),_=Object(o.a)(I,2),A=_[0],N=_[1];return c.useEffect((function(){if(S){var e=S.selectResourcesHeadless;e&&Object(r.a)(i.a.mark((function r(){var o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e({i18n:a,options:n,project:t,getLastUsedPath:T.getLastUsedPath,setLastUsedPath:T.setLastUsedPath});case 3:o=r.sent,y(o),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),console.error("Unexpected error from a resource source:",r.t0),y([]);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))()}}),[]),P?null:Object(v.jsx)(u.b,{open:!0,fullHeight:!0,flexBody:!0,actions:[Object(v.jsx)(p.a,{label:Object(v.jsx)(s.Trans,{id:"Close"}),primary:!0,onClick:O},"close")],secondaryActions:[x||"touch"===C?null:Object(v.jsx)(p.a,{label:Object(v.jsx)(s.Trans,{id:"Download GDevelop to use images from your computer"}),onClick:function(){return g.b.openExternalURL("https://gdevelop.io/download")}},"download-gdevelop")],onRequestClose:O,noMargin:!0,children:Object(v.jsxs)(b.a,{expand:!0,noMargin:!0,children:[Object(v.jsxs)(d.b,{value:A,onChange:N,children:[k.map((function(e){var t=e.name,n=e.displayName;return Object(v.jsx)(d.a,{label:a._(n),value:"standalone-"+t},t)})),Object(v.jsx)(d.a,{label:Object(v.jsx)(s.Trans,{id:"Choose a file"}),value:"import"},"import")]}),k.map((function(e){return A!=="standalone-"+e.name?null:e.renderComponent({i18n:a,options:n,project:t,getLastUsedPath:T.getLastUsedPath,setLastUsedPath:T.setLastUsedPath,onChooseResources:y})})),"import"===A?Object(v.jsx)(b.c,{expand:!0,children:Object(v.jsx)(h.a,{expand:!0,children:w.map((function(e){return Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(j.a,{size:"title",children:a._(e.displayName)}),e.renderComponent({i18n:a,options:n,project:t,getLastUsedPath:T.getLastUsedPath,setLastUsedPath:T.setLastUsedPath,onChooseResources:y})]},e.name)}))})}):null]})})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n(2),o=n(4),a=n(9),i=n(8),s=n(13),c=n(14),l=n(1),u=n(12),d=n(224),p=n(1130),b=n(7),h=e.gd,j=function(e){Object(s.a)(l,e);var t=Object(c.a)(l);function l(){var e;Object(a.a)(this,l);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={language:"en",catalogs:{},i18n:null},e._loadCatalog=function(t){return e.state.catalogs[t]?Promise.resolve(e.state.catalogs):n(1891)("./".concat(t.replace("-","_"),"/messages")).then((function(n){return Object(o.a)(Object(o.a)({},e.state.catalogs),{},Object(r.a)({},t,n))}),(function(n){return console.error("Error while loading language="+t,n),e.state.catalogs}))},e}return Object(i.a)(l,[{key:"componentDidMount",value:function(){this._loadLanguage(this.props.language)}},{key:"componentDidUpdate",value:function(e){e.language!==this.props.language&&this._loadLanguage(this.props.language)}},{key:"_loadLanguage",value:function(e){var t=this;this._loadCatalog(e).then((function(n){t.setState({language:e,catalogs:n,i18n:Object(d.setupI18n)({language:e,catalogs:n})},(function(){var n=t.state.i18n;h.getTranslation=Object(p.b)(n),console.info('Loaded "'.concat(e,'" language'))}))}))}},{key:"render",value:function(){var e=this.state,t=e.i18n,n=e.catalogs,r=e.language,o=this.props.children;return t?Object(b.jsx)(u.I18nProvider,{i18n:t,language:r,catalogs:n,children:o}):null}}]),l}(l.Component)}).call(this,n(28))},function(e,t,n){var r={"./af_ZA/messages":[2033,5],"./ar_SA/messages":[2034,6],"./az_AZ/messages":[2035,7],"./bg_BG/messages":[2036,8],"./bn_BD/messages":[2037,9],"./ca_ES/messages":[2038,10],"./cs_CZ/messages":[2039,11],"./da_DK/messages":[2040,12],"./de_DE/messages":[2041,13],"./el_GR/messages":[2042,14],"./en/messages":[2043,15],"./eo_UY/messages":[2044,16],"./es_ES/messages":[2045,17],"./fa_IR/messages":[2046,18],"./fi_FI/messages":[2047,19],"./fil_PH/messages":[2048,20],"./fr_FR/messages":[2049,21],"./ha_HG/messages":[2050,22],"./he_IL/messages":[2051,23],"./hi_IN/messages":[2052,24],"./hu_HU/messages":[2053,25],"./id_ID/messages":[2054,26],"./ig_NG/messages":[2055,27],"./it_IT/messages":[2056,28],"./ja_JP/messages":[2057,29],"./ka_GE/messages":[2058,30],"./km_KH/messages":[2059,31],"./ko_KR/messages":[2060,32],"./lt_LT/messages":[2061,33],"./lv_LV/messages":[2062,34],"./mr_IN/messages":[2063,35],"./ms_MY/messages":[2064,36],"./my_MM/messages":[2065,37],"./nl_NL/messages":[2066,38],"./no_NO/messages":[2067,39],"./pl_PL/messages":[2068,40],"./pseudo_LOCALE/messages":[2069,41],"./pt_BR/messages":[2070,42],"./pt_PT/messages":[2071,43],"./ro_RO/messages":[2072,44],"./ru_RU/messages":[2073,45],"./si_LK/messages":[2074,46],"./sk_SK/messages":[2075,47],"./sl_SI/messages":[2076,48],"./sq_AL/messages":[2077,49],"./sr_CS/messages":[2078,50],"./sr_SP/messages":[2079,51],"./sv_SE/messages":[2080,52],"./th_TH/messages":[2081,53],"./tr_TR/messages":[2082,54],"./uk_UA/messages":[2083,55],"./ur_PK/messages":[2084,56],"./uz_UZ/messages":[2085,57],"./vi_VN/messages":[2086,58],"./yo_NG/messages":[2087,59],"./zh_CN/messages":[2088,60],"./zh_TW/messages":[2089,61]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,7)}))}o.keys=function(){return Object.keys(r)},o.id=1891,e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return tt}));var r=n(18),o=n(26),a=n(12),i=n(1),s=n.n(i),c=n(100),l=n(136),u=n(513),d=n(528),p=n(485),b=n(520),h=n(472),j=n(30),f=n(495),g=n(3),m=n(0),O=n.n(m),v=n(1097),x=n.n(v),y=n(1098),C=n.n(y),T=n(501),E=n(4),k=n(890),w=n(7),S=s.a.memo((function(e){return Object(w.jsx)(k.a,Object(E.a)(Object(E.a)({},e),{},{children:Object(w.jsx)("path",{fill:"currentColor",d:"M18.41,7.41L17,6L11,12L17,18L18.41,16.59L13.83,12L18.41,7.41M12.41,7.41L11,6L5,12L11,18L12.41,16.59L7.83,12L12.41,7.41Z"})}))})),P=n(488),I=n(484),_=n(35),A=n(81),N=n(137),R=n(858),L=n(703),M=n(463),F=n(571),D=n(80),B=n(859),U=n(2289),V=n(469),W=n(604),G=n(497),z={container:{position:"relative",display:"inline-block"},picker:{position:"absolute",right:"8px",top:"19px"},pickerNoLabel:{position:"absolute",right:"8px",top:"8px"}},H=function(e){return/^#{0,1}[0-9a-fA-F]{6}$/.test(e)?Object(G.c)(e):null},Y=function(e){var t,n,r=e.fullWidth,a=e.disableAlpha,s=e.id,c=e.floatingLabelText,l=e.helperMarkdownText,u=e.onChange,d=e.color,p=i.useState(d?Object(G.d)(d.r,d.g,d.b):""),b=Object(o.a)(p,2),h=b[0],j=b[1];t=d,n=H(h),(t&&Object(G.k)(t.r,t.g,t.b))!==(n&&Object(G.k)(n.r,n.g,n.b))&&j(d?Object(G.d)(d.r,d.g,d.b):"");var f=function(e){var t=H(h),n=H(e);j(e),n!==t&&u(n)};return Object(w.jsxs)("div",{style:Object(E.a)(Object(E.a)({},z.container),{},{width:r?"100%":void 0}),children:[Object(w.jsx)(V.b,{id:s,fullWidth:a,floatingLabelText:c,floatingLabelFixed:!0,helperMarkdownText:l,type:"text",hintText:{id:"#ff8844"},value:h,onChange:function(e){return f(e.target.value)}}),Object(w.jsx)("div",{style:c?z.picker:z.pickerNoLabel,children:Object(w.jsx)(W.a,{disableAlpha:!0,onChangeComplete:function(e){j(Object(G.d)(e.rgb.r,e.rgb.g,e.rgb.b)),u(e.rgb)},color:H(h)})})]})},q=function(e){var t=e.filterKey,n=e.title,r=e.choices,o=e.isChoiceChecked,i=e.setChoiceChecked;return Object(w.jsx)(a.I18n,{children:function(e){var a=e.i18n;return Object(w.jsxs)(L.a,{defaultExpanded:!0,children:[Object(w.jsx)(L.c,{children:Object(w.jsx)(M.a,{displayInlineAsSpan:!0,children:n})}),Object(w.jsx)(L.b,{children:Object(w.jsx)(D.a,{children:r.map((function(e){return Object(w.jsx)(F.a,{label:a._(e.label),checked:o(e.value),onCheck:function(t,n){return i(e.value,n)}},e.value)}))})})]},t)}})},X=function(e){var t=e.filterKey,n=e.title,r=e.choices,o=e.values,a=e.setValues;return Object(w.jsx)(q,{filterKey:t,title:n,choices:r,isChoiceChecked:function(e){return o.has(e)},setChoiceChecked:function(e,t){t?o.add(e):o.delete(e),a(o)}})},K=function(e){var t=e.filterKey,n=e.title,r=e.choices,o=e.searchFilter,a=e.setSearchFilter,i=e.onFilterChange;return Object(w.jsx)(X,{filterKey:t,title:n,choices:r,values:o.tags,setValues:function(e){a(new B.g(e)),i()}})},J=function(e){var t=e.filterKey,n=e.title,r=e.min,o=e.max,i=e.scale,s=e.step,c=e.range,l=e.setRange;return Object(w.jsx)(a.I18n,{children:function(e){e.i18n;return Object(w.jsxs)(L.a,{defaultExpanded:!0,children:[Object(w.jsx)(L.c,{children:Object(w.jsx)(M.a,{displayInlineAsSpan:!0,children:n})}),Object(w.jsx)(L.b,{children:Object(w.jsx)(j.a,{expand:!0,children:Object(w.jsx)(j.c,{noMargin:!0,children:Object(w.jsx)(U.a,{value:c,min:r,max:o,step:s,scale:i,marks:!0,valueLabelDisplay:"auto",onChange:function(e,t){return l(t)}})})})})]},t)}})},Z=function(e){var t=e.filterKey,n=e.title,r=e.color,o=e.setColor;return Object(w.jsx)(a.I18n,{children:function(e){e.i18n;return Object(w.jsxs)(L.a,{defaultExpanded:!0,children:[Object(w.jsx)(L.c,{children:Object(w.jsx)(M.a,{displayInlineAsSpan:!0,children:n})}),Object(w.jsx)(L.b,{children:Object(w.jsx)(j.a,{expand:!0,children:Object(w.jsx)(j.c,{noMargin:!0,children:Object(w.jsx)(Y,{disableAlpha:!0,fullWidth:!0,color:r,onChange:o})})})})]},t)}})},Q=function(e){e.setAnimatedFilter(new B.a),e.setViewpointFilter(new B.g),e.setDimensionFilter(new B.c),e.setObjectTypeFilter(new B.e),e.setColorFilter(new B.b),e.setLicenseFilter(new B.d)},$=function(e){var t=e.assetFiltersState,n=e.onChoiceChange;return Object(w.jsxs)(j.a,{children:[Object(w.jsx)(q,{filterKey:"Animation",title:Object(w.jsx)(a.Trans,{id:"Animation"}),choices:[{label:{id:"Multiple frames"},value:"multiple-frames"},{label:{id:"Multiple states"},value:"multiple-states"}],isChoiceChecked:function(e){return"multiple-frames"===e&&t.animatedFilter.mustBeAnimated||"multiple-states"===e&&t.animatedFilter.mustHaveSeveralState},setChoiceChecked:function(e,r){var o=t.animatedFilter,a="multiple-frames"===e?r:o.mustBeAnimated,i="multiple-states"===e?r:o.mustHaveSeveralState;t.setAnimatedFilter(new B.a(a,i)),n()}}),Object(w.jsx)(K,{filterKey:"Viewpoint",title:Object(w.jsx)(a.Trans,{id:"Viewpoint"}),choices:[{label:{id:"Top-down"},value:"top-down"},{label:{id:"Side view"},value:"side view"},{label:{id:"Isometric"},value:"isometric"}],searchFilter:t.viewpointFilter,setSearchFilter:t.setViewpointFilter,onFilterChange:n}),Object(w.jsx)(J,{filterKey:"PixelSize",title:Object(w.jsx)(a.Trans,{id:"Pixel size"}),min:Math.log2(B.c.boundMin),max:Math.log2(B.c.boundMax),step:.5,scale:function(e){return Math.round(Math.pow(2,e))},range:[Math.log2(t.dimensionFilter.dimensionMin),Math.log2(t.dimensionFilter.dimensionMax)],setRange:function(e){t.setDimensionFilter(new B.c(Math.pow(2,e[0]),Math.pow(2,e[1]))),n()}}),Object(w.jsx)(X,{filterKey:"ObjectType",title:Object(w.jsx)(a.Trans,{id:"Type of objects"}),choices:[{label:{id:"Sprite"},value:"sprite"},{label:{id:"Tiled sprite"},value:"tiled"},{label:{id:"Panel sprite"},value:"9patch"}],values:t.objectTypeFilter.objectTypes,setValues:function(e){t.setObjectTypeFilter(new B.e(e)),n()}}),Object(w.jsx)(Z,{filterKey:"Color",title:Object(w.jsx)(a.Trans,{id:"Color"}),color:t.colorFilter.color,setColor:function(e){t.setColorFilter(new B.b(e)),n()}}),Object(w.jsx)(q,{filterKey:"License",title:Object(w.jsx)(a.Trans,{id:"License"}),choices:[{label:{id:"Exclude attribution requirements"},value:"without-attribution"}],isChoiceChecked:function(e){return t.licenseFilter.attributionFreeOnly},setChoiceChecked:function(e,r){t.setLicenseFilter(new B.d(r)),n()}}),Object(w.jsx)(j.c,{justifyContent:"center",children:Object(w.jsx)(l.a,{label:Object(w.jsx)(a.Trans,{id:"Clear all filters"}),primary:!1,onClick:function(){Q(t),n()}})})]})},ee=n(875),te=n(575),ne=n(1105),re=n(429),oe=n(508),ae=n(641),ie={previewContainer:{display:"flex",justifyContent:"center",alignItems:"center"},previewImage:{position:"relative",objectFit:"contain",verticalAlign:"middle",pointerEvents:"none"},previewImagePixelated:{width:"100%",imageRendering:Object(ne.a)(),padding:15},icon:{color:"#fff"},cardContainer:{overflow:"hidden",position:"relative"},titleContainer:{position:"absolute",bottom:0,left:0,right:0,height:48,color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"rgb(0,0,0,0.5)"},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},se=function(e){var t=e.assetShortHeader,n=e.onOpenDetails,r=e.size;return Object(w.jsx)(re.a,{onClick:n,focusRipple:!0,children:Object(w.jsxs)("div",{style:Object(E.a)(Object(E.a)({},ie.cardContainer),{},{width:r,height:r}),children:[Object(w.jsxs)("div",{style:Object(E.a)(Object(E.a)({},ie.previewContainer),{},{width:r,height:r}),children:[Object(w.jsx)(ae.a,{}),Object(w.jsx)(oe.a,{style:Object(E.a)(Object(E.a)({maxWidth:108,maxHeight:108},ie.previewImage),Object(te.c)(t)?ie.previewImagePixelated:void 0),src:t.previewImageUrls[0],alt:t.name},t.previewImageUrls[0])]}),Object(w.jsxs)("div",{style:ie.titleContainer,children:[Object(w.jsx)(M.a,{noMargin:!0,style:ie.title,children:t.name}),Object(w.jsx)(M.a,{noMargin:!0,style:ie.title,size:"body2",children:t.shortDescription})]})]})})},ce=n(566),le=n(1754),ue=n.n(le),de=function(e){return Object(w.jsx)(j.a,{noMargin:!0,expand:!0,justifyContent:"center",children:Object(w.jsx)(ce.a,{title:Object(w.jsx)(a.Trans,{id:"No result"}),description:Object(w.jsx)(a.Trans,{id:"Try something else, browse the packs or create your object from scratch!"}),actionLabel:Object(w.jsx)(a.Trans,{id:"Clear all filters"}),actionButtonId:"clear-filters-button",onAction:e.onClear,actionIcon:Object(w.jsx)(ue.a,{})})})},pe=n(86),be=n(2171),he=n(2206),je=n(2208),fe=n(2209),ge=n(423),me=n(101),Oe=n(138),ve={grid:{margin:"0 10px"},previewImage:{width:"100%",aspectRatio:"16 / 9",objectFit:"cover"},cardContainer:{overflow:"hidden",position:"relative"},paper:{margin:4},packTitle:{textOverflow:"ellipsis",overflow:"hidden",overflowWrap:"break-word",whiteSpace:"nowrap"}},xe=Object(be.a)((function(e){return Object(he.a)({root:{"&:focus":{border:"2px solid ".concat(e.palette.primary.main),outline:"none"},"&:focus-visible":{outline:"unset"}}})})),ye=function(e){var t=e.assetPacks.starterPacks,n=e.onPackSelection,r=xe(),o=Object(pe.b)(),s=i.useContext(Oe.a);return Object(w.jsx)(I.a,{children:Object(w.jsx)(je.a,{cols:"small"===o?2:3,style:ve.grid,cellHeight:"auto",spacing:2,children:t.map((function(e,t){return Object(w.jsx)(fe.a,{classes:r,tabIndex:0,onKeyPress:function(t){Object(me.g)(t)&&n(e.tag)},onClick:function(){return n(e.tag)},children:Object(w.jsxs)(ge.a,{elevation:2,style:Object(E.a)(Object(E.a)({},ve.paper),{},{backgroundColor:s.list.itemsBackgroundColor}),children:[Object(w.jsx)(oe.a,{style:ve.previewImage,src:e.thumbnailUrl,alt:e.name},e.name),Object(w.jsx)(j.a,{children:Object(w.jsxs)(j.c,{justifyContent:"space-between",noMargin:!0,children:[Object(w.jsx)(M.a,{style:ve.packTitle,size:"body2",children:e.name}),Object(w.jsxs)(M.a,{style:ve.packTitle,color:"primary",size:"body2",children:[Object(w.jsx)(a.Trans,{id:"{0} Assets",values:{0:e.assetsCount}}),e.userFriendlyPrice?" - "+e.userFriendlyPrice:null]})]})})]})},e.tag)}))})})},Ce=n(559),Te=n(471),Ee=n(560),ke=n(542),we=n(480),Se=n(518),Pe=n(2176),Ie=n(474),_e=n(475),Ae=n(1107),Ne=n.n(Ae),Re=n(1108),Le=n.n(Re),Me=n(1106),Fe=n(470),De={previewBackground:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",padding:10,width:300,height:250},chip:{marginBottom:2,marginRight:2},previewImage:{position:"relative",maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",pointerEvents:"none"},arrowContainer:{padding:6},leftArrowSvg:{transform:"translateX(5px)"},scrollView:{display:"flex"}},Be=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ue=function(e){var t=e.project,n=(e.objectsContainer,e.resourceSources,e.resourceExternalEditors,e.onTagSelection),r=e.assetShortHeader,s=e.onAdd,c=(e.onClose,e.isAddedToScene),l=e.isBeingAddedToScene,u=e.onOpenDetails,d=i.useContext(Oe.a),p=i.useContext(ee.a),b=p.authors,h=p.licenses,f=i.useState(null),m=Object(o.a)(f,2),v=m[0],x=m[1],y=i.useState(null),C=Object(o.a)(y,2),T=C[0],E=C[1],k=i.useState(null),S=Object(o.a)(k,2),P=S[0],A=S[1],L=i.useCallback((function(){Object(g.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(null),e.next=4,Object(te.a)(r);case 4:t=e.sent,x(t),"sprite"===t.objectType&&(n=t.objectAssets[0].object.animations[0].name,E(n)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error while loading asset:",e.t0),A(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[r]),F=i.useMemo((function(){return!Object(te.c)(r)}),[r]);i.useEffect((function(){L()}),[L]);var U=!l&&!!v,V=i.useCallback((function(){U&&s()}),[s,U]),W=v&&b?v.authors.map((function(e){return b.find((function(t){return t.name===e}))})).filter(Boolean):[],G=v&&h?h.find((function(e){return e.name===v.license})):null,z=v&&v.objectAssets[0]?function(e){var t={};return e.resources.forEach((function(e){t[e.name]=e})),t}(v.objectAssets[0]):{},H=v?v.objectAssets[0].object.animations:null,Y=H?H.find((function(e){return e.name===T})):null,q=Y?Y.directions[0]:null,X=v&&q?q.sprites.map((function(e){return z[e.image]})):null,K=i.useMemo((function(){return[new B.f(r)]}),[r]),J=i.useContext(ee.a),Z=J.error,Q=J.fetchAssetsAndFilters,$=(0,J.useSearchItem)("",null,null,K),ne=$&&$.slice(0,60);return Object(w.jsx)(I.a,{style:De.scrollView,children:Object(w.jsxs)(j.a,{expand:!0,noMargin:!0,children:[Object(w.jsxs)(j.c,{justifyContent:"space-between",noMargin:!0,children:[Object(w.jsxs)(j.a,{children:[Object(w.jsxs)(j.c,{alignItems:"baseline",noMargin:!0,children:[Object(w.jsx)(M.a,{size:"title",displayInlineAsSpan:!0,children:r.name}),Object(w.jsx)(j.d,{}),v&&Object(w.jsxs)(M.a,{size:"body",children:[Object(w.jsx)(a.Trans,{id:"by"})," ",!!W&&W.map((function(e){return Object(w.jsx)(Pe.a,{href:e.website,onClick:function(t){_.b.openExternalURL(e.website),t.preventDefault()},children:e.name},e.name)}))]})]}),Object(w.jsx)(j.c,{alignItems:"center",children:Object(w.jsxs)("div",{style:{flexWrap:"wrap"},children:[r.tags.slice(0,5).map((function(e,t){return Object(w.jsxs)(i.Fragment,{children:[0!==t&&Object(w.jsx)(j.d,{}),Object(w.jsx)(Ee.a,{size:"small",style:De.chip,label:Be(e),onClick:function(){n(e)}})]},e)})),r.tags.length>5&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(j.d,{}),Object(w.jsx)(Ee.a,{size:"small",style:De.chip,label:Object(w.jsx)(a.Trans,{id:"+ {0} tag(s)",values:{0:r.tags.length-5}})})]})]})})]}),Object(w.jsx)(j.a,{alignItems:"center",justifyContent:"center",children:Object(w.jsx)(ke.a,{isLoading:l||!v&&!P,children:Object(w.jsx)(N.a,{primary:!c,label:l?Object(w.jsx)(a.Trans,{id:"Adding..."}):c?Object(w.jsx)(a.Trans,{id:"Add again"}):Object(w.jsx)(a.Trans,{id:"Add to the scene"}),onClick:V,disabled:!U,id:"add-asset-button"})},"install")})]}),Object(w.jsxs)(D.c,{noMargin:!0,children:[Object(w.jsxs)(j.a,{children:[v?Object(w.jsxs)(w.Fragment,{children:["sprite"===v.objectType&&X&&q&&Object(w.jsx)(Me.a,{resourceNames:X.map((function(e){return e.name})),getImageResourceSource:function(e){var t=z[e];return t?t.file:""},isImageResourceSmooth:function(){return F},project:t,timeBetweenFrames:q.timeBetweenFrames,isLooping:!0,hideCheckeredBackground:!0,hideControls:!0,initialZoom:140/Math.max(v.width,v.height),fixedHeight:250,fixedWidth:300}),("tiled"===v.objectType||"9patch"===v.objectType)&&Object(w.jsx)("div",{style:De.previewBackground,children:Object(w.jsx)(oe.a,{style:De.previewImage,src:v.previewImageUrls[0],alt:v.name})})]}):Object(w.jsx)("div",{style:De.previewBackground,children:Object(w.jsx)(we.a,{})}),H&&H.length>1&&"string"===typeof T&&Object(w.jsx)(ge.a,{elevation:4,variant:"outlined",style:{backgroundColor:d.list.itemsBackgroundColor},children:Object(w.jsxs)(j.c,{justifyContent:"center",alignItems:"center",noMargin:!0,children:[Object(w.jsx)("div",{style:De.arrowContainer,children:Object(w.jsx)(Te.a,{size:"small",onClick:function(){var e=H.findIndex((function(e){return e.name===T})),t=0===e?H.length-1:e-1;E(H[t].name)},children:Object(w.jsx)(Ne.a,{style:De.leftArrowSvg})})}),Object(w.jsx)(Ie.a,{value:T,onChange:function(e,t,n){E(n)},fullWidth:!0,textAlign:"center",disableUnderline:!0,children:H.map((function(e){return Object(w.jsx)(_e.a,{value:e.name,primaryText:Be(e.name)||{id:"Default"}},e.name)}))}),Object(w.jsx)("div",{style:De.arrowContainer,children:Object(w.jsx)(Te.a,{size:"small",onClick:function(){var e=H.findIndex((function(e){return e.name===T})),t=e===H.length-1?0:e+1;E(H[t].name)},children:Object(w.jsx)(Le.a,{})})})]})})]}),Object(w.jsx)(j.a,{expand:!0,children:v?Object(w.jsxs)(i.Fragment,{children:[Object(w.jsx)(M.a,{size:"body",children:!!G&&Object(w.jsx)(a.Trans,{id:"Type of License: <0>{0}</0>",values:{0:G.name},components:[Object(w.jsx)(Pe.a,{href:G.website,onClick:function(e){_.b.openExternalURL(G.website),e.preventDefault()}})]})}),Object(w.jsx)(M.a,{size:"body",children:v.description})]}):P?Object(w.jsx)(Se.a,{onRetry:L,children:Object(w.jsx)(a.Trans,{id:"Error while loading the asset. Verify your internet connection or try again later."})}):Object(w.jsx)(we.a,{})})]}),v&&Object(w.jsxs)(j.a,{expand:!0,children:[Object(w.jsx)(j.c,{noMargin:!0,children:Object(w.jsx)(M.a,{size:"title",displayInlineAsSpan:!0,children:Object(w.jsx)(a.Trans,{id:"You might like"})})}),Object(w.jsx)(j.c,{expand:!0,noMargin:!0,justifyContent:"center",children:Object(w.jsx)(R.a,{baseSize:128,onRetry:Q,error:Z,searchItems:ne,renderSearchItem:function(e,t){return Object(w.jsx)(se,{size:t,onOpenDetails:function(){x(null),u(e)},assetShortHeader:e})},noResultPlaceholder:Object(w.jsx)(j.c,{alignItems:"flex-start",children:Object(w.jsx)(Fe.a,{children:Object(w.jsx)(a.Trans,{id:"No similar asset was found."})})}),noScroll:!0})})]})]})})},Ve=n(552),We=n(807),Ge=n(722),ze=n(62),He=n(554),Ye=n(2189),qe={linearProgress:{flex:1}},Xe=function(e){var t=e.assetPack,n=e.assetShortHeaders,r=e.addedAssetIds,s=e.onClose,l=e.onAssetsAdded,u=e.project,d=e.objectsContainer,p=e.events,b=e.onObjectAddedFromAsset,h=n.filter((function(e){return!r.includes(e.id)})),f=0===h.length,m=!f&&h.length===n.length,v=Object(Ge.b)(),x=i.useState(!1),y=Object(o.a)(x,2),C=y[0],T=y[1],E=i.useContext(Ve.a),k=i.useCallback(function(){var e=Object(g.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.length){e.next=2;break}return e.abrupt("return");case 2:return T(!0),e.prev=3,e.next=6,Promise.all(t.map((function(e){return Object(We.b)({assetShortHeader:e,eventsFunctionsExtensionsState:E,project:u,objectsContainer:d,events:p})})));case 6:return e.sent.forEach((function(e){e.createdObjects.forEach((function(e){b(e)}))})),e.next=10,v.ensureResourcesAreFetched(u);case 10:T(!1),l(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),T(!1),console.error("Error while installing the assets",e.t0),Object(ze.a)({message:"There was an error while installing the assets. Verify your internet connection or try again later.",rawError:e.t0,errorId:"install-asset-pack-error"});case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),[v,E,u,d,p,b,l]),S=C?{actionButton:Object(w.jsx)(Ce.a,{label:Object(w.jsx)(a.Trans,{id:"Please wait..."}),disabled:!0,onClick:function(){}},"loading"),onApply:function(){},content:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(M.a,{children:Object(w.jsx)(a.Trans,{id:"Installing assets..."})}),Object(w.jsx)(j.c,{expand:!0,children:Object(w.jsx)(Ye.a,{style:qe.linearProgress})})]})}:f?{actionButton:Object(w.jsx)(N.a,{label:Object(w.jsx)(a.Trans,{id:"Install again"}),primary:!1,onClick:function(){return k(n)}},"install-again"),onApply:function(){return k(n)},content:Object(w.jsx)(M.a,{children:Object(w.jsx)(a.Trans,{id:"You already have these {0} assets installed, do you want to add them again?",values:{0:n.length}})})}:m?{actionButton:Object(w.jsx)(N.a,{label:Object(w.jsx)(a.Trans,{id:"Continue"}),primary:!0,onClick:function(){return k(n)}},"continue"),onApply:function(){return k(n)},content:Object(w.jsx)(M.a,{children:Object(w.jsx)(a.Trans,{id:"You're about to add {0} assets. Continue?",values:{0:n.length}})})}:{actionButton:Object(w.jsx)(He.a,{label:Object(w.jsx)(a.Trans,{id:"Install the missing assets"}),primary:!0,onClick:function(){k(h)},buildMenuTemplate:function(e){return[{label:e._({id:"Install all the assets"}),click:function(){return k(n)}}]}},"install-missing"),onApply:function(){return k(h)},content:Object(w.jsx)(M.a,{children:Object(w.jsx)(a.Trans,{id:"You already have {0} asset(s) in your scene. Do you want to add the remaining {1} one(s)?",values:{0:n.length-h.length,1:h.length}})})};return Object(w.jsx)(c.b,{maxWidth:"sm",title:t.name,open:!0,onRequestClose:function(){C||s()},cannotBeDismissed:!0,actions:[C?null:Object(w.jsx)(Ce.a,{label:Object(w.jsx)(a.Trans,{id:"Cancel"}),onClick:s},"cancel"),S.actionButton],onApply:S.onApply,children:Object(w.jsx)(j.a,{children:S.content})})},Ke=n(1109),Je=n.n(Ke),Ze=function(e){var t=e.project,n=e.objectsContainer,r=e.events,s=e.focusOnMount,c=e.onObjectAddedFromAsset,l=(e.layout,e.resourceSources),u=e.resourceExternalEditors,p=(e.onChooseResource,i.useContext(ee.a)),h=p.assetPacks,f=p.searchResults,m=p.error,v=p.fetchAssetsAndFilters,y=p.navigationState,E=p.searchText,k=p.setSearchText,L=p.assetFiltersState,F=y.getCurrentPage(),D=F.isOnHomePage,B=F.openedAssetPack,U=F.openedAssetShortHeader,V=F.filtersState;i.useEffect((function(){v()}),[v]);var W=i.useRef(null),G=Object(T.b)(),z=i.useState(!1),H=Object(o.a)(z,2),Y=H[0],q=H[1],X=i.useState(!1),K=Object(o.a)(X,2),J=K[0],Z=K[1],te=i.useState(!1),ne=Object(o.a)(te,2),re=ne[0],oe=ne[1],ae=Object(b.c)(t,n).containerObjectsList.map((function(e){return e.object.getAssetStoreId()})).filter(Boolean),ie=i.useContext(Ve.a),ce=Object(Ge.b)(),le=function(e){Object(A.c)({id:e.id,name:e.name}),y.openDetailPage(e)},ue=i.useCallback((function(e){oe(!0),Object(g.a)(O.a.mark((function o(){var a;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(We.b)({assetShortHeader:e,eventsFunctionsExtensionsState:ie,project:t,objectsContainer:n,events:r});case 3:return a=o.sent,Object(A.b)({id:e.id,name:e.name}),console.log("Asset successfully installed."),a.createdObjects.forEach((function(e){c(e)})),o.next=9,ce.ensureResourcesAreFetched(t);case 9:o.next=15;break;case 11:o.prev=11,o.t0=o.catch(0),console.error("Error while installing the asset:",o.t0),Object(ze.a)({message:'There was an error while installing the asset "'.concat(e.name,'". Verify your internet connection or try again later.'),rawError:o.t0,errorId:"install-asset-error"});case 15:oe(!1);case 16:case"end":return o.stop()}}),o,null,[[0,11]])})))()}),[ce,ie,t,n,r,c]),be=function(e){if(h){Object(A.d)(e);var t=h.starterPacks.find((function(t){return t.tag===e}));t&&(t.externalWebLink?_.b.openExternalURL(t.externalWebLink):(y.openPackPage(t),q(!0)))}},he=function(e){var t=h&&h.starterPacks.find((function(t){return t.tag===e}));t?y.openPackPage(t):y.openTagPage(e),Q(L),q(!0)};return i.useEffect((function(){s&&G&&W.current&&W.current.focus()}),[G,s]),Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(pe.a,{children:function(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(j.a,{expand:!0,noMargin:!0,useFullHeight:!0,children:[Object(w.jsxs)(j.c,{children:[Object(w.jsx)(j.d,{}),Object(w.jsx)(Te.a,{tooltip:{id:"Back to discover"},onClick:function(){y.openHome(),Q(L),q(!1)},size:"small",children:Object(w.jsx)(Je.a,{})},"back-discover"),Object(w.jsx)(j.a,{expand:!0,useFullHeight:!0,children:Object(w.jsx)(T.a,{placeholder:{id:"Search assets"},value:E,onChange:k,onRequestSearch:function(){y.activateTextualSearch(),y.clearHistory(),q(!0)},ref:W,id:"asset-store-search-bar"})})]}),!D&&Object(w.jsx)(j.d,{}),Object(w.jsx)(j.a,{children:Object(w.jsx)(j.c,{justifyContent:"space-between",noMargin:!0,alignItems:"center",children:D?Object(w.jsx)(M.a,{size:"title",children:Object(w.jsx)(a.Trans,{id:"Discover"})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(j.a,{expand:!0,alignItems:"flex-start",noMargin:!0,children:Object(w.jsx)(Ce.a,{icon:Object(w.jsx)(x.a,{}),label:Object(w.jsx)(a.Trans,{id:"Back"}),primary:!1,onClick:function(){y.backToPreviousPage(),y.getCurrentPage().isOnHomePage&&(Q(L),q(!1))}})}),!B&&V.chosenCategory&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(j.a,{expand:!0,alignItems:"center",children:Object(w.jsx)(M.a,{size:"title",noMargin:!0,children:(o=V.chosenCategory.node.name,o?o[0].toUpperCase()+o.substr(1):"")})}),Object(w.jsx)(j.a,{expand:!0,alignItems:"flex-end",noMargin:!0})]}),B&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(j.a,{expand:!0,alignItems:"center",children:Object(w.jsx)(M.a,{size:"title",noMargin:!0,children:B.name})}),Object(w.jsx)(j.a,{expand:!0,alignItems:"flex-end",noMargin:!0,children:Object(w.jsx)(N.a,{primary:!0,label:Object(w.jsx)(a.Trans,{id:"Add all assets to my scene"}),onClick:function(){return Z(!0)},disabled:!f||0===f.length})})]})]})})}),Object(w.jsxs)(j.c,{expand:!0,overflow:"hidden",children:[!U&&Object(w.jsx)(P.a,{noFullHeight:!0,noExpand:!0,width:Y?"small"===e?205:250:50,children:Y?Object(w.jsxs)(I.a,{children:[Object(w.jsxs)(j.c,{justifyContent:"space-between",alignItems:"center",children:[Object(w.jsx)(j.a,{children:Object(w.jsxs)(j.c,{alignItems:"center",children:[Object(w.jsx)(C.a,{}),Object(w.jsx)(d.a,{children:Object(w.jsx)(a.Trans,{id:"Object filters"})})]})}),Object(w.jsx)(Te.a,{onClick:function(){return q(!1)},children:Object(w.jsx)(S,{})})]}),Object(w.jsx)(j.c,{justifyContent:"space-between",alignItems:"center",children:Object(w.jsx)($,{assetFiltersState:L,onChoiceChange:function(){y.openSearchIfNeeded()}})})]}):Object(w.jsx)(j.c,{justifyContent:"center",children:Object(w.jsx)(Te.a,{onClick:function(){return q(!0)},children:Object(w.jsx)(C.a,{})})})}),D&&!h&&Object(w.jsx)(we.a,{}),D&&h&&Object(w.jsx)(ye,{assetPacks:h,onPackSelection:be}),!D&&!U&&Object(w.jsx)(R.a,{baseSize:128,onRetry:v,error:m,searchItems:f,renderSearchItem:function(e,t){return Object(w.jsx)(se,{size:t,onOpenDetails:function(){return le(e)},assetShortHeader:e})},noResultPlaceholder:Object(w.jsx)(de,{onClear:function(){return Q(L)}})}),U&&Object(w.jsx)(Ue,{project:t,objectsContainer:n,resourceSources:l,resourceExternalEditors:u,onTagSelection:he,assetShortHeader:U,onAdd:function(){return ue(U)},onClose:function(){return y.backToPreviousPage()},isAddedToScene:ae.includes(U.id),isBeingAddedToScene:re,onOpenDetails:le})]})]}),ce.renderResourceFetcherDialog(),J&&f&&B&&Object(w.jsx)(Xe,{assetPack:B,assetShortHeaders:f,addedAssetIds:ae,onClose:function(){return Z(!1)},onAssetsAdded:function(){Z(!1)},project:t,objectsContainer:n,events:r,onObjectAddedFromAsset:c})]});var o}})})},Qe=n(43),$e=n(598),et=function(e){var t=e.objectMetadata,n=e.onClick;return""===t.name?null:Object(w.jsx)(p.b,{leftIcon:Object(w.jsx)(u.a,{src:t.iconFilename,iconSize:40,isGDevelopIcon:!0}),primaryText:t.fullName,secondaryText:t.description,secondaryTextLines:2,onClick:n},t.name)};function tt(e){var t=e.project,n=e.layout,s=e.objectsContainer,u=e.resourceSources,g=e.onChooseResource,m=e.resourceExternalEditors,O=e.events,v=e.onClose,x=e.onCreateNewObject,y=e.onObjectAddedFromAsset,C=i.useContext(Qe.a),T=C.setNewObjectDialogDefaultTab,E=C.getNewObjectDialogDefaultTab,k=i.useState(E()),S=Object(o.a)(k,2),P=S[0],_=S[1],N=i.useMemo((function(){return Object(b.b)(t)}),[t]),R=i.useMemo((function(){var e={};return N.forEach((function(t){var n=t.categoryFullName;e[n]=[].concat(Object(r.a)(e[n]||[]),[t])})),e}),[N]);i.useEffect((function(){return T(P)}),[T,P]);var L=Object($e.a)("intro-object-types").DismissableTutorialMessage;return Object(w.jsx)(c.b,{title:Object(w.jsx)(a.Trans,{id:"Add a new object"}),secondaryActions:[Object(w.jsx)(h.a,{helpPagePath:"/objects"},"help")],actions:[Object(w.jsx)(l.a,{label:Object(w.jsx)(a.Trans,{id:"Close"}),primary:!1,onClick:v,id:"close-button"},"close")],onRequestClose:v,open:!0,flexBody:!0,noMargin:!0,fullHeight:!0,id:"new-object-dialog",children:Object(w.jsxs)(j.a,{noMargin:!0,expand:!0,children:[Object(w.jsxs)(f.b,{value:P,onChange:_,children:[Object(w.jsx)(f.a,{label:Object(w.jsx)(a.Trans,{id:"Asset Store"}),value:"asset-store"}),Object(w.jsx)(f.a,{label:Object(w.jsx)(a.Trans,{id:"New object from scratch"}),value:"new-object"})]}),"asset-store"===P&&Object(w.jsx)(Ze,{focusOnMount:!0,project:t,objectsContainer:s,events:O,layout:n,onChooseResource:g,resourceSources:u,resourceExternalEditors:m,onObjectAddedFromAsset:y}),"new-object"===P&&Object(w.jsxs)(I.a,{children:[L&&Object(w.jsx)(j.c,{children:Object(w.jsx)(j.a,{expand:!0,children:L})}),Object(w.jsx)(p.a,{children:Object.keys(R).map((function(e){var t=R[e];return Object(w.jsxs)(i.Fragment,{children:[Object(w.jsx)(d.a,{children:e}),t.map((function(e){return Object(w.jsx)(et,{objectMetadata:e,onClick:function(){Object(A.r)(e.name),x(e.name)}},e.name)}))]},e)}))})]})]})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return nt}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n.n(c),u=n(485),d=n(501),p=n(513),b=n(898),h=n(35),j=n(597),f=n(26),g=n(136),m=n(493),O=n(474),v=n(475),x=n(100),y=n(476),C=n(680),T=n(512),E=n(472),k=n(80),w=n(463),S=n(570),P=n(606),I=n(2165),_=n(7);var A=function(e){for(var t=e.project,n=t.getCurrentPlatform().getAllPlatformExtensions(),r=[],o=function(e){var o=n.at(e),a=t.getExtensionProperties().getAllExtensionProperties(o.getName(),t);if(0===a.keys().size())return"continue";var i=Object(P.a)(a,(function(e){return t.getExtensionProperties().getAllExtensionProperties(o.getName(),t)}),(function(e,n,r){"boolean"===t.getExtensionProperties().getAllExtensionProperties(o.getName(),t).get(n).getType()?t.getExtensionProperties().setValue(o.getName(),n,"1"===r?"true":"false"):t.getExtensionProperties().setValue(o.getName(),n,r)}));r.push(Object(_.jsxs)(k.a,{noMargin:!0,children:[Object(_.jsx)(w.a,{size:"title",children:o.getFullName()}),Object(_.jsx)(S.a,{schema:i,instances:[o.getAllProperties()]})]},o.getName()))},a=0;a<n.size();a++)o(a);return r.length?Object(_.jsx)(I.a,{children:r}):null},N=n(631),R=n(137),L=n(478),M=n(692),F=n(495),D=n(800),B=n(549),U=n(30),V=n(497),W=n(139),G=n(663),z=function(e){var t=e.loadingScreen,n=e.onChangeSubscription,r=e.project,o=e.resourceSources,a=e.onChooseResource,i=e.resourceExternalEditors,l=c.useRef(null),u=Object(W.a)();return Object(_.jsx)(s.I18n,{children:function(e){var c=e.i18n;return Object(_.jsxs)(k.a,{expand:!0,noMargin:!0,children:[Object(_.jsx)(w.a,{size:"title",children:Object(_.jsx)(s.Trans,{id:"Background"})}),Object(_.jsx)(U.c,{noMargin:!0,children:Object(_.jsx)(G.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Background image"}),project:r,resourceSources:o,onChooseResource:a,resourceExternalEditors:i,resourceKind:"image",resourceName:t.getBackgroundImageResourceName(),onChange:function(e){t.setBackgroundImageResourceName(e),u()}})}),Object(_.jsxs)(k.c,{noMargin:!0,children:[Object(_.jsx)(B.a,{fullWidth:!0,floatingLabelText:Object(_.jsx)(s.Trans,{id:"Background color"}),disableAlpha:!0,color:Object(V.b)(t.getBackgroundColor()),onChange:function(e){t.setBackgroundColor(Object(V.i)(e)),u()}}),Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Background fade in duration (in seconds)"}),step:.1,fullWidth:!0,type:"number",value:""+t.getBackgroundFadeInDuration(),onChange:function(e){t.setBackgroundFadeInDuration(Math.max(0,parseFloat(e))),u()}})]}),Object(_.jsx)(w.a,{size:"title",children:Object(_.jsx)(s.Trans,{id:"Logo"})}),Object(_.jsx)(m.a,{label:Object(_.jsx)(s.Trans,{id:"Display GDevelop logo at startup (in exported game)"}),checked:t.isGDevelopSplashShown(),onCheck:function(e,n){(n||!l.current||l.current.checkHasSubscription())&&(t.showGDevelopSplash(n),u())}}),Object(_.jsxs)(O.a,{fullWidth:!0,floatingLabelText:Object(_.jsx)(s.Trans,{id:"GDevelop logo style"}),value:t.getGDevelopLogoStyle(),onChange:function(e,n,r){t.setGDevelopLogoStyle(r),u()},children:[Object(_.jsx)(v.a,{value:"light",primaryText:{id:"Light (plain)"}}),Object(_.jsx)(v.a,{value:"light-colored",primaryText:{id:"Light (colored)"}}),Object(_.jsx)(v.a,{value:"dark",primaryText:{id:"Dark (plain)"}}),Object(_.jsx)(v.a,{value:"dark-colored",primaryText:{id:"Dark (colored)"}})]}),Object(_.jsxs)(k.c,{noMargin:!0,children:[Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Logo and progress fade in delay (in seconds)"}),step:.1,fullWidth:!0,type:"number",value:""+t.getLogoAndProgressLogoFadeInDelay(),onChange:function(e){t.setLogoAndProgressLogoFadeInDelay(Math.max(0,parseFloat(e))),u()}}),Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Logo and progress fade in duration (in seconds)"}),step:.1,fullWidth:!0,type:"number",value:""+t.getLogoAndProgressFadeInDuration(),onChange:function(e){t.setLogoAndProgressFadeInDuration(Math.max(0,parseFloat(e))),u()}})]}),Object(_.jsx)(w.a,{size:"title",children:Object(_.jsx)(s.Trans,{id:"Progress bar"})}),Object(_.jsx)(m.a,{label:Object(_.jsx)(s.Trans,{id:"Show progress bar"}),checked:t.getShowProgressBar(),onCheck:function(e,n){t.setShowProgressBar(n),u()}}),Object(_.jsxs)(k.c,{noMargin:!0,children:[Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Progress bar minimum width"}),fullWidth:!0,type:"number",value:""+t.getProgressBarMinWidth(),onChange:function(e){t.setProgressBarMinWidth(Math.max(0,parseFloat(e))),u()},helperMarkdownText:c._({id:"In pixels. 0 to ignore."})}),Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Progress bar width"}),fullWidth:!0,type:"number",value:""+t.getProgressBarWidthPercent(),onChange:function(e){t.setProgressBarWidthPercent(Math.min(100,Math.max(1,parseFloat(e)))),u()},helperMarkdownText:c._({id:"As a percent of the game width."})}),Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Progress bar maximum width"}),fullWidth:!0,type:"number",value:""+t.getProgressBarMaxWidth(),onChange:function(e){t.setProgressBarMaxWidth(Math.max(0,parseFloat(e))),u()},helperMarkdownText:c._({id:"In pixels. 0 to ignore."})})]}),Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Progress bar height"}),fullWidth:!0,type:"number",value:""+t.getProgressBarHeight(),onChange:function(e){t.setProgressBarHeight(Math.max(1,parseFloat(e))),u()}}),Object(_.jsx)(B.a,{fullWidth:!0,floatingLabelText:Object(_.jsx)(s.Trans,{id:"Progress bar color"}),disableAlpha:!0,color:Object(V.b)(t.getProgressBarColor()),onChange:function(e){t.setProgressBarColor(Object(V.i)(e)),u()}}),Object(_.jsx)(w.a,{size:"title",children:Object(_.jsx)(s.Trans,{id:"Duration"})}),Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Minimum duration of the screen (in seconds)"}),step:.1,fullWidth:!0,type:"number",value:""+t.getMinDuration(),onChange:function(e){t.setMinDuration(Math.max(0,parseFloat(e))),u()},helperMarkdownText:c._({id:"When previewing the game in the editor, this duration is ignored (the game preview starts as soon as possible)."})}),Object(_.jsx)(D.a,{ref:l,onChangeSubscription:n,mode:"mandatory",id:"Disable GDevelop splash at startup",title:Object(_.jsx)(s.Trans,{id:"Disable GDevelop splash at startup"})})]})}})},H=n(632),Y=n(793);var q=function(e){var t=e.project,n=e.hotReloadPreviewButtonProps,r=c.useMemo((function(){return function(e){return{gameResolutionWidth:e.getGameResolutionWidth(),gameResolutionHeight:e.getGameResolutionHeight(),adaptGameResolutionAtRuntime:e.getAdaptGameResolutionAtRuntime(),name:e.getName(),description:e.getDescription(),author:e.getAuthor(),authorIds:e.getAuthorIds().toJSArray(),version:e.getVersion(),packageName:e.getPackageName(),orientation:e.getOrientation(),scaleMode:e.getScaleMode(),pixelsRounding:e.getPixelsRounding(),sizeOnStartupMode:e.getSizeOnStartupMode(),minFPS:e.getMinimumFPS(),maxFPS:e.getMaximumFPS(),isFolderProject:e.isFolderProject(),useDeprecatedZeroAsDefaultZOrder:e.getUseDeprecatedZeroAsDefaultZOrder()}}(t)}),[t]),o=c.useState(r.name),a=Object(f.a)(o,2),i=a[0],l=a[1],u=c.useState(r.description),d=Object(f.a)(u,2),p=d[0],b=d[1],j=c.useState(r.authorIds),S=Object(f.a)(j,2),P=S[0],I=S[1],D=c.useState(r.gameResolutionWidth),B=Object(f.a)(D,2),U=B[0],V=B[1],W=c.useState(r.gameResolutionHeight),G=Object(f.a)(W,2),q=G[0],X=G[1],K=c.useState(r.adaptGameResolutionAtRuntime),J=Object(f.a)(K,2),Z=J[0],Q=J[1],$=c.useState(r.author),ee=Object(f.a)($,2),te=ee[0],ne=ee[1],re=c.useState(r.version),oe=Object(f.a)(re,2),ae=oe[0],ie=oe[1],se=c.useState(r.packageName),ce=Object(f.a)(se,2),le=ce[0],ue=ce[1],de=c.useState(r.orientation),pe=Object(f.a)(de,2),be=pe[0],he=pe[1],je=c.useState(r.scaleMode),fe=Object(f.a)(je,2),ge=fe[0],me=fe[1],Oe=c.useState(r.pixelsRounding),ve=Object(f.a)(Oe,2),xe=ve[0],ye=ve[1],Ce=c.useState(r.sizeOnStartupMode),Te=Object(f.a)(Ce,2),Ee=Te[0],ke=Te[1],we=c.useState(r.minFPS),Se=Object(f.a)(we,2),Pe=Se[0],Ie=Se[1],_e=c.useState(r.maxFPS),Ae=Object(f.a)(_e,2),Ne=Ae[0],Re=Ae[1],Le=c.useState(r.isFolderProject),Me=Object(f.a)(Le,2),Fe=Me[0],De=Me[1],Be=c.useState(r.useDeprecatedZeroAsDefaultZOrder),Ue=Object(f.a)(Be,2),Ve=Ue[0],We=Ue[1],Ge=c.useState(e.initialTab),ze=Object(f.a)(Ge,2),He=ze[0],Ye=ze[1],qe=Object(N.a)({serializableObject:t.getLoadingScreen(),onCancel:e.onClose}),Xe=Object(N.a)({serializableObject:t.getExtensionProperties(),onCancel:qe}),Ke=function(){(function(e,t){var n=function(e){return e},r=t.gameResolutionWidth,o=t.gameResolutionHeight,a=t.adaptGameResolutionAtRuntime,i=t.name,s=t.description,c=t.authorIds,l=t.author,u=t.version,d=t.packageName,p=t.orientation,b=t.scaleMode,h=t.pixelsRounding,j=t.sizeOnStartupMode,f=t.minFPS,g=t.maxFPS,m=t.isFolderProject,O=t.useDeprecatedZeroAsDefaultZOrder;e.setGameResolutionSize(r,o),e.setAdaptGameResolutionAtRuntime(a),e.setName(i),e.setDescription(s);var v=e.getAuthorIds();return v.clear(),c.forEach((function(e){return v.push_back(e)})),e.setAuthor(l),e.setVersion(u),e.setPackageName(d),e.setOrientation(p),e.setScaleMode(b),e.setPixelsRounding(h),e.setSizeOnStartupMode(j),e.setMinimumFPS(f),e.setMaximumFPS(g),e.setFolderProject(m),e.setUseDeprecatedZeroAsDefaultZOrder(O),Object(C.a)(n,Object(C.c)(n,e))})(t,{gameResolutionWidth:U,gameResolutionHeight:q,adaptGameResolutionAtRuntime:Z,name:i,description:p,author:te,authorIds:P,version:ae,packageName:le,orientation:be,scaleMode:ge,pixelsRounding:xe,sizeOnStartupMode:Ee,minFPS:Pe,maxFPS:Ne,isFolderProject:Fe,useDeprecatedZeroAsDefaultZOrder:Ve})&&e.onApply()};return Object(_.jsx)(s.I18n,{children:function(r){var o=r.i18n;return Object(_.jsx)(c.Fragment,{children:Object(_.jsxs)(x.b,{actions:[Object(_.jsx)(g.a,{label:Object(_.jsx)(s.Trans,{id:"Cancel"}),primary:!1,onClick:Xe},"cancel"),Object(_.jsx)(x.a,{label:Object(_.jsx)(s.Trans,{id:"Apply"}),primary:!0,onClick:Ke},"apply")],secondaryActions:[Object(_.jsx)(E.a,{helpPagePath:"/interface/project-manager/properties"},"help"),n?Object(_.jsx)(g.a,{icon:Object(_.jsx)(H.a,{}),label:Object(_.jsx)(s.Trans,{id:"Run a preview (with loading screen)"}),onClick:n.launchProjectWithLoadingScreenPreview},"hot-reload-preview-button"):null],onRequestClose:Xe,onApply:Ke,noTitleMargin:!0,open:e.open,fullHeight:!0,flexBody:!0,title:Object(_.jsx)("div",{children:Object(_.jsxs)(F.b,{value:He,onChange:Ye,children:[Object(_.jsx)(F.a,{label:Object(_.jsx)(s.Trans,{id:"Properties"}),value:"properties"},"properties"),Object(_.jsx)(F.a,{label:Object(_.jsx)(s.Trans,{id:"Loading Screen"}),value:"loading-screen"},"loading-screen")]})}),children:["properties"===He&&Object(_.jsxs)(k.a,{expand:!0,noMargin:!0,children:[Object(_.jsx)(w.a,{size:"title",children:Object(_.jsx)(s.Trans,{id:"Game Info"})}),Object(_.jsx)(Y.c,{name:i,setName:l,description:p,setDescription:b,project:t,authorIds:P,setAuthorIds:I,orientation:be,setOrientation:he}),Object(_.jsx)(w.a,{size:"title",children:Object(_.jsx)(s.Trans,{id:"Packaging"})}),Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Package name (for iOS and Android)"}),fullWidth:!0,hintText:"com.example.mygame",type:"text",value:le,onChange:ue,errorText:Object(C.d)(le)?void 0:Object(_.jsx)(s.Trans,{id:'The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'})}),Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Version number (X.Y.Z)"}),fullWidth:!0,hintText:"1.0.0",type:"text",value:ae,onChange:ie}),Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Publisher name"}),fullWidth:!0,hintText:{id:"Your name"},helperMarkdownText:o._({id:"This will be used when packaging and submitting your application to the stores."}),type:"text",value:te,onChange:ne}),Ve?Object(_.jsxs)(c.Fragment,{children:[Object(_.jsx)(w.a,{size:"title",children:Object(_.jsx)(s.Trans,{id:"Z Order of objects created from events"})}),Object(_.jsx)(L.a,{kind:"info",children:Object(_.jsx)(s.Trans,{id:"When you create an object using an action, GDevelop now sets the Z order of the object to the maximum value that was found when starting the scene for each layer. This allow to make sure that objects that you create are in front of others. This game was created before this change, so GDevelop maintains the old behavior: newly created objects Z order is set to 0. It's recommended that you switch to the new behavior by clicking the following button."})}),Object(_.jsx)(R.a,{onClick:function(){h.b.showConfirmDialog(o._({id:"Make sure to verify all your events creating objects, and optionally add an action to set the Z order back to 0 if it's important for your game. Do you want to continue (recommened)?"}))&&We(!1)},label:Object(_.jsx)(s.Trans,{id:"Switch to create objects with the highest Z order of the layer"})})]}):null,Object(_.jsx)(w.a,{size:"title",children:Object(_.jsx)(s.Trans,{id:"Analytics"})}),Object(_.jsx)(M.a,{project:t}),Object(_.jsx)(w.a,{size:"title",children:Object(_.jsx)(s.Trans,{id:"Resolution and rendering"})}),Object(_.jsxs)(k.c,{noMargin:!0,children:[Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Game resolution width"}),fullWidth:!0,type:"number",value:""+U,onChange:function(e){return V(Math.max(1,parseInt(e,10)))}}),Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Game resolution height"}),fullWidth:!0,type:"number",value:""+q,onChange:function(e){return X(Math.max(1,parseInt(e,10)))}})]}),Object(_.jsxs)(O.a,{fullWidth:!0,floatingLabelText:Object(_.jsx)(s.Trans,{id:"Game resolution resize mode (fullscreen or window)"}),value:Ee,onChange:function(e,t,n){return ke(n)},children:[Object(_.jsx)(v.a,{value:"",primaryText:{id:"No changes to the game size"}}),Object(_.jsx)(v.a,{value:"adaptWidth",primaryText:{id:"Change width to fit the screen or window size"}}),Object(_.jsx)(v.a,{value:"adaptHeight",primaryText:{id:"Change height to fit the screen or window size"}})]}),Object(_.jsx)(m.a,{label:Object(_.jsx)(s.Trans,{id:"Update resolution during the game to fit the screen or window size"}),disabled:""===Ee,checked:Z,onCheck:function(e,t){return Q(t)}}),Object(_.jsxs)(k.c,{noMargin:!0,children:[Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Minimum FPS"}),fullWidth:!0,type:"number",value:""+Pe,onChange:function(e){return Ie(Math.max(0,parseInt(e,10)))}}),Object(_.jsx)(y.a,{floatingLabelText:Object(_.jsx)(s.Trans,{id:"Maximum FPS (0 for unlimited)"}),fullWidth:!0,type:"number",value:""+Ne,onChange:function(e){return Re(Math.max(0,parseInt(e,10)))}})]}),Ne>0&&Ne<60&&Object(_.jsx)(T.a,{identifier:"maximum-fps-too-low",kind:"warning",children:Object(_.jsx)(s.Trans,{id:"Most monitors have a refresh rate of 60 FPS. Setting a maximum number of FPS under 60 will force the game to skip frames, and the real number of FPS will be way below 60, making the game laggy and impacting the gameplay negatively. Consider putting 60 or more for the maximum number or FPS, or disable it by setting 0."})}),Pe<20&&Object(_.jsx)(T.a,{identifier:"minimum-fps-too-low",kind:"warning",children:Object(_.jsx)(s.Trans,{id:"Setting the minimum number of FPS below 20 will increase a lot the time that is allowed between the simulation of two frames of the game. If case of a sudden slowdown, or on slow computers, this can create buggy behaviors like objects passing beyond a wall. Consider setting 20 as the minimum FPS."})}),Object(_.jsxs)(O.a,{fullWidth:!0,floatingLabelText:Object(_.jsx)(s.Trans,{id:'Scale mode (also called "Sampling")'}),value:ge,onChange:function(e,t,n){return me(n)},children:[Object(_.jsx)(v.a,{value:"linear",primaryText:{id:"Linear (antialiased rendering, good for most games)"}}),Object(_.jsx)(v.a,{value:"nearest",primaryText:{id:"Nearest (no antialiasing, good for pixel perfect games)"}})]}),Object(_.jsx)(m.a,{label:Object(_.jsx)(s.Trans,{id:"Round pixels when rendering, useful for pixel perfect games."}),checked:xe,onCheck:function(e,t){return ye(t)}}),"nearest"===ge&&Object(_.jsx)(T.a,{identifier:"use-non-smoothed-textures",kind:"info",children:Object(_.jsx)(s.Trans,{id:"To obtain the best pixel-perfect effect possible, go in the resources editor and disable the Smoothing for all images of your game. It will be done automatically for new images added from now."})}),xe&&Object(_.jsx)(T.a,{identifier:"use-pixel-rounding",kind:"info",children:Object(_.jsx)(s.Trans,{id:"To avoid flickering on objects followed by the camera, use sprites with even dimensions."})}),Object(_.jsx)(w.a,{size:"title",children:Object(_.jsx)(s.Trans,{id:"Project files"})}),Object(_.jsxs)(O.a,{fullWidth:!0,floatingLabelText:Object(_.jsx)(s.Trans,{id:"Project file type"}),value:Fe?"folder-project":"single-file",onChange:function(e,t,n){return De("folder-project"===n)},children:[Object(_.jsx)(v.a,{value:"single-file",primaryText:{id:"Single file (default)"}}),Object(_.jsx)(v.a,{value:"folder-project",primaryText:{id:"Multiple files, saved in folder next to the main file"}})]}),Object(_.jsx)(A,{project:t})]}),"loading-screen"===He&&Object(_.jsx)(z,{loadingScreen:t.getLoadingScreen(),onChangeSubscription:function(){Xe(),e.onChangeSubscription()},project:t,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors})]})})}})},X=n(607),K=n(486),J=n(567),Z=n(492),Q=n(970),$=n(1468),ee=n.n($),te=n(594),ne=n.n(te),re=n(1465),oe=n.n(re),ae=n(1466),ie=n.n(ae),se=n(1463),ce=n.n(se),le=n(967),ue=n.n(le),de=n(4),pe=n(890),be=l.a.memo((function(e){return Object(_.jsx)(pe.a,Object(de.a)(Object(de.a)({},e),{},{children:Object(_.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})}))})),he=n(1467),je=n.n(he),fe=n(1462),ge=n.n(fe),me=n(1461),Oe=n.n(me),ve=n(1464),xe=n.n(ve),ye=n(968),Ce=n.n(ye),Te=n(990),Ee=n(992),ke=n(993),we=n(545),Se=function(e){return Object(we.a)("OPEN_PROJECT_PROPERTIES",!!e.project,{handler:e.onOpenProjectProperties}),Object(we.a)("OPEN_PROJECT_LOADING_SCREEN",!!e.project,{handler:e.onOpenProjectLoadingScreen}),Object(we.a)("OPEN_PROJECT_VARIABLES",!!e.project,{handler:e.onOpenProjectVariables}),Object(we.a)("OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG",!!e.project,{handler:e.onOpenPlatformSpecificAssetsDialog}),Object(we.a)("OPEN_PROJECT_RESOURCES",!!e.project,{handler:e.onOpenResourcesDialog}),Object(we.a)("OPEN_SEARCH_EXTENSIONS_DIALOG",!!e.project,{handler:e.onOpenSearchExtensionDialog}),null},Pe=n(576),Ie=n(3),_e=n(0),Ae=n.n(_e),Ne=n(1161),Re=n(552),Le=n(806);var Me=function(e){var t=e.project,n=e.onClose,r=e.extensionShortHeader,o=e.extensionName,a=e.onInstallExtension,i=e.onOpenEventsFunctionsExtension,c=l.a.useState(!1),u=Object(f.a)(c,2),d=u[0],p=u[1],b=l.a.useContext(Re.a),h=function(){var e=Object(Ie.a)(Ae.a.mark((function e(n){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,a(r),e.next=5,Object(Le.b)(n,t,b,r);case 5:return e.prev=5,p(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[1,,5,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)(s.I18n,{children:function(e){var a=e.i18n;return Object(_.jsx)(Ne.a,{project:t,isInstalling:d,onClose:n,onInstall:function(){return h(a)},extensionShortHeader:r,onEdit:function(){i(o),n()}})}})},Fe=n(18),De=n(593),Be=n.n(De),Ue=n(644),Ve=n(500),We=n(469),Ge=n(101),ze=n(635),He=n(801),Ye={noIndentNestedList:{padding:0},itemTextField:{top:We.c}},qe=function(e){return Object(_.jsx)(Ve.a,{children:function(t){var n=e.error,r=e.leftIcon,o=e.onRefresh,a=e.indentNestedItems,i=e.autoGenerateNestedIndicator,s=e.initiallyOpen,c=e.open,l=e.primaryText,d=e.renderNestedItems;return Object(_.jsx)(u.b,{open:c,autoGenerateNestedIndicator:i,initiallyOpen:s,primaryText:l,renderNestedItems:d,onReload:o,style:{backgroundColor:t.listItem.groupBackgroundColor,borderBottom:"1px solid ".concat(t.listItem.separatorColor)},nestedListStyle:a?void 0:Ye.noIndentNestedList,leftIcon:n?Object(_.jsx)(Be.a,{}):r,displayReloadButton:!!n,reloadButtonTooltip:"An error has occured in functions. Click to reload them."})}})},Xe=function(e){var t=e.primaryText,n=e.textEndAdornment,r=e.editingName,o=e.leftIcon,a=e.onEdit,i=e.onDelete,l=e.addLabel,d=e.onAdd,p=e.onRename,b=e.onEditName,h=e.onCopy,j=e.onCut,f=e.onPaste,g=e.onDuplicate,m=e.canPaste,O=e.canMoveUp,v=e.onMoveUp,x=e.canMoveDown,y=e.onMoveDown,C=e.buildExtraMenuTemplate,T=e.style,E=c.useRef(null);c.useEffect((function(){r&&setTimeout((function(){E.current&&E.current.focus()}),100)}),[r]);var k=r?Object(_.jsx)(We.b,{id:"rename-item-field",margin:"none",ref:E,defaultValue:t,onBlur:function(e){return p(e.currentTarget.value)},onKeyPress:function(e){Object(Ge.g)(e)&&E.current&&E.current.blur()},fullWidth:!0,style:Ye.itemTextField}):Object(_.jsxs)("div",{style:{display:"inline-flex",width:"100%",alignItems:"center"},children:[Object(_.jsx)("span",{style:ze.a,title:t,children:t}),n&&Object(_.jsx)("span",{style:{marginLeft:5,display:"flex"},children:n})]});return Object(_.jsx)(Ve.a,{children:function(e){return Object(_.jsx)(s.I18n,{children:function(t){t.i18n;return Object(_.jsx)(u.b,{style:Object(de.a)({borderBottom:"1px solid ".concat(e.listItem.separatorColor)},T),primaryText:k,leftIcon:o,displayMenuButton:!0,buildMenuTemplate:function(e){return[{label:e._({id:"Edit"}),click:a}].concat(Object(Fe.a)(C?C(e):[]),[{type:"separator"},{label:e._({id:"Rename"}),click:b},{label:e._({id:"Delete"}),click:i},{label:e._(l),visible:!!d,click:d},{type:"separator"},{label:e._({id:"Copy"}),click:h},{label:e._({id:"Cut"}),click:j},{label:e._({id:"Paste"}),enabled:m(),click:f},{label:e._({id:"Duplicate"}),click:g},{type:"separator"},{label:e._({id:"Move up"}),enabled:O,click:v},{label:e._({id:"Move down"}),enabled:x,click:y}])},onClick:function(){r||a()}})}})}})},Ke=function(e){var t=e.eventsFunctionsExtension,n=e.onEdit,r=e.onRename,o=e.onEditName,a=e.isEditingName,i=e.onDelete,s=e.onAdd,l=e.onCopy,u=e.onCut,d=e.onPaste,p=e.onDuplicate,b=e.canPaste,h=e.canMoveUp,j=e.onMoveUp,f=e.canMoveDown,g=e.onMoveDown,m=t.getName(),O=t.getIconUrl(),v=c.useContext(He.a).extensionShortHeadersByName;return Object(_.jsx)(Xe,{leftIcon:O?Object(_.jsx)(Ue.a,{size:24,alt:t.getFullName(),src:O}):null,primaryText:m,editingName:a,onEdit:function(){return n(v)},onDelete:i,addLabel:{id:"Add a New Extension"},onAdd:s,onRename:r,onEditName:o,onCopy:l,onCut:u,onPaste:d,onDuplicate:p,canPaste:b,canMoveUp:h,onMoveUp:j,canMoveDown:f,onMoveDown:g})},Je=n(2159),Ze="Layout",Qe="External layout",$e="External events",et="Events Functions Extension",tt={container:{flex:1,display:"flex",flexDirection:"column",overflowY:"hidden"},list:{flex:1,overflowY:"scroll",padding:0}},nt=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={editedPropertiesLayout:null,editedVariablesLayout:null,renamedItemKind:null,renamedItemName:"",searchText:"",projectPropertiesDialogOpen:!1,projectPropertiesDialogInitialTab:"properties",projectVariablesEditorOpen:!1,extensionsSearchDialogOpen:!1,openedExtensionShortHeader:null,openedExtensionName:null,isInstallingExtension:!1,layoutPropertiesDialogOpen:!1,layoutVariablesDialogOpen:!1},e._openProjectProperties=function(){e.setState({projectPropertiesDialogOpen:!0,projectPropertiesDialogInitialTab:"properties"})},e._openProjectLoadingScreen=function(){e.setState({projectPropertiesDialogOpen:!0,projectPropertiesDialogInitialTab:"loading-screen"})},e._openProjectVariables=function(){e.setState({projectVariablesEditorOpen:!0})},e._openSearchExtensionDialog=function(){e.setState({extensionsSearchDialogOpen:!0})},e._onEditName=function(t,n){e.setState({renamedItemKind:t,renamedItemName:n})},e._copyLayout=function(e){J.b.set(Ze,{layout:Object(Z.b)(e),name:e.getName()})},e._cutLayout=function(t){e._copyLayout(t),e.props.onDeleteLayout(t)},e._pasteLayout=function(t){if(J.b.has(Ze)){var n=J.b.get(Ze),r=J.a.extractObjectProperty(n,"layout"),o=J.a.extractStringProperty(n,"name");if(o&&r){var a=e.props.project,i=Object(K.a)(o,(function(e){return a.hasLayoutNamed(e)})),s=a.insertNewLayout(i,t);Object(Z.c)(s,r,"unserializeFrom",a),s.setName(i),s.updateBehaviorsSharedData(a),e._onProjectItemModified()}}},e._duplicateLayout=function(t,n){e._copyLayout(t),e._pasteLayout(n)},e._addLayout=function(t,n){var r=e.props.project,o=Object(K.a)(n._({id:"Untitled scene"}),(function(e){return r.hasLayoutNamed(e)})),a=r.insertNewLayout(o,t+1);a.setName(o),a.updateBehaviorsSharedData(r),e._onProjectItemModified()},e._onOpenLayoutProperties=function(t){e.setState({editedPropertiesLayout:t})},e._onOpenLayoutVariables=function(t){e.setState({editedVariablesLayout:t})},e._addExternalEvents=function(t,n){var r=e.props.project,o=Object(K.a)(n._({id:"Untitled external events"}),(function(e){return r.hasExternalEventsNamed(e)}));r.insertNewExternalEvents(o,t+1),e._onProjectItemModified()},e._addExternalLayout=function(t,n){var r=e.props.project,o=Object(K.a)(n._({id:"Untitled external layout"}),(function(e){return r.hasExternalLayoutNamed(e)}));r.insertNewExternalLayout(o,t+1),e._onProjectItemModified()},e._addEventsFunctionsExtension=function(t,n){var r=e.props.project,o=Object(K.a)(n._({id:"UntitledExtension"}),(function(e){return Object(ke.a)(e,r)}));return r.insertNewEventsFunctionsExtension(o,t+1),e._onProjectItemModified(),o},e._moveUpLayout=function(t){var n=e.props.project;t<=0||(n.swapLayouts(t,t-1),e._onProjectItemModified())},e._moveDownLayout=function(t){var n=e.props.project;t>=n.getLayoutsCount()-1||(n.swapLayouts(t,t+1),e._onProjectItemModified())},e._copyExternalEvents=function(e){J.b.set($e,{externalEvents:Object(Z.b)(e),name:e.getName()})},e._cutExternalEvents=function(t){e._copyExternalEvents(t),e.props.onDeleteExternalEvents(t)},e._pasteExternalEvents=function(t){if(J.b.has($e)){var n=J.b.get($e),r=J.a.extractObjectProperty(n,"externalEvents"),o=J.a.extractStringProperty(n,"name");if(o&&r){var a=e.props.project,i=Object(K.a)(o,(function(e){return a.hasExternalEventsNamed(e)})),s=a.insertNewExternalEvents(i,t);Object(Z.c)(s,r,"unserializeFrom",a),s.setName(i),e._onProjectItemModified()}}},e._duplicateExternalEvents=function(t,n){e._copyExternalEvents(t),e._pasteExternalEvents(n)},e._moveUpExternalEvents=function(t){var n=e.props.project;t<=0||(n.swapExternalEvents(t,t-1),e._onProjectItemModified())},e._moveDownExternalEvents=function(t){var n=e.props.project;t>=n.getExternalEventsCount()-1||(n.swapExternalEvents(t,t+1),e._onProjectItemModified())},e._copyExternalLayout=function(e){J.b.set(Qe,{externalLayout:Object(Z.b)(e),name:e.getName()})},e._cutExternalLayout=function(t){e._copyExternalLayout(t),e.props.onDeleteExternalLayout(t)},e._pasteExternalLayout=function(t){if(J.b.has(Qe)){var n=J.b.get(Qe),r=J.a.extractObjectProperty(n,"externalLayout"),o=J.a.extractStringProperty(n,"name");if(o&&r){var a=e.props.project,i=Object(K.a)(o,(function(e){return a.hasExternalLayoutNamed(e)})),s=a.insertNewExternalLayout(i,t);Object(Z.c)(s,r),s.setName(i),e._onProjectItemModified()}}},e._duplicateExternalLayout=function(t,n){e._copyExternalLayout(t),e._pasteExternalLayout(n)},e._moveUpExternalLayout=function(t){var n=e.props.project;t<=0||(n.swapExternalLayouts(t,t-1),e._onProjectItemModified())},e._moveDownExternalLayout=function(t){var n=e.props.project;t>=n.getExternalLayoutsCount()-1||(n.swapExternalLayouts(t,t+1),e._onProjectItemModified())},e._copyEventsFunctionsExtension=function(e){J.b.set(et,{eventsFunctionsExtension:Object(Z.b)(e),name:e.getName()})},e._cutEventsFunctionsExtension=function(t){e._copyEventsFunctionsExtension(t),e.props.onDeleteEventsFunctionsExtension(t)},e._duplicateEventsFunctionsExtension=function(t,n){e._copyEventsFunctionsExtension(t),e._pasteEventsFunctionsExtension(n)},e._pasteEventsFunctionsExtension=function(t){if(J.b.has(et)){var n=J.b.get(et),r=J.a.extractObjectProperty(n,"eventsFunctionsExtension"),o=J.a.extractStringProperty(n,"name");if(o&&r){var a=e.props.project,i=Object(K.a)(o,(function(e){return Object(ke.a)(e,a)})),s=a.insertNewEventsFunctionsExtension(i,t);Object(Z.c)(s,r,"unserializeFrom",a),s.setName(i),e._onProjectItemModified(),e.props.onReloadEventsFunctionsExtensions()}}},e._moveUpEventsFunctionsExtension=function(t){var n=e.props.project;t<=0||(n.swapEventsFunctionsExtensions(t,t-1),e._onProjectItemModified())},e._moveDownEventsFunctionsExtension=function(t){var n=e.props.project;t>=n.getEventsFunctionsExtensionsCount()-1||(n.swapEventsFunctionsExtensions(t,t+1),e._onProjectItemModified())},e._onEditEventsFunctionExtensionOrSeeDetails=function(t,n,r){if("gdevelop-extension-store"===n.getOriginName()){var o=n.getOriginIdentifier(),a=t[o];if(!a)return console.warn("This extension was downloaded from the store but its reference ".concat(o," couldn't be found in the store. Opening the extension in the editor...")),void e.props.onOpenEventsFunctionsExtension(r);e.setState({openedExtensionShortHeader:a,openedExtensionName:r})}else e.props.onOpenEventsFunctionsExtension(r)},e._onSearchChange=function(t){return e.setState({searchText:t})},e._onRequestSearch=function(){},e._onProjectItemModified=function(){e.forceUpdate(),e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges()},e._setProjectFirstLayout=function(t){e.props.project.setFirstLayout(t),e.forceUpdate()},e._onCreateNewExtension=function(t,n){var r=e._addEventsFunctionsExtension(t.getEventsFunctionsExtensionsCount(),n);e.props.onOpenEventsFunctionsExtension(r),e.setState({extensionsSearchDialogOpen:!1})},e}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return t.projectPropertiesDialogOpen!==this.state.projectPropertiesDialogOpen||t.projectVariablesEditorOpen!==this.state.projectVariablesEditorOpen||t.extensionsSearchDialogOpen!==this.state.extensionsSearchDialogOpen||t.openedExtensionShortHeader!==this.state.openedExtensionShortHeader||!e.freezeUpdate}},{key:"componentDidUpdate",value:function(e){!this.props.freezeUpdate&&e.freezeUpdate&&Object(d.b)()&&this._searchBar&&this._searchBar.focus()}},{key:"_renderMenu",value:function(){var e=this;return h.b.hasMainMenu()?null:Object(_.jsxs)(c.Fragment,{children:[Object(_.jsx)(u.b,{primaryText:Object(_.jsx)(s.Trans,{id:"Save"}),leftIcon:Object(_.jsx)(ue.a,{}),onClick:function(){return e.props.onSaveProject()}},"save"),Object(_.jsx)(u.b,{primaryText:Object(_.jsx)(s.Trans,{id:"Save as..."}),leftIcon:Object(_.jsx)(Oe.a,{}),onClick:function(){return e.props.onSaveProjectAs()}},"save-as"),Object(_.jsx)(u.b,{primaryText:Object(_.jsx)(s.Trans,{id:"Export"}),leftIcon:Object(_.jsx)(ge.a,{}),onClick:function(){return e.props.onExportProject()}},"export"),Object(_.jsx)(u.b,{primaryText:Object(_.jsx)(s.Trans,{id:"Close"}),leftIcon:Object(_.jsx)(ne.a,{}),onClick:function(){return e.props.onCloseProject()}},"close"),Object(_.jsx)(u.b,{primaryText:Object(_.jsx)(s.Trans,{id:"Preferences"}),leftIcon:Object(_.jsx)(ce.a,{}),onClick:function(){return e.props.onOpenPreferences()}},"preferences"),Object(_.jsx)(u.b,{primaryText:Object(_.jsx)(s.Trans,{id:"My profile"}),leftIcon:Object(_.jsx)(xe.a,{}),onClick:function(){return e.props.onOpenProfile()}},"profile"),Object(_.jsx)(u.b,{primaryText:Object(_.jsx)(s.Trans,{id:"Published Games Dashboard"}),leftIcon:Object(_.jsx)(Ce.a,{}),onClick:function(){return e.props.onOpenGamesDashboard()}},"games-dashboard")]})}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsFunctionsExtensionsError,o=t.onReloadEventsFunctionsExtensions,a=t.onInstallExtension,i=this.state,c=i.renamedItemKind,l=i.renamedItemName,h=i.searchText,f=i.openedExtensionShortHeader,g=i.openedExtensionName,m=""!==h||void 0,O=n.getFirstLayout();return Object(_.jsx)(s.I18n,{children:function(t){var i=t.i18n;return Object(_.jsxs)("div",{style:tt.container,children:[Object(_.jsx)(Se,{project:e.props.project,onOpenProjectProperties:e._openProjectProperties,onOpenProjectLoadingScreen:e._openProjectLoadingScreen,onOpenProjectVariables:e._openProjectVariables,onOpenResourcesDialog:e.props.onOpenResources,onOpenPlatformSpecificAssetsDialog:e.props.onOpenPlatformSpecificAssets,onOpenSearchExtensionDialog:e._openSearchExtensionDialog}),Object(_.jsxs)(u.a,{style:tt.list,children:[e._renderMenu(),Object(_.jsx)(qe,{primaryText:Object(_.jsx)(s.Trans,{id:"Game settings"}),leftIcon:Object(_.jsx)(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/projectManager32.png"}),initiallyOpen:!1,autoGenerateNestedIndicator:!0,indentNestedItems:!0,renderNestedItems:function(){return[Object(_.jsx)(u.b,{primaryText:Object(_.jsx)(s.Trans,{id:"Properties"}),leftIcon:Object(_.jsx)(oe.a,{}),onClick:e._openProjectProperties},"properties"),Object(_.jsx)(u.b,{primaryText:Object(_.jsx)(s.Trans,{id:"Global variables"}),leftIcon:Object(_.jsx)(be,{}),onClick:e._openProjectVariables},"global-variables"),Object(_.jsx)(u.b,{primaryText:Object(_.jsx)(s.Trans,{id:"Icons and thumbnail"}),leftIcon:Object(_.jsx)(ie.a,{}),onClick:e.props.onOpenPlatformSpecificAssets},"icons"),Object(_.jsx)(u.b,{primaryText:Object(_.jsx)(s.Trans,{id:"Resources"}),leftIcon:Object(_.jsx)(je.a,{}),onClick:e.props.onOpenResources},"resources")]}}),Object(_.jsx)(qe,{primaryText:Object(_.jsx)(s.Trans,{id:"Scenes"}),leftIcon:Object(_.jsx)(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/sceneadd32.png"}),initiallyOpen:!0,open:m,autoGenerateNestedIndicator:!m,renderNestedItems:function(){return Object(X.e)(Object(X.d)(n),h).map((function(t,r){var o=t.getName();return Object(_.jsx)(Xe,{primaryText:o,textEndAdornment:o===O?Object(_.jsx)(Je.a,{title:i._({id:"This scene will be used as the start scene."}),children:Object(_.jsx)(ee.a,{color:"disabled",fontSize:"small"})}):void 0,editingName:"layout"===c&&l===o,onEdit:function(){return e.props.onOpenLayout(o)},onDelete:function(){return e.props.onDeleteLayout(t)},addLabel:{id:"Add a New Scene"},onAdd:function(){return e._addLayout(r,i)},onRename:function(t){e.props.onRenameLayout(o,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("layout",o)},onCopy:function(){return e._copyLayout(t)},onCut:function(){return e._cutLayout(t)},onPaste:function(){return e._pasteLayout(r)},onDuplicate:function(){return e._duplicateLayout(t,r)},canPaste:function(){return J.b.has(Ze)},canMoveUp:0!==r,onMoveUp:function(){return e._moveUpLayout(r)},canMoveDown:r!==n.getLayoutsCount()-1,onMoveDown:function(){return e._moveDownLayout(r)},buildExtraMenuTemplate:function(n){return[{label:n._({id:"Edit Scene Properties"}),enabled:!0,click:function(){return e._onOpenLayoutProperties(t)}},{label:n._({id:"Edit Scene Variables"}),enabled:!0,click:function(){return e._onOpenLayoutVariables(t)}},{label:n._({id:"Set as start scene"}),enabled:o!==O,click:function(){return e._setProjectFirstLayout(o)}}]}},r)})).concat(Object(_.jsx)(b.a,{onClick:function(){return e._addLayout(n.getLayoutsCount(),i)},primaryText:Object(_.jsx)(s.Trans,{id:"Click to add a scene"})},"add-scene"))}}),Object(_.jsx)(qe,{primaryText:Object(_.jsx)(s.Trans,{id:"External events"}),leftIcon:Object(_.jsx)(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/externalevents32.png"}),initiallyOpen:!1,open:m,autoGenerateNestedIndicator:!m,renderNestedItems:function(){return Object(X.e)(Object(X.b)(n),h).map((function(t,r){var o=t.getName();return Object(_.jsx)(Xe,{primaryText:o,editingName:"external-events"===c&&l===o,onEdit:function(){return e.props.onOpenExternalEvents(o)},onDelete:function(){return e.props.onDeleteExternalEvents(t)},addLabel:{id:"Add New External Events"},onAdd:function(){return e._addExternalEvents(r,i)},onRename:function(t){e.props.onRenameExternalEvents(o,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("external-events",o)},onCopy:function(){return e._copyExternalEvents(t)},onCut:function(){return e._cutExternalEvents(t)},onPaste:function(){return e._pasteExternalEvents(r)},onDuplicate:function(){return e._duplicateExternalEvents(t,r)},canPaste:function(){return J.b.has($e)},canMoveUp:0!==r,onMoveUp:function(){return e._moveUpExternalEvents(r)},canMoveDown:r!==n.getExternalEventsCount()-1,onMoveDown:function(){return e._moveDownExternalEvents(r)}},r)})).concat(Object(_.jsx)(b.a,{primaryText:Object(_.jsx)(s.Trans,{id:"Click to add external events"}),onClick:function(){return e._addExternalEvents(n.getExternalEventsCount(),i)}},"add-external-events"))}}),Object(_.jsx)(qe,{primaryText:Object(_.jsx)(s.Trans,{id:"External layouts"}),leftIcon:Object(_.jsx)(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/externallayout32.png"}),initiallyOpen:!1,open:m,autoGenerateNestedIndicator:!m,renderNestedItems:function(){return Object(X.e)(Object(X.c)(n),h).map((function(t,r){var o=t.getName();return Object(_.jsx)(Xe,{primaryText:o,editingName:"external-layout"===c&&l===o,onEdit:function(){return e.props.onOpenExternalLayout(o)},onDelete:function(){return e.props.onDeleteExternalLayout(t)},addLabel:{id:"Add a New External Layout"},onAdd:function(){return e._addExternalLayout(r,i)},onRename:function(t){e.props.onRenameExternalLayout(o,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("external-layout",o)},onCopy:function(){return e._copyExternalLayout(t)},onCut:function(){return e._cutExternalLayout(t)},onPaste:function(){return e._pasteExternalLayout(r)},onDuplicate:function(){return e._duplicateExternalLayout(t,r)},canPaste:function(){return J.b.has(Qe)},canMoveUp:0!==r,onMoveUp:function(){return e._moveUpExternalLayout(r)},canMoveDown:r!==n.getExternalLayoutsCount()-1,onMoveDown:function(){return e._moveDownExternalLayout(r)}},r)})).concat(Object(_.jsx)(b.a,{primaryText:Object(_.jsx)(s.Trans,{id:"Click to add an external layout"}),onClick:function(){return e._addExternalLayout(n.getExternalLayoutsCount(),i)}},"add-external-layout"))}}),Object(_.jsx)(qe,{primaryText:Object(_.jsx)(s.Trans,{id:"Functions/Behaviors"}),error:r,onRefresh:o,leftIcon:Object(_.jsx)(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/function32.png"}),initiallyOpen:!1,open:m,autoGenerateNestedIndicator:!m&&!r,renderNestedItems:function(){return Object(X.e)(Object(X.a)(n),h).map((function(t,r){var o=t.getName();return Object(_.jsx)(Ke,{eventsFunctionsExtension:t,isEditingName:"events-functions-extension"===c&&l===o,onEdit:function(n){return e._onEditEventsFunctionExtensionOrSeeDetails(n,t,o)},onDelete:function(){return e.props.onDeleteEventsFunctionsExtension(t)},onAdd:function(){e._addEventsFunctionsExtension(r,i)},onRename:function(t){e.props.onRenameEventsFunctionsExtension(o,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("events-functions-extension",o)},onCopy:function(){return e._copyEventsFunctionsExtension(t)},onCut:function(){return e._cutEventsFunctionsExtension(t)},onPaste:function(){return e._pasteEventsFunctionsExtension(r)},onDuplicate:function(){return e._duplicateEventsFunctionsExtension(t,r)},canPaste:function(){return J.b.has(et)},canMoveUp:0!==r,onMoveUp:function(){return e._moveUpEventsFunctionsExtension(r)},canMoveDown:r!==n.getEventsFunctionsExtensionsCount()-1,onMoveDown:function(){return e._moveDownEventsFunctionsExtension(r)}},r)})).concat(Object(_.jsx)(b.b,{primaryText:Object(_.jsx)(s.Trans,{id:"Create or search for new extensions"}),onClick:e._openSearchExtensionDialog},"extensions-search"))}})]}),Object(_.jsx)(d.a,{ref:function(t){return e._searchBar=t},value:h,onRequestSearch:e._onRequestSearch,onChange:e._onSearchChange,placeholder:{id:"Search in project"},aspect:"integrated-search-bar"}),e.state.projectVariablesEditorOpen&&Object(_.jsx)(j.a,{title:Object(_.jsx)(s.Trans,{id:"Global Variables"}),open:!0,variablesContainer:n.getVariables(),onCancel:function(){return e.setState({projectVariablesEditorOpen:!1})},onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.setState({projectVariablesEditorOpen:!1})},emptyPlaceholderTitle:Object(_.jsx)(s.Trans,{id:"Add your first global variable"}),emptyPlaceholderDescription:Object(_.jsx)(s.Trans,{id:"These variables hold additional information on a project."}),helpPagePath:"/all-features/variables/global-variables",hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps,onComputeAllVariableNames:function(){return Pe.a.findAllGlobalVariables(n.getCurrentPlatform(),n)}}),e.state.projectPropertiesDialogOpen&&Object(_.jsx)(q,{open:!0,initialTab:e.state.projectPropertiesDialogInitialTab,project:n,onClose:function(){return e.setState({projectPropertiesDialogOpen:!1})},onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.setState({projectPropertiesDialogOpen:!1})},onChangeSubscription:e.props.onChangeSubscription,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps}),!!e.state.editedPropertiesLayout&&Object(_.jsx)(Te.a,{open:!0,layout:e.state.editedPropertiesLayout,project:e.props.project,onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._onOpenLayoutProperties(null)},onClose:function(){return e._onOpenLayoutProperties(null)},onEditVariables:function(){e._onOpenLayoutVariables(e.state.editedPropertiesLayout),e._onOpenLayoutProperties(null)}}),!!e.state.editedVariablesLayout&&Object(_.jsx)(Ee.a,{open:!0,project:n,layout:e.state.editedVariablesLayout,onClose:function(){return e._onOpenLayoutVariables(null)},onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._onOpenLayoutVariables(null)},hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps}),e.state.extensionsSearchDialogOpen&&Object(_.jsx)(Q.a,{project:n,onClose:function(){return e.setState({extensionsSearchDialogOpen:!1})},onInstallExtension:a,onCreateNew:function(){e._onCreateNewExtension(n,i)}}),f&&g&&Object(_.jsx)(Me,{project:n,onClose:function(){return e.setState({openedExtensionShortHeader:null,openedExtensionName:null})},onOpenEventsFunctionsExtension:e.props.onOpenEventsFunctionsExtension,extensionShortHeader:f,extensionName:g,onInstallExtension:a})]})}})}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(26),o=n(12),a=n(1),i=n.n(a),s=n(136),c=n(495),l=n(100),u=n(30),d=n(790),p=n(4),b=n(480),h=n(80),j=n(478),f=n(794),g=n(1153),m=n(544),O=n(7),v=function(e){var t,n,i=e.onEditProfile,c=e.onChangeEmail,l=e.authenticatedUser,u=l.profile,d=l.firebaseUser,v=Object(f.a)(),x=a.useState(!1),y=Object(r.a)(x,2),C=y[0],T=y[1],E=a.useCallback((function(){l.onSendEmailVerification(),T(!0),setTimeout((function(){v.current&&T(!1)}),3e3)}),[l,v]);return t=a.useCallback((function(){return Object(m.k)(l)}),[l]),n=5e3,Object(a.useEffect)((function(){var e=setTimeout(t,n);return function(){return clearTimeout(e)}}),[t,n]),d&&u?Object(O.jsxs)(h.a,{noMargin:!0,children:[d&&!d.emailVerified&&Object(O.jsx)(j.a,{kind:"info",renderRightButton:function(){return Object(O.jsx)(s.a,{label:C?Object(O.jsx)(o.Trans,{id:"Email sent!"}):Object(O.jsx)(o.Trans,{id:"Send it again"}),onClick:E,disabled:C,primary:!0})},children:Object(O.jsx)(o.Trans,{id:"It looks like your email is not verified. Click on the link received by email to verify your account. Didn't receive it?"})}),Object(O.jsx)(g.a,{profile:l.profile?Object(p.a)(Object(p.a)({},l.profile),{},{email:d.email}):null,isAuthenticatedUserProfile:!0,onChangeEmail:c,onEditProfile:i,badges:l.badges})]}):Object(O.jsx)(b.a,{})},x=n(472),y=n(137),C=n(463),T=function(e){var t=e.subscription,n=e.onChangeSubscription;return t?Object(O.jsxs)(u.a,{children:[Object(O.jsx)(u.c,{alignItems:"center",children:Object(O.jsx)(C.a,{size:"title",children:"My online services subscriptions"})}),t.planId?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.c,{children:Object(O.jsx)(C.a,{children:Object(O.jsx)(o.Trans,{id:"You are subscribed to {0}. Congratulations! You have access to more online services, including building your game for Android, Windows, macOS and Linux in one click!",values:{0:t.planId}})})}),Object(O.jsx)(u.c,{justifyContent:"flex-end",children:Object(O.jsx)(y.a,{label:Object(O.jsx)(o.Trans,{id:"Upgrade/change"}),primary:!0,onClick:n})})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.c,{children:Object(O.jsx)(C.a,{children:Object(O.jsx)(o.Trans,{id:"If you don't have a subscription, consider getting one now. Accounts allow you to access all of the online services. With just one click, you can build your game for Android, Windows, macOS and Linux!"})})}),Object(O.jsx)(u.c,{justifyContent:"flex-end",children:Object(O.jsx)(y.a,{label:Object(O.jsx)(o.Trans,{id:"Choose a subscription"}),primary:!0,onClick:n})})]})]}):Object(O.jsx)(b.a,{})},E=n(3),k=n(0),w=n.n(k),S=n(703),P=n(644),I=n(643),_=n(610),A=n(506),N=n(470),R=function(e){var t=e.fullName,n=e.previewIconUrl,r=e.shortDescription;return Object(O.jsxs)(u.c,{children:[n&&Object(O.jsx)(P.a,{alt:t,src:n,size:64}),Object(O.jsxs)(u.a,{expand:!0,children:[Object(O.jsx)(C.a,{noMargin:!0,children:t}),Object(O.jsx)(C.a,{noMargin:!0,size:"body2",children:r})]})]})},L=function(e){var t=e.examples;return e.exampleError?Object(O.jsx)(u.a,{children:Object(O.jsx)(u.c,{alignItems:"center",children:Object(O.jsx)(C.a,{children:Object(O.jsx)(o.Trans,{id:"Error retrieving the examples"})})})}):Object(O.jsxs)(S.a,{children:[Object(O.jsx)(S.c,{children:Object(O.jsx)(C.a,{displayInlineAsSpan:!0,children:Object(O.jsx)(o.Trans,{id:"Examples ({0})",values:{0:t.length}})})}),Object(O.jsx)(S.b,{disableGutters:!0,children:0===t.length?Object(O.jsx)(N.a,{children:Object(O.jsx)(o.Trans,{id:"You haven't contributed any examples"})}):Object(O.jsx)(u.a,{children:t.map((function(e){return Object(O.jsx)(R,{shortDescription:e.shortDescription,fullName:e.name,previewIconUrl:e.previewImageUrls?e.previewImageUrls[0]:""},e.name)}))})})]})},M=function(e){var t=e.extensions;return e.extensionError?Object(O.jsx)(u.a,{children:Object(O.jsx)(u.c,{alignItems:"center",children:Object(O.jsx)(C.a,{children:Object(O.jsx)(o.Trans,{id:"Error retrieving the extensions"})})})}):Object(O.jsxs)(S.a,{children:[Object(O.jsx)(S.c,{children:Object(O.jsx)(C.a,{displayInlineAsSpan:!0,children:Object(O.jsx)(o.Trans,{id:"Extensions ({0})",values:{0:t.length}})})}),Object(O.jsx)(S.b,{disableGutters:!0,children:0===t.length?Object(O.jsx)(N.a,{children:Object(O.jsx)(o.Trans,{id:"You haven't contributed any extensions"})}):Object(O.jsx)(u.a,{children:t.map((function(e){return Object(O.jsx)(R,{shortDescription:e.shortDescription,fullName:e.fullName,previewIconUrl:e.previewIconUrl},e.name)}))})})]})},F=function(e){e.examples;return Object(O.jsx)(S.a,{disabled:!0,children:Object(O.jsx)(S.c,{children:Object(O.jsx)(C.a,{displayInlineAsSpan:!0,children:Object(O.jsx)(o.Trans,{id:"Assets (coming soon!)"})})})})},D=function(e){var t=e.userId,n=a.useState(null),i=Object(r.a)(n,2),s=i[0],c=i[1],l=a.useState(null),d=Object(r.a)(l,2),p=d[0],h=d[1],j=a.useState(null),f=Object(r.a)(j,2),g=f[0],m=f[1],v=a.useState(null),x=Object(r.a)(v,2),y=x[0],T=x[1],k=a.useCallback((function(){Object(E.a)(w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(I.d)(t);case 5:n=e.sent,c(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error while loading extensions:",e.t0),m(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()}),[t]);a.useEffect((function(){k()}),[k]);var S=a.useCallback((function(){Object(E.a)(w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(_.b)(t);case 5:n=e.sent,h(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error while loading examples:",e.t0),T(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()}),[t]);return a.useEffect((function(){S()}),[S]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.a,{children:Object(O.jsx)(u.c,{alignItems:"center",children:Object(O.jsx)(C.a,{size:"title",children:Object(O.jsx)(o.Trans,{id:"Contributions"})})})}),p&&s?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(M,{extensions:s,extensionError:g}),Object(O.jsx)(L,{examples:p,exampleError:y}),Object(O.jsx)(F,{examples:p}),Object(O.jsx)(u.a,{children:Object(O.jsx)(A.a,{children:Object(O.jsx)(o.Trans,{id:"Missing some contributions? If you are the author, create a Pull Request on the corresponding GitHub repository after adding your username in the authors of the example or the extension - or directly ask the original author to add your username."})})})]}):Object(O.jsx)(b.a,{})]})},B=n(490),U=n(18),V=n(518),W=n(529),G=n(2190),z=n(2191),H=n(2287),Y=n(2192),q=n(35),X=n(965),K=function(e){var t=e.game,n=e.isCurrentGame,r=e.onOpenGameManager,a=function(){var e=Object(W.g)(t);e&&q.b.openExternalURL(e)};return Object(O.jsx)(o.I18n,{children:function(e){var i=e.i18n;return Object(O.jsx)(G.a,{children:Object(O.jsxs)(h.c,{children:[Object(O.jsx)(X.a,{gameName:t.gameName,thumbnailUrl:t.thumbnailUrl}),Object(O.jsxs)(u.a,{expand:!0,children:[Object(O.jsx)(z.a,{title:t.gameName,subheader:Object(O.jsxs)(u.c,{alignItems:"center",noMargin:!0,children:[Object(O.jsx)(o.Trans,{id:"Created on {0}",values:{0:i.date(1e3*t.createdAt)}}),n&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.d,{}),Object(O.jsx)(H.a,{size:"small",label:Object(O.jsx)(o.Trans,{id:"Currently edited"}),color:"primary"})]}),t.publicWebBuildId&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.d,{}),Object(O.jsx)(H.a,{size:"small",label:t.discoverable?Object(O.jsx)(o.Trans,{id:"Discoverable on Liluo.io"}):Object(O.jsx)(o.Trans,{id:"Published on Liluo.io"})})]})]})}),Object(O.jsx)(Y.a,{children:Object(O.jsxs)(h.c,{expand:!0,noMargin:!0,justifyContent:"flex-end",children:[t.publicWebBuildId&&Object(O.jsx)(y.a,{label:Object(O.jsx)(o.Trans,{id:"Open in browser"}),onClick:a}),Object(O.jsx)(y.a,{label:Object(O.jsx)(o.Trans,{id:"Manage game"}),onClick:r,primary:!0})]})})]})]})},t.id)}})},J=n(692),Z=n(1157),Q=function(e){var t=a.useState(null),n=Object(r.a)(t,2),i=n[0],s=n[1],c=a.useState(null),l=Object(r.a)(c,2),u=l[0],d=l[1],p=a.useContext(B.a),j=p.authenticated,f=p.firebaseUser,g=p.getAuthorizationHeader,m=a.useState(null),v=Object(r.a)(m,2),x=v[0],y=v[1],C=a.useState("details"),T=Object(r.a)(C,2),k=T[0],S=T[1],P=a.useCallback(Object(E.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j&&f){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,s(null),e.next=6,Object(W.h)(g,f.uid);case 6:t=e.sent,d(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error while loading user games.",e.t0),s(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),[j,f,g]);if(a.useEffect((function(){P()}),[P]),!j)return null;if(!u&&i)return Object(O.jsx)(V.a,{onRetry:function(){P()},children:Object(O.jsx)(o.Trans,{id:"Can't load the games. Verify your internet connection or retry later."})});if(!u)return Object(O.jsx)(b.a,{});var I=e.project?e.project.getProjectUuid():null,_=u.find((function(e){return!!I&&e.id===I})),A=[_].concat(Object(U.a)(u.filter((function(e){return e!==_})))).filter(Boolean);return Object(O.jsxs)(h.a,{noMargin:!0,children:[Object(O.jsx)(J.a,{project:e.project,hideIfRegistered:!0,hideLoader:!0,onGameRegistered:function(){P()}}),A.map((function(e){return Object(O.jsx)(K,{isCurrentGame:!!I&&e.id===I,game:e,onOpenGameManager:function(){S("details"),y(e)}},e.id)})),x&&Object(O.jsx)(Z.a,{game:x,project:I&&x.id===I?e.project:null,initialTab:k,onClose:function(){y(null)},onGameUpdated:function(e){d(u.map((function(t){return t===x?e:t}))),y(e)},onGameDeleted:function(){y(null),P()}})]})};t.a=function(e){var t=e.currentProject,n=e.open,a=e.onClose,p=e.onChangeSubscription,b=e.initialTab,j=i.a.useState(b),f=Object(r.a)(j,2),g=f[0],m=f[1],y=i.a.useContext(B.a),C=i.a.useCallback((function(e){m(e)}),[m]);return i.a.useEffect((function(){n&&y.onRefreshUserProfile()}),[y.onRefreshUserProfile,n]),Object(O.jsxs)(l.b,{actions:[Object(O.jsx)(s.a,{label:Object(O.jsx)(o.Trans,{id:"Close"}),primary:!1,onClick:a},"close")],secondaryActions:[Object(O.jsx)(x.a,{helpPagePath:"games-dashboard"===g?"/interface/games-dashboard":"/interface/profile"},"help"),y.authenticated&&y.profile&&Object(O.jsx)(s.a,{label:Object(O.jsx)(o.Trans,{id:"Logout"}),onClick:y.onLogout},"logout")],onRequestClose:a,open:n,noMargin:!0,fullHeight:!0,noTitleMargin:!0,title:Object(O.jsxs)(c.b,{value:g,onChange:C,children:[Object(O.jsx)(c.a,{label:Object(O.jsx)(o.Trans,{id:"My Profile"}),value:"profile"}),Object(O.jsx)(c.a,{label:Object(O.jsx)(o.Trans,{id:"Games Dashboard"}),value:"games-dashboard"})]}),children:["profile"===g&&(y.authenticated&&y.profile?Object(O.jsx)(u.c,{children:Object(O.jsxs)(u.a,{expand:!0,children:[Object(O.jsx)(v,{authenticatedUser:y,onEditProfile:y.onEdit,onChangeEmail:y.onChangeEmail}),Object(O.jsx)(T,{subscription:y.subscription,onChangeSubscription:p}),Object(O.jsx)(D,{userId:y.profile.id})]})}):Object(O.jsx)(u.a,{children:Object(O.jsx)(d.a,{onLogin:y.onLogin,onCreateAccount:y.onCreateAccount})})),"games-dashboard"===g&&(y.authenticated?Object(O.jsx)(u.c,{children:Object(O.jsx)(h.a,{expand:!0,noOverflowParent:!0,children:Object(O.jsx)(Q,{project:t})})}):Object(O.jsx)(u.a,{children:Object(O.jsx)(d.a,{onLogin:y.onLogin,onCreateAccount:y.onCreateAccount,message:Object(O.jsx)(o.Trans,{id:"Create an account to register your games and to get access to metrics collected anonymously, like the number of daily players and retention of the players after a few days."})})}))]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ie}));var r=n(3),o=n(26),a=n(4),i=n(11),s=n(0),c=n.n(s),l=n(1),u=n(12),d=n(1844),p=n.n(d),b=n(1842),h=n.n(b),j=n(1843),f=n.n(j),g=n(1841),m=n.n(g),O=n(136),v=n(471),x=n(30),y=n(137),C=n(430),T=n(2207),E=n(2208),k=n(2209),w=n(1107),S=n.n(w),P=n(1108),I=n.n(P),_=n(1828),A=n.n(_),N=n(2210),R=n(35),L=n(463),M=n(86),F=n(101),D=n(478),B=n(7),U={imageHeight:{small:120,medium:130,large:140},arrowWidth:{small:24,medium:30,large:36}},V=Array(4).fill(0).map((function(e){return Math.random()})),W={itemTitle:{textOverflow:"ellipsis",overflow:"hidden",overflowWrap:"break-word",whiteSpace:"nowrap"},gridList:{position:"relative"},image:{display:"block",objectFit:"cover"},error:{display:"flex",justifyContent:"center",alignItems:"center"},itemTitleContainer:{height:24},arrowContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:32}},G=Object(C.a)({root:{overflowX:"scroll",overflowY:"hidden",flexWrap:"nowrap",scrollbarWidth:"none","-ms-overflow-style":"none","&::-webkit-scrollbar":{height:0}}}),z=Object(C.a)((function(e){return Object(T.a)({root:{width:"unset !important","&:focus":{border:"".concat(2,"px solid ").concat(e.palette.primary.main),outline:"none"},"&:focus-visible":{outline:"unset"}},tile:{display:"flex",flexDirection:"column"}})})),H=Object(C.a)({arrow:{"& > path":{transform:"translate(5px, 0px)"}}}),Y=function(e){var t=e.title,n=e.items,r=e.additionalAction,i=e.browseAllLink,s=e.onBrowseAllClick,c=e.browseAllLabel,u=e.error,d=e.displayItemTitles,p=void 0===d||d,b=l.useState(!1),h=Object(o.a)(b,2),j=h[0],f=h[1],g=G(),m=z(),v=H(),y=l.useRef(null),C=l.useState(null),T=Object(o.a)(C,2),w=T[0],P=T[1],_=n&&n.length>0,Y=n&&n.length>0?n:Array(4).fill({skeleton:!0,title:"",thumbnail:""}).map((function(e,t){return Object(a.a)(Object(a.a)({},e),{},{id:"skeleton".concat(t)})})),q=Object(M.b)(),X=U.imageHeight[q],K=U.arrowWidth[q],J=16/9*X,Z=J+12,Q=X+(p?28:4),$=l.useCallback((function(e){return Object(B.jsx)("img",{src:e.thumbnailUrl,style:Object(a.a)(Object(a.a)({},W.image),{},{height:X,minHeight:X,width:J}),alt:e.title,title:e.title})}),[J,X]),ee=function(e){return function(){R.b.openExternalURL(e)}},te=l.useCallback((function(e){return e.skeleton||e.link||e.thumbnailUrl?e.thumbnailUrl||e.link?$(e):e.skeleton?Object(B.jsx)(N.a,{variant:"rect",height:X,width:J}):void 0:null}),[$,J,X]),ne=l.useCallback((function(e,t){return p?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(x.d,{}),e.title?Object(B.jsx)("div",{style:Object(a.a)(Object(a.a)({},W.itemTitleContainer),{},{width:J}),children:Object(B.jsx)(L.a,{noMargin:!0,style:W.itemTitle,children:e.title})}):Object(B.jsx)(N.a,{variant:"rect",height:24,width:J/3*(1+2*V[t])})]}):null}),[J,p]),re=l.useCallback((function(e){return Math.round(e/Z)*Z}),[Z]),oe=l.useCallback((function(e){return Math.max(Math.floor(e.offsetWidth/Z),1)}),[Z]),ae=l.useCallback((function(e,t){var n=oe(t),r=n*Z,o=t.scrollLeft,a=Math.round(o/Z);return"right"===e&&a>Y.length-n-1?0:re(t.scrollLeft+r*("left"===e?-1:1))}),[Z,Y,re,oe]),ie=l.useCallback((function(e){return function(){var t=y.current;if(t){var n=ae(e,t);t.scrollTo({left:n,behavior:"smooth"})}}}),[ae]),se=l.useCallback((function(){var e=y.current;e&&(j||f(0!==e.scrollLeft))}),[j]),ce=l.useCallback((function(){var e=y.current;e&&e.scrollTo({left:re(e.scrollLeft),behavior:"smooth"})}),[re]),le=l.useCallback((function(e,t){if(e.currentTarget!==w){var n=e.currentTarget,r=n.offsetParent;if(!r||!(r instanceof HTMLElement))return;var o=oe(r),a=n.getBoundingClientRect(),i=r.getBoundingClientRect(),s=Math.round(a.left-i.left)<0,c=Math.round(a.right-i.right)>=0;s?r.scroll({left:n.offsetLeft}):c&&r.scroll({left:Z*(t-o+1)})}}),[oe,w,Z]);return l.useEffect((function(){var e=y.current;e&&(e.addEventListener("scroll",se),e.addEventListener("touchend",ce),e.addEventListener("touchleave",ce))}),[se,ce]),Object(B.jsxs)(x.c,{noMargin:!0,children:[Object(B.jsx)("div",{style:Object(a.a)(Object(a.a)({},W.arrowContainer),{},{width:K}),onClick:ie("left"),children:_&&j&&Object(B.jsx)(S.a,{className:v.arrow})}),Object(B.jsxs)("div",{style:{width:"calc(100% - ".concat(2*K,"px - ").concat(6,"px)")},children:[Object(B.jsxs)(x.c,{justifyContent:"space-between",alignItems:"center",children:[Object(B.jsx)(L.a,{size:"bold-title",children:t}),Object(B.jsxs)(x.c,{children:[r&&Object(B.jsxs)(B.Fragment,{children:[r,Object(B.jsx)(x.d,{})]}),Object(B.jsx)(O.a,{onClick:s||(i?ee(i):function(){}),label:c,icon:Object(B.jsx)(A.a,{})})]})]}),u?Object(B.jsx)("div",{style:Object(a.a)(Object(a.a)({},W.error),{},{height:Q}),children:Object(B.jsx)(D.a,{kind:"warning",children:u})}):Object(B.jsx)(E.a,{classes:g,cols:Y.length,cellHeight:Q,spacing:12,style:W.gridList,ref:y,children:Y.map((function(e,t){return Object(B.jsxs)(k.a,{classes:m,tabIndex:0,onFocus:function(e){return le(e,t)},onMouseEnter:function(e){return P(e.currentTarget)},onMouseLeave:function(){return P(null)},onKeyPress:function(t){Object(F.g)(t)&&(e.link&&ee(e.link)(),e.onClick&&e.onClick())},onClick:e.link?ee(e.link):e.onClick?e.onClick:null,children:[te(e),ne(e,t)]},e.id)}))})]}),_&&Object(B.jsx)("div",{style:Object(a.a)(Object(a.a)({},W.arrowContainer),{},{width:K,marginLeft:6}),onClick:ie("right"),children:Object(B.jsx)(I.a,{})})]})},q=n(80),X=n(599),K=n(423),J={flex:1,display:"flex",overflowY:"auto"},Z=function(e){var t=e.children;return Object(B.jsx)(K.a,{style:Object(a.a)({},J),square:!0,children:t})},Q=n(865),$=n(100),ee=n(630),te=n(142),ne=n(508),re=n(1149),oe=n(1125),ae={image:{width:"100%",maxHeight:"300px",objectFit:"cover"}},ie=function(e){var t=e.open,n=e.onClose,r=e.showcasedGame;return Object(B.jsx)($.b,{maxWidth:"xs",open:t,actions:[Object(B.jsx)(O.a,{label:Object(B.jsx)(u.Trans,{id:"Close"}),primary:!1,onClick:n},"close")],onRequestClose:n,children:Object(B.jsxs)(x.a,{noMargin:!0,expand:!0,children:[Object(B.jsx)(ne.a,{style:ae.image,src:r.thumbnailUrl,alt:r.title}),Object(B.jsx)(oe.a,{showcasedGame:r,forceColumn:!0}),r.genres.length?Object(B.jsx)(ee.a,{tags:r.genres}):null,Object(B.jsx)(L.a,{size:"body2",displayInlineAsSpan:!0,children:Object(B.jsx)(te.a,{source:r.description,allowParagraphs:!0})}),Object(B.jsx)(x.d,{}),Object(B.jsx)(re.a,{showcasedGame:r,forceColumn:!0})]})})},se=n(866),ce=n(2171),le=n(560),ue=n(985),de=n.n(ue),pe=n(2288),be=n(996),he=n(997),je=Object(ce.a)({root:{flexDirection:"column"},anchorOriginTopRightCircle:{top:5,right:5}}),fe=function(e){var t=e.profile,n=e.onClick,r=e.displayNotificationBadge,o=je();return Object(B.jsx)(he.a,{overlap:"circle",invisible:!r,classes:o,children:Object(B.jsx)(le.a,{variant:"outlined",avatar:t?Object(B.jsx)(pe.a,{src:Object(be.a)(t.email||"",{size:30}),sx:{width:30,height:30}}):Object(B.jsx)(de.a,{}),label:t?t.username||t.email:Object(B.jsx)("span",{children:Object(B.jsx)(u.Trans,{id:"Click to connect"})}),onClick:n})})},ge=n(490),me=n(867),Oe=n(1154),ve=n(554),xe=n(43),ye=n(81),Ce=function(e){if(!e.authenticated)return!1;var t=e.badges;return!!(t&&t.length>0)&&t.some((function(e){return!e.seen}))},Te=n(20),Ee=["link"],ke=n.n(Te)()("electron"),we={container:{display:"flex",flexDirection:"column",width:"100%"},content:{display:"flex",flexDirection:"column",flex:1,maxWidth:1200,marginTop:10,marginBottom:20,padding:0,alignSelf:"center",width:"100%"}},Se=function(e){return e.slice(0,16).map((function(e){var t=e.link,n=Object(i.a)(e,Ee);return Object(a.a)(Object(a.a)({},n),{},{onClick:function(){Object(ye.y)(e.id),R.b.openExternalURL(t)}})}))},Pe=l.memo(l.forwardRef((function(e,t){var n=e.project,i=e.canOpen,s=e.onOpen,d=e.onOpenRecentFile,b=e.onCreateFromExampleShortHeader,j=e.onCreateBlank,g=e.onOpenProjectAfterCreation,C=e.onOpenExamples,T=e.onOpenProjectManager,E=e.onCloseProject,k=e.onOpenTutorials,w=e.onOpenGamesShowcase,S=e.onOpenHelpFinder,P=e.onOpenLanguageDialog,I=e.onOpenProfile,_=e.setToolbar,A=function(){},N=function(){_&&_(null)},L=function(){};l.useImperativeHandle(t,(function(){return{getProject:A,updateToolbar:N,forceUpdateEditor:L}}));var F=Object(M.b)(),D=l.useContext(ge.a),U=l.useContext(xe.a).getRecentProjectFiles,V=l.useContext(X.a),W=V.tutorials,G=V.fetchTutorials,z=V.error,H=l.useContext(Q.a),K=H.allShowcasedGames,J=H.fetchShowcasedGamesAndFilters,$=H.error,ee=l.useContext(se.a),te=ee.allExamples,ne=ee.fetchExamplesAndFilters,re=ee.error;l.useEffect((function(){J(),ne(),G()}),[ne,J,G,U]);var oe=l.useState(!1),ae=Object(o.a)(oe,2),ce=ae[0],le=ae[1],ue=l.useState(!1),de=Object(o.a)(ue,2),pe=de[0],be=de[1],he=l.useState(null),je=Object(o.a)(he,2),ye=je[0],Te=je[1],Ee=l.useState(null),Pe=Object(o.a)(Ee,2),Ie=Pe[0],_e=Pe[1],Ae=l.useCallback((function(e){var t=U();return t.length?t.map((function(e){return{label:e.fileMetadata.fileIdentifier,click:function(){return d(e)}}})):[{label:e._({id:"No project opened recently"}),disabled:!0}]}),[U,d]),Ne=l.useCallback((function(e){return e.filter((function(e){return e.previewImageUrls.length&&e.tags.includes("Starter")})).slice(0,16).map((function(e){return{id:e.id,title:e.name,thumbnailUrl:e.previewImageUrls.find((function(e){return e.endsWith("preview.png")}))||e.previewImageUrls[0],onClick:function(){return _e(e)}}}))}),[]),Re=l.useCallback((function(e){return e.slice(0,16).map((function(e){return{id:e.title,title:e.title,thumbnailUrl:e.thumbnailUrl,onClick:function(){return Te(e)}}}))}),[]),Le=function(){var e=Object(r.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(be(!0),e.prev=1,!Ie){e.next=8;break}return e.next=5,b({i18n:t,exampleShortHeader:Ie,settings:n});case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,j({i18n:t,settings:n});case 10:r=e.sent;case 11:if(r){e.next=13;break}return e.abrupt("return");case 13:le(!1),_e(null),g(Object(a.a)(Object(a.a)({},r),{},{templateSlug:Ie?Ie.slug:void 0}));case 16:return e.prev=16,be(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,,16,19]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(B.jsx)(u.I18n,{children:function(e){var t=e.i18n;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Z,{children:Object(B.jsxs)("div",{style:we.container,children:[Object(B.jsxs)("div",{style:we.content,children:[Object(B.jsx)("div",{style:{margin:"0px ".concat("small"===F?15:35,"px")},children:Object(B.jsxs)(q.c,{justifyContent:"space-between",children:[Object(B.jsx)(fe,{profile:D.profile,onClick:I,displayNotificationBadge:Ce(D)}),Object(B.jsxs)(q.c,{justifyContent:"flex-end",noColumnMargin:!0,children:[!n&&Object(B.jsx)(y.a,{primary:!0,label:Object(B.jsx)(u.Trans,{id:"Create a blank project"}),onClick:function(){le(!0)},icon:Object(B.jsx)(m.a,{}),id:"home-create-blank-project-button"}),!n&&i&&Object(B.jsx)(ve.a,{label:Object(B.jsx)(u.Trans,{id:"Open a project"}),onClick:s,buildMenuTemplate:Ae}),!!n&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(y.a,{label:Object(B.jsx)(u.Trans,{id:"Open Project Manager"}),onClick:T,primary:!0}),Object(B.jsx)(x.d,{}),Object(B.jsx)(O.a,{label:Object(B.jsx)(u.Trans,{id:"Close project"}),onClick:function(){E()},id:"home-close-project-button"})]})]})]})}),Object(B.jsx)(Y,{title:Object(B.jsx)(u.Trans,{id:"Start from an example"}),items:te?Ne(te):null,displayItemTitles:!0,onBrowseAllClick:C,browseAllLabel:Object(B.jsx)(u.Trans,{id:"More examples"}),error:re&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(u.Trans,{id:"An error ocurred while loading examples."})," ",Object(B.jsx)(u.Trans,{id:"Please check your internet connection or try again later."})]})}),Object(B.jsx)(x.b,{}),Object(B.jsx)(Y,{title:Object(B.jsx)(u.Trans,{id:"Learn game making"}),items:W?Se(W):null,displayItemTitles:!1,onBrowseAllClick:k,browseAllLabel:Object(B.jsx)(u.Trans,{id:"All tutorials"}),error:z&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(u.Trans,{id:"An error ocurred while loading tutorials."})," ",Object(B.jsx)(u.Trans,{id:"Please check your internet connection or try again later."})]})}),Object(B.jsx)(x.b,{}),Object(B.jsx)(Y,{title:Object(B.jsx)(u.Trans,{id:"Games made by the community"}),items:K?Re(K):null,displayItemTitles:!0,additionalAction:Object(B.jsx)(y.a,{label:Object(B.jsx)(u.Trans,{id:"Play on Liluo.io"}),onClick:function(){return R.b.openExternalURL("https://liluo.io")}}),onBrowseAllClick:w,browseAllLabel:Object(B.jsx)(u.Trans,{id:"Browse all"}),error:$&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(u.Trans,{id:"An error ocurred while loading showcased games."})," ",Object(B.jsx)(u.Trans,{id:"Please check your internet connection or try again later."})]})})]}),Object(B.jsx)(x.a,{expand:!0,justifyContent:"flex-end",children:Object(B.jsx)(x.c,{noMargin:!0,children:Object(B.jsxs)(q.c,{noMargin:!0,alignItems:"center",justifyContent:"space-between",expand:!0,children:[Object(B.jsxs)(q.c,{noMargin:!0,justifyContent:"center",children:[Object(B.jsx)(O.a,{icon:Object(B.jsx)(h.a,{}),label:Object(B.jsx)(u.Trans,{id:"Community Forums"}),onClick:function(){return R.b.openExternalURL("https://forum.gdevelop.io")}}),Object(B.jsx)(O.a,{icon:Object(B.jsx)(f.a,{}),label:Object(B.jsx)(u.Trans,{id:"Help and documentation"}),onClick:S}),!ke&&Object(B.jsx)(y.a,{label:Object(B.jsx)(u.Trans,{id:"Download the full desktop version"}),onClick:function(){return R.b.openExternalURL("https://gdevelop.io/download")}})]}),Object(B.jsxs)(x.c,{noMargin:!0,alignItems:"center",justifyContent:"center",children:[Object(B.jsx)(v.a,{className:"icon-youtube",onClick:function(){return R.b.openExternalURL("https://www.youtube.com/c/GDevelopApp")},tooltip:{id:"Tutorials on YouTube"}}),Object(B.jsx)(v.a,{className:"icon-discord",onClick:function(){return R.b.openExternalURL("https://discord.gg/gdevelop")},tooltip:{id:"GDevelop on Discord"}}),Object(B.jsx)(v.a,{className:"icon-reddit",onClick:function(){return R.b.openExternalURL("https://www.reddit.com/r/gdevelop")},tooltip:{id:"GDevelop on Reddit"}}),Object(B.jsx)(v.a,{className:"icon-twitter",onClick:function(){return R.b.openExternalURL("https://twitter.com/GDevelopApp")},tooltip:{id:"GDevelop on Twitter"}}),Object(B.jsx)(v.a,{className:"icon-facebook",onClick:function(){return R.b.openExternalURL("https://www.facebook.com/GDevelopApp")},tooltip:{id:"GDevelop on Facebook"}}),Object(B.jsx)(O.a,{label:t.language,onClick:P,icon:Object(B.jsx)(p.a,{})})]})]})})})]})}),ye&&Object(B.jsx)(ie,{open:!0,onClose:function(){return Te(null)},showcasedGame:ye}),Ie&&Object(B.jsx)(me.a,{isOpening:pe,onClose:function(){return _e(null)},exampleShortHeader:Ie,onOpen:function(){le(!0)}}),ce&&Object(B.jsx)(Oe.a,{open:!0,isOpening:pe,onClose:function(){return le(!1)},onCreate:function(e){return Le(t,e)}})]})}})})),(function(e,t){return e.isActive||t.isActive})),Ie=function(e){return Object(B.jsx)(Pe,{ref:e.ref,project:e.project,isActive:e.isActive,projectItemName:e.projectItemName,setToolbar:e.setToolbar,canOpen:e.canOpen,onOpen:e.onOpen,onOpenRecentFile:e.onOpenRecentFile,onOpenExamples:e.onOpenExamples,onCreateFromExampleShortHeader:e.onCreateFromExampleShortHeader,onCreateBlank:e.onCreateBlank,onOpenProjectAfterCreation:e.onOpenProjectAfterCreation,onOpenProjectManager:e.onOpenProjectManager,onCloseProject:e.onCloseProject,onOpenTutorials:e.onOpenTutorials,onOpenGamesShowcase:e.onOpenGamesShowcase,onOpenHelpFinder:e.onOpenHelpFinder,onOpenLanguageDialog:e.onOpenLanguageDialog,onOpenProfile:e.onOpenProfile})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return te}));var r=n(2),o=n(4),a=n(9),i=n(8),s=n(13),c=n(14),l=n(12),u=n(1),d=n.n(u),p=n(673),b=n(486),h=n(465),j=n(138),f=n(7),g={display:"flex"},m={display:"flex",alignItems:"center",paddingLeft:4,paddingRight:4},O=function(e){var t=u.useContext(j.a);return Object(f.jsx)("div",{style:Object(o.a)(Object(o.a)({},g),{},{alignItems:e.alignItems,backgroundColor:t.list.itemsBackgroundColor}),children:e.children})},v=function(e){return Object(f.jsx)("div",{style:Object(o.a)(Object(o.a)({},m),{},{flex:e.expand?1:void 0},e.style),children:e.children})},x=n(571),y=n(574),C=n.n(y),T=n(551),E=n.n(T),k=n(1773),w=n.n(k),S=n(471),P=n(515),I=n.n(P),_=n(469),A=n(600),N=n(505),R=n(629),L=n.n(R),M=n(1774),F=n.n(M),D=n(636),B=n.n(D),U=n(2197),V=function(e){return Object(f.jsx)(U.a,Object(o.a)({},e))},W=function(e){var t=e.layerName,n=e.nameError,r=e.onBlur,o=e.onRemove,a=e.isVisible,i=e.effectsCount,s=e.onEditEffects,c=e.onChangeVisibility,u=e.width,p=e.isLightingLayer,b=e.onEdit;return Object(f.jsx)(l.I18n,{children:function(e){var h=e.i18n;return Object(f.jsxs)(O,{children:[Object(f.jsx)(v,{children:Object(f.jsx)(A.b,{})}),Object(f.jsx)(v,{expand:!0,children:Object(f.jsx)(_.b,{margin:"none",defaultValue:t||h._({id:"Base layer"}),id:t,errorText:n?Object(f.jsx)(l.Trans,{id:"This name is already taken"}):void 0,disabled:!t,onBlur:r,fullWidth:!0})}),Object(f.jsx)(v,{children:u<350?Object(f.jsx)(N.a,{element:Object(f.jsx)(S.a,{size:"small",children:Object(f.jsx)(L.a,{})}),buildMenuTemplate:function(e){return[{label:p?e._({id:"Edit lighting properties"}):e._({id:"Edit properties"}),click:b},{label:e._({id:"Edit effects ({effectsCount})",values:{effectsCount:i}}),click:s},{type:"checkbox",label:e._({id:"Visible"}),checked:a,click:function(){return c(!a)}},{type:"separator"},{label:e._({id:"Delete"}),enabled:!!t,click:o}]}}):Object(f.jsxs)(d.a.Fragment,{children:[Object(f.jsx)(x.a,{checked:a,checkedIcon:Object(f.jsx)(C.a,{}),uncheckedIcon:Object(f.jsx)(E.a,{}),onCheck:function(e,t){return c(t)},tooltipOrHelperText:a?Object(f.jsx)(l.Trans,{id:"Hide layer"}):Object(f.jsx)(l.Trans,{id:"Show layer"})}),Object(f.jsx)(S.a,{size:"small",onClick:s,tooltip:{id:"Edit effects ({effectsCount})",values:{effectsCount:i}},children:Object(f.jsx)(V,{badgeContent:i,color:"primary",children:Object(f.jsx)(w.a,{})})}),Object(f.jsx)(S.a,{size:"small",onClick:b,tooltip:p?{id:"Edit lighting properties"}:{id:"Edit properties"},children:p?Object(f.jsx)(F.a,{}):Object(f.jsx)(B.a,{})}),Object(f.jsx)(S.a,{size:"small",onClick:o,disabled:!t,tooltip:{id:"Delete the layer"},children:Object(f.jsx)(I.a,{})})]})})]})}})},G=n(604),z=function(e){var t=e.layout,n=e.onBackgroundColorChanged;return Object(f.jsx)(l.I18n,{children:function(e){var r=e.i18n;return Object(f.jsxs)(O,{children:[Object(f.jsx)(v,{children:Object(f.jsx)(A.b,{disabled:!0})}),Object(f.jsx)(v,{expand:!0,children:Object(f.jsx)(_.b,{fullWidth:!0,value:r._({id:"Background color"}),margin:"none",disabled:!0})}),Object(f.jsx)(v,{children:Object(f.jsx)(G.a,{disableAlpha:!0,color:{r:t.getBackgroundColorRed(),g:t.getBackgroundColorGreen(),b:t.getBackgroundColorBlue(),a:255},onChangeComplete:function(e){t.setBackgroundColor(e.rgb.r,e.rgb.g,e.rgb.b),n()}})})]})}})},H=n(30),Y=n(489),q=n.n(Y),X=n(484),K=n(1113),J=n(488),Z=n(554),Q=Object(p.SortableElement)(W),$=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={nameErrors:{}},e._onLayerModified=function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.forceUpdate()},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.layersContainer,a=t.onEditEffects,i=t.onEdit,s=t.width,c=n.getLayersCount(),l=Object(h.mapReverseFor)(0,c,(function(t){var l=n.getLayerAt(t),u=l.getName(),d=l.isLightingLayer();return Object(f.jsx)(Q,{index:c-1-t,layer:l,layerName:u,isLightingLayer:d,nameError:e.state.nameErrors[u],effectsCount:l.getEffects().getEffectsCount(),onEditEffects:function(){return a(l)},onEdit:function(){return i(l)},onBlur:function(t){var a=t.target.value;if(u!==a){var i=!0;n.hasLayerNamed(a)?i=!1:e.props.onRenameLayer(u,a,(function(e){e&&n.getLayer(u).setName(a)})),e.setState({nameErrors:Object(o.a)(Object(o.a)({},e.state.nameErrors),{},Object(r.a)({},u,!i))})}},onRemove:function(){e.props.onRemoveLayer(u,(function(t){t&&(n.removeLayer(u),e._onLayerModified())}))},isVisible:l.getVisibility(),onChangeVisibility:function(t){l.setVisibility(t),e._onLayerModified()},width:s},"layer-"+u)}));return Object(f.jsxs)(H.a,{noMargin:!0,expand:!0,children:[l,Object(f.jsx)(z,{layout:n,onBackgroundColorChanged:function(){return e._onLayerModified()}})]})}}]),n}(u.Component),ee=Object(p.SortableContainer)($),te=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._addLayer=function(){var t=e.props.layersContainer,n=Object(b.a)("Layer",(function(e){return t.hasLayerNamed(e)}));t.insertNewLayer(n,t.getLayersCount()),e._onLayerModified()},e._addLightingLayer=function(){var t=e.props.layersContainer,n=Object(b.a)("Lighting",(function(e){return t.hasLayerNamed(e)}));t.insertNewLayer(n,t.getLayersCount());var r=t.getLayer(n);r.setLightingLayer(!0),r.setFollowBaseLayerCamera(!0),r.setAmbientLightColor(200,200,200),e._onLayerModified()},e._onLayerModified=function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.forceUpdate()},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props.layersContainer.ptr,n=function(e){var t=e.getLayersCount();return Object(h.mapReverseFor)(0,t,(function(t){return e.getLayerAt(t).isLightingLayer()})).filter(Boolean).length>0}(this.props.layersContainer);return Object(f.jsx)(J.a,{children:Object(f.jsxs)(X.a,{autoHideScrollbar:!0,children:[Object(f.jsx)(K.a,{children:function(n){var r=n.width;return Object(f.jsx)(ee,{layersContainer:e.props.layersContainer,onEditEffects:e.props.onEditLayerEffects,onEdit:e.props.onEditLayer,onRemoveLayer:e.props.onRemoveLayer,onRenameLayer:e.props.onRenameLayer,onSortEnd:function(t){var n=t.oldIndex,r=t.newIndex,o=e.props.layersContainer.getLayersCount();e.props.layersContainer.moveLayer(o-1-n,o-1-r),e._onLayerModified()},helperClass:"sortable-helper",useDragHandle:!0,unsavedChanges:e.props.unsavedChanges,width:r},t)}}),Object(f.jsx)(H.a,{children:Object(f.jsx)(H.c,{justifyContent:"flex-end",expand:!0,children:Object(f.jsx)(Z.a,{label:Object(f.jsx)(l.Trans,{id:"Add a layer"}),primary:!0,onClick:this._addLayer,icon:Object(f.jsx)(q.a,{}),buildMenuTemplate:function(t){return[{label:t._({id:"Add lighting layer"}),enabled:!n,click:e._addLightingLayer}]}})})})]})})}}]),n}(u.Component)},function(e,t,n){"use strict";var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(570),u=n(606),d=n(470),p=n(30),b=n(7),h=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.behavior,n=e.behaviorContent,r=e.object,o=t.getProperties(n.getContent()),a=Object(u.a)(o,(function(e){return t.getProperties(e.getContent())}),(function(e,n,r){t.updateProperty(e.getContent(),n,r)}),r);return Object(b.jsx)(p.a,{expand:!0,children:a.length?Object(b.jsx)(l.a,{schema:a,instances:[n]}):Object(b.jsx)(d.a,{children:Object(b.jsx)(s.Trans,{id:"There is nothing to configure for this behavior. You can still use events to interact with the object and this behavior."})})})}}]),n}(c.Component),j=n(26),f=n(493),g=n(474),m=n(475),O=n(476),v=n(616),x=n(535),y=n(477),C=n(139),T=function(e){var t=c.useRef(null),n=c.useState({draggedVertex:null,draggedIndex:-1}),r=Object(j.a)(n,2),o=r[0],a=r[1],i=Object(C.a)(),s=function(t,n){var r=e.width*e.zoomFactor,o=e.height*e.zoomFactor;return{frameX:Math.min(r,Math.max(t,0)),frameY:Math.min(o,Math.max(n,0))}},l={position:"absolute",top:e.frameOffsetTop||0,left:e.frameOffsetLeft||0,width:e.width*e.zoomFactor,height:e.height*e.zoomFactor,overflow:"visible"};return Object(b.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},onPointerMove:function(n){var r=e.polygonOrigin,a=e.width,c=e.height,l=e.zoomFactor,u=o.draggedVertex;if(u){var d=t.current.createSVGPoint();d.x=n.clientX,d.y=n.clientY;var p=t.current.getScreenCTM().inverse(),b=d.matrixTransform(p),h=s(b.x,b.y),j=h.frameX,f=h.frameY;u.x=j/l-e.offsetX-("Center"===r?a/2:0),u.y=f/l-e.offsetY-("Center"===r?c/2:0),i()}},onPointerUp:function(){var t=o.draggedVertex,n=o.draggedIndex;!!t&&e.onMoveVertex(n,Math.round(t?t.x:0),Math.round(t?t.y:0)),a({draggedVertex:null,draggedIndex:-1})},children:Object(b.jsxs)("svg",{style:l,ref:t,children:["Box"===e.shape&&function(){var t=e.dimensionA,n=e.dimensionB,r=e.width,o=e.height,a=e.offsetX,i=e.offsetY,s=e.zoomFactor,c=t>0?t:r>0?r:1,l=n>0?n:o>0?o:1;return Object(b.jsx)("rect",{fill:"rgba(255,0,0,0.75)",strokeWidth:1,x:(a+r/2-c/2)*s,y:(i+o/2-l/2)*s,width:c*s,height:l*s},"boxShape")}(),"Circle"===e.shape&&function(){var t=e.dimensionA,n=e.width,r=e.height,o=e.offsetX,a=e.offsetY,i=e.zoomFactor;return Object(b.jsx)("circle",{fill:"rgba(255,0,0,0.75)",strokeWidth:1,cx:(o+n/2)*i,cy:(a+r/2)*i,r:(t>0?t:n+r>0?(n+r)/4:1)*i},"circleShape")}(),"Edge"===e.shape&&function(){var t=e.dimensionA,n=e.dimensionB,r=e.width,o=e.height,a=e.offsetX,i=e.offsetY,s=e.zoomFactor,c=(t>0?t:r>0?r:1)/2,l=Math.cos(n*Math.PI/180),u=Math.sin(n*Math.PI/180);return Object(b.jsx)("line",{stroke:"rgba(255,0,0,0.75)",strokeWidth:2,x1:(a+r/2-c*l)*s,y1:(i+o/2-c*u)*s,x2:(a+r/2+c*l)*s,y2:(i+o/2+c*u)*s},"edgeShape")}(),"Polygon"===e.shape&&function(){var t=e.vertices,n=e.polygonOrigin,r=e.width,i=e.height,s=e.offsetX,l=e.offsetY,u=e.zoomFactor;return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)("polygon",{fill:"rgba(255,0,0,0.75)",strokeWidth:1,fillRule:"evenodd",points:t.map((function(e){return"".concat((e.x+s+("Center"===n?r/2:0))*u,",").concat((e.y+l+("Center"===n?i/2:0))*u)})).join(" ")},"polygonShape"),t.map((function(e,t){return Object(b.jsx)("circle",{onPointerDown:function(){return function(e,t){o.draggedVertex||a({draggedVertex:e,draggedIndex:t})}(e,t)},fill:"rgba(150,0,0,0.75)",strokeWidth:1,style:{cursor:"move"},cx:(e.x+s+("Center"===n?r/2:0))*u,cy:(e.y+l+("Center"===n?i/2:0))*u,r:5},"vertex-".concat(t))}))]})}()]})})},E=n(550),k=n(593),w=n.n(k),S=n(471),P=n(500),I=n(1798),_=n.n(I),A=n(515),N=n.n(A),R=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"_isPolygonConvex",value:function(e){for(var t=[],n=null,r=null,o=0;o<e.length;o++)n=e[o],r=o+1>=e.length?e[0]:e[o+1],t.push({x:r.x-n.x,y:r.y-n.y});if(t.length<3)return!1;for(var a=t[0].x*t[1].y-t[0].y*t[1].x>0,i=1;i<t.length-1;++i){if(t[i].x*t[i+1].y-t[i].y*t[i+1].x>0!==a)return!1}if(t[t.length-1].x*t[0].y-t[t.length-1].y*t[0].x>0!==a)return!1;for(var s=0;s<e.length-1;++s)for(var c=s+1;c<e.length;++c)if(e[s].x===e[c].x&&e[s].y===e[c].y)return!1;for(var l=!0,u=!0,d=0;d<e.length-1;++d)e[d].x!==e[d+1].x&&(l=!1),e[d].y!==e[d+1].y&&(u=!1);return!l&&!u}},{key:"render",value:function(){var e=this,t=this.props,n=t.vertices,r=t.onChangeVertexX,o=t.onChangeVertexY,a=t.onAdd,i=t.onRemove;return Object(b.jsx)(P.a,{children:function(t){return Object(b.jsxs)(E.a,{children:[Object(b.jsx)(E.c,{children:Object(b.jsxs)(E.e,{children:[Object(b.jsx)(E.d,{}),Object(b.jsx)(E.d,{children:"X"}),Object(b.jsx)(E.d,{children:"Y"}),Object(b.jsx)(E.f,{})]})}),Object(b.jsxs)(E.b,{children:[n.map((function(a,s){return Object(b.jsxs)(E.e,{style:{backgroundColor:t.list.itemsBackgroundColor},children:[Object(b.jsx)(E.f,{children:!e._isPolygonConvex(n)&&Object(b.jsx)(w.a,{})}),Object(b.jsx)(E.f,{children:Object(b.jsx)(O.a,{margin:"none",fullWidth:!0,value:a.x.toString(10),onChange:function(e){return r(parseFloat(e)||0,s)},type:"number"})}),Object(b.jsx)(E.f,{children:Object(b.jsx)(O.a,{margin:"none",fullWidth:!0,value:a.y.toString(10),onChange:function(e){return o(parseFloat(e)||0,s)},type:"number"})}),Object(b.jsx)(E.f,{children:Object(b.jsx)(S.a,{size:"small",onClick:function(){return i(s)},children:Object(b.jsx)(N.a,{})})})]},"vertexRow".concat(s))})),Object(b.jsxs)(E.e,{children:[Object(b.jsx)(E.f,{}),Object(b.jsx)(E.f,{}),Object(b.jsx)(E.f,{}),Object(b.jsx)(E.f,{children:Object(b.jsx)(S.a,{onClick:a,children:Object(b.jsx)(_.a,{})})})]})]})]})}})}}]),n}(c.Component),L=n(463),M=n(512),F=n(80),D=n(206),B=n(2203),U=function(e){var t=e.properties,n=e.propertyName,r=e.step,o=e.onUpdate;return Object(b.jsx)(O.a,{fullWidth:!0,value:t.get(n).getValue(),floatingLabelText:t.get(n).getLabel(),step:r,onChange:o,type:"number"},n)},V=function(e){return Object(b.jsx)("div",{style:{overflowX:"auto",flex:1},children:Object(b.jsx)(B.a,{disableElevation:!0,fullWidth:!0,children:e.bits.map((function(t,n){return Object(b.jsx)(D.a,{variant:t?"contained":"outlined",color:t?"primary":"default",onClick:function(){return e.onChange(n,!t)},children:n+1},n)}))})})},W={getEditor:function(e){return this.components[e]?this.components[e].component:h},components:{"Physics2::Physics2Behavior":{component:function(e){var t=c.useRef(y.a).current,n=c.useState(""),r=Object(j.a)(n,2),o=r[0],a=r[1],i=e.behavior,l=e.behaviorContent,u=Object(C.a)(),h=function(e,t){return!!(e&1<<t)},E=function(e,t,n){return n?e|=1<<t:e&=~(1<<t),e},k=i.getProperties(l.getContent()),w=Array(16).fill(null),S=k.get("shape").getValue(),P=parseInt(k.get("layers").getValue(),10),I=parseInt(k.get("masks").getValue(),10);return Object(b.jsxs)(p.a,{expand:!0,noOverflowParent:!0,children:[Object(b.jsx)(p.c,{children:Object(b.jsx)(g.a,{fullWidth:!0,floatingLabelText:k.get("bodyType").getLabel(),value:k.get("bodyType").getValue(),onChange:function(e,t,n){i.updateProperty(l.getContent(),"bodyType",n),u()},children:[Object(b.jsx)(m.a,{value:"Dynamic",primaryText:{id:"Dynamic"}},"dynamic"),Object(b.jsx)(m.a,{value:"Static",primaryText:{id:"Static"}},"static"),Object(b.jsx)(m.a,{value:"Kinematic",primaryText:{id:"Kinematic"}},"kinematic")]},"bodyType")}),Object(b.jsxs)(F.c,{children:[Object(b.jsx)(f.a,{label:k.get("bullet").getLabel(),checked:"true"===k.get("bullet").getValue(),onCheck:function(e,t){i.updateProperty(l.getContent(),"bullet",t?"1":"0"),u()}}),Object(b.jsx)(f.a,{label:k.get("fixedRotation").getLabel(),checked:"true"===k.get("fixedRotation").getValue(),onCheck:function(e,t){i.updateProperty(l.getContent(),"fixedRotation",t?"1":"0"),u()}}),Object(b.jsx)(f.a,{label:k.get("canSleep").getLabel(),checked:"true"===k.get("canSleep").getValue(),onCheck:function(e,t){i.updateProperty(l.getContent(),"canSleep",t?"1":"0"),u()}})]}),Object(b.jsx)(p.c,{children:Object(b.jsx)(M.a,{identifier:"physics2-shape-collisions",kind:"info",children:Object(b.jsx)(s.Trans,{id:'The shape used in the Physics behavior is independent from the collision mask of the object. Be sure to use the "Collision" condition provided by the Physics behavior in the events. The usual "Collision" condition won\'t take into account the shape that you\'ve set up here.'})})}),Object(b.jsx)(p.c,{children:Object(b.jsxs)(g.a,{fullWidth:!0,floatingLabelText:k.get("shape").getLabel(),value:k.get("shape").getValue(),onChange:function(e,t,n){i.updateProperty(l.getContent(),"shape",n),u()},children:[Object(b.jsx)(m.a,{value:"Box",primaryText:{id:"Box"}},"box"),Object(b.jsx)(m.a,{value:"Circle",primaryText:{id:"Circle"}},"circle"),Object(b.jsx)(m.a,{value:"Edge",primaryText:{id:"Edge"}},"edge"),Object(b.jsx)(m.a,{value:"Polygon",primaryText:{id:"Polygon"}},"polygon")]})}),Object(b.jsxs)(F.c,{children:["Polygon"!==S&&Object(b.jsx)(O.a,{fullWidth:!0,value:k.get("Polygon"===S?"PolygonOriginX":"shapeDimensionA").getValue(),floatingLabelText:"Circle"===S?"Radius":"Edge"===S?"Length":"Width",min:0,onChange:function(e){i.updateProperty(l.getContent(),"Polygon"===S?"PolygonOriginX":"shapeDimensionA",e),u()},type:"number"},"shapeDimensionA"),"Polygon"!==S&&"Circle"!==S&&Object(b.jsx)(O.a,{fullWidth:!0,value:k.get("Polygon"===S?"PolygonOriginY":"shapeDimensionB").getValue(),floatingLabelText:"Edge"===S?"Angle":"Height",min:"Edge"===S?void 0:0,onChange:function(e){i.updateProperty(l.getContent(),"Polygon"===S?"PolygonOriginY":"shapeDimensionB",e),u()},type:"number"},"shapeDimensionB"),"Polygon"===S&&Object(b.jsx)(g.a,{fullWidth:!0,floatingLabelText:k.get("polygonOrigin").getLabel(),value:k.get("polygonOrigin").getValue(),onChange:function(e,t,n){i.updateProperty(l.getContent(),"polygonOrigin",n),u()},children:[Object(b.jsx)(m.a,{value:"Center",primaryText:{id:"Center"}},"center"),Object(b.jsx)(m.a,{value:"Origin",primaryText:{id:"Origin"}},"origin"),Object(b.jsx)(m.a,{value:"TopLeft",primaryText:{id:"Top-Left"}},"topLeft")]}),Object(b.jsx)(U,{properties:k,propertyName:"shapeOffsetX",step:1,onUpdate:function(e){i.updateProperty(l.getContent(),"shapeOffsetX",e),u()}}),Object(b.jsx)(U,{properties:k,propertyName:"shapeOffsetY",step:1,onUpdate:function(e){i.updateProperty(l.getContent(),"shapeOffsetY",e),u()}})]}),Object(b.jsx)(p.c,{children:Object(b.jsx)(x.a,{floatingLabelText:Object(b.jsx)(s.Trans,{id:"A temporary image to help you visualize the shape/polygon"}),project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,resourcesLoader:t,resourceKind:"image",initialResourceName:"",fullWidth:!0,onChange:function(e){a(e),u()}})}),!o&&Object(b.jsx)(p.c,{children:Object(b.jsx)(d.a,{children:Object(b.jsx)(s.Trans,{id:"To preview the shape that the Physics engine will use for this object, choose first a temporary image to use for the preview."})})}),o&&Object(b.jsx)(p.c,{children:Object(b.jsx)("div",{style:{width:"100%"},children:Object(b.jsx)(v.a,{resourceName:o,project:e.project,imageResourceSource:t.getResourceFullUrl(e.project,o,{}),isImageResourceSmooth:Object(v.b)(e.project,o),fixedHeight:200,renderOverlay:function(e){var t=i.getProperties(l.getContent());return Object(b.jsx)(T,{shape:t.get("shape").getValue(),dimensionA:parseFloat(t.get("shapeDimensionA").getValue()),dimensionB:parseFloat(t.get("shapeDimensionB").getValue()),offsetX:parseFloat(t.get("shapeOffsetX").getValue()),offsetY:parseFloat(t.get("shapeOffsetY").getValue()),polygonOrigin:t.get("polygonOrigin").getValue(),vertices:JSON.parse(t.get("vertices").getValue()),width:e.imageWidth,height:e.imageHeight,frameOffsetTop:e.offsetTop,frameOffsetLeft:e.offsetLeft,zoomFactor:e.imageZoomFactor,onMoveVertex:function(e,n,r){var o=JSON.parse(t.get("vertices").getValue());o[e].x=n,o[e].y=r,i.updateProperty(l.getContent(),"vertices",JSON.stringify(o)),u()}})}})})}),"Polygon"===S&&Object(b.jsx)(p.c,{children:Object(b.jsx)(R,{vertices:JSON.parse(k.get("vertices").getValue()),onChangeVertexX:function(e,t){var n=JSON.parse(k.get("vertices").getValue());n[t].x=e,i.updateProperty(l.getContent(),"vertices",JSON.stringify(n)),u()},onChangeVertexY:function(e,t){var n=JSON.parse(k.get("vertices").getValue());n[t].y=e,i.updateProperty(l.getContent(),"vertices",JSON.stringify(n)),u()},onAdd:function(){var e=JSON.parse(k.get("vertices").getValue());e.length>=8||(e.push({x:0,y:0}),i.updateProperty(l.getContent(),"vertices",JSON.stringify(e)),u())},onRemove:function(e){var t=JSON.parse(k.get("vertices").getValue());t.splice(e,1),i.updateProperty(l.getContent(),"vertices",JSON.stringify(t)),u()}})}),Object(b.jsxs)(F.c,{children:[Object(b.jsx)(U,{properties:k,propertyName:"density",step:.1,onUpdate:function(e){i.updateProperty(l.getContent(),"density",parseFloat(e)>0?e:"0"),u()}}),Object(b.jsx)(U,{properties:k,propertyName:"gravityScale",step:.1,onUpdate:function(e){i.updateProperty(l.getContent(),"gravityScale",e),u()}})]}),Object(b.jsxs)(F.c,{children:[Object(b.jsx)(U,{properties:k,propertyName:"friction",step:.1,onUpdate:function(e){i.updateProperty(l.getContent(),"friction",parseFloat(e)>0?e:"0"),u()}}),Object(b.jsx)(U,{properties:k,propertyName:"restitution",step:.1,onUpdate:function(e){i.updateProperty(l.getContent(),"restitution",parseFloat(e)>0?e:"0"),u()}})]}),Object(b.jsxs)(F.c,{children:[Object(b.jsx)(U,{properties:k,propertyName:"linearDamping",step:.05,onUpdate:function(e){i.updateProperty(l.getContent(),"linearDamping",e),u()}}),Object(b.jsx)(U,{properties:k,propertyName:"angularDamping",step:.05,onUpdate:function(e){i.updateProperty(l.getContent(),"angularDamping",e),u()}})]}),Object(b.jsxs)(p.c,{children:[Object(b.jsx)(L.a,{style:{marginRight:10},children:k.get("layers").getLabel()}),Object(b.jsx)(V,{bits:w.map((function(e,t){return h(P,t)})),onChange:function(e,t){var n=E(P,e,t);i.updateProperty(l.getContent(),"layers",n.toString(10)),u()}})]}),Object(b.jsxs)(p.c,{children:[Object(b.jsx)(L.a,{style:{marginRight:10},children:k.get("masks").getLabel()}),Object(b.jsx)(V,{bits:w.map((function(e,t){return h(I,t)})),onChange:function(e,t){var n=E(I,e,t);i.updateProperty(l.getContent(),"masks",n.toString(10)),u()}})]})]})}}}};t.a=W},function(e,t,n){"use strict";var r=n(26),o=n(12),a=n(1),i=n.n(a),s=n(474),c=n(136),l=n(475),u=n(751),d=n(100),p=n(30),b=n(160),h=n(1148),j=n(35),f=n(20),g=n.n(f),m=n(43),O=n(463),v=n(80),x=n(495),y=n(137),C=n(2165),T=n(426),E=n(423),k=n(556),w=n(7),S={shortcutBox:{padding:15,textAlign:"center"}},P=function(e){var t=a.useState(""),n=Object(r.a)(t,2),i=n[0],s=n[1],l=a.useState(!1),u=Object(r.a)(l,2),p=u[0],b=u[1],h=function(){p&&(i&&e.onSet(i),e.onClose())};return a.useEffect((function(){var e=function(e){e.preventDefault();var t=Object(k.c)(e);"keyup"!==e.type&&(b(t.isValid),s(t.shortcutString))};return document.addEventListener("keyup",e),document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",e)}}),[]),Object(w.jsxs)(d.b,{open:!0,title:Object(w.jsx)(o.Trans,{id:"Set shortcut"}),maxWidth:"xs",actions:[Object(w.jsx)(c.a,{label:Object(w.jsx)(o.Trans,{id:"Cancel"}),onClick:e.onClose},"Cancel"),Object(w.jsx)(c.a,{label:Object(w.jsx)(o.Trans,{id:"Set shortcut"}),primary:!0,onClick:h,disabled:!p},"Set")],secondaryActions:[Object(w.jsx)(c.a,{label:Object(w.jsx)(o.Trans,{id:"Remove shortcut"}),onClick:function(){e.onSet(""),e.onClose()}},"Remove")],onRequestClose:e.onClose,onApply:h,children:[Object(w.jsx)(T.a,{children:e.commandText}),Object(w.jsx)(E.a,{variant:"outlined",style:S.shortcutBox,children:Object(w.jsx)(T.a,{children:i?Object(k.b)(i):Object(w.jsx)(o.Trans,{id:"Press a shortcut combination..."})})})]})},I=n(512),_=n(157),A=n(2163),N=n(2168),R=n(2175),L=n(560),M=n(471),F=n(1186),D=n.n(F),B=n(593),U=n.n(B),V=n(627),W={shortcutChip:{borderRadius:3}},G=function(e){return Object(w.jsxs)(A.a,{children:[Object(w.jsx)(N.a,{primary:e.i18n._(V.b[e.commandName].displayText)}),Object(w.jsxs)(R.a,{children:[e.isClashing&&Object(w.jsx)(M.a,{tooltip:{id:"This shortcut clashes with another action."},children:Object(w.jsx)(U.a,{})}),Object(w.jsx)(L.a,{style:W.shortcutChip,label:e.shortcutString||Object(w.jsx)(o.Trans,{id:"No shortcut"}),onClick:e.onEditShortcut,color:e.shortcutString?"secondary":"default"}),!e.isDefault&&Object(w.jsx)(M.a,{onClick:e.onResetShortcut,tooltip:{id:"Reset to default"},children:Object(w.jsx)(D.a,{})})]})]})},z=function(e,t){return null==t?e:t},H=function(e){var t=a.useState(null),n=Object(r.a)(t,2),i=n[0],s=n[1],c=function(e){var t={},n={};return Object.keys(V.b).filter((function(e){return!V.b[e].noShortcut})).forEach((function(r){var o=V.b[r].area;t[o]||(t[o]=[]),t[o].push(r);var a=e[r],i=_.a[r]||"",s=z(i,a);""!==s&&(n[s]=(n[s]||[]).concat(r))})),[t,n]}(e.userShortcutMap),l=Object(r.a)(c,2),u=l[0],d=l[1],p=Object(k.b)(e.userShortcutMap.OPEN_COMMAND_PALETTE||_.a.OPEN_COMMAND_PALETTE);return Object(w.jsxs)(v.a,{noMargin:!0,children:[Object(w.jsx)(I.a,{kind:"info",identifier:"command-palette-shortcut",children:Object(w.jsx)(o.Trans,{id:"You can open the command palette by pressing {commandPaletteShortcut}.",values:{commandPaletteShortcut:p}})}),Object(w.jsx)(y.a,{label:Object(w.jsx)(o.Trans,{id:"Reset all shortcuts to default"}),onClick:function(){j.b.showConfirmDialog(e.i18n._({id:"Are you sure you want to reset all shortcuts to their default values?"}),"question")&&e.onReset()},fullWidth:!0}),Object(w.jsx)(C.a,{children:Object.keys(u).map((function(t){return Object(w.jsxs)(a.Fragment,{children:[Object(w.jsx)(O.a,{size:"title",children:e.i18n._(V.a[t])}),u[t].map((function(t){var n=e.userShortcutMap[t],r=_.a[t]||"",o=z(r,n),a=Object(k.b)(o),i=d[o],c=i&&i.length>1;return Object(w.jsx)(G,{i18n:e.i18n,shortcutString:a,commandName:t,isDefault:o===r,isClashing:c,onEditShortcut:function(){return s(t)},onResetShortcut:function(){return function(t){e.onEdit(t,_.a[t])}(t)}},t)}))]},t)}))}),i&&Object(w.jsx)(P,{commandText:e.i18n._(V.b[i].displayText),onClose:function(){return s(null)},onSet:function(t){e.onEdit(i,t)}})]})},Y=n(892),q=n(2176),X=g()("electron");t.a=function(e){var t=e.i18n,n=e.onClose,a=i.a.useState("preferences"),f=Object(r.a)(a,2),g=f[0],C=f[1],T=i.a.useState(!1),E=Object(r.a)(T,2),k=E[0],S=E[1],P=i.a.useContext(m.a),I=P.values,_=P.setThemeName,A=P.setCodeEditorThemeName,N=P.setAutoDownloadUpdates,R=P.showAllAlertMessages,L=P.showAllTutorialHints,M=P.setAutoDisplayChangelog,F=P.setEventsSheetShowObjectThumbnails,D=P.setAutosaveOnPreview,B=P.setUseNewInstructionEditorDialog,U=P.setUseUndefinedVariablesInAutocompletion,V=P.setUseGDJSDevelopmentWatcher,W=P.setEventsSheetUseAssignmentOperators,G=P.getDefaultEditorMosaicNode,z=P.setDefaultEditorMosaicNode,K=P.setAutoOpenMostRecentProject,J=P.resetShortcutsToDefault,Z=P.setShortcutForCommand,Q=P.setIsMenuBarHiddenInPreview,$=P.setBackdropClickBehavior,ee=P.setIsAlwaysOnTopInPreview,te=P.setEventsSheetCancelInlineParameter;return Object(w.jsxs)(d.b,{actions:[Object(w.jsx)(c.a,{label:Object(w.jsx)(o.Trans,{id:"Close"}),primary:!1,onClick:function(){return n(k)}},"close")],onRequestClose:function(){return n(k)},open:!0,noTitleMargin:!0,maxWidth:"sm",noMargin:!0,title:Object(w.jsxs)(x.b,{value:g,onChange:C,children:[Object(w.jsx)(x.a,{label:Object(w.jsx)(o.Trans,{id:"Preferences"}),value:"preferences"}),Object(w.jsx)(x.a,{label:Object(w.jsx)(o.Trans,{id:"Keyboard Shortcuts"}),value:"shortcuts"})]}),children:["preferences"===g&&Object(w.jsxs)(p.a,{children:[Object(w.jsx)(O.a,{size:"title",children:Object(w.jsx)(o.Trans,{id:"Language"})}),Object(w.jsx)(Y.a,{onLanguageChanged:function(){S(!0)}}),Object(w.jsx)(O.a,{size:"title",children:Object(w.jsx)(o.Trans,{id:"Appearance"})}),Object(w.jsxs)(v.c,{noMargin:!0,children:[Object(w.jsx)(s.a,{floatingLabelText:Object(w.jsx)(o.Trans,{id:"UI Theme"}),value:I.themeName,onChange:function(e,t,n){return _(n)},fullWidth:!0,children:Object.keys(b.b).map((function(e){return Object(w.jsx)(l.a,{value:e,primaryText:e},e)}))}),Object(w.jsx)(s.a,{floatingLabelText:Object(w.jsx)(o.Trans,{id:"Code editor Theme"}),value:I.codeEditorThemeName,onChange:function(e,t,n){return A(n)},fullWidth:!0,children:Object(h.a)().map((function(e){return Object(w.jsx)(l.a,{value:e.themeName,primaryText:e.name},e.themeName)}))})]}),Object(w.jsx)(p.c,{noMargin:!0,children:Object(w.jsx)(O.a,{children:Object(w.jsx)(o.Trans,{id:"You can contribute and <0>create your own themes</0>.",components:[Object(w.jsx)(q.a,{href:"https://github.com/4ian/GDevelop/blob/master/newIDE/README-themes.md",onClick:function(e){j.b.openExternalURL("https://github.com/4ian/GDevelop/blob/master/newIDE/README-themes.md"),e.preventDefault()}})]})})}),Object(w.jsx)(O.a,{size:"title",children:Object(w.jsx)(o.Trans,{id:"Layouts"})}),Object(w.jsx)(p.c,{children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)(y.a,{label:Object(w.jsx)(o.Trans,{id:"Reset Scene Editor layout"}),onClick:function(){return z("scene-editor",null)},disabled:!G("scene-editor")}),Object(w.jsx)(p.d,{}),Object(w.jsx)(y.a,{label:Object(w.jsx)(o.Trans,{id:"Reset Scene Editor (small window) layout"}),onClick:function(){return z("scene-editor-small",null)},disabled:!G("scene-editor-small")}),Object(w.jsx)(p.d,{}),Object(w.jsx)(y.a,{label:Object(w.jsx)(o.Trans,{id:"Reset Debugger layout"}),onClick:function(){return z("debugger",null)},disabled:!G("debugger")}),Object(w.jsx)(p.d,{}),Object(w.jsx)(y.a,{label:Object(w.jsx)(o.Trans,{id:"Reset Resource Editor layout"}),onClick:function(){return z("resources-editor",null)},disabled:!G("resources-editor")}),Object(w.jsx)(p.d,{}),Object(w.jsx)(y.a,{label:Object(w.jsx)(o.Trans,{id:"Reset Extension Editor layout"}),onClick:function(){return z("events-functions-extension-editor",null)},disabled:!G("events-functions-extension-editor")})]})}),Object(w.jsx)(O.a,{size:"title",children:Object(w.jsx)(o.Trans,{id:"Dialogs"})}),Object(w.jsx)(p.c,{children:Object(w.jsxs)(s.a,{floatingLabelText:Object(w.jsx)(o.Trans,{id:"Dialog backdrop click behavior"}),value:I.backdropClickBehavior,onChange:function(e,t,n){return $(n)},fullWidth:!0,children:[Object(w.jsx)(l.a,{value:"cancel",primaryText:{id:"Cancel changes"}}),Object(w.jsx)(l.a,{value:"apply",primaryText:{id:"Apply changes"}}),Object(w.jsx)(l.a,{value:"nothing",primaryText:{id:"Do nothing"}})]})}),Object(w.jsx)(O.a,{size:"title",children:Object(w.jsx)(o.Trans,{id:"Updates"})}),Object(w.jsx)(p.c,{children:Object(w.jsx)(u.a,{onToggle:function(e,t){return N(t)},toggled:I.autoDownloadUpdates,labelPosition:"right",label:Object(w.jsx)(o.Trans,{id:"Auto download and install updates (recommended)"})})}),Object(w.jsx)(p.c,{children:Object(w.jsx)(u.a,{onToggle:function(e,t){return M(t)},toggled:I.autoDisplayChangelog,labelPosition:"right",label:Object(w.jsx)(o.Trans,{id:"Display What's New when a new version is launched (recommended)"})})}),Object(w.jsx)(O.a,{size:"title",children:Object(w.jsx)(o.Trans,{id:"Events Sheet"})}),Object(w.jsx)(p.c,{children:Object(w.jsx)(u.a,{onToggle:function(e,t){return F(t)},toggled:I.eventsSheetShowObjectThumbnails,labelPosition:"right",label:Object(w.jsx)(o.Trans,{id:"Display object thumbnails in Events Sheets"})})}),Object(w.jsx)(p.c,{children:Object(w.jsx)(u.a,{onToggle:function(e,t){return W(t)},toggled:I.eventsSheetUseAssignmentOperators,labelPosition:"right",label:Object(w.jsx)(o.Trans,{id:"Display assignment operators in Events Sheets"})})}),Object(w.jsx)(p.c,{children:Object(w.jsx)(u.a,{onToggle:function(e,t){return B(t)},toggled:I.useNewInstructionEditorDialog,labelPosition:"right",label:Object(w.jsx)(o.Trans,{id:"Use the new action/condition editor"})})}),Object(w.jsx)(p.c,{children:Object(w.jsx)(u.a,{onToggle:function(e,t){return U(t)},toggled:I.useUndefinedVariablesInAutocompletion,labelPosition:"right",label:Object(w.jsx)(o.Trans,{id:"Suggest names of variables used in events but not declared in the list of variables"})})}),Object(w.jsx)(p.c,{children:Object(w.jsxs)(s.a,{floatingLabelText:Object(w.jsx)(o.Trans,{id:"Escape key behavior when editing an parameter inline"}),value:I.eventsSheetCancelInlineParameter,onChange:function(e,t,n){te(n)},fullWidth:!0,children:[Object(w.jsx)(l.a,{value:"cancel",primaryText:{id:"Cancel changes"}}),Object(w.jsx)(l.a,{value:"apply",primaryText:{id:"Apply changes"}})]})}),Object(w.jsx)(O.a,{size:"title",children:Object(w.jsx)(o.Trans,{id:"Embedded help and tutorials"})}),Object(w.jsx)(p.c,{children:Object(w.jsxs)(p.a,{noMargin:!0,children:[Object(w.jsx)(p.c,{children:Object(w.jsx)(y.a,{label:Object(w.jsx)(o.Trans,{id:"Reset hidden embedded explanations"}),onClick:function(){return R()},disabled:!Object.keys(I.hiddenAlertMessages).length})}),Object(w.jsx)(p.c,{children:Object(w.jsx)(y.a,{label:Object(w.jsx)(o.Trans,{id:"Reset hidden embedded tutorials"}),onClick:function(){return L()},disabled:!Object.keys(I.hiddenTutorialHints).length})})]})}),Object(w.jsx)(O.a,{size:"title",children:Object(w.jsx)(o.Trans,{id:"Advanced"})}),Object(w.jsx)(p.c,{children:Object(w.jsx)(u.a,{onToggle:function(e,t){return D(t)},toggled:I.autosaveOnPreview,labelPosition:"right",label:Object(w.jsx)(o.Trans,{id:"Auto-save project on Preview"})})}),Object(w.jsx)(p.c,{children:Object(w.jsx)(u.a,{onToggle:function(e,t){return K(t)},toggled:I.autoOpenMostRecentProject,labelPosition:"right",label:Object(w.jsx)(o.Trans,{id:"Automatically re-open the project edited during last session"})})}),X&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(p.c,{children:Object(w.jsx)(u.a,{onToggle:function(e,t){return Q(t)},toggled:I.isMenuBarHiddenInPreview,labelPosition:"right",label:Object(w.jsx)(o.Trans,{id:"Hide the menu bar in the preview window"})})}),Object(w.jsx)(p.c,{children:Object(w.jsx)(u.a,{onToggle:function(e,t){return ee(t)},toggled:I.isAlwaysOnTopInPreview,labelPosition:"right",label:Object(w.jsx)(o.Trans,{id:"Always display the preview window on top of the editor"})})})]}),j.b.isDev()&&Object(w.jsx)(p.c,{children:Object(w.jsx)(u.a,{onToggle:function(e,t){return V(t)},toggled:I.useGDJSDevelopmentWatcher,labelPosition:"right",label:Object(w.jsx)(o.Trans,{id:"Watch changes in game engine (GDJS) sources and auto import them (dev only)"})})})]}),"shortcuts"===g&&Object(w.jsx)(p.c,{expand:!0,children:Object(w.jsx)(p.a,{expand:!0,children:Object(w.jsx)(H,{i18n:t,userShortcutMap:I.userShortcutMap,onEdit:Z,onReset:J})})})]})}},function(e,t,n){"use strict";var r=n(26),o=n(1),a=n.n(o),i=n(12),s=n(422),c=n(2171),l=n(702),u=n(4),d=n(513),p=n(556),b=n(2163),h=n(2167),j=n(2168),f=n(2175),g=n(560),m=n(2275),O=n(637),v=n.n(O),x=n(2279),y=function(e,t){var n=t.inputValue.toLowerCase();if(""===n)return e;var r=[],o=[];return e.forEach((function(e){var a=t.getOptionLabel(e).toLowerCase();return a.includes(n)?r.push(e):function(e,t){return!t||function(e,t){var n=t.toLowerCase();e=e.toLowerCase();for(var r=0,o=0;o<t.length;o++)n[o]===e[r]&&(r+=1);return r===e.length}(e,t)}(n,a)?o.push(e):void 0})),[].concat(r,o)},C=n(627),T=n(7),E=Object(c.a)({listItemContainer:{width:"100%"}}),k={chip:{borderRadius:3}},w=function(e){var t=o.useState(!0),n=Object(r.a)(t,2),a=n[0],i=n[1],s=Object(p.e)(),c=E(),l=function(e){if(e.text)return null;if(e.name){var t=s[e.name];if(!t)return null;var n=Object(p.b)(t);return Object(T.jsx)(f.a,{children:Object(T.jsx)(g.a,{label:n,style:k.chip})})}},O=function(t){if(t.text)return t.text;if(t.name){var n=C.b[t.name],r=n.area,o=n.displayText,a=C.a[r];return e.i18n._(a)+" \u3009"+e.i18n._(o)}},w=function(e){return e.text&&e.iconSrc?Object(T.jsx)(d.a,{iconSize:20,src:e.iconSrc}):Object(T.jsx)(v.a,{})};return Object(T.jsx)(x.a,{open:a,onClose:function(t,n){"select-option"!==n&&e.onClose()},onOpen:function(){return i(!0)},options:e.items,getOptionLabel:O,onChange:function(t,n){e.onSelect(n)},openOnFocus:!0,autoHighlight:!0,filterOptions:y,renderInput:function(t){return Object(T.jsx)(m.a,Object(u.a)(Object(u.a)({},t),{},{placeholder:e.i18n._(e.placeholder),variant:"outlined",autoFocus:!0}))},renderOption:function(e){return Object(T.jsxs)(b.a,{dense:!0,component:"div",ContainerComponent:"div",classes:{container:c.listItemContainer},children:[Object(T.jsx)(h.a,{children:w(e)}),Object(T.jsx)(j.a,{primary:O(e)}),l(e)]})}})},S=Object(c.a)({scrollPaper:{alignItems:"flex-start"}}),P=a.a.forwardRef((function(e,t){var n=S(),o=a.a.useContext(l.b),c=a.a.useState("closed"),u=Object(r.a)(c,2),d=u[0],p=u[1],b=a.a.useState(null),h=Object(r.a)(b,2),j=h[0],f=h[1],g=a.a.useCallback((function(e){e.handler?(e.handler(),"OPEN_COMMAND_PALETTE"!==e.name&&p("closed")):(f(e),p("option"))}),[f,p]),m=function(e){e.handler(),p("closed")},O=a.a.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];p(e?"command":"closed")}),[]),v=a.a.useCallback((function(e){var t=o.getNamedCommand(e);t&&g(t)}),[g,o]);return a.a.useImperativeHandle(t,(function(){return{open:O,launchCommand:v}})),Object(T.jsx)(i.I18n,{children:function(e){var t=e.i18n;return Object(T.jsxs)(s.a,{onClose:function(){return p("closed")},"aria-label":"command-palette",open:"closed"!==d,fullWidth:!0,hideBackdrop:!0,maxWidth:"sm",classes:n,transitionDuration:0,children:["command"===d&&Object(T.jsx)(w,{i18n:t,items:o.getAllNamedCommands().filter((function(e){return!C.b[e.name].ghost})),placeholder:{id:"Start typing a command..."},onClose:function(){return p("closed")},onSelect:g}),"option"===d&&j&&Object(T.jsx)(w,{i18n:t,items:j.generateOptions(),placeholder:C.b[j.name],onClose:function(){return p("closed")},onSelect:m})]})}})}));t.a=P},function(e,t,n){"use strict";var r=n(545),o=n(1),a=n(520),i=n(530),s=function(e,t,n,r){return Object(a.c)(e,t).containerObjectsList.map((function(t){return{text:t.object.getName(),handler:function(){return n(t.object,r)},iconSrc:i.a.getThumbnail.bind(i.a)(e,t.object)}}))},c=function(e){var t=e.project,n=e.layout,a=e.onEditObject,i=e.onEditObjectVariables;Object(r.b)("EDIT_OBJECT",!0,{generateOptions:o.useCallback((function(){return s(t,n,a)}),[t,n,a])}),Object(r.b)("EDIT_OBJECT_BEHAVIORS",!0,{generateOptions:o.useCallback((function(){return s(t,n,a,"behaviors")}),[t,n,a])}),Object(r.b)("EDIT_OBJECT_EFFECTS",!0,{generateOptions:o.useCallback((function(){return s(t,n,a,"effects")}),[t,n,a])}),Object(r.b)("EDIT_OBJECT_VARIABLES",!0,{generateOptions:o.useCallback((function(){return s(t,n,i)}),[t,n,i])})},l=n(18),u=function(e){var t=e.project,n=e.layout,i=e.onEditObjectGroup;Object(r.b)("EDIT_OBJECT_GROUP",!0,{generateOptions:o.useCallback((function(){return[].concat(Object(l.a)(Object(a.a)(n.getObjectGroups())),Object(l.a)(Object(a.a)(t.getObjectGroups()))).map((function(e){return{text:e.getName(),handler:function(){return i(e)}}}))}),[i,t,n])})},d=n(465),p=function(e){var t=e.layout,n=e.onEditLayerEffects,a=e.onEditLayer;Object(r.b)("EDIT_LAYER_EFFECTS",!0,{generateOptions:o.useCallback((function(){var e=t.getLayersCount();return Object(d.mapReverseFor)(0,e,(function(e){var r=t.getLayerAt(e);return{text:r.getName()||"Base layer",handler:function(){return n(r)}}}))}),[t,n])}),Object(r.b)("EDIT_LAYER",!0,{generateOptions:o.useCallback((function(){var e=t.getLayersCount();return Object(d.mapReverseFor)(0,e,(function(e){var n=t.getLayerAt(e);return{text:n.getName()||"Base layer",handler:function(){return a(n)}}}))}),[t,a])})};t.a=function(e){var t=e.project,n=e.layout,o=e.onEditObject,a=e.onEditObjectVariables,i=e.onOpenSceneProperties,s=e.onOpenSceneVariables,l=e.onEditObjectGroup,d=e.onEditLayerEffects,b=e.onEditLayer;return Object(r.a)("OPEN_SCENE_PROPERTIES",!0,{handler:i}),Object(r.a)("OPEN_SCENE_VARIABLES",!0,{handler:s}),c({project:t,layout:n,onEditObject:o,onEditObjectVariables:a}),u({project:t,layout:n,onEditObjectGroup:l}),p({layout:n,onEditLayerEffects:d,onEditLayer:b}),null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(4),o=n(11),a=n(9),i=n(8),s=n(13),c=n(14),l=n(12),u=n(1),d=n(100),p=n(136),b=n(423),h=n(705),j=n(650),f=n(578),g=n(651),m=n(7),O=["isCondition","scope"],v={flex:1,display:"flex",flexDirection:"column"},x=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).instructionsInfo=Object(g.a)(Object(f.b)(e.props.isCondition),e.props.scope),e.instructionsInfoTree=Object(j.a)(e.instructionsInfo),e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.isCondition,e.scope,Object(o.a)(e,O));return Object(m.jsx)(h.a,Object(r.a)({style:v,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:24,useSubheaders:!0},t))}}]),n}(u.Component),y=n(1028),C={container:{display:"flex",flex:1},parametersEditor:{flex:2,display:"flex",zIndex:1}},T=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).chooseType=function(t){e.props.instruction.setType(t),e.forceUpdate((function(){e._instructionParametersEditor&&e._instructionParametersEditor.focus()}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.instruction,r=t.isCondition,o=t.project,a=t.globalObjectsContainer,i=t.objectsContainer,s=t.scope;return Object(m.jsxs)("div",{style:C.container,children:[Object(m.jsx)(x,{isCondition:r,selectedType:n.getType(),onChoose:this.chooseType,focusOnMount:!n.getType(),scope:s}),Object(m.jsx)(b.a,{style:C.parametersEditor,square:!0,elevation:2,children:Object(m.jsx)(y.a,{project:o,scope:s,globalObjectsContainer:a,objectsContainer:i,isCondition:r,instruction:n,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,ref:function(t){return e._instructionParametersEditor=t},focusOnMount:!!n.getType()})})]})}}]),n}(u.Component),E=["isNewInstruction","onCancel","onSubmit","open","canPasteInstructions","onPasteInstructions"],k=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.isNewInstruction,e.onCancel),n=e.onSubmit,a=e.open,i=(e.canPasteInstructions,e.onPasteInstructions,Object(o.a)(e,E)),s=[Object(m.jsx)(p.a,{label:Object(m.jsx)(l.Trans,{id:"Cancel"}),primary:!1,onClick:t},"cancel"),Object(m.jsx)(d.a,{label:Object(m.jsx)(l.Trans,{id:"Ok"}),primary:!0,onClick:n},"ok")];return Object(m.jsx)(d.b,{actions:s,open:a,onRequestClose:t,onApply:n,maxWidth:!1,flexBody:!0,noMargin:!0,children:Object(m.jsx)(T,Object(r.a)({},i))})}}]),n}(u.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var r=n(26),o=n(12),a=n(1),i=n.n(a),s=n(100),c=n(136),l=n(1745),u=n.n(l),d=n(30),p=n(472),b=n(552),h=n(137),j=n(35),f=n(463),g=n(3),m=n(0),O=n.n(m),v=n(469),x=n(80),y=n(476),C=n(1159),T=n(139),E=n(562),k=n(63),w=n.n(k),S=n(794),P=n(62),I=n(962),_=n(514),A=n(7),N=function(){var e=Object(g.a)(O.a.mark((function e(t){var n,r,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(t,{responseType:"arraybuffer"});case 3:if(n=e.sent,!((r=btoa(new Uint8Array(n.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""))).length>102400)){e.next=7;break}throw new Error("Icon is too big (size after base64 conversion: ".concat(r.length,")"));case 7:if("image/svg+xml"===(o=n.headers?n.headers["content-type"].toLowerCase():"")){e.next=10;break}throw new Error('Wrong content type. Got: "'.concat(o,'", expected "image/svg+xml"'));case 10:return e.abrupt("return","data:".concat(o,";base64,").concat(r));case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Unable to import the icon.",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=e.i18n,n=e.helpPath,r=e.onChangeHelpPath,a=Object(E.b)(n),i=Object(E.c)(n),s=n?(i?t._({id:"This is a relative path that will open in the GDevelop wiki."}):t._({id:"This is link to a webpage."}))+" [".concat(t._({id:"Click here to test the link."}),"](").concat(Object(E.a)(n),")"):t._({id:"This can either be a URL to a web page, or a path starting with a slash that will be opened in the GDevelop wiki. Leave empty if there is no help page, although it's recommended you eventually write one if you distribute the extension."});return Object(A.jsx)(v.b,{floatingLabelText:Object(A.jsx)(o.Trans,{id:"Help page URL"}),value:n,onChange:function(e,t){r(t)},errorText:!n||a||i?null:Object(A.jsx)(o.Trans,{id:'This is not a URL starting with "http://" or "https://".'}),helperMarkdownText:s,fullWidth:!0})},L=function(e){var t=e.eventsFunctionsExtension,n=e.onLoadChange,a=e.isLoading,l=Object(T.a)(),u=i.a.useState(!1),d=Object(r.a)(u,2),p=d[0],b=d[1],j=Object(S.a)();return Object(A.jsx)(o.I18n,{children:function(e){var r=e.i18n;return Object(A.jsxs)(x.a,{noMargin:!0,children:[Object(A.jsx)(v.b,{floatingLabelText:Object(A.jsx)(o.Trans,{id:"Name"}),value:t.getName(),disabled:!0,fullWidth:!0}),Object(A.jsx)(x.d,{renderButton:function(e){return Object(A.jsx)(h.a,{onClick:function(){b(!0)},primary:!0,label:Object(A.jsx)(o.Trans,{id:"Choose"}),disabled:a,style:e})},renderTextField:function(){return Object(A.jsx)(y.a,{floatingLabelText:Object(A.jsx)(o.Trans,{id:"Icon URL"}),value:t.getPreviewIconUrl(),onChange:function(e){t.setPreviewIconUrl(e)},disabled:!0,fullWidth:!0})}}),Object(A.jsx)(v.b,{floatingLabelText:Object(A.jsx)(o.Trans,{id:"Name displayed in editor"}),value:t.getFullName(),onChange:function(e,n){t.setFullName(n),l()},fullWidth:!0}),Object(A.jsx)(v.b,{floatingLabelText:Object(A.jsx)(o.Trans,{id:"Short description"}),value:t.getShortDescription(),onChange:function(e,n){t.setShortDescription(n),l()},multiline:!0,fullWidth:!0,rows:2,rowsMax:2}),Object(A.jsx)(v.b,{floatingLabelText:Object(A.jsx)(o.Trans,{id:"Description (markdown supported)"}),value:t.getDescription(),onChange:function(e,n){t.setDescription(n),l()},multiline:!0,fullWidth:!0,rows:5,rowsMax:15}),Object(A.jsx)(v.b,{floatingLabelText:Object(A.jsx)(o.Trans,{id:"Version"}),value:t.getVersion(),onChange:function(e,n){t.setVersion(n),l()},fullWidth:!0}),Object(A.jsx)(_.a,{floatingLabelText:Object(A.jsx)(o.Trans,{id:"Category (shown in the editor)"}),fullWidth:!0,value:t.getCategory(),onChange:function(e){t.setCategory(e),l()},dataSource:[{text:"",value:"General"},{text:"Ads",value:"Ads"},{text:"Audio",value:"Audio"},{text:"Advanced",value:"Advanced"},{text:"Device",value:"Device"},{text:"Input",value:"Input"},{text:"Network",value:"Network"},{text:"Third-party",value:"Third-party"}]}),Object(A.jsx)(y.a,{floatingLabelText:Object(A.jsx)(o.Trans,{id:"Tags (comma separated)"}),value:t.getTags().toJSArray().join(", "),onChange:function(e){var n=t.getTags();n.clear(),e.split(",").map((function(e){return e.trim()})).filter(Boolean).forEach((function(e){n.push_back(e)})),l()},fullWidth:!0}),Object(A.jsx)(R,{i18n:r,helpPath:t.getHelpPath(),onChangeHelpPath:function(e){t.setHelpPath(e),l()}}),Object(A.jsx)(I.a,{userIds:t.getAuthorIds().toJSArray(),onChange:function(e){var n=t.getAuthorIds();n.clear(),e.forEach((function(e){return n.push_back(e)}))},floatingLabelText:Object(A.jsx)(o.Trans,{id:"Authors"}),helperText:Object(A.jsx)(o.Trans,{id:"Select the usernames of the contributors to this extension. They will be displayed in the order selected. Do not see your name? Go to the Profile section and create an account!"})}),p&&Object(A.jsx)(s.b,{title:Object(A.jsx)(o.Trans,{id:"Choose an icon for the extension"}),actions:[Object(A.jsx)(c.a,{label:Object(A.jsx)(o.Trans,{id:"Cancel"}),primary:!1,onClick:function(){b(!1)}},"cancel")],open:!0,noMargin:!0,onRequestClose:function(){b(!1)},children:Object(A.jsx)(C.a,{onChoose:function(e){b(!1),n(!0),N(e.url).then((function(n){j.current&&(t.setPreviewIconUrl(e.url),t.setIconUrl(n))}),(function(e){j.current&&Object(P.a)({message:r._({id:"Unable to download the icon. Verify your internet connection or try again later."}),rawError:e,errorId:"icon-download-error"})})).then((function(){j.current&&n(!1)}))},resourceKind:"svg"})})]})}})},M=n(495),F=n(2204),D=n(550),B=n(423),U=n(471),V=n(489),W=n.n(V),G=n(515),z=n.n(G),H=n(474),Y=n(475),q=n(465),X=n(486),K=n(506),J=function(e,t){for(var n=0;n<t.size();n++)if(t.at(n).getName()===e)return!0;return!1},Z=function(e){var t=e.eventsFunctionsExtension,n=t.getAllDependencies(),r=Object(T.a)();return Object(A.jsxs)(d.a,{children:[Object(A.jsx)(d.c,{expand:!0,children:Object(A.jsxs)(F.a,{component:function(e){var t=e.children;return Object(A.jsx)(B.a,{elevation:4,style:{minWidth:"100%"},children:t})},children:[Object(A.jsxs)(D.a,{children:[Object(A.jsx)(D.c,{children:Object(A.jsxs)(D.e,{children:[Object(A.jsx)(D.d,{children:Object(A.jsx)(o.Trans,{id:"Name"})}),Object(A.jsx)(D.d,{children:Object(A.jsx)(o.Trans,{id:"Export name"})}),Object(A.jsx)(D.d,{children:Object(A.jsx)(o.Trans,{id:"Version"})}),Object(A.jsx)(D.d,{children:Object(A.jsx)(o.Trans,{id:"Dependency type"})}),Object(A.jsx)(D.d,{children:Object(A.jsx)(o.Trans,{id:"Action"})})]})}),Object(A.jsx)(D.b,{children:Object(q.mapVector)(t.getAllDependencies(),(function(e,o){return Object(A.jsxs)(D.e,{children:[Object(A.jsx)(D.f,{children:Object(A.jsx)(y.a,{commitOnBlur:!0,value:e.getName(),onChange:function(t){t!==e.getName()&&(J(t,n)?Object(P.c)("This name is already in use! Please use a unique name.",{delayToNextTick:!0}):(e.setName(t),r()))},margin:"none"})}),Object(A.jsx)(D.f,{children:Object(A.jsx)(y.a,{commitOnBlur:!0,value:e.getExportName(),onChange:function(t){t!==e.getExportName()&&(e.setExportName(t),r())},margin:"none"})}),Object(A.jsx)(D.f,{children:Object(A.jsx)(y.a,{commitOnBlur:!0,value:e.getVersion(),onChange:function(t){t!==e.getVersion()&&(e.setVersion(t),r())},margin:"none"})}),Object(A.jsx)(D.f,{children:Object(A.jsxs)(H.a,{value:e.getDependencyType(),onChange:function(t,n,o){o!==e.getDependencyType()&&(e.setDependencyType(o),r())},margin:"none",children:[Object(A.jsx)(Y.a,{value:"npm",primaryText:{id:"NPM"}}),Object(A.jsx)(Y.a,{value:"cordova",primaryText:{id:"Cordova"}})]})}),Object(A.jsx)(D.f,{children:Object(A.jsx)(U.a,{tooltip:{id:"Delete"},onClick:function(){t.removeDependencyAt(o),r()},size:"small",children:Object(A.jsx)(z.a,{})})})]},e.getName())}))})]}),Object(A.jsx)(d.a,{expand:!0,children:Object(A.jsx)(d.c,{justifyContent:"flex-end",children:Object(A.jsx)(h.a,{primary:!0,icon:Object(A.jsx)(W.a,{}),label:Object(A.jsx)(o.Trans,{id:"Add"}),onClick:function(){t.addDependency().setName(Object(X.a)("New Dependency",(function(e){return J(e,n)}))).setExportName("my-dependency").setVersion("1.0.0").setDependencyType("cordova"),r()}})})})]})}),Object(A.jsx)(d.c,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(o.Trans,{id:"Dependencies allow to add additional libraries in the exported games. NPM dependencies will be included for Electron builds (Windows, macOS, Linux) and Cordova dependencies will be included for Cordova builds (Android, iOS). Note that this is intended for usage in JavaScript events only. If you are only using standard events, you should not worry about this."})})})]})},Q=function(){j.b.openExternalURL("https://github.com/4ian/GDevelop-extensions/issues/new?body=".concat(encodeURIComponent('\n**\u26a0\ufe0f Please edit and complete this before submitting your extension:**\n\n## Describe the extension\nA clear and concise description of what the extension is, how useful it is.\n\n## Checklist\n\n- [ ] Extension has a proper name and description.\n- [ ] Extension has tags (for example: "platform, brick, breakable").\n- [ ] All behaviors have a description.\n- [ ] All functions (actions, conditions, expressions) have descriptions.\n- [ ] I confirm that this extension can be intergrated to this GitHub repository, distributed and MIT licensed.\n\n## Extension file\n\nFinally, attach the .json file of your extension here.\n\nYou also may have to create an account on GitHub before posting.\nIf your extension is high quality and useful, it will be added to the list of GDevelop community extensions.\nWhen you\'re ready, remove this last paragraph and click on "Submit new issue". Thanks \ud83d\ude4c'),"&title=New%20extension"))};function $(e){var t=e.eventsFunctionsExtension,n=e.onClose,i=e.open,l=a.useState("options"),j=Object(r.a)(l,2),g=j[0],m=j[1],O=a.useState(!1),v=Object(r.a)(O,2),x=v[0],y=v[1],C=a.useState(!1),T=Object(r.a)(C,2),E=T[0],k=T[1],w=a.useContext(b.a),S=w.getEventsFunctionsExtensionWriter();return Object(A.jsxs)(s.b,{secondaryActions:[Object(A.jsx)(p.a,{helpPagePath:"/extensions/create"},"help"),S?Object(A.jsx)(c.a,{icon:Object(A.jsx)(u.a,{}),label:Object(A.jsx)(o.Trans,{id:"Export extension"}),onClick:function(){k(!0)},disabled:x},"export"):null],actions:[Object(A.jsx)(c.a,{label:Object(A.jsx)(o.Trans,{id:"Close"}),primary:!0,keyboardFocused:!0,onClick:n,disabled:x},"close")],open:i,noTitleMargin:!0,title:Object(A.jsxs)(M.b,{value:g,onChange:m,children:[Object(A.jsx)(M.a,{label:Object(A.jsx)(o.Trans,{id:"Options"}),value:"options"}),Object(A.jsx)(M.a,{label:Object(A.jsx)(o.Trans,{id:"Dependencies"}),value:"dependencies"})]}),cannotBeDismissed:x,onRequestClose:x?function(){}:n,children:["options"===g&&Object(A.jsx)(L,{eventsFunctionsExtension:t,onLoadChange:y,isLoading:x}),"dependencies"===g&&Object(A.jsx)(Z,{eventsFunctionsExtension:t}),E&&Object(A.jsx)(s.b,{secondaryActions:[Object(A.jsx)(p.a,{helpPagePath:"/extensions/share"},"help")],actions:[Object(A.jsx)(c.a,{label:Object(A.jsx)(o.Trans,{id:"Close"}),keyboardFocused:!0,onClick:function(){k(!1)}},"close")],open:!0,onRequestClose:function(){k(!1)},children:Object(A.jsxs)(d.a,{expand:!0,children:[Object(A.jsx)(d.c,{children:Object(A.jsx)(f.a,{children:Object(A.jsx)(o.Trans,{id:"You can export the extension to a file to easily import it in another project. If your extension is providing useful and reusable functions or behaviors, consider sharing it with the GDevelop community!"})})}),Object(A.jsxs)(d.c,{children:[Object(A.jsx)(h.a,{icon:Object(A.jsx)(u.a,{}),primary:!0,label:Object(A.jsx)(o.Trans,{id:"Export to a file"}),onClick:function(){!function(e,t){var n=e.getEventsFunctionsExtensionWriter();n?n.chooseEventsFunctionExtensionFile(t.getName()).then((function(e){e&&n.writeEventsFunctionsExtension(t,e).then()})):Promise.reject(new Error("Not supported"))}(w,t)}}),Object(A.jsx)(c.a,{label:Object(A.jsx)(o.Trans,{id:"Submit extension to the community"}),onClick:Q})]})]})})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(488),u=n(470),d=n(570),p=n(4),b=(n(477),n(616)),h=n(641),j=n(7),f={previewContainer:{position:"relative",display:"flex",width:"100%",alignItems:"center",justifyContent:"center",height:200},iconContainer:{display:"flex",flex:1,height:"100%",alignItems:"center",justifyContent:"center",position:"relative"},icon:{width:60,height:60}},g=function(e){var t=e.renderIcon;return Object(j.jsxs)("div",{style:f.previewContainer,children:[Object(j.jsx)(h.a,{}),Object(j.jsx)("div",{style:f.iconContainer,children:t({style:f.icon})})]})},m=n(1807),O=n.n(m),v=n(1085),x=n.n(v),y=n(1086),C=n.n(y),T=n(1087),E=n.n(T),k=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state=e._loadFrom(e.props),e}return Object(o.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.resourceName===this.props.resourceName&&e.project===this.props.project||this.setState(this._loadFrom(e))}},{key:"_loadFrom",value:function(e){var t=e.project,n=e.resourceName,r=t.getResourcesManager();return{resourceKind:r.hasResource(n)?r.getResource(n).getKind():null}}},{key:"render",value:function(){switch(this.state.resourceKind){case"image":return Object(j.jsx)(b.a,{project:this.props.project,resourceName:this.props.resourceName,imageResourceSource:this.props.resourcesLoader.getResourceFullUrl(this.props.project,this.props.resourceName,{}),isImageResourceSmooth:Object(b.b)(this.props.project,this.props.resourceName),onSize:this.props.onSize});case"audio":return Object(j.jsx)(g,{renderIcon:function(e){return Object(j.jsx)(O.a,Object(p.a)({},e))}});case"json":return Object(j.jsx)(g,{renderIcon:function(e){return Object(j.jsx)(x.a,Object(p.a)({},e))}});case"video":return Object(j.jsx)(g,{renderIcon:function(e){return Object(j.jsx)(C.a,Object(p.a)({},e))}});case"font":case"bitmapFont":return Object(j.jsx)(g,{renderIcon:function(e){return Object(j.jsx)(E.a,Object(p.a)({},e))}});default:return null}}}]),n}(c.PureComponent),w=n(606),S={propertiesContainer:{padding:8,overflowY:"scroll",overflowX:"hidden",flex:2}},P=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).schema=[{name:"Resource name",valueType:"string",disabled:!0,getValue:function(e){return e.getName()},setValue:function(e,t){return e.setName(t)}},{name:"File",valueType:"string",getValue:function(e){return e.getFile()},setValue:function(e,t){return e.setFile(t)},onEditButtonClick:function(){return e._chooseResourcePath()}}],e._chooseResourcePath=function(){var t=e.props,n=t.resources,r=t.onResourcePathUpdated,o=t.onChooseResource,a=t.resourceSources,i=n[0],s=a.filter((function(e){return e.kind===i.getKind()}));s.length&&o({initialSourceName:s[0].name,multiSelection:!0,resourceKind:i.getKind()}).then((function(t){t.length&&(i.setFile(t[0].getFile()),t.forEach((function(e){return e.delete()})),r(),e.forceUpdate())}))},e}return Object(o.a)(n,[{key:"_renderEmpty",value:function(){return Object(j.jsx)(u.a,{children:Object(j.jsx)(s.Trans,{id:"Resources are automatically added to your project whenever you add an image, a font or a video to an object or when you choose an audio file in events. Choose a resource to display its properties."})})}},{key:"_renderResourcesProperties",value:function(){var e=this.props.resources,t=e[0].getProperties(),n=Object(w.a)(t,(function(e){return e.getProperties()}),(function(e,t,n){return e.updateProperty(t,n)}));return Object(j.jsx)("div",{style:S.propertiesContainer,children:Object(j.jsx)(d.a,{schema:this.schema.concat(n),instances:e})},e.map((function(e){return""+e.ptr})).join(";"))}},{key:"_renderPreview",value:function(){var e=this.props,t=e.resources,n=e.project,r=e.resourcesLoader;if(t&&t.length)return Object(j.jsx)(k,{resourceName:t[0].getName(),resourcesLoader:r,project:n})}},{key:"render",value:function(){var e=this.props.resources;return Object(j.jsxs)(l.a,{maxWidth:!0,children:[this._renderPreview(),e&&e.length?this._renderResourcesProperties():this._renderEmpty()]})}}]),n}(c.Component)},,function(e,t,n){"use strict";var r=n(26),o=n(1),a=n(624),i=n(588),s=n(625),c=n(505),l=n(35),u=n(18),d=n(12),p=n(559),b=n(138),h=n(7);function j(e){var t=e.onPreviewWithoutHotReload,n=e.onNetworkPreview,r=e.onOpenDebugger,a=e.onHotReloadPreview,s=e.canDoNetworkPreview,l=e.isPreviewEnabled,j=e.hasPreviewsRunning,f=e.previewState,g=e.setPreviewOverride,m=e.exportProject,O=e.hasProject,v=o.useContext(b.a),x=o.useCallback((function(e){return[{label:e._({id:"Start Network Preview (Preview over WiFi/LAN)"}),click:n,enabled:s},{type:"separator"},{label:e._({id:"Start Preview with Debugger and Performance Profiler"}),click:r}]}),[n,r,s]),y=o.useCallback((function(e){return[{label:e._({id:"Launch another preview in a new window"}),click:t,enabled:l&&j},{type:"separator"}].concat(Object(u.a)(f.overridenPreviewLayoutName?[{type:"checkbox",label:f.overridenPreviewExternalLayoutName?e._({id:"Start all previews from external layout {0}",values:{0:f.overridenPreviewExternalLayoutName}}):e._({id:"Start all previews from scene {0}",values:{0:f.overridenPreviewLayoutName}}),checked:f.isPreviewOverriden,click:function(){return g({isPreviewOverriden:!f.isPreviewOverriden,overridenPreviewLayoutName:f.overridenPreviewLayoutName,overridenPreviewExternalLayoutName:f.overridenPreviewExternalLayoutName})}},{type:"separator"}]:[]),[{label:f.previewExternalLayoutName?e._({id:"Use this external layout inside this scene to start all previews"}):e._({id:"Use this scene to start all previews"}),click:function(){return g({isPreviewOverriden:!0,overridenPreviewLayoutName:f.previewLayoutName,overridenPreviewExternalLayoutName:f.previewExternalLayoutName})},enabled:f.previewLayoutName!==f.overridenPreviewLayoutName||f.previewExternalLayoutName!==f.overridenPreviewExternalLayoutName}])}),[t,l,j,g,f]);return Object(h.jsxs)(o.Fragment,{children:[Object(h.jsx)(c.a,{element:Object(h.jsx)(i.a,{disabled:!l,src:"res/ribbon_default/bug32.png",tooltip:{id:"Advanced preview options (debugger, network preview...)"}}),buildMenuTemplate:x}),Object(h.jsx)(c.a,{element:Object(h.jsx)(p.a,{onClick:function(e){e.target&&e.target.blur(),a()},disabled:!l,icon:Object(h.jsx)("img",{alt:"Preview",src:j?"res/ribbon_default/hotReload64.png":f.isPreviewOverriden?"res/ribbon_default/previewOverride32.png":"res/ribbon_default/preview64.png",width:32,height:32,style:{filter:l?v.gdevelopIconsCSSFilter:"grayscale(100%)"}}),label:j?Object(h.jsx)(d.Trans,{id:"Update"}):Object(h.jsx)(d.Trans,{id:"Preview"}),id:"toolbar-preview-button",exceptionalTooltipForToolbar:j?Object(h.jsx)(d.Trans,{id:"Apply changes to the running preview, right click for more"}):f.isPreviewOverriden?Object(h.jsx)(d.Trans,{id:"Preview is overridden, right click for more"}):f.previewExternalLayoutName?Object(h.jsx)(d.Trans,{id:"Launch a preview of the external layout inside the scene, right click for more"}):Object(h.jsx)(d.Trans,{id:"Launch a preview of the scene, right click for more"})}),openMenuWithSecondaryClick:!0,buildMenuTemplate:y}),Object(h.jsx)(p.a,{onClick:m,disabled:!O,icon:Object(h.jsx)("img",{alt:"Publish",src:"res/ribbon_default/networkicon32.png",width:32,height:32,style:{filter:O?v.gdevelopIconsCSSFilter:"grayscale(100%)"}}),label:Object(h.jsx)(d.Trans,{id:"Publish"}),exceptionalTooltipForToolbar:Object(h.jsx)(d.Trans,{id:"Export the game (Web, Android, iOS...)"})})]})}t.a=o.forwardRef((function(e,t){var n=l.b.isDev(),u=o.useState(null),d=Object(r.a)(u,2),p=d[0],b=d[1];return o.useImperativeHandle(t,(function(){return{setEditorToolbar:b}})),Object(h.jsxs)(a.a,{children:[Object(h.jsxs)(a.b,{firstChild:!0,children:[e.showProjectIcons&&Object(h.jsx)(i.a,{onClick:e.toggleProjectManager,src:"res/ribbon_default/projectManager32.png",disabled:!e.hasProject,tooltip:{id:"Project manager"}}),n&&e.showProjectIcons&&Object(h.jsx)(s.a,{}),n&&Object(h.jsx)(c.a,{element:Object(h.jsx)(i.a,{src:"res/ribbon_default/bug32.png"}),buildMenuTemplate:function(){return[{label:"Simulate update downloaded",disabled:!e.simulateUpdateDownloaded,click:function(){e.simulateUpdateDownloaded&&e.simulateUpdateDownloaded()}},{label:"Simulate update available",disabled:!e.simulateUpdateAvailable,click:function(){e.simulateUpdateAvailable&&e.simulateUpdateAvailable()}}]}})]}),Object(h.jsx)(a.b,{children:Object(h.jsx)(j,{onPreviewWithoutHotReload:e.onPreviewWithoutHotReload,onOpenDebugger:e.onOpenDebugger,onNetworkPreview:e.onNetworkPreview,onHotReloadPreview:e.onHotReloadPreview,setPreviewOverride:e.setPreviewOverride,canDoNetworkPreview:e.canDoNetworkPreview,isPreviewEnabled:e.isPreviewEnabled,previewState:e.previewState,hasPreviewsRunning:e.hasPreviewsRunning,exportProject:e.exportProject,hasProject:e.hasProject})}),p||Object(h.jsx)(a.b,{})]})}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(1),o=n(563),a=n(525),i=n(4),s=n(138),c=n(7),l={borderRight:"1px solid",borderLeft:"1px solid",width:8,marginLeft:"-1px",height:"100%",boxSizing:"border-box"};function u(){var e=r.useContext(s.a);return Object(c.jsx)("div",{style:Object(i.a)(Object(i.a)({},l),{},{backgroundColor:e.dropIndicator.canDrop,borderColor:e.dropIndicator.border})})}var d=n(1001),p=n(1e3);function b(e){var t=e.hideLabels,n=e.editorTabs,r=e.onClickTab,o=e.onCloseTab,a=e.onCloseOtherTabs,i=e.onCloseAll,s=e.onTabActived,l=e.onDropTab,u=null;return Object(c.jsx)(p.b,{hideLabels:t,children:Object(d.m)(n).map((function(e,t){var p=Object(d.k)(n)===t;return Object(c.jsx)(h,{index:t,label:e.label,icon:e.icon,id:"tab-".concat(e.key.replace(/\s/g,"-")),active:p,onClick:function(){return r(t)},onClose:function(){return o(e)},onCloseOthers:function(){return a(e)},onCloseAll:i,onActivated:function(){return s(e)},closable:e.closable,onBeginDrag:function(){return u=t,e},onDrop:function(e){"number"===typeof u&&(l(u,t),u=null)}},e.key)}))})}function h(e){var t=e.index,n=e.id,r=e.active,i=e.onClose,s=e.onCloseOthers,l=e.onCloseAll,d=e.label,b=e.icon,h=e.closable,j=e.onClick,f=e.onActivated,g=e.onBeginDrag,m=e.onDrop,O=Object(o.a)("draggable-closable-tab");return Object(c.jsx)(a.a,{children:function(e){return Object(c.jsx)(O,{beginDrag:g,canDrag:function(){return"touch"!==e&&0!==t},canDrop:function(){return!0},drop:function(){return m(t)},children:function(e){var t=e.connectDragSource,o=e.connectDropTarget,a=e.isOver,g=(e.canDrop,o(Object(c.jsxs)("div",{style:{display:"flex",flexShrink:0},children:[Object(c.jsx)(p.a,{id:n,active:r,onClose:i,onCloseOthers:s,onCloseAll:l,label:d,icon:b,closable:h,onClick:j,onActivated:f},n),a&&Object(c.jsx)(u,{})]})));return g?t(g):null}})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(100),u=n(136),d=n(35),p=n(4),b=n(469),h=n(485),j=n(30),f=n(1809),g=n.n(f),m=n(573),O=n.n(m),v=n(463),x=n(7),y={maxHeight:300,overflowY:"scroll"},C=function(e){return e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x27;/g,"'")},T="gdevelop",E="BH4D9OD16A",k="69c73fc1a710bb79543d4b91f6b81c08",w={hitsPerPage:5},S=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).client=g()(E,k,w),e.state={results:null,error:null},e._handleSearchTextChange=function(t){e.props.onChange(t)},e._launchSearchRequest=O()((function(){e.props.value&&e.client.search([{indexName:T,query:e.props.value,params:w}]).then((function(t){var n=t.results[0].hits;console.log(n),e.setState({results:n,error:null})}),(function(t){e.setState({error:t})}))}),200),e._renderResult=function(e){var t=e.hierarchy.lvl0||e.hierarchy.lvl1||e.hierarchy.lvl2||e.hierarchy.lvl3||e.hierarchy.lvl4||e.hierarchy.lvl5||e.hierarchy.lvl6||"",n=[e.hierarchy.lvl0,e.hierarchy.lvl1,e.hierarchy.lvl2,e.hierarchy.lvl3,e.hierarchy.lvl4,e.hierarchy.lvl5,e.hierarchy.lvl6].filter((function(e){return!!e})).filter((function(e){return e!==t})).join(" - ");return Object(x.jsx)(h.b,{primaryText:C(t),secondaryText:C(e.content||n),secondaryTextLines:2,onClick:function(){d.b.openExternalURL(e.url)}},e.objectID)},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.props.value&&this._launchSearchRequest()}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[Object(x.jsx)(b.b,{id:"help-finder-search-bar",fullWidth:!0,hintText:{id:"Search on the documentation."},value:this.props.value,onChange:function(t,n){return e.props.onChange(n)}}),Object(x.jsx)("div",{id:"help-finder-dropdown-menu-container",className:"algolia-autocomplete",style:Object(p.a)(Object(p.a)({},y),{},{visibility:this.props.value?void 0:"hidden"})}),this.state.error?Object(x.jsx)(v.a,{children:Object(x.jsx)(s.Trans,{id:"Unable to search in the documentation. Are you sure you are online and have a proper internet connection?"})}):this.state.results?Object(x.jsx)(h.a,{children:this.state.results.map((function(t){return e._renderResult(t)}))}):Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(v.a,{children:Object(x.jsx)(s.Trans,{id:"Examples:"})}),Object(x.jsx)(j.a,{expand:!0,children:Object(x.jsxs)(v.a,{children:["Coins in platformer",Object(x.jsx)("br",{}),"Export on Android",Object(x.jsx)("br",{}),"Add a score",Object(x.jsx)("br",{}),"Move enemies",Object(x.jsx)("br",{}),"...",Object(x.jsx)("br",{})]})})]}),Object(x.jsxs)(v.a,{align:"right",children:["This search is powered by"," ",Object(x.jsx)(u.a,{onClick:function(){return d.b.openExternalURL("http://algolia.com/")},label:"Algolia"})]})]})}}]),n}(c.Component),P=n(81),I=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={searchText:""},e._handleSearchTextChange=function(t){e.setState({searchText:t}),e._sendHelpSearch()},e._sendHelpSearch=O()((function(){e.state.searchText&&Object(P.p)(e.state.searchText.trim())}),2900),e}return Object(o.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.open&&!this.props.open&&Object(P.o)()}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.onClose;return Object(x.jsx)(l.b,{title:Object(x.jsx)(s.Trans,{id:"Help!"}),actions:[Object(x.jsx)(u.a,{label:Object(x.jsx)(s.Trans,{id:"Close"}),primary:!1,onClick:n},"close")],secondaryActions:[Object(x.jsx)(u.a,{primary:!1,onClick:function(){d.b.openExternalURL("https://forum.gdevelop-app.com")},label:Object(x.jsx)(s.Trans,{id:"Community forum"})},"forum"),Object(x.jsx)(u.a,{primary:!1,onClick:function(){d.b.openExternalURL("https://wiki.gdevelop.io/gdevelop5/start")},label:Object(x.jsx)(s.Trans,{id:"Browse the documentation"})},"wiki")],onRequestClose:n,open:t,children:Object(x.jsx)(S,{value:this.state.searchText,onChange:this._handleSearchTextChange})})}}]),n}(c.PureComponent)},function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(2190),d=n(2191),p=n(2211),b=n(2192),h=n(136),j=n(100),f=n(490),g=n(30),m=n(694),O=n(137),v=n(1845),x=n.n(v),y=n(470),C=n(62),T=n(542),E=n(609),k=n(81),w=n(2178),S=n(506),P=n(1129),I=n.n(P),_=n(463),A=n(798),N=n(7);function R(e){var t=e.onClose,n=e.authenticatedUser,r=!!n&&!!n.subscription&&!!n.subscription.planId;return Object(A.a)((function(){n.onRefreshUserProfile().catch((function(){}))}),r?null:3900),Object(N.jsx)(j.b,{actions:[r?Object(N.jsx)(j.a,{label:Object(N.jsx)(c.Trans,{id:"Done!"}),primary:!0,onClick:t},"close"):Object(N.jsx)(h.a,{label:Object(N.jsx)(c.Trans,{id:"Cancel and close"}),primary:!1,onClick:t},"close")],onRequestClose:t,maxWidth:"sm",open:!0,noMargin:!0,children:r?Object(N.jsxs)(g.a,{children:[Object(N.jsx)(g.c,{children:Object(N.jsxs)(_.a,{children:[Object(N.jsx)(c.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\u2764\ufe0f"]})}),Object(N.jsxs)(g.c,{justifyContent:"center",alignItems:"center",children:[Object(N.jsx)(I.a,{}),Object(N.jsx)(g.d,{}),Object(N.jsx)(_.a,{children:Object(N.jsx)("b",{children:Object(N.jsx)(c.Trans,{id:"Your new plan is now activated"})})})]}),Object(N.jsx)(g.d,{}),Object(N.jsx)(g.c,{justifyContent:"center",children:Object(N.jsx)(S.a,{children:Object(N.jsx)(c.Trans,{id:"Your account is upgraded, with the extra exports and online services. If you wish to change later, come back to your profile and choose another plan."})})})]}):Object(N.jsxs)(g.a,{children:[Object(N.jsx)(g.c,{children:Object(N.jsxs)(_.a,{children:[Object(N.jsx)(c.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\u2764\ufe0f",Object(N.jsx)("b",{children:Object(N.jsx)(c.Trans,{id:"Your browser will now open to enter your payment details (handled securely by Stripe.com)."})})]})}),Object(N.jsxs)(g.c,{justifyContent:"center",alignItems:"center",children:[Object(N.jsx)(w.a,{size:20}),Object(N.jsx)(g.d,{}),Object(N.jsx)(_.a,{children:"Waiting for the subscription confirmation..."})]}),Object(N.jsx)(g.d,{}),Object(N.jsx)(g.c,{justifyContent:"center",children:Object(N.jsx)(S.a,{children:Object(N.jsx)(c.Trans,{id:"Once you're done, come back to GDevelop and your account will be upgraded automatically, unlocking the extra exports and online services."})})})]})})}var L=n(35),M=n(500),F={descriptionText:{marginLeft:16,marginRight:16},card:{margin:16},actions:{textAlign:"right",display:"flex",justifyContent:"flex-end"},bulletIcon:{width:20,height:20,marginLeft:5,marginRight:10},bulletText:{flex:1}},D=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isLoading:!1,subscriptionPendingDialogOpen:!1},e.choosePlan=function(t,n,r){var o=n.getAuthorizationHeader,a=n.subscription,i=n.firebaseUser;if(i&&a)if(Object(k.g)(r.planId),a.stripeSubscriptionId){if(!L.b.showConfirmDialog(r.planId?t._({id:"Are you sure you want to subscribe to this new plan?"}):t._({id:"Are you sure you want to cancel your subscription?"})))return;e.setState({isLoading:!0}),Object(m.a)(o,i.uid,{planId:r.planId}).then((function(){return e.handleUpdatedSubscriptionSuccess(t,n,r)}),(function(n){return e.handleUpdatedSubscriptionFailure(t,n)}))}else e.setState({subscriptionPendingDialogOpen:!0}),L.b.openExternalURL(Object(m.b)(r.planId||"",i.uid,i.email||""))},e.handleUpdatedSubscriptionSuccess=function(t,n,r){n.onRefreshUserProfile(),e.setState({isLoading:!1}),r.planId?Object(C.b)(t._({id:"Congratulations, your new subscription is now active!\\n\\nYou can now use the services unlocked with this plan."})):Object(C.b)(t._({id:"Your subscription was properly cancelled. Sorry to see you go!"}))},e.handleUpdatedSubscriptionFailure=function(t,n){e.setState({isLoading:!1}),Object(C.a)({message:t._({id:"Your subscription could not be updated. Please try again later!"}),rawError:n,errorId:"subscription-update-error"})},e._isLoading=function(t){return!t.subscription||!t.profile||e.state.isLoading},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.open&&Object(k.x)()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.props.open&&e.open&&Object(k.x)()}},{key:"_renderPrice",value:function(e){return e.monthlyPriceInEuros?Object(N.jsx)(c.Trans,{id:"{0}\u20ac/month",values:{0:e.monthlyPriceInEuros}}):Object(N.jsx)(c.Trans,{id:"Free"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.open,o=t.onClose,a=this.state.subscriptionPendingDialogOpen;return Object(N.jsx)(c.I18n,{children:function(t){var i=t.i18n;return Object(N.jsx)(f.a.Consumer,{children:function(t){return Object(N.jsx)(M.a,{children:function(s){return Object(N.jsxs)(j.b,{actions:[Object(N.jsx)(h.a,{label:Object(N.jsx)(c.Trans,{id:"Close"}),primary:!1,onClick:o},"close")],onRequestClose:o,open:n,noMargin:!0,children:[Object(N.jsx)(g.a,{children:Object(N.jsx)(g.c,{children:Object(N.jsx)(_.a,{children:Object(N.jsx)(c.Trans,{id:"Get a subscription to gain more one-click exports, remove the GDevelop splashscreen and messages asking you to get a subscription. With a subscription, you're also supporting the development of GDevelop, which is an open-source software maintained by volunteers in their free time."})})})}),Object(m.d)().map((function(n){return Object(N.jsxs)(u.a,{style:F.card,children:[Object(N.jsx)(d.a,{title:Object(N.jsxs)("span",{children:[Object(N.jsx)("b",{children:n.name})," - ",e._renderPrice(n)]}),subheader:n.smallDescription?i._(n.smallDescription):""}),Object(N.jsxs)(p.a,{children:[n.descriptionBullets.map((function(e,o){return Object(N.jsx)(g.a,{expand:!0,children:Object(N.jsxs)(g.c,{noMargin:!0,alignItems:"center",children:[t.subscription&&t.subscription.planId===n.planId?Object(N.jsx)(x.a,{style:Object(r.a)(Object(r.a)({},F.bulletIcon),{},{color:s.message.valid})}):Object(N.jsx)(x.a,{style:F.bulletIcon}),Object(N.jsxs)(_.a,{style:F.bulletText,children:[i._(e.message)," ",e.isLocalAppOnly&&Object(N.jsx)(c.Trans,{id:"(on the desktop app only)"})]})]})},o)})),Object(N.jsx)(_.a,{style:F.descriptionText,children:n.extraDescription?i._(n.extraDescription):""})]}),Object(N.jsx)(b.a,{style:F.actions,children:t.subscription&&t.subscription.planId===n.planId?Object(N.jsx)(h.a,{disabled:!0,label:Object(N.jsx)(c.Trans,{id:"This is your current plan"}),onClick:function(){return e.choosePlan(i,t,n)}}):n.planId?Object(N.jsx)(T.a,{isLoading:e._isLoading(t),children:Object(N.jsx)(O.a,{primary:!0,disabled:e._isLoading(t),label:Object(N.jsx)(c.Trans,{id:"Choose this plan"}),onClick:function(){return e.choosePlan(i,t,n)}})}):Object(N.jsx)(T.a,{isLoading:e._isLoading(t),children:Object(N.jsx)(h.a,{disabled:e._isLoading(t),label:Object(N.jsx)(c.Trans,{id:"Cancel your subscription"}),onClick:function(){return e.choosePlan(i,t,n)}})})})]},n.planId||"")})),Object(N.jsx)(g.a,{children:Object(N.jsx)(g.c,{children:Object(N.jsx)(y.a,{children:Object(N.jsx)(c.Trans,{id:"Subscriptions can be stopped at any time. GDevelop uses Stripe.com for secure payment. No credit card data is stored by GDevelop: everything is managed by Stripe secure infrastructure."})})})}),!t.authenticated&&Object(N.jsxs)(E.a,{children:[Object(N.jsx)(_.a,{children:Object(N.jsx)(c.Trans,{id:"Create a GDevelop account to continue. It's free and you'll be able to access to online services like one-click builds:"})}),Object(N.jsx)(O.a,{label:Object(N.jsx)(c.Trans,{id:"Create my account"}),primary:!0,onClick:t.onLogin}),Object(N.jsx)(h.a,{label:Object(N.jsx)(c.Trans,{id:"Not now, thanks"}),onClick:o})]}),a&&Object(N.jsx)(R,{authenticatedUser:t,onClose:function(){e.setState({subscriptionPendingDialogOpen:!1},(function(){return t.onRefreshUserProfile()}))}})]})}})}})}})}}]),n}(l.Component)},function(e,t,n){"use strict";var r=n(26),o=n(1),a=n(12),i=n(100),s=n(136),c=n(1155),l=n(463),u=n(139),d=n(7),p=function(e){var t=e.open,n=e.onClose,r=Object(u.a)();if(!t)return null;var o=[Object(d.jsx)(s.a,{label:Object(d.jsx)(a.Trans,{id:"Close"}),primary:!0,onClick:n},"close")];return Object(d.jsxs)(i.b,{title:Object(d.jsx)(a.Trans,{id:"What's new in GDevelop?"}),actions:o,open:t,onRequestClose:n,children:[Object(d.jsx)(l.a,{children:Object(d.jsx)(a.Trans,{id:"GDevelop was upgraded to a new version! Check out the changes."})}),Object(d.jsx)(c.a,{onUpdated:r})]})},b=n(43),h=function(e){var t=e.defaultOpen,n=o.useState(t),a=Object(r.a)(n,2),i=a[0],s=a[1];return Object(d.jsx)(p,{open:i,onClose:function(){return s(!1)}})};t.a=function(e){return Object(d.jsx)(b.a.Consumer,{children:function(e){var t=e.values,n=e.verifyIfIsNewVersion;return Object(d.jsx)(h,{defaultOpen:n()&&t.autoDisplayChangelog})}})}},,,function(e,t,n){"use strict";var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(624),u=n(625),d=n(588),p=n(505),b=n(545),h=function(e){var t=e.onAddEvent;return Object(b.a)("ADD_STANDARD_EVENT",!0,{handler:e.onAddStandardEvent}),Object(b.a)("ADD_SUBEVENT",e.canAddSubEvent,{handler:e.onAddSubEvent}),Object(b.a)("ADD_COMMENT_EVENT",!0,{handler:e.onAddCommentEvent}),Object(b.a)("TOGGLE_EVENT_DISABLED",e.canToggleEventDisabled,{handler:e.onToggleDisabledEvent}),Object(b.b)("CHOOSE_AND_ADD_EVENT",!0,{generateOptions:c.useCallback((function(){return e.allEventsMetadata.map((function(e){return{text:e.fullName,handler:function(){t(e.type)}}}))}),[e.allEventsMetadata,t])}),Object(b.a)("DELETE_SELECTION",e.canRemove,{handler:e.onRemove}),Object(b.a)("EVENTS_EDITOR_UNDO",e.canUndo,{handler:e.undo}),Object(b.a)("EVENTS_EDITOR_REDO",e.canRedo,{handler:e.redo}),Object(b.a)("SEARCH_EVENTS",!0,{handler:e.onToggleSearchPanel}),Object(b.a)("OPEN_EXTENSION_SETTINGS",!!e.onOpenSettings,{handler:e.onOpenSettings||function(){}}),null},j=n(7),f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,Object(r.a)({},this.props)),Object(j.jsxs)(l.b,{lastChild:!0,children:[Object(j.jsx)(d.a,{onClick:this.props.onAddStandardEvent,src:"res/ribbon_default/eventadd32.png",tooltip:{id:"Add a new empty event"}}),Object(j.jsx)(d.a,{onClick:this.props.onAddSubEvent,src:"res/ribbon_default/subeventadd32.png",disabled:!this.props.canAddSubEvent,tooltip:{id:"Add a sub-event to the selected event"}}),Object(j.jsx)(d.a,{onClick:this.props.onAddCommentEvent,src:"res/ribbon_default/commentaireadd32.png",tooltip:{id:"Add a comment"}}),Object(j.jsx)(p.a,{element:Object(j.jsx)(d.a,{src:"res/ribbon_default/add32.png",tooltip:{id:"Choose and add an event"}}),buildMenuTemplate:function(){return e.props.allEventsMetadata.map((function(t){return{label:t.fullName,click:function(){e.props.onAddEvent(t.type)}}}))}}),Object(j.jsx)(u.a,{}),Object(j.jsx)(d.a,{onClick:this.props.onRemove,src:"res/ribbon_default/deleteselected32.png",disabled:!this.props.canRemove,tooltip:{id:"Delete the selected event(s)"}}),Object(j.jsx)(d.a,{onClick:this.props.undo,src:"res/ribbon_default/undo32.png",disabled:!this.props.canUndo,tooltip:{id:"Undo the last changes"}}),Object(j.jsx)(d.a,{onClick:this.props.redo,src:"res/ribbon_default/redo32.png",disabled:!this.props.canRedo,tooltip:{id:"Redo the last changes"}}),Object(j.jsx)(u.a,{}),Object(j.jsx)(d.a,{onClick:function(){return e.props.onToggleSearchPanel()},src:"res/ribbon_default/search32.png",tooltip:{id:"Search in events"},acceleratorString:"CmdOrCtrl+F"}),this.props.onOpenSettings&&Object(j.jsx)(u.a,{}),this.props.onOpenSettings&&Object(j.jsx)(d.a,{onClick:this.props.onOpenSettings,src:"res/ribbon_default/pref32.png",tooltip:{id:"Open settings"}})]})]})}}]),n}(c.PureComponent);t.a=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(9),o=n(8),a=n(13),i=n(14),s=n(12),c=n(1),l=n(511),u=n(664),d=n(501),p=n(62),b=n(488),h=n(486),j=n(465),f=n(567),g=n(35),m=n(492),O=n(7),v="Events Based Behavior",x={listContainer:{flex:1}},y=function(e){return e.getName()},C=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={renamedEventsBasedBehavior:null,searchText:""},e._deleteEventsBasedBehavior=function(t,n){var r=n.askForConfirmation,o=e.props.eventsBasedBehaviorsList;if(r&&!g.b.showConfirmDialog("Are you sure you want to remove this behavior? This can't be undone."))return;e.props.onDeleteEventsBasedBehavior(t,(function(n){n&&(o.remove(t.getName()),e._onEventsBasedBehaviorModified())}))},e._editName=function(t){e.setState({renamedEventsBasedBehavior:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._rename=function(t,n){var r=e.props.eventsBasedBehaviorsList;e.setState({renamedEventsBasedBehavior:null}),t.getName()!==n&&(r.has(n)?Object(p.c)("Another behavior with this name already exists.",{delayToNextTick:!0}):e.props.onRenameEventsBasedBehavior(t,n,(function(r){r&&(t.setName(n),e._onEventsBasedBehaviorModified(),e.props.onEventsBasedBehaviorRenamed(t))})))},e._moveSelectionTo=function(t){var n=e.props,r=n.eventsBasedBehaviorsList,o=n.selectedEventsBasedBehavior;o&&(r.move(r.getPosition(o),r.getPosition(t)),e.forceUpdateList())},e.forceUpdateList=function(){e._onEventsBasedBehaviorModified(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._copyEventsBasedBehavior=function(e){f.b.set(v,{eventsBasedBehavior:Object(m.b)(e),name:e.getName()})},e._cutEventsBasedBehavior=function(t){e._copyEventsBasedBehavior(t),e._deleteEventsBasedBehavior(t,{askForConfirmation:!1})},e._pasteEventsBasedBehavior=function(t){if(f.b.has(v)){var n=f.b.get(v),r=f.a.extractObjectProperty(n,"eventsBasedBehavior"),o=f.a.extractStringProperty(n,"name");if(o&&r){var a=e.props,i=a.project,s=a.eventsBasedBehaviorsList,c=Object(h.a)(o,(function(e){return s.has(e)})),l=s.insertNew(c,t);Object(m.c)(l,r,"unserializeFrom",i),l.setName(c),e._onEventsBasedBehaviorModified()}}},e._renderEventsBasedBehaviorMenuTemplate=function(t){return function(n,r){return[{label:t._({id:"Properties"}),click:function(){return e.props.onEditProperties(n)}},{type:"separator"},{label:t._({id:"Rename"}),click:function(){return e._editName(n)}},{label:t._({id:"Delete"}),click:function(){return e._deleteEventsBasedBehavior(n,{askForConfirmation:!0})}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e._copyEventsBasedBehavior(n)}},{label:t._({id:"Cut"}),click:function(){return e._cutEventsBasedBehavior(n)}},{label:t._({id:"Paste"}),enabled:f.b.has(v),click:function(){return e._pasteEventsBasedBehavior(r)}}]}},e._addNewEventsBasedBehavior=function(){var t=e.props.eventsBasedBehaviorsList,n=Object(h.a)("MyBehavior",(function(e){return t.has(e)}));t.insertNew(n,t.getCount()),e._onEventsBasedBehaviorModified()},e}return Object(o.a)(n,[{key:"_onEventsBasedBehaviorModified",value:function(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.project,o=n.eventsBasedBehaviorsList,a=n.selectedEventsBasedBehavior,i=n.onSelectEventsBasedBehavior,c=this.state.searchText,p=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}((e=o,Object(j.mapVector)(e,(function(e){return e}))),c),h=r.ptr+";"+o.ptr;return Object(O.jsxs)(b.a,{children:[Object(O.jsx)("div",{style:x.listContainer,children:Object(O.jsx)(l.a,{children:function(e){var n=e.height,r=e.width;return Object(O.jsx)(s.I18n,{children:function(e){var o=e.i18n;return Object(O.jsx)(u.a,{ref:function(e){return t.sortableList=e},fullList:p,width:r,height:n,onAddNewItem:t._addNewEventsBasedBehavior,addNewItemLabel:Object(O.jsx)(s.Trans,{id:"Add a new behavior"}),getItemName:y,selectedItems:a?[a]:[],onItemSelected:i,renamedItem:t.state.renamedEventsBasedBehavior,onRename:t._rename,onMoveSelectionToItem:t._moveSelectionTo,buildMenuTemplate:t._renderEventsBasedBehaviorMenuTemplate(o),reactDndType:"GD_EVENTS_BASED_BEHAVIOR"},h)}})}})}),Object(O.jsx)(d.a,{value:c,onRequestSearch:function(){},onChange:function(e){return t.setState({searchText:e})},aspect:"integrated-search-bar",placeholder:{id:"Search behaviors"}})]})}}]),n}(c.Component);C.defaultProps={onDeleteEventsBasedBehavior:function(e,t){return t(!0)},onRenameEventsBasedBehavior:function(e,t,n){return n(!0)}}},function(e,t,n){"use strict";var r=n(9),o=n(8),a=n(13),i=n(14),s=n(1),c=n(624),l=n(625),u=n(588),d=n(505),p=n(545),b=function(e){return Object(p.a)("OPEN_OBJECTS_PANEL",!0,{handler:e.openObjectsList}),Object(p.a)("OPEN_OBJECT_GROUPS_PANEL",!0,{handler:e.openObjectGroupsList}),Object(p.a)("OPEN_PROPERTIES_PANEL",!0,{handler:e.openPropertiesPanel}),Object(p.a)("TOGGLE_INSTANCES_PANEL",!0,{handler:e.toggleInstancesList}),Object(p.a)("TOGGLE_LAYERS_PANEL",!0,{handler:e.toggleLayersList}),Object(p.a)("SCENE_EDITOR_UNDO",e.canUndo,{handler:e.undo}),Object(p.a)("SCENE_EDITOR_REDO",e.canRedo,{handler:e.redo}),Object(p.a)("DELETE_INSTANCES",e.canDeleteSelection,{handler:e.deleteSelection}),Object(p.a)("TOGGLE_WINDOW_MASK",!0,{handler:e.toggleWindowMask}),Object(p.a)("TOGGLE_GRID",!0,{handler:e.toggleGrid}),Object(p.a)("OPEN_SETUP_GRID",!0,{handler:e.setupGrid}),null},h=(n(723),n(7)),j=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b,{openObjectsList:this.props.openObjectsList,openObjectGroupsList:this.props.openObjectGroupsList,openPropertiesPanel:this.props.openProperties,toggleInstancesList:this.props.toggleInstancesList,toggleLayersList:this.props.toggleLayersList,undo:this.props.undo,canUndo:this.props.canUndo,redo:this.props.redo,canRedo:this.props.canRedo,deleteSelection:this.props.deleteSelection,toggleWindowMask:this.props.toggleWindowMask,toggleGrid:this.props.toggleGrid,setupGrid:this.props.openSetupGrid,canDeleteSelection:0!==this.props.instancesSelection.getSelectedInstances().length}),Object(h.jsxs)(c.b,{lastChild:!0,children:[Object(h.jsx)(u.a,{onClick:this.props.openObjectsList,src:"res/ribbon_default/objects64.png",tooltip:{id:"Open the objects editor"}}),Object(h.jsx)(u.a,{onClick:this.props.openObjectGroupsList,src:"res/ribbon_default/objectsgroups64.png",tooltip:{id:"Open the objects groups editor"}}),Object(h.jsx)(u.a,{onClick:this.props.openProperties,src:"res/ribbon_default/editprop32.png",tooltip:{id:"Open the properties panel"}}),Object(h.jsx)(u.a,{onClick:this.props.toggleInstancesList,src:"res/ribbon_default/ObjectsPositionsList32.png",tooltip:{id:"Open the list of instances"}}),Object(h.jsx)(u.a,{onClick:this.props.toggleLayersList,src:"res/ribbon_default/layers32.png",tooltip:{id:"Open the layers editor"}}),Object(h.jsx)(l.a,{}),Object(h.jsx)(u.a,{onClick:this.props.undo,src:"res/ribbon_default/undo32.png",disabled:!this.props.canUndo,tooltip:{id:"Undo the last changes"}}),Object(h.jsx)(u.a,{onClick:this.props.redo,src:"res/ribbon_default/redo32.png",disabled:!this.props.canRedo,tooltip:{id:"Redo the last changes"}}),Object(h.jsx)(l.a,{}),Object(h.jsx)(u.a,{onClick:this.props.deleteSelection,src:"res/ribbon_default/deleteselected32.png",disabled:!this.props.instancesSelection.getSelectedInstances().length,tooltip:{id:"Delete the selected instances from the scene"}}),Object(h.jsx)(l.a,{}),Object(h.jsx)(d.a,{element:Object(h.jsx)(u.a,{src:"res/ribbon_default/grid32.png",tooltip:{id:"Toggle/edit grid"}}),buildMenuTemplate:function(t){return[{type:"checkbox",label:t._({id:"Show Mask"}),checked:e.props.isWindowMaskShown(),click:function(){return e.props.toggleWindowMask()}},{type:"checkbox",label:t._({id:"Show grid"}),checked:e.props.isGridShown(),click:function(){return e.props.toggleGrid()}},{type:"separator"},{label:t._({id:"Setup grid"}),click:function(){return e.props.openSetupGrid()}}]}}),Object(h.jsx)(d.a,{element:Object(h.jsx)(u.a,{src:"res/ribbon_default/zoom32.png",tooltip:{id:"Change editor zoom"}}),buildMenuTemplate:function(t){return[{label:t._({id:"Zoom in"}),click:e.props.zoomIn,accelerator:"CmdOrCtrl+numadd"},{label:t._({id:"Zoom out"}),click:e.props.zoomOut,accelerator:"CmdOrCtrl+numsub"},{label:t._({id:"Center View"}),click:function(){return e.props.centerView()}},{type:"separator"},{label:"5%",click:function(){return e.props.setZoomFactor(.05)}},{label:"10%",click:function(){return e.props.setZoomFactor(.1)}},{label:"25%",click:function(){return e.props.setZoomFactor(.25)}},{label:"50%",click:function(){return e.props.setZoomFactor(.5)}},{label:"100%",click:function(){return e.props.setZoomFactor(1)}},{label:"150%",click:function(){return e.props.setZoomFactor(1.5)}},{label:"200%",click:function(){return e.props.setZoomFactor(2)}},{label:"400%",click:function(){return e.props.setZoomFactor(4)}}]}}),this.props.onOpenSettings&&Object(h.jsx)(l.a,{}),this.props.onOpenSettings&&Object(h.jsx)(u.a,{onClick:this.props.onOpenSettings,src:"res/ribbon_default/pref32.png",tooltip:{id:"Open settings"}})]})]})}}]),n}(s.PureComponent);t.a=j},,,,function(e,t,n){"use strict";var r=n(2),o=n(9),a=n(8),i=n(13),s=n(14),c=n(1),l=n(87),u=n.n(l),d=n(494),p=n(7),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e;return Object(p.jsx)("p",{className:u()((e={},Object(r.a)(e,d.o,!0),Object(r.a)(e,d.p,this.props.selected),e)),children:"Unknown event of type "+this.props.event.getType()})}}]),n}(c.Component),h=n(1495),j=n(1563),f=n(1564),g=n(1565),m=n(1566),O=n(1567),v=n(1568),x=n(1569),y=n(1571),C={components:{unknownEvent:b,"BuiltinCommonInstructions::Standard":h.a,"BuiltinCommonInstructions::Group":j.a,"BuiltinCommonInstructions::Comment":f.a,"BuiltinCommonInstructions::ForEach":g.a,"BuiltinCommonInstructions::ForEachChildVariable":m.a,"BuiltinCommonInstructions::Repeat":O.a,"BuiltinCommonInstructions::While":v.a,"BuiltinCommonInstructions::Link":x.a,"BuiltinCommonInstructions::JsCode":y.a},getEventComponent:function(e){return this.components.hasOwnProperty(e.getType())?this.components[e.getType()]:this.components.unknownEvent},registerEvent:function(e,t){this.components.hasOwnProperty(e)?this.components[e]=t:console.warn('Tried to register renderer for events "'+e+'", but a renderer already exists.')}};t.a=C},function(e,t,n){"use strict";n.d(t,"b",(function(){return I}));var r=n(4),o=n(26),a=n(3),i=n(0),s=n.n(i),c=n(1),l=n.n(c),u=n(12),d=n(561),p=n.n(d),b=n(474),h=n(475),j=n(80),f=n(554),g=n(695),m=n(1152),O=n(100),v=n(136),x=n(472),y=n(7),C=function(e){var t=e.onClose,n=e.open,r=e.project,a=e.leaderboardId,i=l.a.useState(!1),s=Object(o.a)(i,2),c=s[0],d=s[1];return Object(y.jsx)(O.b,{actions:[Object(y.jsx)(v.a,{label:Object(y.jsx)(u.Trans,{id:"Close"}),disabled:c,onClick:t},"Close")],secondaryActions:[Object(y.jsx)(x.a,{helpPagePath:"/interface/games-dashboard/leaderboard-administration"},"help")],open:n,cannotBeDismissed:c,onRequestClose:t,title:Object(y.jsx)(u.Trans,{id:"Leaderboards"}),flexBody:!0,fullHeight:!0,children:Object(y.jsx)(m.a,{onLoading:d,project:r,leaderboardIdToSelectAtOpening:a})})},T=n(503),E=n(797),k=n(796),w=function(e,t){if(!e)return t;var n=e.find((function(e){return'"'.concat(e.id,'"')===t}));return n?n.name:t},S=function(){var e=l.a.useContext(g.a),t=e.leaderboards,n=e.listLeaderboards,r=l.a.useCallback(Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)}))),[n]);return l.a.useEffect((function(){t||r()}),[r,t]),t},P=(t.a=l.a.forwardRef((function(e,t){var n=Object(k.a)(),a=S(),i=l.a.useState(!1),s=Object(o.a)(i,2),c=s[0],d=s[1],g=l.a.useRef(null);l.a.useImperativeHandle(t,(function(){return{focus:function(){g.current&&g.current.focus()}}}));var m=a&&!!a.find((function(t){return'"'.concat(t.id,'"')===e.value})),O=l.a.useState(!a||!!e.value&&!m),v=Object(o.a)(O,2),x=v[0],w=v[1],P=function(t,n){e.onChange(t.target.value)},I=function(t){e.onChange(t)},_=e.parameterMetadata?e.parameterMetadata.getDescription():void 0,A=a&&a.length>0,N=l.a.useMemo((function(){return a&&A?a.map((function(e){return Object(y.jsx)(h.a,{value:'"'.concat(e.id,'"'),primaryText:"".concat(e.name," ").concat(e.id?"(".concat(Object(E.a)(e.id),")"):"")},e.id)})):[Object(y.jsx)(h.a,{disabled:!0,value:"empty",primaryText:""},"empty")]}),[a,A]);return Object(y.jsx)(u.I18n,{children:function(t){var o=t.i18n;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(j.d,{renderTextField:function(){return x?Object(y.jsx)(T.a,Object(r.a)(Object(r.a)({ref:g,expressionType:"string"},e),{},{onChange:I,onExtractAdditionalErrors:function(e,t){if(!a)return n?"Your game may not be registered, create one in the leaderboard manager.":"Unable to fetch leaderboards as you are offline."}})):Object(y.jsx)(b.a,{ref:g,value:e.value,onChange:P,margin:e.isInline?"none":"dense",fullWidth:!0,floatingLabelText:_,hintText:A?e.parameterMetadata&&e.parameterMetadata.isOptional()?{id:"Choose a leaderboard (optional)"}:{id:"Choose a leaderboard"}:{id:"No leaderboards"},helperMarkdownText:A?e.parameterMetadata&&e.parameterMetadata.getLongDescription()||null:o._({id:"There are currently no leaderboards created for this game. Open the leaderboards manager to create one."}),children:N})},renderButton:function(e){return Object(y.jsx)(f.a,{icon:Object(y.jsx)(p.a,{}),style:e,primary:!0,onClick:function(){return d(!0)},buildMenuTemplate:function(e){return[{label:x?e._({id:"Select the leaderboard from a list"}):e._({id:"Enter the leaderboard id as a text or an expression"}),disabled:!a,click:function(){return w(!x)}}]}})}}),c&&!!e.project&&Object(y.jsx)(C,{onClose:function(){return d(!1)},open:c,project:e.project,leaderboardId:m?e.value.replace(/"/g,""):void 0})]})}})})),function(e){var t=e.value,n=e.parameterMetadata,r=e.InvalidParameterValue,o=S();return t?Object(y.jsx)("span",{children:w(o,t)}):n.isOptional()?Object(y.jsx)("span",{children:Object(y.jsx)(u.Trans,{id:"No leaderboard chosen"})}):Object(y.jsx)(r,{isEmpty:!0,children:Object(y.jsx)(u.Trans,{id:"Choose a leaderboard"})})}),I=function(e){return Object(y.jsx)(P,Object(r.a)({},e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(4),o=n(9),a=n(8),i=n(13),s=n(14),c=n(12),l=n(1),u=n(531),d=n(20),p=n.n(d),b=p()("fs"),h=p()("path"),j=function(e){var t=function(t){return b.readdir(t,(function(n,r){n?console.error("Unable to read GDJS files for setting up autocompletions:",n):r.forEach((function(n){if(n.endsWith(".ts")||n.endsWith(".js")){var r=h.join(t,n);b.readFile(r,"utf8",(function(t,n){t?console.error("Unable to read ".concat(r," for setting up autocompletions:"),t):e.languages.typescript.javascriptDefaults.addExtraLib(n,r)}))}}))}))};Object(u.findGDJS)().then((function(n){var r=n.gdjsRoot,o=h.join(r,"Runtime-sources"),a=h.join(o,"types"),i=h.join(o,"libs"),s=h.join(o,"pixi-renderers"),c=h.join(o,"cocos-renderers"),l=h.join(o,"howler-sound-manager"),u=h.join(o,"cocos-sound-manager"),d=h.join(o,"fontfaceobserver-font-manager"),p=h.join(o,"Extensions"),j=h.join(o,"events-tools");t(o),t(a),t(i),t(s),t(c),t(l),t(u),t(d),t(j),b.readdir(p,(function(e,n){e?console.error("Unable to read Extensions folders for setting up autocompletions:",e):n.filter((function(e){return!e.endsWith(".txt")&&!e.endsWith(".md")&&!e.endsWith(".flow.js")&&!e.endsWith(".gitignore")})).forEach((function(e){return t(h.join(p,e))}))})),e.languages.typescript.javascriptDefaults.addExtraLib("\n/** Represents the scene being played. */\nvar runtimeScene = new gdjs.RuntimeScene();\n\n/**\n * The instances of objects that are passed to your JavaScript function.\n * @type {gdjs.RuntimeObject[]}\n */\nvar objects = [];\n\n/**\n * @type {EventsFunctionContext}\n */\nvar eventsFunctionContext = {};\n","this-mock-the-context-of-events.js")}))},f=n(480),g=n(137),m=n(463),O=n(43),v=n(1148),x=n(7),y={scrollBeyondLastLine:!1,minimap:{enabled:!1}},C=!1,T=!1,E=function(e){Object(i.a)(u,e);var t=Object(s.a)(u);function u(){var e;Object(o.a)(this,u);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={MonacoEditor:null,error:null},e.setupEditorThemes=function(e){T||(T=!0,Object(v.a)().forEach((function(t){t.themeData&&e.editor.defineTheme(t.themeName,t.themeData)})))},e.setUpSaveOnEditorBlur=function(t){t.onDidBlurEditorText(e.props.onBlur)},e.setUpEditorFocus=function(t){t.onDidFocusEditorText(e.props.onFocus)},e.setupEditorCompletions=function(t,n){e.setUpEditorFocus(t),e.setUpSaveOnEditorBlur(t),C||(C=!0,n.languages.typescript.javascriptDefaults.setCompilerOptions({target:n.languages.typescript.ScriptTarget.ES6,allowNonTsExtensions:!0,allowJs:!0,checkJs:!0}),j(n)),e.props.onEditorMounted&&e.props.onEditorMounted()},e._handleContextMenu=function(e){e.preventDefault(),e.stopPropagation()},e}return Object(a.a)(u,[{key:"componentDidMount",value:function(){this.loadMonacoEditor()}},{key:"handleLoadError",value:function(e){this.setState({error:e})}},{key:"loadMonacoEditor",value:function(){var e=this;this.setState({error:null}),window.MonacoEnvironment={getWorkerUrl:function(e,t){return"external/monaco-editor-min/vs/base/worker/workerMain.js"}},n.e(65).then(n.t.bind(null,2225,7)).then((function(t){return e.setState({MonacoEditor:t.default})})).catch(this.handleLoadError)}},{key:"render",value:function(){var e=this,t=this.state,n=t.MonacoEditor;return t.error?Object(x.jsxs)(l.Fragment,{children:[Object(x.jsx)(m.a,{children:Object(x.jsx)(c.Trans,{id:"Unable to load the code editor"})}),Object(x.jsx)(g.a,{label:Object(x.jsx)(c.Trans,{id:"Retry"}),onClick:this.loadMonacoEditor})]}):n?Object(x.jsx)("div",{onContextMenu:this._handleContextMenu,children:Object(x.jsx)(O.a.Consumer,{children:function(t){var o=t.values;return Object(x.jsx)(n,{width:e.props.width||600,height:e.props.height||200,language:"javascript",theme:o.codeEditorThemeName,value:e.props.value,onChange:e.props.onChange,editorWillMount:e.setupEditorThemes,editorDidMount:e.setupEditorCompletions,options:Object(r.a)(Object(r.a)({},y),{},{fontSize:o.eventsSheetZoomLevel})})}})}):Object(x.jsx)(f.a,{})}}]),u}(l.Component)}])]);
//# sourceMappingURL=1.f1c85f77.chunk.js.map